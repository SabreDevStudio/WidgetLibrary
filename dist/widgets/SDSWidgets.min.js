/**
 * @license almond 0.3.1 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

/*
 AngularJS v1.6.4
 (c) 2010-2017 Google, Inc. http://angularjs.org
 License: MIT
*/

//! moment.js
//! version : 2.10.6
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com

/**
 * @license
 * lodash 3.10.1 (Custom Build) <https://lodash.com/>
 * Build: `lodash modern -o ./lodash.js`
 * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <https://lodash.com/license>
 */

/**
 * @license AngularJS v1.6.4
 * (c) 2010-2017 Google, Inc. http://angularjs.org
 * License: MIT
 */

/**
 * Copyright Marc J. Schmidt. See the LICENSE file at the top-level
 * directory of this distribution and at
 * https://github.com/marcj/css-element-queries/blob/master/LICENSE.
 */

/**
         *
         * @copyright https://github.com/Mr0grog/element-query/blob/master/LICENSE
         *
         * @param {HTMLElement} element
         * @param {*} value
         * @returns {*}
         */

/*! angular-google-maps 2.3.4 2016-08-15
 *  AngularJS directives for Google Maps
 *  git: https://github.com/angular-ui/angular-google-maps.git
 */

/*
!
The MIT License

Copyright (c) 2010-2013 Google, Inc. http://angularjs.org

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the 'Software'), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

angular-google-maps
https://github.com/angular-ui/angular-google-maps

@authors
Nicolas Laplante - https://plus.google.com/108189012221374960701
Nicholas McCready - https://twitter.com/nmccready
 */

/*
 Version: core-1.0
 The MIT License: Copyright (c) 2012 LiosK.
*/

/**
 *  google-maps-utility-library-v3-infobox
 *
 * @version: 1.1.14
 * @author: Gary Little (inspired by proof-of-concept code from Pamela Fox of Google)
 * @contributors: Nicholas McCready
 * @date: Fri May 13 2016 16:35:27 GMT-0400 (EDT)
 * @license: Apache License 2.0
 */

/**
 *  google-maps-utility-library-v3-keydragzoom
 *
 * @version: 2.0.9
 * @author: Nianwei Liu [nianwei at gmail dot com] & Gary Little [gary at luxcentral dot com]
 * @contributors: undefined
 * @date: Fri May 13 2016 13:45:18 GMT-0400 (EDT)
 * @license: Apache License 2.0
 */

/**
 *  google-maps-utility-library-v3-markerwithlabel
 *
 * @version: 1.1.10
 * @author: Gary Little (inspired by code from Marc Ridey of Google).
 * @contributors: Nicholas McCready
 * @date: Fri May 13 2016 16:29:58 GMT-0400 (EDT)
 * @license: Apache License 2.0
 */

/**
 * @license
 * Copyright 2013 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/** @preserve OverlappingMarkerSpiderfier
https://github.com/jawj/OverlappingMarkerSpiderfier
Copyright (c) 2011 - 2013 George MacKerron
Released under the MIT licence: http://opensource.org/licenses/mit-license
Note: The Google Maps API v3 must be included *before* this code
 */

/*!
 * ui-select
 * http://github.com/angular-ui/ui-select
 * Version: 0.19.7 - 2017-04-15T14:28:36.649Z
 * License: MIT
 */

/**
 * Angular Image Fallback
 * (c) 2014 Daniel Cohen. http://dcb.co.il
 * License: MIT
 * https://github.com/dcohenb/angular-img-fallback
 */

/*
 *  Angular RangeSlider Directive
 * 
 *  Version: 0.0.13
 *
 *  Author: Daniel Crisp, danielcrisp.com
 *
 *  The rangeSlider has been styled to match the default styling
 *  of form elements styled using Twitter's Bootstrap
 *
 *  Originally forked from https://github.com/leongersen/noUiSlider
 *

    This code is released under the MIT Licence - http://opensource.org/licenses/MIT

    Copyright (c) 2013 Daniel Crisp

    Permission is hereby granted, free of charge, to any person obtaining a copy
    of this software and associated documentation files (the "Software"), to deal
    in the Software without restriction, including without limitation the rights
    to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
    copies of the Software, and to permit persons to whom the Software is
    furnished to do so, subject to the following conditions:

    The above copyright notice and this permission notice shall be included in
    all copies or substantial portions of the Software.

    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
    IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
    FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
    AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
    LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
    OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
    THE SOFTWARE.

*/

/**
 * @license almond 0.3.3 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/almond/LICENSE
 */

/**
 * @license
 * lodash <https://lodash.com/>
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/**
 * Copyright Marc J. Schmidt. See the LICENSE file at the top-level
 * directory of this distribution and at
 * https://github.com/marcj/css-element-queries/blob/master/LICENSE.
 */

/**
         *
         * @copyright https://github.com/Mr0grog/element-query/blob/master/LICENSE
         *
         * @param {HTMLElement} element
         * @param {*} value
         * @returns {*}
         */

//! license : MIT

/**
 * Copyright (c) 2011-2014 Felix Gnass
 * Licensed under the MIT license
 * http://spin.js.org/
 *
 * Example:
    var opts = {
      lines: 12             // The number of lines to draw
    , length: 7             // The length of each line
    , width: 5              // The line thickness
    , radius: 10            // The radius of the inner circle
    , scale: 1.0            // Scales overall size of the spinner
    , corners: 1            // Roundness (0..1)
    , color: '#000'         // #rgb or #rrggbb
    , opacity: 1/4          // Opacity of the lines
    , rotate: 0             // Rotation offset
    , direction: 1          // 1: clockwise, -1: counterclockwise
    , speed: 1              // Rounds per second
    , trail: 100            // Afterglow percentage
    , fps: 20               // Frames per second when using setTimeout()
    , zIndex: 2e9           // Use a high z-index by default
    , className: 'spinner'  // CSS class to assign to the element
    , top: '50%'            // center vertically
    , left: '50%'           // center horizontally
    , shadow: false         // Whether to render a shadow
    , hwaccel: false        // Whether to use hardware acceleration (might be buggy)
    , position: 'absolute'  // Element positioning
    }
    var target = document.getElementById('foo')
    var spinner = new Spinner(opts).spin(target)
 */

/**
 * angular-spinner version 0.8.1
 * License: MIT.
 * Copyright (C) 2013, 2014, 2015, 2016, Uri Shaked and contributors.
 */

/*!
 * Chart.js
 * http://chartjs.org/
 * Version: 1.0.2
 *
 * Copyright 2015 Nick Downie
 * Released under the MIT license
 * https://github.com/nnnick/Chart.js/blob/master/LICENSE.md
 */

!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.SabreDevStudioWidgets=t()}(this,function(){var e,t,n;!function(r){function i(e,t){return S.call(e,t)}function o(e,t){var n,r,i,o,a,s,l,u,c,d,p,h=t&&t.split("/"),f=y.map,g=f&&f["*"]||{};if(e&&"."===e.charAt(0))if(t){for(e=e.split("/"),a=e.length-1,y.nodeIdCompat&&w.test(e[a])&&(e[a]=e[a].replace(w,"")),e=h.slice(0,h.length-1).concat(e),c=0;c<e.length;c+=1)if(p=e[c],"."===p)e.splice(c,1),c-=1;else if(".."===p){if(1===c&&(".."===e[2]||".."===e[0]))break;c>0&&(e.splice(c-1,2),c-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((h||g)&&f){for(n=e.split("/"),c=n.length;c>0;c-=1){if(r=n.slice(0,c).join("/"),h)for(d=h.length;d>0;d-=1)if(i=f[h.slice(0,d).join("/")],i&&(i=i[r])){o=i,s=c;break}if(o)break;!l&&g&&g[r]&&(l=g[r],u=c)}!o&&l&&(o=l,s=u),o&&(n.splice(0,s,o),e=n.join("/"))}return e}function a(e,t){return function(){var n=D.call(arguments,0);return"string"!=typeof n[0]&&1===n.length&&n.push(null),h.apply(r,n.concat([e,t]))}}function s(e){return function(t){return o(t,e)}}function l(e){return function(t){m[e]=t}}function u(e){if(i(v,e)){var t=v[e];delete v[e],b[e]=!0,p.apply(r,t)}if(!i(m,e)&&!i(b,e))throw new Error("No "+e);return m[e]}function c(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function d(e){return function(){return y&&y.config&&y.config[e]||{}}}var p,h,f,g,m={},v={},y={},b={},S=Object.prototype.hasOwnProperty,D=[].slice,w=/\.js$/;f=function(e,t){var n,r=c(e),i=r[0];return e=r[1],i&&(i=o(i,t),n=u(i)),i?e=n&&n.normalize?n.normalize(e,s(t)):o(e,t):(e=o(e,t),r=c(e),i=r[0],e=r[1],i&&(n=u(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},g={require:function(e){return a(e)},exports:function(e){var t=m[e];return"undefined"!=typeof t?t:m[e]={}},module:function(e){return{id:e,uri:"",exports:m[e],config:d(e)}}},p=function(e,t,n,o){var s,c,d,p,h,y,S=[],D=typeof n;if(o=o||e,"undefined"===D||"function"===D){for(t=!t.length&&n.length?["require","exports","module"]:t,h=0;h<t.length;h+=1)if(p=f(t[h],o),c=p.f,"require"===c)S[h]=g.require(e);else if("exports"===c)S[h]=g.exports(e),y=!0;else if("module"===c)s=S[h]=g.module(e);else if(i(m,c)||i(v,c)||i(b,c))S[h]=u(c);else{if(!p.p)throw new Error(e+" missing "+c);p.p.load(p.n,a(o,!0),l(c),{}),S[h]=m[c]}d=n?n.apply(m[e],S):void 0,e&&(s&&s.exports!==r&&s.exports!==m[e]?m[e]=s.exports:d===r&&y||(m[e]=d))}else e&&(m[e]=n)},e=t=h=function(e,t,n,i,o){if("string"==typeof e)return g[e]?g[e](t):u(f(e,t).f);if(!e.splice){if(y=e,y.deps&&h(y.deps,y.callback),!t)return;t.splice?(e=t,t=n,n=null):e=r}return t=t||function(){},"function"==typeof n&&(n=i,i=o),i?p(r,e,t,n):setTimeout(function(){p(r,e,t,n)},4),h},h.config=function(e){return h(e)},e._defined=m,n=function(e,t,n){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),i(m,e)||i(v,e)||(v[e]=[e,t,n])},n.amd={jQuery:!0}}(),n("../../node_modules/almond/almond",function(){}),function(e){function t(e,t){return t=t||Error,function(){var n,r=arguments[0];for(n="["+(e?e+":":"")+r+"] http://errors.angularjs.org/1.6.4/"+(e?e+"/":"")+r,r=1;r<arguments.length;r++){n=n+(1==r?"?":"&")+"p"+(r-1)+"=";var i,o=encodeURIComponent;i=arguments[r],i="function"==typeof i?i.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof i?"undefined":"string"!=typeof i?JSON.stringify(i):i,n+=o(i)}return new t(n)}}function n(e){return S(e)?void(b(e.objectMaxDepth)&&(ui.objectMaxDepth=r(e.objectMaxDepth)?e.objectMaxDepth:0/0)):ui}function r(e){return A(e)&&e>0}function i(e){if(null==e||$(e))return!1;if(Di(e)||w(e)||ii&&e instanceof ii)return!0;var t="length"in Object(e)&&e.length;return A(t)&&(t>=0&&(t-1 in e||e instanceof Array)||"function"==typeof e.item)}function o(e,t,n){var r,a;if(e)if(x(e))for(r in e)"prototype"!==r&&"length"!==r&&"name"!==r&&e.hasOwnProperty(r)&&t.call(n,e[r],r,e);else if(Di(e)||i(e)){var s="object"!=typeof e;for(r=0,a=e.length;a>r;r++)(s||r in e)&&t.call(n,e[r],r,e)}else if(e.forEach&&e.forEach!==o)e.forEach(t,n,e);else if(D(e))for(r in e)t.call(n,e[r],r,e);else if("function"==typeof e.hasOwnProperty)for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e);else for(r in e)li.call(e,r)&&t.call(n,e[r],r,e);return e}function a(e,t,n){for(var r=Object.keys(e).sort(),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function s(e){return function(t,n){e(n,t)}}function l(){return++bi}function u(e,t,n){for(var r=e.$$hashKey,i=0,o=t.length;o>i;++i){var a=t[i];if(S(a)||x(a))for(var s=Object.keys(a),l=0,c=s.length;c>l;l++){var d=s[l],p=a[d];n&&S(p)?C(p)?e[d]=new Date(p.valueOf()):_(p)?e[d]=new RegExp(p):p.nodeName?e[d]=p.cloneNode(!0):F(p)?e[d]=p.clone():(S(e[d])||(e[d]=Di(p)?[]:{}),u(e[d],[p],!0)):e[d]=p}}return r?e.$$hashKey=r:delete e.$$hashKey,e}function c(e){return u(e,pi.call(arguments,1),!1)}function d(e){return u(e,pi.call(arguments,1),!0)}function p(e){return parseInt(e,10)}function h(e,t){return c(Object.create(e),t)}function f(){}function g(e){return e}function m(e){return function(){return e}}function v(e){return x(e.toString)&&e.toString!==gi}function y(e){return"undefined"==typeof e}function b(e){return"undefined"!=typeof e}function S(e){return null!==e&&"object"==typeof e}function D(e){return null!==e&&"object"==typeof e&&!mi(e)}function w(e){return"string"==typeof e}function A(e){return"number"==typeof e}function C(e){return"[object Date]"===gi.call(e)}function x(e){return"function"==typeof e}function _(e){return"[object RegExp]"===gi.call(e)}function $(e){return e&&e.window===e}function k(e){return e&&e.$evalAsync&&e.$watch}function M(e){return"boolean"==typeof e}function T(e){return e&&A(e.length)&&wi.test(gi.call(e))}function F(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function O(e){var t={};e=e.split(",");var n;for(n=0;n<e.length;n++)t[e[n]]=!0;return t}function P(e){return ci(e.nodeName||e[0]&&e[0].nodeName)}function E(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function L(e,t,n){function i(e,t,n){if(n--,0>n)return"...";var r,i=t.$$hashKey;if(Di(e)){r=0;for(var o=e.length;o>r;r++)t.push(a(e[r],n))}else if(D(e))for(r in e)t[r]=a(e[r],n);else if(e&&"function"==typeof e.hasOwnProperty)for(r in e)e.hasOwnProperty(r)&&(t[r]=a(e[r],n));else for(r in e)li.call(e,r)&&(t[r]=a(e[r],n));return i?t.$$hashKey=i:delete t.$$hashKey,t}function a(e,t){if(!S(e))return e;var n=l.indexOf(e);if(-1!==n)return u[n];if($(e)||k(e))throw vi("cpws");var n=!1,r=s(e);return void 0===r&&(r=Di(e)?[]:Object.create(mi(e)),n=!0),l.push(e),u.push(r),n?i(e,r,t):r}function s(e){switch(gi.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(a(e.buffer),e.byteOffset,e.length);case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":return t=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]),t.lastIndex=e.lastIndex,t;case"[object Blob]":return new e.constructor([e],{type:e.type})}return x(e.cloneNode)?e.cloneNode(!0):void 0}var l=[],u=[];if(n=r(n)?n:0/0,t){if(T(t)||"[object ArrayBuffer]"===gi.call(t))throw vi("cpta");if(e===t)throw vi("cpi");return Di(t)?t.length=0:o(t,function(e,n){"$$hashKey"!==n&&delete t[n]}),l.push(e),u.push(t),i(e,t,n)}return a(e,n)}function I(e,t){return e===t||e!==e&&t!==t}function R(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n,r=typeof e;if(r===typeof t&&"object"===r){if(!Di(e)){if(C(e))return C(t)?I(e.getTime(),t.getTime()):!1;if(_(e))return _(t)?e.toString()===t.toString():!1;if(k(e)||k(t)||$(e)||$(t)||Di(t)||C(t)||_(t))return!1;r=ut();for(n in e)if("$"!==n.charAt(0)&&!x(e[n])){if(!R(e[n],t[n]))return!1;r[n]=!0}for(n in t)if(!(n in r)&&"$"!==n.charAt(0)&&b(t[n])&&!x(t[n]))return!1;return!0}if(!Di(t))return!1;if((r=e.length)===t.length){for(n=0;r>n;n++)if(!R(e[n],t[n]))return!1;return!0}}return!1}function N(e,t,n){return e.concat(pi.call(t,n))}function W(e,t){var n=2<arguments.length?pi.call(arguments,2):[];return!x(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,N(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function B(t,n){var r=n;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?r=void 0:$(n)?r="$WINDOW":n&&e.document===n?r="$DOCUMENT":k(n)&&(r="$SCOPE"),r}function U(e,t){return y(e)?void 0:(A(t)||(t=t?2:null),JSON.stringify(e,B,t))}function G(e){return w(e)?JSON.parse(e):e}function q(e,t){e=e.replace($i,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return Si(n)?t:n}function j(e,t,n){n=n?-1:1;var r=e.getTimezoneOffset();return t=q(t,r),n*=t-r,e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+n),e}function z(e){e=ii(e).clone();try{e.empty()}catch(t){}var n=ii("<div>").append(e).html();try{return e[0].nodeType===Oi?ci(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(e,t){return"<"+ci(t)})}catch(r){return ci(n)}}function K(e){try{return decodeURIComponent(e)}catch(t){}}function H(e){var t={};return o((e||"").split("&"),function(e){var n,r,i;e&&(r=e=e.replace(/\+/g,"%20"),n=e.indexOf("="),-1!==n&&(r=e.substring(0,n),i=e.substring(n+1)),r=K(r),b(r)&&(i=b(i)?K(i):!0,li.call(t,r)?Di(t[r])?t[r].push(i):t[r]=[t[r],i]:t[r]=i))}),t}function V(e){var t=[];return o(e,function(e,n){Di(e)?o(e,function(e){t.push(Q(n,!0)+(!0===e?"":"="+Q(e,!0)))}):t.push(Q(n,!0)+(!0===e?"":"="+Q(e,!0)))}),t.length?t.join("&"):""}function Y(e){return Q(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Q(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function Z(e,t){var n,r,i=ki.length;for(r=0;i>r;++r)if(n=ki[r]+t,w(n=e.getAttribute(n)))return n;return null}function J(t,n){var r,i,a={};o(ki,function(e){e+="app",!r&&t.hasAttribute&&t.hasAttribute(e)&&(r=t,i=t.getAttribute(e))}),o(ki,function(e){e+="app";var n;!r&&(n=t.querySelector("["+e.replace(":","\\:")+"]"))&&(r=n,i=n.getAttribute(e))}),r&&(Mi?(a.strictDi=null!==Z(r,"strict-di"),n(r,i?[i]:[],a)):e.console.error("Angular: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match."))}function X(t,n,r){S(r)||(r={}),r=c({strictDi:!1},r);var i=function(){if(t=ii(t),t.injector()){var i=t[0]===e.document?"document":z(t);throw vi("btstrpd",i.replace(/</,"&lt;").replace(/>/,"&gt;"))}return n=n||[],n.unshift(["$provide",function(e){e.value("$rootElement",t)}]),r.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng"),i=zt(n,r.strictDi),i.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),i},a=/^NG_ENABLE_DEBUG_INFO!/,s=/^NG_DEFER_BOOTSTRAP!/;return e&&a.test(e.name)&&(r.debugInfoEnabled=!0,e.name=e.name.replace(a,"")),e&&!s.test(e.name)?i():(e.name=e.name.replace(s,""),yi.resumeBootstrap=function(e){return o(e,function(e){n.push(e)}),i()},void(x(yi.resumeDeferredBootstrap)&&yi.resumeDeferredBootstrap()))}function et(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function tt(e){if(e=yi.element(e).injector(),!e)throw vi("test");return e.get("$$testability")}function nt(e,t){return t=t||"_",e.replace(Ti,function(e,n){return(n?t:"")+e.toLowerCase()})}function rt(){var t;if(!Fi){var n=_i();(oi=y(n)?e.jQuery:n?e[n]:void 0)&&oi.fn.on?(ii=oi,c(oi.fn,{scope:Ki.scope,isolateScope:Ki.isolateScope,controller:Ki.controller,injector:Ki.injector,inheritedData:Ki.inheritedData}),t=oi.cleanData,oi.cleanData=function(e){for(var n,r,i=0;null!=(r=e[i]);i++)(n=oi._data(r,"events"))&&n.$destroy&&oi(r).triggerHandler("$destroy");t(e)}):ii=bt,yi.element=ii,Fi=!0}}function it(e,t,n){if(!e)throw vi("areq",t||"?",n||"required");return e}function ot(e,t,n){return n&&Di(e)&&(e=e[e.length-1]),it(x(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function at(e,t){if("hasOwnProperty"===e)throw vi("badname",t)}function st(e,t,n){if(!t)return e;t=t.split(".");for(var r,i=e,o=t.length,a=0;o>a;a++)r=t[a],e&&(e=(i=e)[r]);return!n&&x(e)?W(i,e):e}function lt(e){for(var t,n=e[0],r=e[e.length-1],i=1;n!==r&&(n=n.nextSibling);i++)(t||e[i]!==n)&&(t||(t=ii(pi.call(e,0,i))),t.push(n));return t||e}function ut(){return Object.create(null)}function ct(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=!v(e)||Di(e)||C(e)?U(e):e.toString()}return e}function dt(e){function n(e,t,n){return e[t]||(e[t]=n())}var r=t("$injector"),i=t("ng");return e=n(e,"angular",Object),e.$$minErr=e.$$minErr||t,n(e,"module",function(){var e={};return function(t,o,a){var s={};if("hasOwnProperty"===t)throw i("badname","module");return o&&e.hasOwnProperty(t)&&(e[t]=null),n(e,t,function(){function e(e,t,n,r){return r||(r=l),function(){return r[n||"push"]([e,t,arguments]),p}}function n(e,n,r){return r||(r=l),function(i,o){return o&&x(o)&&(o.$$moduleName=t),r.push([e,n,arguments]),p}}if(!o)throw r("nomod",t);var l=[],u=[],c=[],d=e("$injector","invoke","push",u),p={_invokeQueue:l,_configBlocks:u,_runBlocks:c,info:function(e){if(b(e)){if(!S(e))throw i("aobj","value");return s=e,this}return s},requires:o,name:t,provider:n("$provide","provider"),factory:n("$provide","factory"),service:n("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:n("$provide","decorator",u),animation:n("$animateProvider","register"),filter:n("$filterProvider","register"),controller:n("$controllerProvider","register"),directive:n("$compileProvider","directive"),component:n("$compileProvider","component"),config:d,run:function(e){return c.push(e),this}};return a&&d(a),p})}})}function pt(e,t){if(Di(e)){t=t||[];for(var n=0,r=e.length;r>n;n++)t[n]=e[n]}else if(S(e))for(n in t=t||{},e)("$"!==n.charAt(0)||"$"!==n.charAt(1))&&(t[n]=e[n]);return t||e}function ht(e,t){var n=[];return r(t)&&(e=L(e,null,t)),JSON.stringify(e,function(e,t){if(t=B(e,t),S(t)){if(0<=n.indexOf(t))return"...";n.push(t)}return t})}function ft(r){c(r,{errorHandlingConfig:n,bootstrap:X,copy:L,extend:c,merge:d,equals:R,element:ii,forEach:o,injector:zt,noop:f,bind:W,toJson:U,fromJson:G,identity:g,isUndefined:y,isDefined:b,isString:w,isFunction:x,isObject:S,isNumber:A,isElement:F,isArray:Di,version:Pi,isDate:C,lowercase:ci,uppercase:di,callbacks:{$$counter:0},getTestability:tt,reloadWithDebugInfo:et,$$minErr:t,$$csp:xi,$$encodeUriSegment:Y,$$encodeUriQuery:Q,$$stringify:ct}),ai=dt(e),ai("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:tr}),e.provider("$compile",en).directive({a:Xo,input:ma,textarea:ma,form:ra,script:is,select:ss,option:ls,ngBind:ba,ngBindHtml:Da,ngBindTemplate:Sa,ngClass:Aa,ngClassEven:xa,ngClassOdd:Ca,ngCloak:_a,ngController:$a,ngForm:ia,ngHide:Za,ngIf:Ta,ngInclude:Fa,ngInit:Pa,ngNonBindable:ja,ngPluralize:Va,ngRepeat:Ya,ngShow:Qa,ngStyle:Ja,ngSwitch:Xa,ngSwitchWhen:es,ngSwitchDefault:ts,ngOptions:Ha,ngTransclude:rs,ngModel:Ua,ngList:Ea,ngChange:wa,pattern:cs,ngPattern:cs,required:us,ngRequired:us,minlength:ps,ngMinlength:ps,maxlength:ds,ngMaxlength:ds,ngValue:ya,ngModelOptions:qa}).directive({ngInclude:Oa}).directive(ea).directive(ka),e.provider({$anchorScroll:Kt,$animate:lo,$animateCss:po,$$animateJs:ao,$$animateQueue:so,$$AnimateRunner:co,$$animateAsyncRun:uo,$browser:Zt,$cacheFactory:Jt,$controller:sn,$document:ln,$$isDocumentHidden:un,$exceptionHandler:cn,$filter:gr,$$forceReflow:bo,$interpolate:wn,$interval:An,$http:yn,$httpParamSerializer:pn,$httpParamSerializerJQLike:hn,$httpBackend:Sn,$xhrFactory:bn,$jsonpCallbacks:$o,$location:In,$log:Rn,$parse:Yn,$rootScope:er,$q:Qn,$$q:Zn,$sce:or,$sceDelegate:ir,$sniffer:ar,$templateCache:Xt,$templateRequest:sr,$$testability:lr,$timeout:ur,$window:pr,$$rAF:Xn,$$jqLite:Bt,$$Map:Ji,$$cookieReader:fr})}]).info({angularVersion:"1.6.4"})}function gt(e,t){return t.toUpperCase()}function mt(e){return e.replace(Ii,gt)}function vt(e){return e=e.nodeType,1===e||!e||9===e}function yt(e,t){var n,r,i=t.createDocumentFragment(),a=[];if(Ui.test(e)){for(n=i.appendChild(t.createElement("div")),r=(Gi.exec(e)||["",""])[1].toLowerCase(),r=ji[r]||ji._default,n.innerHTML=r[1]+e.replace(qi,"<$1></$2>")+r[2],r=r[0];r--;)n=n.lastChild;a=N(a,n.childNodes),n=i.firstChild,n.textContent=""}else a.push(t.createTextNode(e));return i.textContent="",i.innerHTML="",o(a,function(e){i.appendChild(e)}),i}function bt(t){if(t instanceof bt)return t;var n;if(w(t)&&(t=Ai(t),n=!0),!(this instanceof bt)){if(n&&"<"!==t.charAt(0))throw Wi("nosel");return new bt(t)}if(n){n=e.document;var r;t=(r=Bi.exec(t))?[n.createElement(r[1])]:(r=yt(t,n))?r.childNodes:[],Mt(this,t)}else x(t)?Lt(t):Mt(this,t)}function St(e){return e.cloneNode(!0)}function Dt(e,t){!t&&vt(e)&&ii.cleanData([e]),e.querySelectorAll&&ii.cleanData(e.querySelectorAll("*"))}function wt(e,t,n,r){if(b(r))throw Wi("offargs");var i=(r=Ct(e))&&r.events,a=r&&r.handle;if(a)if(t){var s=function(t){var r=i[t];b(n)&&E(r||[],n),b(n)&&r&&0<r.length||(e.removeEventListener(t,a),delete i[t])};o(t.split(" "),function(e){s(e),Ni[e]&&s(Ni[e])})}else for(t in i)"$destroy"!==t&&e.removeEventListener(t,a),delete i[t]}function At(e,t){var n=e.ng339,r=n&&Ei[n];r&&(t?delete r.data[t]:(r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),wt(e)),delete Ei[n],e.ng339=void 0))}function Ct(e,t){var n=e.ng339,n=n&&Ei[n];return t&&!n&&(e.ng339=n=++Li,n=Ei[n]={events:{},data:{},handle:void 0}),n}function xt(e,t,n){if(vt(e)){var r,i=b(n),o=!i&&t&&!S(t),a=!t;if(e=(e=Ct(e,!o))&&e.data,i)e[mt(t)]=n;else{if(a)return e;if(o)return e&&e[mt(t)];for(r in t)e[mt(r)]=t[r]}}}function _t(e,t){return e.getAttribute?-1<(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" "):!1}function $t(e,t){t&&e.setAttribute&&o(t.split(" "),function(t){e.setAttribute("class",Ai((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Ai(t)+" "," ")))})}function kt(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(t.split(" "),function(e){e=Ai(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",Ai(n))}}function Mt(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;n>r;r++)e[e.length++]=t[r]}else e[e.length++]=t}}function Tt(e,t){return Ft(e,"$"+(t||"ngController")+"Controller")}function Ft(e,t,n){for(9===e.nodeType&&(e=e.documentElement),t=Di(t)?t:[t];e;){for(var r=0,i=t.length;i>r;r++)if(b(n=ii.data(e,t[r])))return n;e=e.parentNode||11===e.nodeType&&e.host}}function Ot(e){for(Dt(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Pt(e,t){t||Dt(e);var n=e.parentNode;n&&n.removeChild(e)}function Et(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):ii(n).on("load",t)}function Lt(t){function n(){e.document.removeEventListener("DOMContentLoaded",n),e.removeEventListener("load",n),t()}"complete"===e.document.readyState?e.setTimeout(t):(e.document.addEventListener("DOMContentLoaded",n),e.addEventListener("load",n))}function It(e,t){var n=Hi[t.toLowerCase()];return n&&Vi[P(e)]&&n}function Rt(e,t){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=t[r||n.type],o=i?i.length:0;if(o){if(y(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped};var s=i.specialHandlerWrapper||Nt;o>1&&(i=pt(i));for(var l=0;o>l;l++)n.isImmediatePropagationStopped()||s(e,n,i[l])}};return n.elem=e,n}function Nt(e,t,n){n.call(e,t)}function Wt(e,t,n){var r=t.relatedTarget;r&&(r===e||zi.call(e,r))||n.call(e,t)}function Bt(){this.$get=function(){return c(bt,{hasClass:function(e,t){return e.attr&&(e=e[0]),_t(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),kt(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),$t(e,t)}})}}function Ut(e,t){var n=e&&e.$$hashKey;return n?("function"==typeof n&&(n=e.$$hashKey()),n):(n=typeof e,n="function"===n||"object"===n&&null!==e?e.$$hashKey=n+":"+(t||l)():n+":"+e)}function Gt(){this._keys=[],this._values=[],this._lastKey=0/0,this._lastIndex=-1}function qt(e){return e=Function.prototype.toString.call(e).replace(ro,""),e.match(Xi)||e.match(eo)}function jt(e){return(e=qt(e))?"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function zt(e,t){function n(e){return function(t,n){return S(t)?void o(t,s(e)):e(t,n)}}function r(e,t){if(at(e,"service"),(x(t)||Di(t))&&(t=f.instantiate(t)),!t.$get)throw io("pget",e);return h[e+"Provider"]=t}function i(e,t){return function(){var n=b.invoke(t,this);if(y(n))throw io("undef",e);return n}}function a(e,t,n){return r(e,{$get:!1!==n?i(e,t):t})}function l(e){it(y(e)||Di(e),"modulesToLoad","not an array");var t,n=[];return o(e,function(e){function r(e){var t,n;for(t=0,n=e.length;n>t;t++){var r=e[t],i=f.get(r[0]);i[r[1]].apply(i,r[2])}}if(!p.get(e)){p.set(e,!0);try{w(e)?(t=ai(e),b.modules[e]=t,n=n.concat(l(t.requires)).concat(t._runBlocks),r(t._invokeQueue),r(t._configBlocks)):x(e)?n.push(f.invoke(e)):Di(e)?n.push(f.invoke(e)):ot(e,"module")}catch(i){throw Di(e)&&(e=e[e.length-1]),i.message&&i.stack&&-1===i.stack.indexOf(i.message)&&(i=i.message+"\n"+i.stack),io("modulerr",e,i.stack||i.message||i)}}}),n}function u(e,n){function r(t,r){if(e.hasOwnProperty(t)){if(e[t]===c)throw io("cdep",t+" <- "+d.join(" <- "));return e[t]}try{return d.unshift(t),e[t]=c,e[t]=n(t,r),e[t]}catch(i){throw e[t]===c&&delete e[t],i}finally{d.shift()}}function i(e,n,i){var o=[];e=zt.$$annotate(e,t,i);for(var a=0,s=e.length;s>a;a++){var l=e[a];if("string"!=typeof l)throw io("itkn",l);o.push(n&&n.hasOwnProperty(l)?n[l]:r(l,i))}return o}return{invoke:function(e,t,n,r){if("string"==typeof n&&(r=n,n=null),n=i(e,n,r),Di(e)&&(e=e[e.length-1]),r=e,ri||"function"!=typeof r)r=!1;else{var o=r.$$ngIsClass;M(o)||(o=r.$$ngIsClass=/^(?:class\b|constructor\()/.test(Function.prototype.toString.call(r))),r=o}return r?(n.unshift(null),new(Function.prototype.bind.apply(e,n))):e.apply(t,n)},instantiate:function(e,t,n){var r=Di(e)?e[e.length-1]:e;return e=i(e,t,n),e.unshift(null),new(Function.prototype.bind.apply(r,e))},get:r,annotate:zt.$$annotate,has:function(t){return h.hasOwnProperty(t+"Provider")||e.hasOwnProperty(t)}}}t=!0===t;var c={},d=[],p=new Zi,h={$provide:{provider:n(r),factory:n(a),service:n(function(e,t){return a(e,["$injector",function(e){return e.instantiate(t)}])}),value:n(function(e,t){return a(e,m(t),!1)}),constant:n(function(e,t){at(e,"constant"),h[e]=t,g[e]=t}),decorator:function(e,t){var n=f.get(e+"Provider"),r=n.$get;n.$get=function(){var e=b.invoke(r,n);return b.invoke(t,null,{$delegate:e})}}}},f=h.$injector=u(h,function(e,t){throw yi.isString(t)&&d.push(t),io("unpr",d.join(" <- "))}),g={},v=u(g,function(e,t){var n=f.get(e+"Provider",t);return b.invoke(n.$get,n,void 0,e)}),b=v;h.$injectorProvider={$get:m(v)},b.modules=f.modules=ut();var D=l(e),b=v.get("$injector");return b.strictDi=t,o(D,function(e){e&&b.invoke(e)}),b}function Kt(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,r){function i(e){var t=null;return Array.prototype.some.call(e,function(e){return"a"===P(e)?(t=e,!0):void 0}),t}function o(e){if(e){e.scrollIntoView();var n;n=a.yOffset,x(n)?n=n():F(n)?(n=n[0],n="fixed"!==t.getComputedStyle(n).position?0:n.getBoundingClientRect().bottom):A(n)||(n=0),n&&(e=e.getBoundingClientRect().top,t.scrollBy(0,e-n))}else t.scrollTo(0,0)}function a(e){e=w(e)?e:A(e)?e.toString():n.hash();var t;e?(t=s.getElementById(e))?o(t):(t=i(s.getElementsByName(e)))?o(t):"top"===e&&o(null):o(null)}var s=t.document;return e&&r.$watch(function(){return n.hash()},function(e,t){e===t&&""===e||Et(function(){r.$evalAsync(a)})}),a}]}function Ht(e,t){return e||t?e?t?(Di(e)&&(e=e.join(" ")),Di(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function Vt(e){w(e)&&(e=e.split(" "));var t=ut();return o(e,function(e){e.length&&(t[e]=!0)}),t}function Yt(e){return S(e)?e:{}}function Qt(e,t,n,r){function i(e){try{e.apply(null,pi.call(arguments,1))}finally{if(m--,0===m)for(;v.length;)try{v.pop()()}catch(t){n.error(t)}}}function a(){A=null,l()}function s(){b=C(),b=y(b)?null:b,R(b,$)&&(b=$),S=$=b}function l(){var e=S;s(),(D!==u.url()||e!==b)&&(D=u.url(),S=b,o(x,function(e){e(u.url(),b)}))}var u=this,c=e.location,d=e.history,p=e.setTimeout,h=e.clearTimeout,g={};u.isMock=!1;var m=0,v=[];u.$$completeOutstandingRequest=i,u.$$incOutstandingRequestCount=function(){m++},u.notifyWhenNoOutstandingRequests=function(e){0===m?e():v.push(e)};var b,S,D=c.href,w=t.find("base"),A=null,C=r.history?function(){try{return d.state}catch(e){}}:f;s(),u.url=function(t,n,i){if(y(i)&&(i=null),c!==e.location&&(c=e.location),d!==e.history&&(d=e.history),t){var o=S===i;if(D===t&&(!r.history||o))return u;var a=D&&Mn(D)===Mn(t);return D=t,S=i,!r.history||a&&o?(a||(A=t),n?c.replace(t):a?(n=c,i=t.indexOf("#"),i=-1===i?"":t.substr(i),n.hash=i):c.href=t,c.href!==t&&(A=t)):(d[n?"replaceState":"pushState"](i,"",t),s()),A&&(A=t),u}return A||c.href.replace(/%27/g,"'")},u.state=function(){return b};var x=[],_=!1,$=null;u.onUrlChange=function(t){return _||(r.history&&ii(e).on("popstate",a),ii(e).on("hashchange",a),_=!0),x.push(t),t},u.$$applicationDestroyed=function(){ii(e).off("hashchange popstate",a)},u.$$checkUrlChange=l,u.baseHref=function(){var e=w.attr("href");return e?e.replace(/^(https?:)?\/\/[^\/]*/,""):""},u.defer=function(e,t){var n;return m++,n=p(function(){delete g[n],i(e)},t||0),g[n]=!0,n},u.defer.cancel=function(e){return g[e]?(delete g[e],h(e),i(f),!0):!1}}function Zt(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new Qt(e,r,t,n)}]}function Jt(){this.$get=function(){function e(e,r){function i(e){e!==p&&(h?h===e&&(h=e.n):h=e,o(e.n,e.p),o(e,p),p=e,p.n=null)}function o(e,t){e!==t&&(e&&(e.p=t),t&&(t.n=e))}if(e in n)throw t("$cacheFactory")("iid",e);var a=0,s=c({},r,{id:e}),l=ut(),u=r&&r.capacity||Number.MAX_VALUE,d=ut(),p=null,h=null;return n[e]={put:function(e,t){if(!y(t)){if(u<Number.MAX_VALUE){var n=d[e]||(d[e]={key:e});i(n)}return e in l||a++,l[e]=t,a>u&&this.remove(h.key),t}},get:function(e){if(u<Number.MAX_VALUE){var t=d[e];if(!t)return;i(t)}return l[e]},remove:function(e){if(u<Number.MAX_VALUE){var t=d[e];if(!t)return;t===p&&(p=t.p),t===h&&(h=t.n),o(t.n,t.p),delete d[e]}e in l&&(delete l[e],a--)},removeAll:function(){l=ut(),a=0,d=ut(),p=h=null},destroy:function(){d=s=l=null,delete n[e]},info:function(){return c({},s,{size:a})}}}var n={};return e.info=function(){var e={};return o(n,function(t,n){e[n]=t.info()}),e},e.get=function(e){return n[e]},e}}function Xt(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function en(t,n){function r(e,t,n){var r=/^\s*([@&<]|=(\*?))(\??)\s*([\w$]*)\s*$/,i=ut();return o(e,function(e,o){if(e in A)i[o]=A[e];else{var a=e.match(r);if(!a)throw ho("iscp",t,o,e,n?"controller bindings definition":"isolate scope definition");i[o]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||o},a[4]&&(A[e]=i[o])}}),i}function i(e){var t=e.charAt(0);if(!t||t!==ci(t))throw ho("baddir",e);if(e!==e.trim())throw ho("baddir",e)}function a(e){var t=e.require||e.controller&&e.name;return!Di(t)&&S(t)&&o(t,function(e,n){var r=e.match(v);e.substring(r[0].length)||(t[n]=r[0]+n)}),t}var l={},u=/^\s*directive:\s*([\w-]+)\s+(.*)$/,d=/(([\w-]+)(?::([^;]+))?;?)/,p=O("ngSrc,ngSrcset,src,srcset"),v=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,D=/^(on[a-z]+|formaction)$/,A=ut();this.directive=function L(e,n){return it(e,"name"),at(e,"directive"),w(e)?(i(e),it(n,"directiveFactory"),l.hasOwnProperty(e)||(l[e]=[],t.factory(e+"Directive",["$injector","$exceptionHandler",function(t,n){var r=[];return o(l[e],function(i,o){try{var s=t.invoke(i);x(s)?s={compile:m(s)}:!s.compile&&s.link&&(s.compile=m(s.link)),s.priority=s.priority||0,s.index=o,s.name=s.name||e,s.require=a(s);var l=s,u=s.restrict;if(u&&(!w(u)||!/[EACM]/.test(u)))throw ho("badrestrict",u,e);l.restrict=u||"EA",s.$$moduleName=i.$$moduleName,r.push(s)}catch(c){n(c)}}),r}])),l[e].push(n)):o(e,s(L)),this},this.component=function(e,t){function n(e){function n(t){return x(t)||Di(t)?function(n,r){return e.invoke(t,this,{$element:n,$attrs:r})}:t}var i=t.template||t.templateUrl?t.template:"",a={controller:r,controllerAs:an(t.controller)||t.controllerAs||"$ctrl",template:n(i),templateUrl:n(t.templateUrl),transclude:t.transclude,scope:{},bindToController:t.bindings||{},restrict:"E",require:t.require};return o(t,function(e,t){"$"===t.charAt(0)&&(a[t]=e)}),a}var r=t.controller||function(){};return o(t,function(e,t){"$"===t.charAt(0)&&(n[t]=e,x(r)&&(r[t]=e))}),n.$inject=["$injector"],this.directive(e,n)},this.aHrefSanitizationWhitelist=function(e){return b(e)?(n.aHrefSanitizationWhitelist(e),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return b(e)?(n.imgSrcSanitizationWhitelist(e),this):n.imgSrcSanitizationWhitelist()};var C=!0;this.debugInfoEnabled=function(e){return b(e)?(C=e,this):C};var _=!1;this.preAssignBindingsEnabled=function(e){return b(e)?(_=e,this):_};var $=10;this.onChangesTtl=function(e){return arguments.length?($=e,this):$};var T=!0;this.commentDirectivesEnabled=function(e){return arguments.length?(T=e,this):T};var F=!0;this.cssClassDirectivesEnabled=function(e){return arguments.length?(F=e,this):F},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(t,n,i,a,s,m,A,O,L,N){function B(){try{if(!--$t)throw wt=void 0,ho("infchng",$);A.$apply(function(){for(var e=[],t=0,n=wt.length;n>t;++t)try{wt[t]()}catch(r){e.push(r)}if(wt=void 0,e.length)throw e})}finally{$t++}}function U(e,t){if(t){var n,r,i,o=Object.keys(t);for(n=0,r=o.length;r>n;n++)i=o[n],this[i]=t[i]}else this.$attr={};this.$$element=e}function G(e,t,n){Ct.innerHTML="<span "+t+">",t=Ct.firstChild.attributes;var r=t[0];t.removeNamedItem(r.name),r.value=n,e.attributes.setNamedItem(r)}function q(e,t){try{e.addClass(t)}catch(n){}}function j(e,t,n,r,i){e instanceof ii||(e=ii(e));var o=K(e,t,e,n,r,i);j.$$addScopeClass(e);var a=null;return function(t,n,r){if(!e)throw ho("multilink");it(t,"scope"),i&&i.needsNewScope&&(t=t.$parent.$new()),r=r||{};var s=r.parentBoundTranscludeFn,l=r.transcludeControllers;if(r=r.futureParentElement,s&&s.$$boundTransclude&&(s=s.$$boundTransclude),a||(a=(r=r&&r[0])&&"foreignobject"!==P(r)&&gi.call(r).match(/SVG/)?"svg":"html"),r="html"!==a?ii(ft(a,ii("<div>").append(e).html())):n?Ki.clone.call(e):e,l)for(var u in l)r.data("$"+u+"Controller",l[u].instance);return j.$$addScopeInfo(r,t),n&&n(r,t),o&&o(t,r,r,s),n||(e=o=null),r}}function K(e,t,n,r,i,o){function a(e,n,r,i){var o,a,s,l,u,c,h;if(d)for(h=Array(n.length),l=0;l<p.length;l+=3)o=p[l],h[o]=n[o];else h=n;for(l=0,u=p.length;u>l;)a=h[p[l++]],n=p[l++],o=p[l++],n?(n.scope?(s=e.$new(),j.$$addScopeInfo(ii(a),s)):s=e,c=n.transcludeOnThisElement?V(e,n.transclude,i):!n.templateOnThisElement&&i?i:!i&&t?V(e,t):null,n(o,s,a,r,c)):o&&o(e,a.childNodes,void 0,i)}for(var s,l,u,c,d,p=[],h=Di(e)||e instanceof ii,f=0;f<e.length;f++)s=new U,11===ri&&H(e,f,h),l=Y(e[f],[],s,0===f?r:void 0,i),(o=l.length?et(l,e[f],s,t,n,null,[],[],o):null)&&o.scope&&j.$$addScopeClass(s.$$element),s=o&&o.terminal||!(u=e[f].childNodes)||!u.length?null:K(u,o?(o.transcludeOnThisElement||!o.templateOnThisElement)&&o.transclude:t),(o||s)&&(p.push(f,o,s),c=!0,d=d||o),o=null;return c?a:null}function H(e,t,n){var r,i=e[t],o=i.parentNode;if(i.nodeType===Oi)for(;r=o?i.nextSibling:e[t+1],r&&r.nodeType===Oi;)i.nodeValue+=r.nodeValue,r.parentNode&&r.parentNode.removeChild(r),n&&r===e[t+1]&&e.splice(t+1,1)
}function V(e,t,n){function r(r,i,o,a,s){return r||(r=e.$new(!1,s),r.$$transcluded=!0),t(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}var i,o=r.$$slots=ut();for(i in t.$$slots)o[i]=t.$$slots[i]?V(e,t.$$slots[i],n):null;return r}function Y(e,t,n,r,i){var o,a=n.$attr;switch(e.nodeType){case 1:o=P(e),at(t,nn(o),"E",r,i);for(var s,l,u,c,p=e.attributes,h=0,f=p&&p.length;f>h;h++){var g=!1,m=!1;s=p[h],l=s.name,u=s.value,s=nn(l),(c=Ft.test(s))&&(l=l.replace(go,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()})),(s=s.match(Ot))&&st(s[1])&&(g=l,m=l.substr(0,l.length-5)+"end",l=l.substr(0,l.length-6)),s=nn(l.toLowerCase()),a[s]=l,(c||!n.hasOwnProperty(s))&&(n[s]=u,It(e,s)&&(n[s]=!0)),mt(e,t,u,s,c),at(t,s,"A",r,i,g,m)}if("input"===o&&"hidden"===e.getAttribute("type")&&e.setAttribute("autocomplete","off"),!_t)break;if(a=e.className,S(a)&&(a=a.animVal),w(a)&&""!==a)for(;e=d.exec(a);)s=nn(e[2]),at(t,s,"C",r,i)&&(n[s]=Ai(e[3])),a=a.substr(e.index+e[0].length);break;case Oi:ht(t,e.nodeValue);break;case 8:if(!xt)break;Q(e,t,n,r,i)}return t.sort(dt),t}function Q(e,t,n,r,i){try{var o=u.exec(e.nodeValue);if(o){var a=nn(o[1]);at(t,a,"M",r,i)&&(n[a]=Ai(o[2]))}}catch(s){}}function Z(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw ho("uterdir",t,n);1===e.nodeType&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(i>0)}else r.push(e);return ii(r)}function J(e,t,n){return function(r,i,o,a,s){return i=Z(i[0],t,n),e(r,i,o,a,s)}}function X(e,t,n,r,i,o){var a;return e?j(t,n,r,i,o):function(){return a||(a=j(t,n,r,i,o),t=n=o=null),a.apply(this,arguments)}}function et(e,t,n,r,a,s,l,u,d){function p(e,t,n,r){e&&(n&&(e=J(e,n,r)),e.require=f.require,e.directiveName=g,(C===f||f.$$isolateScope)&&(e=yt(e,{isolateScope:!0})),l.push(e)),t&&(n&&(t=J(t,n,r)),t.require=f.require,t.directiveName=g,(C===f||f.$$isolateScope)&&(t=yt(t,{isolateScope:!0})),u.push(t))}function h(e,r,a,s,d){function p(e,t,n,r){var i;if(k(e)||(r=n,n=t,t=e,e=void 0),O&&(i=b),n||(n=O?M.parent():M),!r)return d(e,t,i,n,P);var o=d.$$slots[r];if(o)return o(e,t,i,n,P);if(y(o))throw ho("noslot",r,z(M))}var h,f,g,m,v,b,D,M;t===a?(s=n,M=n.$$element):(M=ii(a),s=new U(M,n)),v=r,C?m=r.$new(!0):w&&(v=r.$parent),d&&(D=p,D.$$boundTransclude=d,D.isSlotFilled=function(e){return!!d.$$slots[e]}),A&&(b=rt(M,s,D,A,m,r,C)),C&&(j.$$addScopeInfo(M,m,!0,!($&&($===C||$===C.$$originalDirective))),j.$$addScopeClass(M,!0),m.$$isolateBindings=C.$$isolateBindings,f=Dt(r,s,m,m.$$isolateBindings,C),f.removeWatches&&m.$on("$destroy",f.removeWatches));for(h in b){f=A[h],g=b[h];var T=f.$$bindings.bindToController;if(_){g.bindingInfo=T?Dt(v,s,g.instance,T,f):{};var F=g();F!==g.instance&&(g.instance=F,M.data("$"+f.name+"Controller",F),g.bindingInfo.removeWatches&&g.bindingInfo.removeWatches(),g.bindingInfo=Dt(v,s,g.instance,T,f))}else g.instance=g(),M.data("$"+f.name+"Controller",g.instance),g.bindingInfo=Dt(v,s,g.instance,T,f)}for(o(A,function(e,t){var n=e.require;e.bindToController&&!Di(n)&&S(n)&&c(b[t].instance,tt(t,n,M,b))}),o(b,function(e){var t=e.instance;if(x(t.$onChanges))try{t.$onChanges(e.bindingInfo.initialChanges)}catch(n){i(n)}if(x(t.$onInit))try{t.$onInit()}catch(r){i(r)}x(t.$doCheck)&&(v.$watch(function(){t.$doCheck()}),t.$doCheck()),x(t.$onDestroy)&&v.$on("$destroy",function(){t.$onDestroy()})}),h=0,f=l.length;f>h;h++)g=l[h],bt(g,g.isolateScope?m:r,M,s,g.require&&tt(g.directiveName,g.require,M,b),D);var P=r;for(C&&(C.template||null===C.templateUrl)&&(P=m),e&&e(P,a.childNodes,void 0,d),h=u.length-1;h>=0;h--)g=u[h],bt(g,g.isolateScope?m:r,M,s,g.require&&tt(g.directiveName,g.require,M,b),D);o(b,function(e){e=e.instance,x(e.$postLink)&&e.$postLink()})}d=d||{};for(var f,g,m,v,b,D=-Number.MAX_VALUE,w=d.newScopeDirective,A=d.controllerDirectives,C=d.newIsolateScopeDirective,$=d.templateDirective,M=d.nonTlbTranscludeDirective,T=!1,F=!1,O=d.hasElementTranscludeDirective,E=n.$$element=ii(t),L=r,I=!1,R=!1,N=0,B=e.length;B>N;N++){f=e[N];var G=f.$$start,q=f.$$end;if(G&&(E=Z(t,G,q)),m=void 0,D>f.priority)break;if((b=f.scope)&&(f.templateUrl||(S(b)?(pt("new/isolated scope",C||w,f,E),C=f):pt("new/isolated scope",C,f,E)),w=w||f),g=f.name,!I&&(f.replace&&(f.templateUrl||f.template)||f.transclude&&!f.$$tlb)){for(b=N+1;I=e[b++];)if(I.transclude&&!I.$$tlb||I.replace&&(I.templateUrl||I.template)){R=!0;break}I=!0}if(!f.templateUrl&&f.controller&&(A=A||ut(),pt("'"+g+"' controller",A[g],f,E),A[g]=f),b=f.transclude)if(T=!0,f.$$tlb||(pt("transclusion",M,f,E),M=f),"element"===b)O=!0,D=f.priority,m=E,E=n.$$element=ii(j.$$createComment(g,n[g])),t=E[0],vt(a,pi.call(m,0),t),m[0].$$parentNode=m[0].parentNode,L=X(R,m,r,D,s&&s.name,{nonTlbTranscludeDirective:M});else{var K=ut();if(S(b)){m=[];var H=ut(),V=ut();o(b,function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,H[e]=t,K[t]=null,V[t]=n}),o(E.contents(),function(e){var t=H[nn(P(e))];t?(V[t]=!0,K[t]=K[t]||[],K[t].push(e)):m.push(e)}),o(V,function(e,t){if(!e)throw ho("reqslot",t)});for(var Q in K)K[Q]&&(K[Q]=X(R,K[Q],r))}else m=ii(St(t)).contents();E.empty(),L=X(R,m,r,void 0,void 0,{needsNewScope:f.$$isolateScope||f.$$newScope}),L.$$slots=K}if(f.template)if(F=!0,pt("template",$,f,E),$=f,b=x(f.template)?f.template(E,n):f.template,b=Tt(b),f.replace){if(s=f,m=Ui.test(b)?on(ft(f.templateNamespace,Ai(b))):[],t=m[0],1!==m.length||1!==t.nodeType)throw ho("tplrt",g,"");vt(a,E,t),B={$attr:{}},b=Y(t,[],B);var et=e.splice(N+1,e.length-(N+1));(C||w)&&ot(b,C,w),e=e.concat(b).concat(et),lt(n,B),B=e.length}else E.html(b);if(f.templateUrl)F=!0,pt("template",$,f,E),$=f,f.replace&&(s=f),h=ct(e.splice(N,e.length-N),E,n,a,T&&L,l,u,{controllerDirectives:A,newScopeDirective:w!==f&&w,newIsolateScopeDirective:C,templateDirective:$,nonTlbTranscludeDirective:M}),B=e.length;else if(f.compile)try{v=f.compile(E,n,L);var nt=f.$$originalDirective||f;x(v)?p(null,W(nt,v),G,q):v&&p(W(nt,v.pre),W(nt,v.post),G,q)}catch(it){i(it,z(E))}f.terminal&&(h.terminal=!0,D=Math.max(D,f.priority))}return h.scope=w&&!0===w.scope,h.transcludeOnThisElement=T,h.templateOnThisElement=F,h.transclude=L,d.hasElementTranscludeDirective=O,h}function tt(e,t,n,r){var i;if(w(t)){var a=t.match(v);t=t.substring(a[0].length);var s=a[1]||a[3],a="?"===a[2];if("^^"===s?n=n.parent():i=(i=r&&r[t])&&i.instance,!i){var l="$"+t+"Controller";i=s?n.inheritedData(l):n.data(l)}if(!i&&!a)throw ho("ctreq",t,e)}else if(Di(t))for(i=[],s=0,a=t.length;a>s;s++)i[s]=tt(e,t[s],n,r);else S(t)&&(i={},o(t,function(t,o){i[o]=tt(e,t,n,r)}));return i||null}function rt(e,t,n,r,i,o,a){var s,l=ut();for(s in r){var u=r[s],c={$scope:u===a||u.$$isolateScope?i:o,$element:e,$attrs:t,$transclude:n},d=u.controller;"@"===d&&(d=t[u.name]),c=m(d,c,!0,u.controllerAs),l[u.name]=c,e.data("$"+u.name+"Controller",c.instance)}return l}function ot(e,t,n){for(var r=0,i=e.length;i>r;r++)e[r]=h(e[r],{$$isolateScope:t,$$newScope:n})}function at(e,n,i,o,a,s,u){if(n===a)return null;var c=null;if(l.hasOwnProperty(n)){a=t.get(n+"Directive");for(var d=0,p=a.length;p>d;d++)if(n=a[d],(y(o)||o>n.priority)&&-1!==n.restrict.indexOf(i)){if(s&&(n=h(n,{$$start:s,$$end:u})),!n.$$bindings){var f=c=n,g=n.name,m={isolateScope:null,bindToController:null};if(S(f.scope)&&(!0===f.bindToController?(m.bindToController=r(f.scope,g,!0),m.isolateScope={}):m.isolateScope=r(f.scope,g,!1)),S(f.bindToController)&&(m.bindToController=r(f.bindToController,g,!0)),m.bindToController&&!f.controller)throw ho("noctrl",g);c=c.$$bindings=m,S(c.isolateScope)&&(n.$$isolateBindings=c.isolateScope)}e.push(n),c=n}}return c}function st(e){if(l.hasOwnProperty(e))for(var n=t.get(e+"Directive"),r=0,i=n.length;i>r;r++)if(e=n[r],e.multiElement)return!0;return!1}function lt(e,t){var n=t.$attr,r=e.$attr;o(e,function(r,i){"$"!==i.charAt(0)&&(t[i]&&t[i]!==r&&(r=r.length?r+(("style"===i?";":" ")+t[i]):t[i]),e.$set(i,r,!0,n[i]))}),o(t,function(t,i){e.hasOwnProperty(i)||"$"===i.charAt(0)||(e[i]=t,"class"!==i&&"style"!==i&&(r[i]=n[i]))})}function ct(e,t,n,r,s,l,u,c){var d,p,f=[],g=t[0],m=e.shift(),v=h(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),y=x(m.templateUrl)?m.templateUrl(t,n):m.templateUrl,b=m.templateNamespace;return t.empty(),a(y).then(function(i){var a,h;if(i=Tt(i),m.replace){if(i=Ui.test(i)?on(ft(b,Ai(i))):[],a=i[0],1!==i.length||1!==a.nodeType)throw ho("tplrt",m.name,y);i={$attr:{}},vt(r,t,a);var D=Y(a,[],i);S(m.scope)&&ot(D,!0),e=D.concat(e),lt(n,i)}else a=g,t.html(i);for(e.unshift(v),d=et(e,a,n,s,t,m,l,u,c),o(r,function(e,n){e===a&&(r[n]=t[0])}),p=K(t[0].childNodes,s);f.length;){i=f.shift(),h=f.shift();var w=f.shift(),A=f.shift(),D=t[0];if(!i.$$destroyed){if(h!==g){var C=h.className;c.hasElementTranscludeDirective&&m.replace||(D=St(a)),vt(w,ii(h),D),q(ii(D),C)}h=d.transcludeOnThisElement?V(i,d.transclude,A):A,d(p,i,D,r,h)}}f=null}).catch(function(e){e instanceof Error&&i(e)}),function(e,t,n,r,i){e=i,t.$$destroyed||(f?f.push(t,n,r,e):(d.transcludeOnThisElement&&(e=V(t,d.transclude,i)),d(p,t,n,r,e)))}}function dt(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function pt(e,t,n,r){function i(e){return e?" (module: "+e+")":""}if(t)throw ho("multidir",t.name,i(t.$$moduleName),n.name,i(n.$$moduleName),e,z(r))}function ht(e,t){var r=n(t,!0);r&&e.push({priority:0,compile:function(e){e=e.parent();var t=!!e.length;return t&&j.$$addBindingClass(e),function(e,n){var i=n.parent();t||j.$$addBindingClass(i),j.$$addBindingInfo(i,r.expressions),e.$watch(r,function(e){n[0].nodeValue=e})}}})}function ft(t,n){switch(t=ci(t||"html")){case"svg":case"math":var r=e.document.createElement("div");return r.innerHTML="<"+t+">"+n+"</"+t+">",r.childNodes[0].childNodes;default:return n}}function gt(e,t){if("srcdoc"===t)return O.HTML;var n=P(e);if("src"===t||"ngSrc"===t){if(-1===["img","video","audio","source","track"].indexOf(n))return O.RESOURCE_URL}else if("xlinkHref"===t||"form"===n&&"action"===t||"link"===n&&"href"===t)return O.RESOURCE_URL}function mt(e,t,r,i,o){var a=gt(e,i),s=p[i]||o,l=n(r,!o,a,s);if(l){if("multiple"===i&&"select"===P(e))throw ho("selmulti",z(e));if(D.test(i))throw ho("nodomevents");t.push({priority:100,compile:function(){return{pre:function(e,t,o){t=o.$$observers||(o.$$observers=ut());var u=o[i];u!==r&&(l=u&&n(u,!0,a,s),r=u),l&&(o[i]=l(e),(t[i]||(t[i]=[])).$$inter=!0,(o.$$observers&&o.$$observers[i].$$scope||e).$watch(l,function(e,t){"class"===i&&e!==t?o.$updateClass(e,t):o.$set(i,e)}))}}}})}}function vt(t,n,r){var i,o,a=n[0],s=n.length,l=a.parentNode;if(t)for(i=0,o=t.length;o>i;i++)if(t[i]===a){t[i++]=r,o=i+s-1;for(var u=t.length;u>i;i++,o++)u>o?t[i]=t[o]:delete t[i];t.length-=s-1,t.context===a&&(t.context=r);break}for(l&&l.replaceChild(r,a),t=e.document.createDocumentFragment(),i=0;s>i;i++)t.appendChild(n[i]);for(ii.hasData(a)&&(ii.data(r,ii.data(a)),ii(a).off("$destroy")),ii.cleanData(t.querySelectorAll("*")),i=1;s>i;i++)delete n[i];n[0]=r,n.length=1}function yt(e,t){return c(function(){return e.apply(null,arguments)},e,t)}function bt(e,t,n,r,o,a){try{e(t,n,r,o,a)}catch(s){i(s,z(n))}}function Dt(e,t,r,i,a){function l(t,n,i){x(r.$onChanges)&&!I(n,i)&&(wt||(e.$$postDigest(B),wt=[]),c||(c={},wt.push(u)),c[t]&&(i=c[t].previousValue),c[t]=new tn(i,n))}function u(){r.$onChanges(c),c=void 0}var c,d=[],p={};return o(i,function(i,o){var u,c,h,g,m=i.attrName,v=i.optional;switch(i.mode){case"@":v||li.call(t,m)||(r[o]=t[m]=void 0),v=t.$observe(m,function(e){(w(e)||M(e))&&(l(o,e,r[o]),r[o]=e)}),t.$$observers[m].$$scope=e,u=t[m],w(u)?r[o]=n(u)(e):M(u)&&(r[o]=u),p[o]=new tn(fo,r[o]),d.push(v);break;case"=":if(!li.call(t,m)){if(v)break;t[m]=void 0}if(v&&!t[m])break;c=s(t[m]),g=c.literal?R:I,h=c.assign||function(){throw u=r[o]=c(e),ho("nonassign",t[m],m,a.name)},u=r[o]=c(e),v=function(t){return g(t,r[o])||(g(t,u)?h(e,t=r[o]):r[o]=t),u=t},v.$stateful=!0,v=i.collection?e.$watchCollection(t[m],v):e.$watch(s(t[m],v),null,c.literal),d.push(v);break;case"<":if(!li.call(t,m)){if(v)break;t[m]=void 0}if(v&&!t[m])break;c=s(t[m]);var y=c.literal,b=r[o]=c(e);p[o]=new tn(fo,r[o]),v=e.$watch(c,function(e,t){if(t===e){if(t===b||y&&R(t,b))return;t=b}l(o,e,t),r[o]=e},y),d.push(v);break;case"&":if(c=t.hasOwnProperty(m)?s(t[m]):f,c===f&&v)break;r[o]=function(t){return c(e,t)}}}),{initialChanges:p,removeWatches:d.length&&function(){for(var e=0,t=d.length;t>e;++e)d[e]()}}}var wt,At=/^\w/,Ct=e.document.createElement("div"),xt=T,_t=F,$t=$;U.prototype={$normalize:nn,$addClass:function(e){e&&0<e.length&&L.addClass(this.$$element,e)},$removeClass:function(e){e&&0<e.length&&L.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=rn(e,t);n&&n.length&&L.addClass(this.$$element,n),(n=rn(t,e))&&n.length&&L.removeClass(this.$$element,n)},$set:function(e,t,n,r){var a=It(this.$$element[0],e),s=Yi[e],l=e;if(a?(this.$$element.prop(e,t),r=a):s&&(this[s]=t,l=s),this[e]=t,r?this.$attr[e]=r:(r=this.$attr[e])||(this.$attr[e]=r=nt(e,"-")),a=P(this.$$element),"a"===a&&("href"===e||"xlinkHref"===e)||"img"===a&&"src"===e)this[e]=t=N(t,"src"===e);else if("img"===a&&"srcset"===e&&b(t)){for(var a="",s=Ai(t),u=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,u=/\s/.test(s)?u:/(,)/,s=s.split(u),u=Math.floor(s.length/2),c=0;u>c;c++)var d=2*c,a=a+N(Ai(s[d]),!0),a=a+(" "+Ai(s[d+1]));s=Ai(s[2*c]).split(/\s/),a+=N(Ai(s[0]),!0),2===s.length&&(a+=" "+Ai(s[1])),this[e]=t=a}!1!==n&&(null===t||y(t)?this.$$element.removeAttr(r):At.test(r)?this.$$element.attr(r,t):G(this.$$element[0],r,t)),(e=this.$$observers)&&o(e[l],function(e){try{e(t)}catch(n){i(n)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=ut()),i=r[e]||(r[e]=[]);return i.push(t),A.$evalAsync(function(){i.$$inter||!n.hasOwnProperty(e)||y(n[e])||t(n[e])}),function(){E(i,t)}}};var kt=n.startSymbol(),Mt=n.endSymbol(),Tt="{{"===kt&&"}}"===Mt?g:function(e){return e.replace(/\{\{/g,kt).replace(/}}/g,Mt)},Ft=/^ngAttr[A-Z]/,Ot=/^(.+)Start$/;return j.$$addBindingInfo=C?function(e,t){var n=e.data("$binding")||[];Di(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:f,j.$$addBindingClass=C?function(e){q(e,"ng-binding")}:f,j.$$addScopeInfo=C?function(e,t,n,r){e.data(n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope",t)}:f,j.$$addScopeClass=C?function(e,t){q(e,t?"ng-isolate-scope":"ng-scope")}:f,j.$$createComment=function(t,n){var r="";return C&&(r=" "+(t||"")+": ",n&&(r+=n+" ")),e.document.createComment(r)},j}]}function tn(e,t){this.previousValue=e,this.currentValue=t}function nn(e){return e.replace(go,"").replace(mo,gt)}function rn(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/),o=0;e:for(;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a===i[s])continue e;n+=(0<n.length?" ":"")+a}return n}function on(e){e=ii(e);var t=e.length;if(1>=t)return e;for(;t--;){var n=e[t];(8===n.nodeType||n.nodeType===Oi&&""===n.nodeValue.trim())&&hi.call(e,t,1)}return e}function an(e,t){if(t&&w(t))return t;if(w(e)){var n=yo.exec(e);if(n)return n[3]}}function sn(){var e={},n=!1;this.has=function(t){return e.hasOwnProperty(t)},this.register=function(t,n){at(t,"controller"),S(t)?c(e,t):e[t]=n},this.allowGlobals=function(){n=!0},this.$get=["$injector","$window",function(r,i){function o(e,n,r,i){if(!e||!S(e.$scope))throw t("$controller")("noscp",i,n);e.$scope[n]=r}return function(t,a,s,l){var u,d,p;if(s=!0===s,l&&w(l)&&(p=l),w(t)){if(l=t.match(yo),!l)throw vo("ctrlfmt",t);if(d=l[1],p=p||l[3],t=e.hasOwnProperty(d)?e[d]:st(a.$scope,d,!0)||(n?st(i,d,!0):void 0),!t)throw vo("ctrlreg",d);ot(t,d,!0)}return s?(s=(Di(t)?t[t.length-1]:t).prototype,u=Object.create(s||null),p&&o(a,p,u,d||t.name),c(function(){var e=r.invoke(t,u,a,d);return e!==u&&(S(e)||x(e))&&(u=e,p&&o(a,p,u,d||t.name)),u},{instance:u,identifier:p})):(u=r.instantiate(t,a,d),p&&o(a,p,u,d||t.name),u)}}]}function ln(){this.$get=["$window",function(e){return ii(e.document)}]}function un(){this.$get=["$document","$rootScope",function(e,t){function n(){i=r.hidden}var r=e[0],i=r&&r.hidden;return e.on("visibilitychange",n),t.$on("$destroy",function(){e.off("visibilitychange",n)}),function(){return i}}]}function cn(){this.$get=["$log",function(e){return function(){e.error.apply(e,arguments)}}]}function dn(e){return S(e)?C(e)?e.toISOString():U(e):e}function pn(){this.$get=function(){return function(e){if(!e)return"";var t=[];return a(e,function(e,n){null===e||y(e)||(Di(e)?o(e,function(e){t.push(Q(n)+"="+Q(dn(e)))}):t.push(Q(n)+"="+Q(dn(e))))}),t.join("&")}}}function hn(){this.$get=function(){return function(e){function t(e,r,i){null===e||y(e)||(Di(e)?o(e,function(e,n){t(e,r+"["+(S(e)?n:"")+"]")}):S(e)&&!C(e)?a(e,function(e,n){t(e,r+(i?"":"[")+n+(i?"":"]"))}):n.push(Q(r)+"="+Q(dn(e))))}if(!e)return"";var n=[];return t(e,"",!0),n.join("&")}}}function fn(e,t){if(w(e)){var n=e.replace(Co,"").trim();if(n){var r=t("Content-Type");if((r=r&&0===r.indexOf(So))||(r=(r=n.match(wo))&&Ao[r[0]].test(n)),r)try{e=G(n)}catch(i){throw xo("baddata",e,i)}}}return e}function gn(e){var t,n=ut();return w(e)?o(e.split("\n"),function(e){t=e.indexOf(":");var r=ci(Ai(e.substr(0,t)));e=Ai(e.substr(t+1)),r&&(n[r]=n[r]?n[r]+", "+e:e)}):S(e)&&o(e,function(e,t){var r=ci(t),i=Ai(e);r&&(n[r]=n[r]?n[r]+", "+i:i)}),n}function mn(e){var t;return function(n){return t||(t=gn(e)),n?(n=t[ci(n)],void 0===n&&(n=null),n):t}}function vn(e,t,n,r){return x(r)?r(e,t,n):(o(r,function(r){e=r(e,t,n)}),e)}function yn(){var e=this.defaults={transformResponse:[fn],transformRequest:[function(e){return S(e)&&"[object File]"!==gi.call(e)&&"[object Blob]"!==gi.call(e)&&"[object FormData]"!==gi.call(e)?U(e):e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:pt(Do),put:pt(Do),patch:pt(Do)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},n=!1;this.useApplyAsync=function(e){return b(e)?(n=!!e,this):n};var r=this.interceptors=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(i,a,s,l,u,d,p,h){function g(n){function r(e,t){for(var n=0,r=t.length;r>n;){var i=t[n++],o=t[n++];e=e.then(i,o)}return t.length=0,e}function a(e,t){var n,r={};return o(e,function(e,i){x(e)?(n=e(t),null!=n&&(r[i]=n)):r[i]=e}),r}function s(e){var t=c({},e);return t.data=vn(e.data,e.headers,e.status,l.transformResponse),e=e.status,e>=200&&300>e?t:d.reject(t)}if(!S(n))throw t("$http")("badreq",n);if(!w(h.valueOf(n.url)))throw t("$http")("badreq",n.url);var l=c({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer,jsonpCallbackParam:e.jsonpCallbackParam},n);l.headers=function(t){var n,r,i,o=e.headers,s=c({},t.headers),o=c({},o.common,o[ci(t.method)]);e:for(n in o){r=ci(n);for(i in s)if(ci(i)===r)continue e;s[n]=o[n]}return a(s,pt(t))}(n),l.method=di(l.method),l.paramSerializer=w(l.paramSerializer)?p.get(l.paramSerializer):l.paramSerializer,i.$$incOutstandingRequestCount();var u=[],g=[];return n=d.resolve(l),o(C,function(e){(e.request||e.requestError)&&u.unshift(e.request,e.requestError),(e.response||e.responseError)&&g.push(e.response,e.responseError)}),n=r(n,u),n=n.then(function(t){var n=t.headers,r=vn(t.data,mn(n),void 0,t.transformRequest);return y(r)&&o(n,function(e,t){"content-type"===ci(t)&&delete n[t]}),y(t.withCredentials)&&!y(e.withCredentials)&&(t.withCredentials=e.withCredentials),m(t,r).then(s,s)}),n=r(n,g),n=n.finally(function(){i.$$completeOutstandingRequest(f)})}function m(t,r){function i(e){if(e){var t={};return o(e,function(e,r){t[r]=function(t){function r(){e(t)}n?u.$applyAsync(r):u.$$phase?r():u.$apply(r)}}),t}}function l(e,t,r,i){function o(){c(t,e,r,i)}m&&(e>=200&&300>e?m.put(T,[e,t,gn(r),i]):m.remove(T)),n?u.$applyAsync(o):(o(),u.$$phase||u.$apply())}function c(e,n,r,i){n=n>=-1?n:0,(n>=200&&300>n?_.resolve:_.reject)({data:e,status:n,headers:mn(r),config:t,statusText:i})}function p(e){c(e.data,e.status,pt(e.headers()),e.statusText)}function f(){var e=g.pendingRequests.indexOf(t);-1!==e&&g.pendingRequests.splice(e,1)}var m,C,_=d.defer(),$=_.promise,k=t.headers,M="jsonp"===ci(t.method),T=t.url;return M?T=h.getTrustedResourceUrl(T):w(T)||(T=h.valueOf(T)),T=v(T,t.paramSerializer(t.params)),M&&(T=D(T,t.jsonpCallbackParam)),g.pendingRequests.push(t),$.then(f,f),!t.cache&&!e.cache||!1===t.cache||"GET"!==t.method&&"JSONP"!==t.method||(m=S(t.cache)?t.cache:S(e.cache)?e.cache:A),m&&(C=m.get(T),b(C)?C&&x(C.then)?C.then(p,p):Di(C)?c(C[1],C[0],pt(C[2]),C[3]):c(C,200,{},"OK"):m.put(T,$)),y(C)&&((C=dr(t.url)?s()[t.xsrfCookieName||e.xsrfCookieName]:void 0)&&(k[t.xsrfHeaderName||e.xsrfHeaderName]=C),a(t.method,T,r,l,k,t.timeout,t.withCredentials,t.responseType,i(t.eventHandlers),i(t.uploadEventHandlers))),$}function v(e,t){return 0<t.length&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}function D(e,t){if(/[&?][^=]+=JSON_CALLBACK/.test(e))throw xo("badjsonp",e);if(new RegExp("[&?]"+t+"=").test(e))throw xo("badjsonp",t,e);return e+=(-1===e.indexOf("?")?"?":"&")+t+"=JSON_CALLBACK"}var A=l("$http");e.paramSerializer=w(e.paramSerializer)?p.get(e.paramSerializer):e.paramSerializer;var C=[];return o(r,function(e){C.unshift(w(e)?p.get(e):p.invoke(e))}),g.pendingRequests=[],function(){o(arguments,function(e){g[e]=function(t,n){return g(c({},n||{},{method:e,url:t}))}})}("get","delete","head","jsonp"),function(){o(arguments,function(e){g[e]=function(t,n,r){return g(c({},r||{},{method:e,url:t,data:n}))}})}("post","put","patch"),g.defaults=e,g}]}function bn(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function Sn(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(e,t,n,r){return Dn(e,r,e.defer,t,n[0])}]}function Dn(e,t,n,r,i){function a(e,t,n){e=e.replace("JSON_CALLBACK",t);var o=i.createElement("script"),a=null;return o.type="text/javascript",o.src=e,o.async=!0,a=function(e){o.removeEventListener("load",a),o.removeEventListener("error",a),i.body.removeChild(o),o=null;var s=-1,l="unknown";e&&("load"!==e.type||r.wasCalled(t)||(e={type:"error"}),l=e.type,s="error"===e.type?404:200),n&&n(s,l)},o.addEventListener("load",a),o.addEventListener("error",a),i.body.appendChild(o),a}return function(i,s,l,u,c,d,p,h,f,g){function m(){S&&S(),D&&D.abort()}if(s=s||e.url(),"jsonp"===ci(i))var v=r.createCallback(s),S=a(s,v,function(e,t){var i=200===e&&r.getResponse(v);b(A)&&n.cancel(A),S=D=null,u(e,i,"",t),r.removeCallback(v)});else{var D=t(i,s);if(D.open(i,s,!0),o(c,function(e,t){b(e)&&D.setRequestHeader(t,e)}),D.onload=function(){var e=D.statusText||"",t="response"in D?D.response:D.responseText,r=1223===D.status?204:D.status;0===r&&(r=t?200:"file"===cr(s).protocol?404:0);var i=D.getAllResponseHeaders();b(A)&&n.cancel(A),S=D=null,u(r,t,i,e)},i=function(){b(A)&&n.cancel(A),S=D=null,u(-1,null,null,"")},D.onerror=i,D.onabort=i,D.ontimeout=i,o(f,function(e,t){D.addEventListener(t,e)}),o(g,function(e,t){D.upload.addEventListener(t,e)}),p&&(D.withCredentials=!0),h)try{D.responseType=h}catch(w){if("json"!==h)throw w}D.send(y(l)?null:l)}if(d>0)var A=n(m,d);else d&&x(d.then)&&d.then(m)}}function wn(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function o(e){return"\\\\\\"+e}function a(n){return n.replace(p,e).replace(h,t)}function s(e,t,n,r){var i=e.$watch(function(e){return i(),r(e)},t,n);return i}function l(o,l,p,h){function f(e){try{var t=e;return e=p?i.getTrusted(p,t):i.valueOf(t),h&&!b(e)?e:ct(e)}catch(n){r(_o.interr(o,n))}}if(!o.length||-1===o.indexOf(e)){var g;return l||(l=a(o),g=m(l),g.exp=o,g.expressions=[],g.$$watchDelegate=s),g}h=!!h;var v,S,D=0,w=[],A=[];g=o.length;for(var C=[],_=[];g>D;){if(-1===(v=o.indexOf(e,D))||-1===(S=o.indexOf(t,v+u))){D!==g&&C.push(a(o.substring(D)));break}D!==v&&C.push(a(o.substring(D,v))),D=o.substring(v+u,S),w.push(D),A.push(n(D,f)),D=S+d,_.push(C.length),C.push("")}if(p&&1<C.length&&_o.throwNoconcat(o),!l||w.length){var $=function(e){for(var t=0,n=w.length;n>t;t++){if(h&&y(e[t]))return;C[_[t]]=e[t]}return C.join("")};return c(function(e){var t=0,n=w.length,i=Array(n);try{for(;n>t;t++)i[t]=A[t](e);return $(i)}catch(a){r(_o.interr(o,a))}},{exp:o,expressions:w,$$watchDelegate:function(e,t){var n;return e.$watchGroup(A,function(r,i){var o=$(r);x(t)&&t.call(this,o,r!==i?n:o,e),n=o})}})}}var u=e.length,d=t.length,p=new RegExp(e.replace(/./g,o),"g"),h=new RegExp(t.replace(/./g,o),"g");return l.startSymbol=function(){return e},l.endSymbol=function(){return t},l}]}function An(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(e,t,n,r,i){function o(o,s,l,u){function c(){d?o.apply(null,p):o(g)}var d=4<arguments.length,p=d?pi.call(arguments,4):[],h=t.setInterval,f=t.clearInterval,g=0,m=b(u)&&!u,v=(m?r:n).defer(),y=v.promise;return l=b(l)?l:0,y.$$intervalId=h(function(){m?i.defer(c):e.$evalAsync(c),v.notify(g++),l>0&&g>=l&&(v.resolve(g),f(y.$$intervalId),delete a[y.$$intervalId]),m||e.$apply()},s),a[y.$$intervalId]=v,y}var a={};return o.cancel=function(e){return e&&e.$$intervalId in a?(a[e.$$intervalId].promise.catch(f),a[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete a[e.$$intervalId],!0):!1},o}]}function Cn(e){e=e.split("/");for(var t=e.length;t--;)e[t]=Y(e[t]);return e.join("/")}function xn(e,t){var n=cr(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=p(n.port)||Mo[n.protocol]||null}function _n(e,t){if(Fo.test(e))throw To("badpath",e);var n="/"!==e.charAt(0);n&&(e="/"+e);var r=cr(e);t.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),t.$$search=H(r.search),t.$$hash=decodeURIComponent(r.hash),t.$$path&&"/"!==t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function $n(e,t){return e.slice(0,t.length)===t}function kn(e,t){return $n(t,e)?t.substr(e.length):void 0}function Mn(e){var t=e.indexOf("#");return-1===t?e:e.substr(0,t)}function Tn(e){return e.replace(/(#.+)|#$/,"$1")}function Fn(e,t,n){this.$$html5=!0,n=n||"",xn(e,this),this.$$parse=function(e){var n=kn(t,e);if(!w(n))throw To("ipthprfx",e,t);_n(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=V(this.$$search),n=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=Cn(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a;return b(o=kn(e,r))?(a=o,a=n&&b(o=kn(n,o))?t+(kn("/",o)||o):e+a):b(o=kn(t,r))?a=t+o:t===r+"/"&&(a=t),a&&this.$$parse(a),!!a}}function On(e,t,n){xn(e,this),this.$$parse=function(r){var i,o=kn(e,r)||kn(t,r);y(o)||"#"!==o.charAt(0)?this.$$html5?i=o:(i="",y(o)&&(e=r,this.replace())):(i=kn(n,o),y(i)&&(i=o)),_n(i,this),r=this.$$path;var o=e,a=/^\/[A-Z]:(\/.*)/;$n(i,o)&&(i=i.replace(o,"")),a.exec(i)||(r=(i=a.exec(r))?i[1]:r),this.$$path=r,this.$$compose()},this.$$compose=function(){var t=V(this.$$search),r=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=Cn(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+(this.$$url?n+this.$$url:""),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(t){return Mn(e)===Mn(t)?(this.$$parse(t),!0):!1}}function Pn(e,t,n){this.$$html5=!0,On.apply(this,arguments),this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a;return e===Mn(r)?o=r:(a=kn(t,r))?o=e+n+a:t===r+"/"&&(o=t),o&&this.$$parse(o),!!o},this.$$compose=function(){var t=V(this.$$search),r=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=Cn(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+n+this.$$url,this.$$urlUpdatedByLocation=!0}}function En(e){return function(){return this[e]}}function Ln(e,t){return function(n){return y(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function In(){var e="!",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return b(t)?(e=t,this):e},this.html5Mode=function(e){return M(e)?(t.enabled=e,this):S(e)?(M(e.enabled)&&(t.enabled=e.enabled),M(e.requireBase)&&(t.requireBase=e.requireBase),(M(e.rewriteLinks)||w(e.rewriteLinks))&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,a){function s(e,t,n){var i=u.url(),o=u.$$state;try{r.url(e,t,n),u.$$state=r.state()}catch(a){throw u.url(i),u.$$state=o,a}}function l(e,t){n.$broadcast("$locationChangeSuccess",u.absUrl(),e,u.$$state,t)}var u,c;c=r.baseHref();var d,p=r.url();if(t.enabled){if(!c&&t.requireBase)throw To("nobase");d=p.substring(0,p.indexOf("/",p.indexOf("//")+2))+(c||"/"),c=i.history?Fn:Pn}else d=Mn(p),c=On;var h=d.substr(0,Mn(d).lastIndexOf("/")+1);u=new c(d,h,"#"+e),u.$$parseLinkUrl(p,p),u.$$state=r.state();var f=/^\s*(javascript|mailto):/i;o.on("click",function(e){var i=t.rewriteLinks;if(i&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!==e.which&&2!==e.button){for(var s=ii(e.target);"a"!==P(s[0]);)if(s[0]===o[0]||!(s=s.parent())[0])return;if(!w(i)||!y(s.attr(i))){var i=s.prop("href"),l=s.attr("href")||s.attr("xlink:href");S(i)&&"[object SVGAnimatedString]"===i.toString()&&(i=cr(i.animVal).href),f.test(i)||!i||s.attr("target")||e.isDefaultPrevented()||!u.$$parseLinkUrl(i,l)||(e.preventDefault(),u.absUrl()!==r.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}}),Tn(u.absUrl())!==Tn(p)&&r.url(u.absUrl(),!0);var g=!0;return r.onUrlChange(function(e,t){$n(e,h)?(n.$evalAsync(function(){var r,i=u.absUrl(),o=u.$$state;e=Tn(e),u.$$parse(e),u.$$state=t,r=n.$broadcast("$locationChangeStart",e,i,t,o).defaultPrevented,u.absUrl()===e&&(r?(u.$$parse(i),u.$$state=o,s(i,!1,o)):(g=!1,l(i,o)))}),n.$$phase||n.$digest()):a.location.href=e}),n.$watch(function(){if(g||u.$$urlUpdatedByLocation){u.$$urlUpdatedByLocation=!1;var e=Tn(r.url()),t=Tn(u.absUrl()),o=r.state(),a=u.$$replace,c=e!==t||u.$$html5&&i.history&&o!==u.$$state;(g||c)&&(g=!1,n.$evalAsync(function(){var t=u.absUrl(),r=n.$broadcast("$locationChangeStart",t,e,u.$$state,o).defaultPrevented;u.absUrl()===t&&(r?(u.$$parse(e),u.$$state=o):(c&&s(t,a,o===u.$$state?null:u.$$state),l(e,o)))}))}u.$$replace=!1}),u}]}function Rn(){var e=!0,t=this;this.debugEnabled=function(t){return b(t)?(e=t,this):e},this.$get=["$window",function(n){function r(e){return e instanceof Error&&(e.stack&&a?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function i(e){var t=n.console||{},i=t[e]||t.log||f;e=!1;try{e=!!i.apply}catch(a){}return e?function(){var e=[];return o(arguments,function(t){e.push(r(t))}),i.apply(t,e)}:function(e,t){i(e,null==t?"":t)}}var a=ri||/\bEdge\//.test(n.navigator&&n.navigator.userAgent);return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function Nn(e){return e+""}function Wn(e,t){return"undefined"!=typeof e?e:t}function Bn(e,t){return"undefined"==typeof e?t:"undefined"==typeof t?e:e+t}function Un(e,t){var n,r,i;switch(e.type){case No.Program:n=!0,o(e.body,function(e){Un(e.expression,t),n=n&&e.expression.constant}),e.constant=n;break;case No.Literal:e.constant=!0,e.toWatch=[];break;case No.UnaryExpression:Un(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case No.BinaryExpression:Un(e.left,t),Un(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case No.LogicalExpression:Un(e.left,t),Un(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case No.ConditionalExpression:Un(e.test,t),Un(e.alternate,t),Un(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case No.Identifier:e.constant=!1,e.toWatch=[e];break;case No.MemberExpression:Un(e.object,t),e.computed&&Un(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case No.CallExpression:n=i=e.filter?!t(e.callee.name).$stateful:!1,r=[],o(e.arguments,function(e){Un(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=n,e.toWatch=i?r:[e];break;case No.AssignmentExpression:Un(e.left,t),Un(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];
break;case No.ArrayExpression:n=!0,r=[],o(e.elements,function(e){Un(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=n,e.toWatch=r;break;case No.ObjectExpression:n=!0,r=[],o(e.properties,function(e){Un(e.value,t),n=n&&e.value.constant&&!e.computed,e.value.constant||r.push.apply(r,e.value.toWatch),e.computed&&(Un(e.key,t),e.key.constant||r.push.apply(r,e.key.toWatch))}),e.constant=n,e.toWatch=r;break;case No.ThisExpression:e.constant=!1,e.toWatch=[];break;case No.LocalsExpression:e.constant=!1,e.toWatch=[]}}function Gn(e){if(1===e.length){e=e[0].expression;var t=e.toWatch;return 1!==t.length?t:t[0]!==e?t:void 0}}function qn(e){return e.type===No.Identifier||e.type===No.MemberExpression}function jn(e){return 1===e.body.length&&qn(e.body[0].expression)?{type:No.AssignmentExpression,left:e.body[0].expression,right:{type:No.NGValueParameter},operator:"="}:void 0}function zn(e){this.$filter=e}function Kn(e){this.$filter=e}function Hn(e,t,n){this.ast=new No(e,n),this.astCompiler=n.csp?new Kn(t):new zn(t)}function Vn(e){return x(e.valueOf)?e.valueOf():Eo.call(e)}function Yn(){var e,t,n=ut(),r={"true":!0,"false":!1,"null":null,undefined:void 0};this.addLiteral=function(e,t){r[e]=t},this.setIdentifierFns=function(n,r){return e=n,t=r,this},this.$get=["$filter",function(i){function a(e,t,n){return null==e||null==t?e===t:"object"!=typeof e||(e=Vn(e),"object"!=typeof e||n)?e===t||e!==e&&t!==t:!1}function s(e,t,n,r,i){var o,s=r.inputs;if(1===s.length){var l=a,s=s[0];return e.$watch(function(e){var t=s(e);return a(t,l,r.literal)||(o=r(e,void 0,void 0,[t]),l=t&&Vn(t)),o},t,n,i)}for(var u=[],c=[],d=0,p=s.length;p>d;d++)u[d]=a,c[d]=null;return e.$watch(function(e){for(var t=!1,n=0,i=s.length;i>n;n++){var l=s[n](e);(t||(t=!a(l,u[n],r.literal)))&&(c[n]=l,u[n]=l&&Vn(l))}return t&&(o=r(e,void 0,void 0,c)),o},t,n,i)}function l(e,t,n,r,i){function o(e){return r(e)}function a(e,n,r){c=e,x(t)&&t(e,n,r),d(e)&&r.$$postDigest(function(){d(c)&&l()})}var l,c,d=r.literal?u:b;return l=r.inputs?s(e,a,n,r,i):e.$watch(o,a,n)}function u(e){var t=!0;return o(e,function(e){b(e)||(t=!1)}),t}function c(e,t,n,r){var i=e.$watch(function(e){return i(),r(e)},t,n);return i}function d(e,t){function n(n,r,i,a){return i=o&&a?a[0]:e(n,r,i,a),t(i,n,r)}function r(n,r,i,s){return i=o&&s?s[0]:e(n,r,i,s),n=t(i,n,r),a(i)?n:i}if(!t)return e;var i=e.$$watchDelegate,o=!1,a=e.literal?u:b,l=e.oneTime?r:n;return l.literal=e.literal,l.oneTime=e.oneTime,o=!e.inputs,i&&i!==s?(l.$$watchDelegate=i,l.inputs=e.inputs):t.$stateful||(l.$$watchDelegate=s,l.inputs=e.inputs?e.inputs:[e]),l}var p={csp:xi().noUnsafeEval,literals:L(r),isIdentifierStart:x(e)&&e,isIdentifierContinue:x(t)&&t};return function(e,t){var r,o,a;switch(typeof e){case"string":return a=e=e.trim(),r=n[a],r||(":"===e.charAt(0)&&":"===e.charAt(1)&&(o=!0,e=e.substring(2)),r=new Ro(p),r=new Hn(r,i,p).parse(e),r.constant?r.$$watchDelegate=c:o?(r.oneTime=!0,r.$$watchDelegate=l):r.inputs&&(r.$$watchDelegate=s),n[a]=r),d(r,t);case"function":return d(e,t);default:return d(f,t)}}}]}function Qn(){var e=!0;this.$get=["$rootScope","$exceptionHandler",function(t,n){return Jn(function(e){t.$evalAsync(e)},n,e)}],this.errorOnUnhandledRejections=function(t){return b(t)?(e=t,this):e}}function Zn(){var e=!0;this.$get=["$browser","$exceptionHandler",function(t,n){return Jn(function(e){t.defer(e)},n,e)}],this.errorOnUnhandledRejections=function(t){return b(t)?(e=t,this):e}}function Jn(e,n,r){function i(){return new a}function a(){var e=this.promise=new s;this.resolve=function(t){d(e,t)},this.reject=function(t){h(e,t)},this.notify=function(t){g(e,t)}}function s(){this.$$state={status:0}}function l(){for(;!A&&C.length;){var e=C.shift();if(!e.pur){e.pur=!0;var t=e.value,t="Possibly unhandled rejection: "+("function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):y(t)?"undefined":"string"!=typeof t?ht(t,void 0):t);e.value instanceof Error?n(e.value,t):n(t)}}}function u(t){!r||t.pending||2!==t.status||t.pur||(0===A&&0===C.length&&e(l),C.push(t)),!t.processScheduled&&t.pending&&(t.processScheduled=!0,++A,e(function(){var n,i,o;o=t.pending,t.processScheduled=!1,t.pending=void 0;try{for(var a=0,s=o.length;s>a;++a){t.pur=!0,i=o[a][0],n=o[a][t.status];try{x(n)?d(i,n(t.value)):1===t.status?d(i,t.value):h(i,t.value)}catch(u){h(i,u)}}}finally{--A,r&&0===A&&e(l)}}))}function d(e,t){e.$$state.status||(t===e?f(e,w("qcycle",t)):p(e,t))}function p(e,t){function n(t){a||(a=!0,p(e,t))}function r(t){a||(a=!0,f(e,t))}function i(t){g(e,t)}var o,a=!1;try{(S(t)||x(t))&&(o=t.then),x(o)?(e.$$state.status=-1,o.call(t,n,r,i)):(e.$$state.value=t,e.$$state.status=1,u(e.$$state))}catch(s){r(s)}}function h(e,t){e.$$state.status||f(e,t)}function f(e,t){e.$$state.value=t,e.$$state.status=2,u(e.$$state)}function g(t,r){var i=t.$$state.pending;0>=t.$$state.status&&i&&i.length&&e(function(){for(var e,t,o=0,a=i.length;a>o;o++){t=i[o][0],e=i[o][3];try{g(t,x(e)?e(r):r)}catch(s){n(s)}}})}function m(e){var t=new s;return h(t,e),t}function v(e,t,n){var r=null;try{x(n)&&(r=n())}catch(i){return m(i)}return r&&x(r.then)?r.then(function(){return t(e)},m):t(e)}function b(e,t,n,r){var i=new s;return d(i,e),i.then(t,n,r)}function D(e){if(!x(e))throw w("norslvr",e);var t=new s;return e(function(e){d(t,e)},function(e){h(t,e)}),t}var w=t("$q",TypeError),A=0,C=[];c(s.prototype,{then:function(e,t,n){if(y(e)&&y(t)&&y(n))return this;var r=new s;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),0<this.$$state.status&&u(this.$$state),r},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return v(t,_,e)},function(t){return v(t,m,e)},t)}});var _=b;return D.prototype=s.prototype,D.defer=i,D.reject=m,D.when=b,D.resolve=_,D.all=function(e){var t=new s,n=0,r=Di(e)?[]:{};return o(e,function(e,i){n++,b(e).then(function(e){r[i]=e,--n||d(t,r)},function(e){h(t,e)})}),0===n&&d(t,r),t},D.race=function(e){var t=i();return o(e,function(e){b(e).then(t.resolve,t.reject)}),t.promise},D}function Xn(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,i=!!n,o=i?function(e){var t=n(e);return function(){r(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return o.supported=i,o}]}function er(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=++bi,this.$$ChildScope=null}return t.prototype=e,t}var n=10,r=t("$rootScope"),a=null,s=null;this.digestTtl=function(e){return arguments.length&&(n=e),n},this.$get=["$exceptionHandler","$parse","$browser",function(t,l,u){function c(e){e.currentScope.$$destroyed=!0}function d(e){9===ri&&(e.$$childHead&&d(e.$$childHead),e.$$nextSibling&&d(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function p(){this.$id=++bi,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function h(e){if(w.$$phase)throw r("inprog",w.$$phase);w.$$phase=e}function g(e,t){do e.$$watchersCount+=t;while(e=e.$parent)}function m(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function v(){}function b(){for(;_.length;)try{_.shift()()}catch(e){t(e)}s=null}function D(){null===s&&(s=u.defer(function(){w.$apply(b)}))}p.prototype={constructor:p,$new:function(t,n){var r;return n=n||this,t?(r=new p,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(t||n!==this)&&r.$on("$destroy",c),r},$watch:function(e,t,n,r){var i=l(e);if(i.$$watchDelegate)return i.$$watchDelegate(this,t,n,i,e);var o=this,s=o.$$watchers,u={fn:t,last:v,get:i,exp:r||e,eq:!!n};return a=null,x(t)||(u.fn=f),s||(s=o.$$watchers=[],s.$$digestWatchIndex=-1),s.unshift(u),s.$$digestWatchIndex++,g(this,1),function(){var e=E(s,u);e>=0&&(g(o,-1),e<s.$$digestWatchIndex&&s.$$digestWatchIndex--),a=null}},$watchGroup:function(e,t){function n(){l=!1,u?(u=!1,t(i,i,s)):t(i,r,s)}var r=Array(e.length),i=Array(e.length),a=[],s=this,l=!1,u=!0;if(!e.length){var c=!0;return s.$evalAsync(function(){c&&t(i,i,s)}),function(){c=!1}}return 1===e.length?this.$watch(e[0],function(e,n,o){i[0]=e,r[0]=n,t(i,e===n?i:r,o)}):(o(e,function(e,t){var o=s.$watch(e,function(e,o){i[t]=e,r[t]=o,l||(l=!0,s.$evalAsync(n))});a.push(o)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(e,t){function n(e){r=e;var t,n,a,s;if(!y(r)){if(S(r))if(i(r))for(o!==p&&(o=p,g=o.length=0,c++),e=r.length,g!==e&&(c++,o.length=g=e),t=0;e>t;t++)s=o[t],a=r[t],n=s!==s&&a!==a,n||s===a||(c++,o[t]=a);else{o!==h&&(o=h={},g=0,c++),e=0;for(t in r)li.call(r,t)&&(e++,a=r[t],s=o[t],t in o?(n=s!==s&&a!==a,n||s===a||(c++,o[t]=a)):(g++,o[t]=a,c++));if(g>e)for(t in c++,o)li.call(r,t)||(g--,delete o[t])}else o!==r&&(o=r,c++);return c}}n.$stateful=!0;var r,o,a,s=this,u=1<t.length,c=0,d=l(e,n),p=[],h={},f=!0,g=0;return this.$watch(d,function(){if(f?(f=!1,t(r,r,s)):t(r,a,s),u)if(S(r))if(i(r)){a=Array(r.length);for(var e=0;e<r.length;e++)a[e]=r[e]}else for(e in a={},r)li.call(r,e)&&(a[e]=r[e]);else a=r})},$digest:function(){var e,i,o,l,c,d,p,f,g,m,y=n,S=[];h("$digest"),u.$$checkUrlChange(),this===w&&null!==s&&(u.defer.cancel(s),b()),a=null;do{for(p=!1,f=this,d=0;d<A.length;d++){try{m=A[d],(l=m.fn)(m.scope,m.locals)}catch(D){t(D)}a=null}A.length=0;e:do{if(d=f.$$watchers)for(d.$$digestWatchIndex=d.length;d.$$digestWatchIndex--;)try{if(e=d[d.$$digestWatchIndex])if(c=e.get,(i=c(f))===(o=e.last)||(e.eq?R(i,o):Si(i)&&Si(o))){if(e===a){p=!1;break e}}else p=!0,a=e,e.last=e.eq?L(i,null):i,l=e.fn,l(i,o===v?i:o,f),5>y&&(g=4-y,S[g]||(S[g]=[]),S[g].push({msg:x(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:i,oldVal:o}))}catch(_){t(_)}if(!(d=f.$$watchersCount&&f.$$childHead||f!==this&&f.$$nextSibling))for(;f!==this&&!(d=f.$$nextSibling);)f=f.$parent}while(f=d);if((p||A.length)&&!y--)throw w.$$phase=null,r("infdig",n,S)}while(p||A.length);for(w.$$phase=null;$<C.length;)try{C[$++]()}catch(k){t(k)}C.length=$=0,u.$$checkUrlChange()},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===w&&u.$$applicationDestroyed(),g(this,-this.$$watchersCount);for(var t in this.$$listenerCount)m(this,this.$$listenerCount[t],t);e&&e.$$childHead===this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail===this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=f,this.$on=this.$watch=this.$watchGroup=function(){return f},this.$$listeners={},this.$$nextSibling=null,d(this)}},$eval:function(e,t){return l(e)(this,t)},$evalAsync:function(e,t){w.$$phase||A.length||u.defer(function(){A.length&&w.$digest()}),A.push({scope:this,fn:l(e),locals:t})},$$postDigest:function(e){C.push(e)},$apply:function(e){try{h("$apply");try{return this.$eval(e)}finally{w.$$phase=null}}catch(n){t(n)}finally{try{w.$digest()}catch(r){throw t(r),r}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&_.push(t),e=l(e),D()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++;while(r=r.$parent);var i=this;return function(){var r=n.indexOf(t);-1!==r&&(n[r]=null,m(i,1,e))}},$emit:function(e){var n,r,i,o=[],a=this,s=!1,l={name:e,targetScope:a,stopPropagation:function(){s=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},u=N([l],arguments,1);do{for(n=a.$$listeners[e]||o,l.currentScope=a,r=0,i=n.length;i>r;r++)if(n[r])try{n[r].apply(null,u)}catch(c){t(c)}else n.splice(r,1),r--,i--;if(s)return l.currentScope=null,l;a=a.$parent}while(a);return l.currentScope=null,l},$broadcast:function(e){var n=this,r=this,i={name:e,targetScope:this,preventDefault:function(){i.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[e])return i;for(var o,a,s=N([i],arguments,1);n=r;){for(i.currentScope=n,r=n.$$listeners[e]||[],o=0,a=r.length;a>o;o++)if(r[o])try{r[o].apply(null,s)}catch(l){t(l)}else r.splice(o,1),o--,a--;if(!(r=n.$$listenerCount[e]&&n.$$childHead||n!==this&&n.$$nextSibling))for(;n!==this&&!(r=n.$$nextSibling);)n=n.$parent}return i.currentScope=null,i}};var w=new p,A=w.$$asyncQueue=[],C=w.$$postDigestQueue=[],_=w.$$applyAsyncQueue=[],$=0;return w}]}function tr(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return b(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return b(e)?(t=e,this):t},this.$get=function(){return function(n,r){var i,o=r?t:e;return i=cr(n).href,""===i||i.match(o)?n:"unsafe:"+i}}}function nr(e){if("self"===e)return e;if(w(e)){if(-1<e.indexOf("***"))throw Wo("iwcard",e);return e=Ci(e).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+e+"$")}if(_(e))return new RegExp("^"+e.source+"$");throw Wo("imatcher")}function rr(e){var t=[];return b(e)&&o(e,function(e){t.push(nr(e))}),t}function ir(){this.SCE_CONTEXTS=Bo;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=rr(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=rr(e)),t},this.$get=["$injector",function(n){function r(e,t){return"self"===e?dr(t):!!e.exec(t.href)}function i(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}var o=function(){throw Wo("unsafe")};n.has("$sanitize")&&(o=n.get("$sanitize"));var a=i(),s={};return s[Bo.HTML]=i(a),s[Bo.CSS]=i(a),s[Bo.URL]=i(a),s[Bo.JS]=i(a),s[Bo.RESOURCE_URL]=i(s[Bo.URL]),{trustAs:function(e,t){var n=s.hasOwnProperty(e)?s[e]:null;if(!n)throw Wo("icontext",e,t);if(null===t||y(t)||""===t)return t;if("string"!=typeof t)throw Wo("itype",e);return new n(t)},getTrusted:function(n,i){if(null===i||y(i)||""===i)return i;var a=s.hasOwnProperty(n)?s[n]:null;if(a&&i instanceof a)return i.$$unwrapTrustedValue();if(n===Bo.RESOURCE_URL){var l,u,a=cr(i.toString()),c=!1;for(l=0,u=e.length;u>l;l++)if(r(e[l],a)){c=!0;break}if(c)for(l=0,u=t.length;u>l;l++)if(r(t[l],a)){c=!1;break}if(c)return i;throw Wo("insecurl",i.toString())}if(n===Bo.HTML)return o(i);throw Wo("unsafe")},valueOf:function(e){return e instanceof a?e.$$unwrapTrustedValue():e}}}]}function or(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&8>ri)throw Wo("iequirks");var r=pt(Bo);r.isEnabled=function(){return e},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,e||(r.trustAs=r.getTrusted=function(e,t){return t},r.valueOf=g),r.parseAs=function(e,n){var i=t(n);return i.literal&&i.constant?i:t(n,function(t){return r.getTrusted(e,t)})};var i=r.parseAs,a=r.getTrusted,s=r.trustAs;return o(Bo,function(e,t){var n=ci(t);r[("parse_as_"+n).replace(Uo,gt)]=function(t){return i(e,t)},r[("get_trusted_"+n).replace(Uo,gt)]=function(t){return a(e,t)},r[("trust_as_"+n).replace(Uo,gt)]=function(t){return s(e,t)}}),r}]}function ar(){this.$get=["$window","$document",function(e,t){var n={},r=!((!e.nw||!e.nw.process)&&e.chrome&&(e.chrome.app&&e.chrome.app.runtime||!e.chrome.app&&e.chrome.runtime&&e.chrome.runtime.id))&&e.history&&e.history.pushState,i=p((/android (\d+)/.exec(ci((e.navigator||{}).userAgent))||[])[1]),o=/Boxee/i.test((e.navigator||{}).userAgent),a=t[0]||{},s=a.body&&a.body.style,l=!1,u=!1;return s&&(l=!!("transition"in s||"webkitTransition"in s),u=!!("animation"in s||"webkitAnimation"in s)),{history:!(!r||4>i||o),hasEvent:function(e){if("input"===e&&ri)return!1;if(y(n[e])){var t=a.createElement("div");n[e]="on"+e in t}return n[e]},csp:xi(),transitions:l,animations:u,android:i}}]}function sr(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(t,n,r,i,o){function a(s,l){a.totalPendingRequests++,(!w(s)||y(n.get(s)))&&(s=o.getTrustedResourceUrl(s));var u=r.defaults&&r.defaults.transformResponse;return Di(u)?u=u.filter(function(e){return e!==fn}):u===fn&&(u=null),r.get(s,c({cache:n,transformResponse:u},e)).finally(function(){a.totalPendingRequests--}).then(function(e){return n.put(s,e.data),e.data},function(e){return l||(e=Go("tpload",s,e.status,e.statusText),t(e)),i.reject(e)})}return a.totalPendingRequests=0,a}]}function lr(){this.$get=["$rootScope","$browser","$location",function(e,t,n){return{findBindings:function(e,t,n){e=e.getElementsByClassName("ng-binding");var r=[];return o(e,function(e){var i=yi.element(e).data("$binding");i&&o(i,function(i){n?new RegExp("(^|\\s)"+Ci(t)+"(\\s|\\||$)").test(i)&&r.push(e):-1!==i.indexOf(t)&&r.push(e)})}),r},findModels:function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=e.querySelectorAll("["+r[i]+"model"+(n?"=":"*=")+'"'+t+'"]');if(o.length)return o}},getLocation:function(){return n.url()},setLocation:function(t){t!==n.url()&&(n.url(t),e.$digest())},whenStable:function(e){t.notifyWhenNoOutstandingRequests(e)}}}]}function ur(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,r,i){function o(o,s,l){x(o)||(l=s,s=o,o=f);var u,c=pi.call(arguments,3),d=b(l)&&!l,p=(d?r:n).defer(),h=p.promise;return u=t.defer(function(){try{p.resolve(o.apply(null,c))}catch(t){p.reject(t),i(t)}finally{delete a[h.$$timeoutId]}d||e.$apply()},s),h.$$timeoutId=u,a[u]=p,h}var a={};return o.cancel=function(e){return e&&e.$$timeoutId in a?(a[e.$$timeoutId].promise.catch(f),a[e.$$timeoutId].reject("canceled"),delete a[e.$$timeoutId],t.defer.cancel(e.$$timeoutId)):!1},o}]}function cr(e){return ri&&(qo.setAttribute("href",e),e=qo.href),qo.setAttribute("href",e),{href:qo.href,protocol:qo.protocol?qo.protocol.replace(/:$/,""):"",host:qo.host,search:qo.search?qo.search.replace(/^\?/,""):"",hash:qo.hash?qo.hash.replace(/^#/,""):"",hostname:qo.hostname,port:qo.port,pathname:"/"===qo.pathname.charAt(0)?qo.pathname:"/"+qo.pathname}}function dr(e){return e=w(e)?cr(e):e,e.protocol===jo.protocol&&e.host===jo.host}function pr(){this.$get=m(e)}function hr(e){function t(e){try{return decodeURIComponent(e)}catch(t){return e}}var n=e[0]||{},r={},i="";return function(){var e,o,a,s,l;try{e=n.cookie||""}catch(u){e=""}if(e!==i)for(i=e,e=i.split("; "),r={},a=0;a<e.length;a++)o=e[a],s=o.indexOf("="),s>0&&(l=t(o.substring(0,s)),y(r[l])&&(r[l]=t(o.substring(s+1))));return r}}function fr(){this.$get=hr}function gr(e){function t(n,r){if(S(n)){var i={};return o(n,function(e,n){i[n]=t(n,e)}),i}return e.factory(n+"Filter",r)}this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+"Filter")}}],t("currency",Sr),t("date",Fr),t("filter",mr),t("json",Or),t("limitTo",Pr),t("lowercase",Zo),t("number",Dr),t("orderBy",Lr),t("uppercase",Jo)}function mr(){return function(e,n,r,o){if(!i(e)){if(null==e)return e;throw t("filter")("notarray",e)}o=o||"$";var a;switch(br(n)){case"function":break;case"boolean":case"null":case"number":case"string":a=!0;case"object":n=vr(n,r,o,a);break;default:return e}return Array.prototype.filter.call(e,n)}}function vr(e,t,n,r){var i=S(e)&&n in e;return!0===t?t=R:x(t)||(t=function(e,t){return y(e)?!1:null===e||null===t?e===t:S(t)||S(e)&&!v(e)?!1:(e=ci(""+e),t=ci(""+t),-1!==e.indexOf(t))}),function(o){return i&&!S(o)?yr(o,e[n],t,n,!1):yr(o,e,t,n,r)}}function yr(e,t,n,r,i,o){var a=br(e),s=br(t);if("string"===s&&"!"===t.charAt(0))return!yr(e,t.substring(1),n,r,i);if(Di(e))return e.some(function(e){return yr(e,t,n,r,i)});switch(a){case"object":var l;if(i){for(l in e)if(l.charAt&&"$"!==l.charAt(0)&&yr(e[l],t,n,r,!0))return!0;return o?!1:yr(e,t,n,r,!1)}if("object"===s){for(l in t)if(o=t[l],!x(o)&&!y(o)&&(a=l===r,!yr(a?e:e[l],o,n,r,a,a)))return!1;return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function br(e){return null===e?"null":typeof e}function Sr(e){var t=e.NUMBER_FORMATS;return function(e,n,r){return y(n)&&(n=t.CURRENCY_SYM),y(r)&&(r=t.PATTERNS[1].maxFrac),null==e?e:Cr(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function Dr(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:Cr(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function wr(e){var t,n,r,i,o,a=0;for(-1<(n=e.indexOf(Ko))&&(e=e.replace(Ko,"")),0<(r=e.search(/e/i))?(0>n&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):0>n&&(n=e.length),r=0;e.charAt(r)===Ho;r++);if(r===(o=e.length))t=[0],n=1;else{for(o--;e.charAt(o)===Ho;)o--;for(n-=r,t=[],i=0;o>=r;r++,i++)t[i]=+e.charAt(r)}return n>zo&&(t=t.splice(0,zo-1),a=n-1,n=1),{d:t,e:a,i:n}}function Ar(e,t,n,r){var i=e.d,o=i.length-e.i;if(t=y(t)?Math.min(Math.max(n,o),r):+t,n=t+e.i,r=i[n],n>0){i.splice(Math.max(e.i,n));for(var a=n;a<i.length;a++)i[a]=0}else for(o=Math.max(0,o),e.i=1,i.length=Math.max(1,n=t+1),i[0]=0,a=1;n>a;a++)i[a]=0;if(r>=5)if(0>n-1){for(r=0;r>n;r--)i.unshift(0),e.i++;i.unshift(1),e.i++}else i[n-1]++;for(;o<Math.max(0,t);o++)i.push(0);(t=i.reduceRight(function(e,t,n,r){return t+=e,r[n]=t%10,Math.floor(t/10)},0))&&(i.unshift(t),e.i++)}function Cr(e,t,n,r,i){if(!w(e)&&!A(e)||isNaN(e))return"";var o=!isFinite(e),a=!1,s=Math.abs(e)+"",l="";if(o)l="";else{for(a=wr(s),Ar(a,i,t.minFrac,t.maxFrac),l=a.d,s=a.i,i=a.e,o=[],a=l.reduce(function(e,t){return e&&!t},!0);0>s;)l.unshift(0),s++;for(s>0?o=l.splice(s,l.length):(o=l,l=[0]),s=[],l.length>=t.lgSize&&s.unshift(l.splice(-t.lgSize,l.length).join(""));l.length>t.gSize;)s.unshift(l.splice(-t.gSize,l.length).join(""));l.length&&s.unshift(l.join("")),l=s.join(n),o.length&&(l+=r+o.join("")),i&&(l+="e+"+i)}return 0>e&&!a?t.negPre+l+t.negSuf:t.posPre+l+t.posSuf}function xr(e,t,n,r){var i="";for((0>e||r&&0>=e)&&(r?e=-e+1:(e=-e,i="-")),e=""+e;e.length<t;)e=Ho+e;return n&&(e=e.substr(e.length-t)),i+e}function _r(e,t,n,r,i){return n=n||0,function(o){return o=o["get"+e](),(n>0||o>-n)&&(o+=n),0===o&&-12===n&&(o=12),xr(o,t,r,i)}}function $r(e,t,n){return function(r,i){var o=r["get"+e](),a=di((n?"STANDALONE":"")+(t?"SHORT":"")+e);return i[a][o]}}function kr(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(4>=t?5:12)-t)}function Mr(e){return function(t){var n=kr(t.getFullYear());return t=+new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))-+n,t=1+Math.round(t/6048e5),xr(t,e)}}function Tr(e,t){return 0>=e.getFullYear()?t.ERAS[0]:t.ERAS[1]}function Fr(e){function t(e){var t;if(t=e.match(n)){e=new Date(0);var r=0,i=0,o=t[8]?e.setUTCFullYear:e.setFullYear,a=t[8]?e.setUTCHours:e.setHours;t[9]&&(r=p(t[9]+t[10]),i=p(t[9]+t[11])),o.call(e,p(t[1]),p(t[2])-1,p(t[3])),r=p(t[4]||0)-r,i=p(t[5]||0)-i,o=p(t[6]||0),t=Math.round(1e3*parseFloat("0."+(t[7]||0))),a.call(e,r,i,o,t)}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,i){var a,s,l="",u=[];if(r=r||"mediumDate",r=e.DATETIME_FORMATS[r]||r,w(n)&&(n=Qo.test(n)?p(n):t(n)),A(n)&&(n=new Date(n)),!C(n)||!isFinite(n.getTime()))return n;for(;r;)(s=Yo.exec(r))?(u=N(u,s,1),r=u.pop()):(u.push(r),r=null);var c=n.getTimezoneOffset();return i&&(c=q(i,c),n=j(n,i,!0)),o(u,function(t){a=Vo[t],l+=a?a(n,e.DATETIME_FORMATS,c):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function Or(){return function(e,t){return y(t)&&(t=2),U(e,t)}}function Pr(){return function(e,t,n){return t=1/0===Math.abs(Number(t))?Number(t):p(t),Si(t)?e:(A(e)&&(e=e.toString()),i(e)?(n=!n||isNaN(n)?0:p(n),n=0>n?Math.max(0,e.length+n):n,t>=0?Er(e,n,n+t):0===n?Er(e,t,e.length):Er(e,Math.max(0,n+t),n)):e)}}function Er(e,t,n){return w(e)?e.slice(t,n):pi.call(e,t,n)}function Lr(e){function n(t){return t.map(function(t){var n=1,r=g;if(x(t))r=t;else if(w(t)&&(("+"===t.charAt(0)||"-"===t.charAt(0))&&(n="-"===t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(r=e(t),r.constant)))var i=r(),r=function(e){return e[i]};return{get:r,descending:n}})}function r(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function o(e,t){var n=0,r=e.type,i=t.type;if(r===i){var i=e.value,o=t.value;"string"===r?(i=i.toLowerCase(),o=o.toLowerCase()):"object"===r&&(S(i)&&(i=e.index),S(o)&&(o=t.index)),i!==o&&(n=o>i?-1:1)}else n=i>r?-1:1;return n}return function(e,a,s,l){if(null==e)return e;if(!i(e))throw t("orderBy")("notarray",e);Di(a)||(a=[a]),0===a.length&&(a=["+"]);var u=n(a),c=s?-1:1,d=x(l)?l:o;return e=Array.prototype.map.call(e,function(e,t){return{value:e,tieBreaker:{value:t,type:"number",index:t},predicateValues:u.map(function(n){var i=n.get(e);return n=typeof i,null===i?(n="string",i="null"):"object"===n&&(x(i.valueOf)&&(i=i.valueOf(),r(i))||v(i)&&(i=i.toString(),r(i))),{value:i,type:n,index:t}})}}),e.sort(function(e,t){for(var n=0,r=u.length;r>n;n++){var i=d(e.predicateValues[n],t.predicateValues[n]);if(i)return i*u[n].descending*c}return d(e.tieBreaker,t.tieBreaker)*c}),e=e.map(function(e){return e.value})}}function Ir(e){return x(e)&&(e={link:e}),e.restrict=e.restrict||"AC",m(e)}function Rr(e,t,n,r,i){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=i(t.name||t.ngForm||"")(n),this.$dirty=!1,this.$valid=this.$pristine=!0,this.$submitted=this.$invalid=!1,this.$$parentForm=ta,this.$$element=e,this.$$animate=r,Nr(this)}function Nr(e){e.$$classCache={},e.$$classCache[Ia]=!(e.$$classCache[La]=e.$$element.hasClass(La))}function Wr(e){function t(e,t,n){n&&!e.$$classCache[t]?(e.$$animate.addClass(e.$$element,t),e.$$classCache[t]=!0):!n&&e.$$classCache[t]&&(e.$$animate.removeClass(e.$$element,t),e.$$classCache[t]=!1)}function n(e,n,r){n=n?"-"+nt(n,"-"):"",t(e,La+n,!0===r),t(e,Ia+n,!1===r)}var r=e.set,i=e.unset;e.clazz.prototype.$setValidity=function(e,o,a){y(o)?(this.$pending||(this.$pending={}),r(this.$pending,e,a)):(this.$pending&&i(this.$pending,e,a),Br(this.$pending)&&(this.$pending=void 0)),M(o)?o?(i(this.$error,e,a),r(this.$$success,e,a)):(r(this.$error,e,a),i(this.$$success,e,a)):(i(this.$error,e,a),i(this.$$success,e,a)),this.$pending?(t(this,"ng-pending",!0),this.$valid=this.$invalid=void 0,n(this,"",null)):(t(this,"ng-pending",!1),this.$valid=Br(this.$error),this.$invalid=!this.$valid,n(this,"",this.$valid)),o=this.$pending&&this.$pending[e]?void 0:this.$error[e]?!1:this.$$success[e]?!0:null,n(this,e,o),this.$$parentForm.$setValidity(e,o,this)}}function Br(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function Ur(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function Gr(e,t,n,r,i,o){var a=ci(t[0].type);if(!i.android){var s=!1;t.on("compositionstart",function(){s=!0}),t.on("compositionend",function(){s=!1,u()})}var l,u=function(e){if(l&&(o.defer.cancel(l),l=null),!s){var i=t.val();e=e&&e.type,"password"===a||n.ngTrim&&"false"===n.ngTrim||(i=Ai(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,e)}};if(i.hasEvent("input"))t.on("input",u);else{var c=function(e,t,n){l||(l=o.defer(function(){l=null,t&&t.value===n||u(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||t>15&&19>t||t>=37&&40>=t||c(e,this,this.value)}),i.hasEvent("paste")&&t.on("paste cut",c)}t.on("change",u),fa[a]&&r.$$hasNativeValidators&&a===n.type&&t.on("keydown wheel mousedown",function(e){if(!l){var t=this.validity,n=t.badInput,r=t.typeMismatch;l=o.defer(function(){l=null,t.badInput===n&&t.typeMismatch===r||u(e)})}}),r.$render=function(){var e=r.$isEmpty(r.$viewValue)?"":r.$viewValue;t.val()!==e&&t.val(e)}}function qr(e,t){return function(n,r){var i,a;if(C(n))return n;if(w(n)){if('"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),oa.test(n))return new Date(n);if(e.lastIndex=0,i=e.exec(n))return i.shift(),a=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(i,function(e,n){n<t.length&&(a[t[n]]=+e)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return 0/0}}function jr(e,t,n,r){return function(i,o,a,s,l,u,c){function d(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function p(e){return b(e)&&!C(e)?n(e)||void 0:e}zr(i,o,a,s),Gr(i,o,a,s,l,u);var h,f=s&&s.$options.getOption("timezone");if(s.$$parserName=e,s.$parsers.push(function(e){return s.$isEmpty(e)?null:t.test(e)?(e=n(e,h),f&&(e=j(e,f)),e):void 0}),s.$formatters.push(function(e){if(e&&!C(e))throw Wa("datefmt",e);return d(e)?((h=e)&&f&&(h=j(h,f,!0)),c("date")(e,r,f)):(h=null,"")}),b(a.min)||a.ngMin){var g;s.$validators.min=function(e){return!d(e)||y(g)||n(e)>=g},a.$observe("min",function(e){g=p(e),s.$validate()})}if(b(a.max)||a.ngMax){var m;s.$validators.max=function(e){return!d(e)||y(m)||n(e)<=m},a.$observe("max",function(e){m=p(e),s.$validate()})}}}function zr(e,t,n,r){(r.$$hasNativeValidators=S(t[0].validity))&&r.$parsers.push(function(e){var n=t.prop("validity")||{};return n.badInput||n.typeMismatch?void 0:e})}function Kr(e){e.$$parserName="number",e.$parsers.push(function(t){return e.$isEmpty(t)?null:la.test(t)?parseFloat(t):void 0}),e.$formatters.push(function(t){if(!e.$isEmpty(t)){if(!A(t))throw Wa("numfmt",t);t=t.toString()}return t})}function Hr(e){return b(e)&&!A(e)&&(e=parseFloat(e)),Si(e)?void 0:e}function Vr(e){var t=e.toString(),n=t.indexOf(".");return-1===n?e>-1&&1>e&&(e=/e-(\d+)$/.exec(t))?Number(e[1]):0:t.length-n-1}function Yr(e,t,n){e=Number(e);var r=(0|e)!==e,i=(0|t)!==t,o=(0|n)!==n;if(r||i||o){var a=r?Vr(e):0,s=i?Vr(t):0,l=o?Vr(n):0,a=Math.max(a,s,l),a=Math.pow(10,a);e*=a,t*=a,n*=a,r&&(e=Math.round(e)),i&&(t=Math.round(t)),o&&(n=Math.round(n))}return 0===(e-t)%n}function Qr(e,t,n,r,i){if(b(r)){if(e=e(r),!e.constant)throw Wa("constexpr",n,r);return e(t)}return i}function Zr(e,t){function n(e,t){if(!e||!e.length)return[];if(!t||!t.length)return e;var n=[],r=0;e:for(;r<e.length;r++){for(var i=e[r],o=0;o<t.length;o++)if(i===t[o])continue e;n.push(i)}return n}function r(e){var t=e;return Di(e)?t=e.map(r).join(" "):S(e)&&(t=Object.keys(e).filter(function(t){return e[t]}).join(" ")),t}e="ngClass"+e;var i;return["$parse",function(a){return{restrict:"AC",link:function(s,l,u){function c(e,t){var n=[];return o(e,function(e){(t>0||h[e])&&(h[e]=(h[e]||0)+t,h[e]===+(t>0)&&n.push(e))}),n.join(" ")}function d(e){if(e===t){var n=p,n=c(n&&n.split(" "),1);u.$addClass(n)}else n=p,n=c(n&&n.split(" "),-1),u.$removeClass(n);f=e}var p,h=l.data("$classCounts"),f=!0;h||(h=ut(),l.data("$classCounts",h)),"ngClass"!==e&&(i||(i=a("$index",function(e){return 1&e})),s.$watch(i,d)),s.$watch(a(u[e],r),function(e){if(w(e)||(e=r(e)),f===t){var i=e,o=p&&p.split(" "),a=i&&i.split(" "),i=n(o,a),o=n(a,o),i=c(i,-1),o=c(o,1);u.$addClass(o),u.$removeClass(i)}p=e})}}}]}function Jr(e,t,n,r,i,o,a,s,l){this.$modelValue=this.$viewValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=l(n.name||"",!1)(e),this.$$parentForm=ta,this.$options=Ba,this.$$parsedNgModel=i(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$currentValidationRunId=0,Object.defineProperty(this,"$$scope",{value:e}),this.$$attr=n,this.$$element=r,this.$$animate=o,this.$$timeout=a,this.$$parse=i,this.$$q=s,this.$$exceptionHandler=t,Nr(this),Xr(this)
}function Xr(e){e.$$scope.$watch(function(t){if(t=e.$$ngModelGet(t),t!==e.$modelValue&&(e.$modelValue===e.$modelValue||t===t)){e.$modelValue=e.$$rawModelValue=t,e.$$parserValid=void 0;for(var n=e.$formatters,r=n.length,i=t;r--;)i=n[r](i);e.$viewValue!==i&&(e.$$updateEmptyClasses(i),e.$viewValue=e.$$lastCommittedViewValue=i,e.$render(),e.$$runValidators(e.$modelValue,e.$viewValue,f))}return t})}function ei(e){this.$$options=e}function ti(e,t){o(t,function(t,n){b(e[n])||(e[n]=t)})}function ni(e,t){e.prop("selected",t),e.attr("selected",t)}var ri,ii,oi,ai,si=/^\/(.+)\/([a-z]*)$/,li=Object.prototype.hasOwnProperty,ui={objectMaxDepth:5},ci=function(e){return w(e)?e.toLowerCase():e},di=function(e){return w(e)?e.toUpperCase():e},pi=[].slice,hi=[].splice,fi=[].push,gi=Object.prototype.toString,mi=Object.getPrototypeOf,vi=t("ng"),yi=e.angular||(e.angular={}),bi=0;ri=e.document.documentMode;var Si=Number.isNaN||function(e){return e!==e};f.$inject=[],g.$inject=[];var Di=Array.isArray,wi=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,Ai=function(e){return w(e)?e.trim():e},Ci=function(e){return e.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},xi=function(){if(!b(xi.rules)){var t=e.document.querySelector("[ng-csp]")||e.document.querySelector("[data-ng-csp]");if(t){var n=t.getAttribute("ng-csp")||t.getAttribute("data-ng-csp");xi.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else{t=xi;try{new Function(""),n=!1}catch(r){n=!0}t.rules={noUnsafeEval:n,noInlineStyle:!1}}}return xi.rules},_i=function(){if(b(_i.name_))return _i.name_;var t,n,r,i,o=ki.length;for(n=0;o>n;++n)if(r=ki[n],t=e.document.querySelector("["+r.replace(":","\\:")+"jq]")){i=t.getAttribute(r+"jq");break}return _i.name_=i},$i=/:/g,ki=["ng-","data-ng-","ng:","x-ng-"],Mi=function(t){var n=t.currentScript;return n?n instanceof e.HTMLScriptElement||n instanceof e.SVGScriptElement?(n=n.attributes,[n.getNamedItem("src"),n.getNamedItem("href"),n.getNamedItem("xlink:href")].every(function(e){if(!e)return!0;if(!e.value)return!1;var n=t.createElement("a");if(n.href=e.value,t.location.origin===n.origin)return!0;switch(n.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}})):!1:!0}(e.document),Ti=/[A-Z]/g,Fi=!1,Oi=3,Pi={full:"1.6.4",major:1,minor:6,dot:4,codeName:"phenomenal-footnote"};bt.expando="ng339";var Ei=bt.cache={},Li=1;bt._data=function(e){return this.cache[e[this.expando]]||{}};var Ii=/-([a-z])/g,Ri=/^-ms-/,Ni={mouseleave:"mouseout",mouseenter:"mouseover"},Wi=t("jqLite"),Bi=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Ui=/<|&#?\w+;/,Gi=/<([\w:-]+)/,qi=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ji={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ji.optgroup=ji.option,ji.tbody=ji.tfoot=ji.colgroup=ji.caption=ji.thead,ji.th=ji.td;var zi=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))},Ki=bt.prototype={ready:Lt,toString:function(){var e=[];return o(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return ii(e>=0?this[e]:this[this.length+e])},length:0,push:fi,sort:[].sort,splice:[].splice},Hi={};o("multiple selected checked disabled readOnly required open".split(" "),function(e){Hi[ci(e)]=e});var Vi={};o("input select option textarea button form details".split(" "),function(e){Vi[e]=!0});var Yi={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};o({data:xt,removeData:At,hasData:function(e){for(var t in Ei[e.ng339])return!0;return!1},cleanData:function(e){for(var t=0,n=e.length;n>t;t++)At(e[t])}},function(e,t){bt[t]=e}),o({data:xt,inheritedData:Ft,scope:function(e){return ii.data(e,"$scope")||Ft(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return ii.data(e,"$isolateScope")||ii.data(e,"$isolateScopeNoTemplate")},controller:Tt,injector:function(e){return Ft(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:_t,css:function(e,t,n){return t=mt(t.replace(Ri,"ms-")),b(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,n){var r=e.nodeType;if(r!==Oi&&2!==r&&8!==r&&e.getAttribute){var r=ci(t),i=Hi[r];if(!b(n))return e=e.getAttribute(t),i&&null!==e&&(e=r),null===e?void 0:e;null===n||!1===n&&i?e.removeAttribute(t):e.setAttribute(t,i?r:n)}},prop:function(e,t,n){return b(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if(y(t)){var n=e.nodeType;return 1===n||n===Oi?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(y(t)){if(e.multiple&&"select"===P(e)){var n=[];return o(e.options,function(e){e.selected&&n.push(e.value||e.text)}),n}return e.value}e.value=t},html:function(e,t){return y(t)?e.innerHTML:(Dt(e,!0),void(e.innerHTML=t))},empty:Ot},function(e,t){bt.prototype[t]=function(t,n){var r,i,o=this.length;if(e!==Ot&&y(2===e.length&&e!==_t&&e!==Tt?t:n)){if(S(t)){for(r=0;o>r;r++)if(e===xt)e(this[r],t);else for(i in t)e(this[r],i,t[i]);return this}for(r=e.$dv,o=y(r)?Math.min(o,1):o,i=0;o>i;i++){var a=e(this[i],t,n);r=r?r+a:a}return r}for(r=0;o>r;r++)e(this[r],t,n);return this}}),o({removeData:At,on:function(e,t,n,r){if(b(r))throw Wi("onargs");if(vt(e)){r=Ct(e,!0);var i=r.events,o=r.handle;o||(o=r.handle=Rt(e,i)),r=0<=t.indexOf(" ")?t.split(" "):[t];for(var a=r.length,s=function(t,r,a){var s=i[t];s||(s=i[t]=[],s.specialHandlerWrapper=r,"$destroy"===t||a||e.addEventListener(t,o)),s.push(n)};a--;)t=r[a],Ni[t]?(s(Ni[t],Wt),s(t,void 0,!0)):s(t)}},off:wt,one:function(e,t,n){e=ii(e),e.on(t,function r(){e.off(t,n),e.off(t,r)}),e.on(t,n)},replaceWith:function(e,t){var n,r=e.parentNode;Dt(e),o(new bt(t),function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t})},children:function(e){var t=[];return o(e.childNodes,function(e){1===e.nodeType&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(1===n||11===n){t=new bt(t);for(var n=0,r=t.length;r>n;n++)e.appendChild(t[n])}},prepend:function(e,t){if(1===e.nodeType){var n=e.firstChild;o(new bt(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){var n=ii(t).eq(0).clone()[0],r=e.parentNode;r&&r.replaceChild(n,e),n.appendChild(e)},remove:Pt,detach:function(e){Pt(e,!0)},after:function(e,t){var n=e,r=e.parentNode;if(r){t=new bt(t);for(var i=0,o=t.length;o>i;i++){var a=t[i];r.insertBefore(a,n.nextSibling),n=a}}},addClass:kt,removeClass:$t,toggleClass:function(e,t,n){t&&o(t.split(" "),function(t){var r=n;y(r)&&(r=!_t(e,t)),(r?kt:$t)(e,t)})},parent:function(e){return(e=e.parentNode)&&11!==e.nodeType?e:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:St,triggerHandler:function(e,t,n){var r,i,a=t.type||t,s=Ct(e);(s=(s=s&&s.events)&&s[a])&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:f,type:a,target:e},t.type&&(r=c(r,t)),t=pt(s),i=n?[r].concat(n):[r],o(t,function(t){r.isImmediatePropagationStopped()||t.apply(e,i)}))}},function(e,t){bt.prototype[t]=function(t,n,r){for(var i,o=0,a=this.length;a>o;o++)y(i)?(i=e(this[o],t,n,r),b(i)&&(i=ii(i))):Mt(i,e(this[o],t,n,r));return b(i)?i:this}}),bt.prototype.bind=bt.prototype.on,bt.prototype.unbind=bt.prototype.off;var Qi=Object.create(null);Gt.prototype={_idx:function(e){return e===this._lastKey?this._lastIndex:(this._lastKey=e,this._lastIndex=this._keys.indexOf(e))},_transformKey:function(e){return Si(e)?Qi:e},get:function(e){return e=this._transformKey(e),e=this._idx(e),-1!==e?this._values[e]:void 0},set:function(e,t){e=this._transformKey(e);var n=this._idx(e);-1===n&&(n=this._lastIndex=this._keys.length),this._keys[n]=e,this._values[n]=t},"delete":function(e){return e=this._transformKey(e),e=this._idx(e),-1===e?!1:(this._keys.splice(e,1),this._values.splice(e,1),this._lastKey=0/0,this._lastIndex=-1,!0)}};var Zi=Gt,Ji=[function(){this.$get=[function(){return Zi}]}],Xi=/^([^(]+?)=>/,eo=/^[^(]*\(\s*([^)]*)\)/m,to=/,/,no=/^\s*(_?)(\S+?)\1\s*$/,ro=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,io=t("$injector");zt.$$annotate=function(e,t,n){var r;if("function"==typeof e){if(!(r=e.$inject)){if(r=[],e.length){if(t)throw w(n)&&n||(n=e.name||jt(e)),io("strictdi",n);t=qt(e),o(t[1].split(to),function(e){e.replace(no,function(e,t,n){r.push(n)})})}e.$inject=r}}else Di(e)?(t=e.length-1,ot(e[t],"fn"),r=e.slice(0,t)):ot(e,"fn",!0);return r};var oo=t("$animate"),ao=function(){this.$get=f},so=function(){var e=new Zi,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){function i(e,t,n){var r=!1;return t&&(t=w(t)?t.split(" "):Di(t)?t:[],o(t,function(t){t&&(r=!0,e[t]=n)})),r}function a(){o(t,function(t){var n=e.get(t);if(n){var r=Vt(t.attr("class")),i="",a="";o(n,function(e,t){e!==!!r[t]&&(e?i+=(i.length?" ":"")+t:a+=(a.length?" ":"")+t)}),o(t,function(e){i&&kt(e,i),a&&$t(e,a)}),e.delete(t)}}),t.length=0}return{enabled:f,on:f,off:f,pin:f,push:function(o,s,l,u){return u&&u(),l=l||{},l.from&&o.css(l.from),l.to&&o.css(l.to),(l.addClass||l.removeClass)&&(s=l.addClass,u=l.removeClass,l=e.get(o)||{},s=i(l,s,!0),u=i(l,u,!1),(s||u)&&(e.set(o,l),t.push(o),1===t.length&&r.$$postDigest(a))),o=new n,o.complete(),o}}}]},lo=["$provide",function(e){var t=this,n=null;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw oo("notcsel",n);var i=n+"-animation";t.$$registeredAnimations[n.substr(1)]=i,e.factory(i,r)},this.classNameFilter=function(e){if(1===arguments.length&&(n=e instanceof RegExp?e:null)&&/[(\s|\/)]ng-animate[(\s|\/)]/.test(n.toString()))throw n=null,oo("nongcls","ng-animate");return n},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var r;e:{for(r=0;r<n.length;r++){var i=n[r];if(1===i.nodeType){r=i;break e}}r=void 0}!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,r,i,o){return r=r&&ii(r),i=i&&ii(i),r=r||i.parent(),t(n,r,i),e.push(n,"enter",Yt(o))},move:function(n,r,i,o){return r=r&&ii(r),i=i&&ii(i),r=r||i.parent(),t(n,r,i),e.push(n,"move",Yt(o))},leave:function(t,n){return e.push(t,"leave",Yt(n),function(){t.remove()})},addClass:function(t,n,r){return r=Yt(r),r.addClass=Ht(r.addclass,n),e.push(t,"addClass",r)},removeClass:function(t,n,r){return r=Yt(r),r.removeClass=Ht(r.removeClass,n),e.push(t,"removeClass",r)},setClass:function(t,n,r,i){return i=Yt(i),i.addClass=Ht(i.addClass,n),i.removeClass=Ht(i.removeClass,r),e.push(t,"setClass",i)},animate:function(t,n,r,i,o){return o=Yt(o),o.from=o.from?c(o.from,n):n,o.to=o.to?c(o.to,r):r,o.tempClasses=Ht(o.tempClasses,i||"ng-inline-animate"),e.push(t,"animate",o)}}}]}],uo=function(){this.$get=["$$rAF",function(e){function t(t){n.push(t),1<n.length||e(function(){for(var e=0;e<n.length;e++)n[e]();n=[]})}var n=[];return function(){var e=!1;return t(function(){e=!0}),function(n){e?n():t(n)}}}]},co=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(e,t,n,r,i){function a(e){this.setHost(e);var t=n();this._doneCallbacks=[],this._tick=function(e){r()?i(e,0,!1):t(e)},this._state=0}return a.chain=function(e,t){function n(){r===e.length?t(!0):e[r](function(e){!1===e?t(!1):(r++,n())})}var r=0;n()},a.all=function(e,t){function n(n){i=i&&n,++r===e.length&&t(i)}var r=0,i=!0;o(e,function(e){e.done(n)})},a.prototype={setHost:function(e){this.host=e||{}},done:function(e){2===this._state?e():this._doneCallbacks.push(e)},progress:f,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){!1===t?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise().catch(e)},"finally":function(e){return this.getPromise().finally(e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;0===t._state&&(t._state=1,t._tick(function(){t._resolve(e)}))},_resolve:function(e){2!==this._state&&(o(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=2)}},a}]},po=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,r){function i(){return e(function(){o.addClass&&(t.addClass(o.addClass),o.addClass=null),o.removeClass&&(t.removeClass(o.removeClass),o.removeClass=null),o.to&&(t.css(o.to),o.to=null),a||s.complete(),a=!0}),s}var o=r||{};o.$$prepared||(o=L(o)),o.cleanupStyles&&(o.from=o.to=null),o.from&&(t.css(o.from),o.from=null);var a,s=new n;return{start:i,end:i}}}]},ho=t("$compile"),fo=new function(){};en.$inject=["$provide","$$sanitizeUriProvider"],tn.prototype.isFirstChange=function(){return this.previousValue===fo};var go=/^((?:x|data)[:\-_])/i,mo=/[:\-_]+(.)/g,vo=t("$controller"),yo=/^(\S+)(\s+as\s+([\w$]+))?$/,bo=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof ii&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},So="application/json",Do={"Content-Type":So+";charset=utf-8"},wo=/^\[|^\{(?!\{)/,Ao={"[":/]$/,"{":/}$/},Co=/^\)]\}',?\n/,xo=t("$http"),_o=yi.$interpolateMinErr=t("$interpolate");_o.throwNoconcat=function(e){throw _o("noconcat",e)},_o.interr=function(e,t){return _o("interr",e,t.toString())};var $o=function(){this.$get=function(){function e(e){var t=function(e){t.data=e,t.called=!0};return t.id=e,t}var t=yi.callbacks,n={};return{createCallback:function(r){r="_"+(t.$$counter++).toString(36);var i="angular.callbacks."+r,o=e(r);return n[i]=t[r]=o,i},wasCalled:function(e){return n[e].called},getResponse:function(e){return n[e].data},removeCallback:function(e){delete t[n[e].id],delete n[e]}}}},ko=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,Mo={http:80,https:443,ftp:21},To=t("$location"),Fo=/^\s*[\\/]{2,}/,Oo={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:En("$$absUrl"),url:function(e){if(y(e))return this.$$url;var t=ko.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:En("$$protocol"),host:En("$$host"),port:En("$$port"),path:Ln("$$path",function(e){return e=null!==e?e.toString():"","/"===e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(w(e)||A(e))e=e.toString(),this.$$search=H(e);else{if(!S(e))throw To("isrcharg");e=L(e,{}),o(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:y(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:Ln("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};o([Pn,On,Fn],function(e){e.prototype=Object.create(Oo),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==Fn||!this.$$html5)throw To("nostate");return this.$$state=y(t)?null:t,this.$$urlUpdatedByLocation=!0,this}});var Po=t("$parse"),Eo={}.constructor.prototype.valueOf,Lo=ut();o("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){Lo[e]=!0});var Io={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},Ro=function(e){this.options=e};Ro.prototype={constructor:Ro,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;)if(e=this.text.charAt(this.index),'"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var t=e+this.peek(),n=t+this.peek(2),r=Lo[t],i=Lo[n];Lo[e]||r||i?(e=i?n:r?t:e,this.tokens.push({index:this.index,text:e,operator:!0}),this.index+=e.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){return e=e||1,this.index+e<this.text.length?this.text.charAt(this.index+e):!1},isNumber:function(e){return e>="0"&&"9">=e&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"	"===e||"\n"===e||""===e||""===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var n=e.charCodeAt(0),r=t.charCodeAt(0);return n>=55296&&56319>=n&&r>=56320&&57343>=r?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){throw n=n||this.index,t=b(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n,Po("lexerr",e,t,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=ci(this.text.charAt(this.index));if("."===n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"===n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"===e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!==e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index),r=r+o;if(i)"u"===o?(i=this.text.substring(this.index+1,this.index+5),i.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+i+"]"),this.index+=4,n+=String.fromCharCode(parseInt(i,16))):n+=Io[o]||o,i=!1;else if("\\"===o)i=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var No=function(e,t){this.lexer=e,this.options=t};No.Program="Program",No.ExpressionStatement="ExpressionStatement",No.AssignmentExpression="AssignmentExpression",No.ConditionalExpression="ConditionalExpression",No.LogicalExpression="LogicalExpression",No.BinaryExpression="BinaryExpression",No.UnaryExpression="UnaryExpression",No.CallExpression="CallExpression",No.MemberExpression="MemberExpression",No.Identifier="Identifier",No.Literal="Literal",No.ArrayExpression="ArrayExpression",No.Property="Property",No.ObjectExpression="ObjectExpression",No.ThisExpression="ThisExpression",No.LocalsExpression="LocalsExpression",No.NGValueParameter="NGValueParameter",No.prototype={ast:function(e){return this.text=e,this.tokens=this.lexer.lex(e),e=this.program(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var e=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:No.Program,body:e}},expressionStatement:function(){return{type:No.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();if(this.expect("=")){if(!qn(e))throw Po("lval");e={type:No.AssignmentExpression,left:e,right:this.assignment(),operator:"="}}return e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:No.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:No.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:No.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:No.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:No.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:No.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:No.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:No.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=L(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:No.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:No.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:No.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:No.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){e=[e];for(var t={type:No.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return t},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do e.push(this.filterChain());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:No.Identifier,name:e.text}},constant:function(){return{type:No.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:No.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:No.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:No.ObjectExpression,properties:t}},throwError:function(e,t){throw Po("syntax",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw Po("ueoe",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw Po("ueoe",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,i){if(this.tokens.length>e){e=this.tokens[e];var o=e.text;if(o===t||o===n||o===r||o===i||!(t||n||r||i))return e}return!1},expect:function(e,t,n,r){return(e=this.peek(e,t,n,r))?(this.tokens.shift(),e):!1},selfReferential:{"this":{type:No.ThisExpression},$locals:{type:No.LocalsExpression}}},zn.prototype={compile:function(e){var t=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Un(e,t.$filter);var n,r="";return this.stage="assign",(n=jn(e))&&(this.state.computing="assign",r=this.nextId(),this.recurse(n,r),this.return_(r),r="fn.assign="+this.generateFunction("assign","s,v,l")),n=Gn(e.body),t.stage="inputs",o(n,function(e,n){var r="fn"+n;t.state[r]={vars:[],body:[],own:{}},t.state.computing=r;var i=t.nextId();t.recurse(e,i),t.return_(i),t.state.inputs.push(r),e.watchId=n}),this.state.computing="fn",this.stage="main",this.recurse(e),e='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+r+this.watchFns()+"return fn;",e=new Function("$filter","getStringValue","ifDefined","plus",e)(this.$filter,Nn,Wn,Bn),this.state=this.stage=void 0,e},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return o(t,function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return o(this.state.filters,function(n,r){e.push(n+"=$filter("+t.escape(r)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,n,r,i,a){var s,l,u,c,d,p=this;if(r=r||f,!a&&b(e.watchId))t=t||this.nextId(),this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,n,r,i,!0));else switch(e.type){case No.Program:o(e.body,function(t,n){p.recurse(t.expression,void 0,void 0,function(e){l=e}),n!==e.body.length-1?p.current().body.push(l,";"):p.return_(l)});break;case No.Literal:c=this.escape(e.value),this.assign(t,c),r(t||c);break;case No.UnaryExpression:this.recurse(e.argument,void 0,void 0,function(e){l=e}),c=e.operator+"("+this.ifDefined(l,0)+")",this.assign(t,c),r(c);break;case No.BinaryExpression:this.recurse(e.left,void 0,void 0,function(e){s=e}),this.recurse(e.right,void 0,void 0,function(e){l=e}),c="+"===e.operator?this.plus(s,l):"-"===e.operator?this.ifDefined(s,0)+e.operator+this.ifDefined(l,0):"("+s+")"+e.operator+"("+l+")",this.assign(t,c),r(c);break;case No.LogicalExpression:t=t||this.nextId(),p.recurse(e.left,t),p.if_("&&"===e.operator?t:p.not(t),p.lazyRecurse(e.right,t)),r(t);break;case No.ConditionalExpression:t=t||this.nextId(),p.recurse(e.test,t),p.if_(t,p.lazyRecurse(e.alternate,t),p.lazyRecurse(e.consequent,t)),r(t);break;case No.Identifier:t=t||this.nextId(),n&&(n.context="inputs"===p.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),n.computed=!1,n.name=e.name),p.if_("inputs"===p.stage||p.not(p.getHasOwnProperty("l",e.name)),function(){p.if_("inputs"===p.stage||"s",function(){i&&1!==i&&p.if_(p.isNull(p.nonComputedMember("s",e.name)),p.lazyAssign(p.nonComputedMember("s",e.name),"{}")),p.assign(t,p.nonComputedMember("s",e.name))})},t&&p.lazyAssign(t,p.nonComputedMember("l",e.name))),r(t);break;case No.MemberExpression:s=n&&(n.context=this.nextId())||this.nextId(),t=t||this.nextId(),p.recurse(e.object,s,void 0,function(){p.if_(p.notNull(s),function(){e.computed?(l=p.nextId(),p.recurse(e.property,l),p.getStringValue(l),i&&1!==i&&p.if_(p.not(p.computedMember(s,l)),p.lazyAssign(p.computedMember(s,l),"{}")),c=p.computedMember(s,l),p.assign(t,c),n&&(n.computed=!0,n.name=l)):(i&&1!==i&&p.if_(p.isNull(p.nonComputedMember(s,e.property.name)),p.lazyAssign(p.nonComputedMember(s,e.property.name),"{}")),c=p.nonComputedMember(s,e.property.name),p.assign(t,c),n&&(n.computed=!1,n.name=e.property.name))},function(){p.assign(t,"undefined")}),r(t)},!!i);break;case No.CallExpression:t=t||this.nextId(),e.filter?(l=p.filter(e.callee.name),u=[],o(e.arguments,function(e){var t=p.nextId();p.recurse(e,t),u.push(t)}),c=l+"("+u.join(",")+")",p.assign(t,c),r(t)):(l=p.nextId(),s={},u=[],p.recurse(e.callee,l,s,function(){p.if_(p.notNull(l),function(){o(e.arguments,function(t){p.recurse(t,e.constant?void 0:p.nextId(),void 0,function(e){u.push(e)})}),c=s.name?p.member(s.context,s.name,s.computed)+"("+u.join(",")+")":l+"("+u.join(",")+")",p.assign(t,c)},function(){p.assign(t,"undefined")}),r(t)}));break;case No.AssignmentExpression:l=this.nextId(),s={},this.recurse(e.left,void 0,s,function(){p.if_(p.notNull(s.context),function(){p.recurse(e.right,l),c=p.member(s.context,s.name,s.computed)+e.operator+l,p.assign(t,c),r(t||c)})},1);break;case No.ArrayExpression:u=[],o(e.elements,function(t){p.recurse(t,e.constant?void 0:p.nextId(),void 0,function(e){u.push(e)})}),c="["+u.join(",")+"]",this.assign(t,c),r(t||c);break;case No.ObjectExpression:u=[],d=!1,o(e.properties,function(e){e.computed&&(d=!0)}),d?(t=t||this.nextId(),this.assign(t,"{}"),o(e.properties,function(e){e.computed?(s=p.nextId(),p.recurse(e.key,s)):s=e.key.type===No.Identifier?e.key.name:""+e.key.value,l=p.nextId(),p.recurse(e.value,l),p.assign(p.member(t,s,e.computed),l)})):(o(e.properties,function(t){p.recurse(t.value,e.constant?void 0:p.nextId(),void 0,function(e){u.push(p.escape(t.key.type===No.Identifier?t.key.name:""+t.key.value)+":"+e)})}),c="{"+u.join(",")+"}",this.assign(t,c)),r(t||c);break;case No.ThisExpression:this.assign(t,"s"),r(t||"s");break;case No.LocalsExpression:this.assign(t,"l"),r(t||"l");break;case No.NGValueParameter:this.assign(t,"v"),r(t||"v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),r[n]},assign:function(e,t){return e?(this.current().body.push(e,"=",t,";"),e):void 0},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(!0===e)t();else{var r=this.current().body;r.push("if(",e,"){"),t(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(e){return"!("+e+")"},isNull:function(e){return e+"==null"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){var n=/[^$_a-zA-Z0-9]/g;return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(t)?e+"."+t:e+'["'+t.replace(n,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},lazyRecurse:function(e,t,n,r,i,o){var a=this;return function(){a.recurse(e,t,n,r,i,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(w(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(A(e))return e.toString();if(!0===e)return"true";if(!1===e)return"false";if(null===e)return"null";if("undefined"==typeof e)return"undefined";
throw Po("esc")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},Kn.prototype={compile:function(e){var t=this;Un(e,t.$filter);var n,r;(n=jn(e))&&(r=this.recurse(n)),n=Gn(e.body);var i;n&&(i=[],o(n,function(e,n){var r=t.recurse(e);e.input=r,i.push(r),e.watchId=n}));var a=[];return o(e.body,function(e){a.push(t.recurse(e.expression))}),e=0===e.body.length?f:1===e.body.length?a[0]:function(e,t){var n;return o(a,function(r){n=r(e,t)}),n},r&&(e.assign=function(e,t,n){return r(e,n,t)}),i&&(e.inputs=i),e},recurse:function(e,t,n){var r,i,a,s=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case No.Literal:return this.value(e.value,t);case No.UnaryExpression:return i=this.recurse(e.argument),this["unary"+e.operator](i,t);case No.BinaryExpression:return r=this.recurse(e.left),i=this.recurse(e.right),this["binary"+e.operator](r,i,t);case No.LogicalExpression:return r=this.recurse(e.left),i=this.recurse(e.right),this["binary"+e.operator](r,i,t);case No.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case No.Identifier:return s.identifier(e.name,t,n);case No.MemberExpression:return r=this.recurse(e.object,!1,!!n),e.computed||(i=e.property.name),e.computed&&(i=this.recurse(e.property)),e.computed?this.computedMember(r,i,t,n):this.nonComputedMember(r,i,t,n);case No.CallExpression:return a=[],o(e.arguments,function(e){a.push(s.recurse(e))}),e.filter&&(i=this.$filter(e.callee.name)),e.filter||(i=this.recurse(e.callee,!0)),e.filter?function(e,n,r,o){for(var s=[],l=0;l<a.length;++l)s.push(a[l](e,n,r,o));return e=i.apply(void 0,s,o),t?{context:void 0,name:void 0,value:e}:e}:function(e,n,r,o){var s,l=i(e,n,r,o);if(null!=l.value){s=[];for(var u=0;u<a.length;++u)s.push(a[u](e,n,r,o));s=l.value.apply(l.context,s)}return t?{value:s}:s};case No.AssignmentExpression:return r=this.recurse(e.left,!0,1),i=this.recurse(e.right),function(e,n,o,a){var s=r(e,n,o,a);return e=i(e,n,o,a),s.context[s.name]=e,t?{value:e}:e};case No.ArrayExpression:return a=[],o(e.elements,function(e){a.push(s.recurse(e))}),function(e,n,r,i){for(var o=[],s=0;s<a.length;++s)o.push(a[s](e,n,r,i));return t?{value:o}:o};case No.ObjectExpression:return a=[],o(e.properties,function(e){a.push(e.computed?{key:s.recurse(e.key),computed:!0,value:s.recurse(e.value)}:{key:e.key.type===No.Identifier?e.key.name:""+e.key.value,computed:!1,value:s.recurse(e.value)})}),function(e,n,r,i){for(var o={},s=0;s<a.length;++s)a[s].computed?o[a[s].key(e,n,r,i)]=a[s].value(e,n,r,i):o[a[s].key]=a[s].value(e,n,r,i);return t?{value:o}:o};case No.ThisExpression:return function(e){return t?{value:e}:e};case No.LocalsExpression:return function(e,n){return t?{value:n}:n};case No.NGValueParameter:return function(e,n,r){return t?{value:r}:r}}},"unary+":function(e,t){return function(n,r,i,o){return n=e(n,r,i,o),n=b(n)?+n:0,t?{value:n}:n}},"unary-":function(e,t){return function(n,r,i,o){return n=e(n,r,i,o),n=b(n)?-n:-0,t?{value:n}:n}},"unary!":function(e,t){return function(n,r,i,o){return n=!e(n,r,i,o),t?{value:n}:n}},"binary+":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a);return r=t(r,i,o,a),s=Bn(s,r),n?{value:s}:s}},"binary-":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a);return r=t(r,i,o,a),s=(b(s)?s:0)-(b(r)?r:0),n?{value:s}:s}},"binary*":function(e,t,n){return function(r,i,o,a){return r=e(r,i,o,a)*t(r,i,o,a),n?{value:r}:r}},"binary/":function(e,t,n){return function(r,i,o,a){return r=e(r,i,o,a)/t(r,i,o,a),n?{value:r}:r}},"binary%":function(e,t,n){return function(r,i,o,a){return r=e(r,i,o,a)%t(r,i,o,a),n?{value:r}:r}},"binary===":function(e,t,n){return function(r,i,o,a){return r=e(r,i,o,a)===t(r,i,o,a),n?{value:r}:r}},"binary!==":function(e,t,n){return function(r,i,o,a){return r=e(r,i,o,a)!==t(r,i,o,a),n?{value:r}:r}},"binary==":function(e,t,n){return function(r,i,o,a){return r=e(r,i,o,a)==t(r,i,o,a),n?{value:r}:r}},"binary!=":function(e,t,n){return function(r,i,o,a){return r=e(r,i,o,a)!=t(r,i,o,a),n?{value:r}:r}},"binary<":function(e,t,n){return function(r,i,o,a){return r=e(r,i,o,a)<t(r,i,o,a),n?{value:r}:r}},"binary>":function(e,t,n){return function(r,i,o,a){return r=e(r,i,o,a)>t(r,i,o,a),n?{value:r}:r}},"binary<=":function(e,t,n){return function(r,i,o,a){return r=e(r,i,o,a)<=t(r,i,o,a),n?{value:r}:r}},"binary>=":function(e,t,n){return function(r,i,o,a){return r=e(r,i,o,a)>=t(r,i,o,a),n?{value:r}:r}},"binary&&":function(e,t,n){return function(r,i,o,a){return r=e(r,i,o,a)&&t(r,i,o,a),n?{value:r}:r}},"binary||":function(e,t,n){return function(r,i,o,a){return r=e(r,i,o,a)||t(r,i,o,a),n?{value:r}:r}},"ternary?:":function(e,t,n,r){return function(i,o,a,s){return i=e(i,o,a,s)?t(i,o,a,s):n(i,o,a,s),r?{value:i}:i}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,n){return function(r,i){return r=i&&e in i?i:r,n&&1!==n&&r&&null==r[e]&&(r[e]={}),i=r?r[e]:void 0,t?{context:r,name:e,value:i}:i}},computedMember:function(e,t,n,r){return function(i,o,a,s){var l,u,c=e(i,o,a,s);return null!=c&&(l=t(i,o,a,s),l+="",r&&1!==r&&c&&!c[l]&&(c[l]={}),u=c[l]),n?{context:c,name:l,value:u}:u}},nonComputedMember:function(e,t,n,r){return function(i,o,a,s){return i=e(i,o,a,s),r&&1!==r&&i&&null==i[t]&&(i[t]={}),o=null!=i?i[t]:void 0,n?{context:i,name:t,value:o}:o}},inputs:function(e,t){return function(n,r,i,o){return o?o[t]:e(n,r,i)}}},Hn.prototype={constructor:Hn,parse:function(e){e=this.ast.ast(e);var t=this.astCompiler.compile(e);return t.literal=0===e.body.length||1===e.body.length&&(e.body[0].expression.type===No.Literal||e.body[0].expression.type===No.ArrayExpression||e.body[0].expression.type===No.ObjectExpression),t.constant=e.constant,t}};var Wo=t("$sce"),Bo={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Uo=/_([a-z])/g,Go=t("$compile"),qo=e.document.createElement("a"),jo=cr(e.location.href);hr.$inject=["$document"],gr.$inject=["$provide"];var zo=22,Ko=".",Ho="0";Sr.$inject=["$locale"],Dr.$inject=["$locale"];var Vo={yyyy:_r("FullYear",4,0,!1,!0),yy:_r("FullYear",2,0,!0,!0),y:_r("FullYear",1,0,!1,!0),MMMM:$r("Month"),MMM:$r("Month",!0),MM:_r("Month",2,1),M:_r("Month",1,1),LLLL:$r("Month",!1,!0),dd:_r("Date",2),d:_r("Date",1),HH:_r("Hours",2),H:_r("Hours",1),hh:_r("Hours",2,-12),h:_r("Hours",1,-12),mm:_r("Minutes",2),m:_r("Minutes",1),ss:_r("Seconds",2),s:_r("Seconds",1),sss:_r("Milliseconds",3),EEEE:$r("Day"),EEE:$r("Day",!0),a:function(e,t){return 12>e.getHours()?t.AMPMS[0]:t.AMPMS[1]},Z:function(e,t,n){return e=-1*n,e=(e>=0?"+":"")+(xr(Math[e>0?"floor":"ceil"](e/60),2)+xr(Math.abs(e%60),2))},ww:Mr(2),w:Mr(1),G:Tr,GG:Tr,GGG:Tr,GGGG:function(e,t){return 0>=e.getFullYear()?t.ERANAMES[0]:t.ERANAMES[1]}},Yo=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,Qo=/^-?\d+$/;Fr.$inject=["$locale"];var Zo=m(ci),Jo=m(di);Lr.$inject=["$parse"];var Xo=m({restrict:"E",compile:function(e,t){return t.href||t.xlinkHref?void 0:function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===gi.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),ea={};o(Hi,function(e,t){function n(e,n,i){e.$watch(i[r],function(e){i.$set(t,!!e)})}if("multiple"!==e){var r=nn("ng-"+t),i=n;"checked"===e&&(i=function(e,t,i){i.ngModel!==i[r]&&n(e,t,i)}),ea[r]=function(){return{restrict:"A",priority:100,link:i}}}}),o(Yi,function(e,t){ea[t]=function(){return{priority:100,link:function(e,n,r){return"ngPattern"===t&&"/"===r.ngPattern.charAt(0)&&(n=r.ngPattern.match(si))?void r.$set("ngPattern",new RegExp(n[1],n[2])):void e.$watch(r[t],function(e){r.$set(t,e)})}}}}),o(["src","srcset","href"],function(e){var t=nn("ng-"+e);ea[t]=function(){return{priority:99,link:function(n,r,i){var o=e,a=e;"href"===e&&"[object SVGAnimatedString]"===gi.call(r.prop("href"))&&(a="xlinkHref",i.$attr[a]="xlink:href",o=null),i.$observe(t,function(t){t?(i.$set(a,t),ri&&o&&r.prop(o,i[a])):"href"===e&&i.$set(a,null)})}}}});var ta={$addControl:f,$$renameControl:function(e,t){e.$name=t},$removeControl:f,$setValidity:f,$setDirty:f,$setPristine:f,$setSubmitted:f};Rr.$inject=["$element","$attrs","$scope","$animate","$interpolate"],Rr.prototype={$rollbackViewValue:function(){o(this.$$controls,function(e){e.$rollbackViewValue()})},$commitViewValue:function(){o(this.$$controls,function(e){e.$commitViewValue()})},$addControl:function(e){at(e.$name,"input"),this.$$controls.push(e),e.$name&&(this[e.$name]=e),e.$$parentForm=this},$$renameControl:function(e,t){var n=e.$name;this[n]===e&&delete this[n],this[t]=e,e.$name=t},$removeControl:function(e){e.$name&&this[e.$name]===e&&delete this[e.$name],o(this.$pending,function(t,n){this.$setValidity(n,null,e)},this),o(this.$error,function(t,n){this.$setValidity(n,null,e)},this),o(this.$$success,function(t,n){this.$setValidity(n,null,e)},this),E(this.$$controls,e),e.$$parentForm=ta},$setDirty:function(){this.$$animate.removeClass(this.$$element,Ra),this.$$animate.addClass(this.$$element,Na),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Ra,Na+" ng-submitted"),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,o(this.$$controls,function(e){e.$setPristine()})},$setUntouched:function(){o(this.$$controls,function(e){e.$setUntouched()})},$setSubmitted:function(){this.$$animate.addClass(this.$$element,"ng-submitted"),this.$submitted=!0,this.$$parentForm.$setSubmitted()}},Wr({clazz:Rr,set:function(e,t,n){var r=e[t];r?-1===r.indexOf(n)&&r.push(n):e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(E(r,n),0===r.length&&delete e[t])}});var na=function(e){return["$timeout","$parse",function(t,n){function r(e){return""===e?n('this[""]').assign:n(e).assign||f}return{name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:Rr,compile:function(n,i){n.addClass(Ra).addClass(La);var o=i.name?"name":e&&i.ngForm?"ngForm":!1;return{pre:function(e,n,i,a){var s=a[0];if(!("action"in i)){var l=function(t){e.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),t.preventDefault()};n[0].addEventListener("submit",l),n.on("$destroy",function(){t(function(){n[0].removeEventListener("submit",l)},0,!1)})}(a[1]||s.$$parentForm).$addControl(s);var u=o?r(s.$name):f;o&&(u(e,s),i.$observe(o,function(t){s.$name!==t&&(u(e,void 0),s.$$parentForm.$$renameControl(s,t),(u=r(s.$name))(e,s))})),n.on("$destroy",function(){s.$$parentForm.$removeControl(s),u(e,void 0),c(s,ta)})}}}}}]},ra=na(),ia=na(!0),oa=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,aa=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,sa=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,la=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,ua=/^(\d{4,})-(\d{2})-(\d{2})$/,ca=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,da=/^(\d{4,})-W(\d\d)$/,pa=/^(\d{4,})-(\d\d)$/,ha=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,fa=ut();o(["date","datetime-local","month","time","week"],function(e){fa[e]=!0});var ga={text:function(e,t,n,r,i,o){Gr(e,t,n,r,i,o),Ur(r)},date:jr("date",ua,qr(ua,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":jr("datetimelocal",ca,qr(ca,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:jr("time",ha,qr(ha,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:jr("week",da,function(e,t){if(C(e))return e;if(w(e)){da.lastIndex=0;var n=da.exec(e);if(n){var r=+n[1],i=+n[2],o=n=0,a=0,s=0,l=kr(r),i=7*(i-1);return t&&(n=t.getHours(),o=t.getMinutes(),a=t.getSeconds(),s=t.getMilliseconds()),new Date(r,0,l.getDate()+i,n,o,a,s)}}return 0/0},"yyyy-Www"),month:jr("month",pa,qr(pa,["yyyy","MM"]),"yyyy-MM"),number:function(e,t,n,r,i,o){zr(e,t,n,r),Kr(r),Gr(e,t,n,r,i,o);var a,s;if((b(n.min)||n.ngMin)&&(r.$validators.min=function(e){return r.$isEmpty(e)||y(a)||e>=a},n.$observe("min",function(e){a=Hr(e),r.$validate()})),(b(n.max)||n.ngMax)&&(r.$validators.max=function(e){return r.$isEmpty(e)||y(s)||s>=e},n.$observe("max",function(e){s=Hr(e),r.$validate()})),b(n.step)||n.ngStep){var l;r.$validators.step=function(e,t){return r.$isEmpty(t)||y(l)||Yr(t,a||0,l)},n.$observe("step",function(e){l=Hr(e),r.$validate()})}},url:function(e,t,n,r,i,o){Gr(e,t,n,r,i,o),Ur(r),r.$$parserName="url",r.$validators.url=function(e,t){var n=e||t;return r.$isEmpty(n)||aa.test(n)}},email:function(e,t,n,r,i,o){Gr(e,t,n,r,i,o),Ur(r),r.$$parserName="email",r.$validators.email=function(e,t){var n=e||t;return r.$isEmpty(n)||sa.test(n)}},radio:function(e,t,n,r){var i=!n.ngTrim||"false"!==Ai(n.ngTrim);y(n.name)&&t.attr("name",++bi),t.on("click",function(e){var o;t[0].checked&&(o=n.value,i&&(o=Ai(o)),r.$setViewValue(o,e&&e.type))}),r.$render=function(){var e=n.value;i&&(e=Ai(e)),t[0].checked=e===r.$viewValue},n.$observe("value",r.$render)},range:function(e,t,n,r,i,o){function a(e,r){t.attr(e,n[e]),n.$observe(e,r)}function s(e){d=Hr(e),Si(r.$modelValue)||(c?(e=t.val(),d>e&&(e=d,t.val(e)),r.$setViewValue(e)):r.$validate())}function l(e){p=Hr(e),Si(r.$modelValue)||(c?(e=t.val(),e>p&&(t.val(p),e=d>p?d:p),r.$setViewValue(e)):r.$validate())}function u(e){h=Hr(e),Si(r.$modelValue)||(c&&r.$viewValue!==t.val()?r.$setViewValue(t.val()):r.$validate())}zr(e,t,n,r),Kr(r),Gr(e,t,n,r,i,o);var c=r.$$hasNativeValidators&&"range"===t[0].type,d=c?0:void 0,p=c?100:void 0,h=c?1:void 0,f=t[0].validity;e=b(n.min),i=b(n.max),o=b(n.step);var g=r.$render;r.$render=c&&b(f.rangeUnderflow)&&b(f.rangeOverflow)?function(){g(),r.$setViewValue(t.val())}:g,e&&(r.$validators.min=c?function(){return!0}:function(e,t){return r.$isEmpty(t)||y(d)||t>=d},a("min",s)),i&&(r.$validators.max=c?function(){return!0}:function(e,t){return r.$isEmpty(t)||y(p)||p>=t},a("max",l)),o&&(r.$validators.step=c?function(){return!f.stepMismatch}:function(e,t){return r.$isEmpty(t)||y(h)||Yr(t,d||0,h)},a("step",u))},checkbox:function(e,t,n,r,i,o,a,s){var l=Qr(s,e,"ngTrueValue",n.ngTrueValue,!0),u=Qr(s,e,"ngFalseValue",n.ngFalseValue,!1);t.on("click",function(e){r.$setViewValue(t[0].checked,e&&e.type)}),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return!1===e},r.$formatters.push(function(e){return R(e,l)}),r.$parsers.push(function(e){return e?l:u})},hidden:f,button:f,submit:f,reset:f,file:f},ma=["$browser","$sniffer","$filter","$parse",function(e,t,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,a,s){s[0]&&(ga[ci(a.type)]||ga.text)(i,o,a,s[0],t,e,n,r)}}}}],va=/^(true|false|\d+)$/,ya=function(){function e(e,t,n){var r=b(n)?n:9===ri?"":null;e.prop("value",r),t.$set("value",n)}return{restrict:"A",priority:100,compile:function(t,n){return va.test(n.ngValue)?function(t,n,r){t=t.$eval(r.ngValue),e(n,r,t)}:function(t,n,r){t.$watch(r.ngValue,function(t){e(n,r,t)})}}}},ba=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,r){e.$$addBindingInfo(n,r.ngBind),n=n[0],t.$watch(r.ngBind,function(e){n.textContent=ct(e)})}}}}],Sa=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,r,i){n=e(r.attr(i.$attr.ngBindTemplate)),t.$$addBindingInfo(r,n.expressions),r=r[0],i.$observe("ngBindTemplate",function(e){r.textContent=y(e)?"":e})}}}}],Da=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(r,i){var o=t(i.ngBindHtml),a=t(i.ngBindHtml,function(t){return e.valueOf(t)});return n.$$addBindingClass(r),function(t,r,i){n.$$addBindingInfo(r,i.ngBindHtml),t.$watch(a,function(){var n=o(t);r.html(e.getTrustedHtml(n)||"")})}}}}],wa=m({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),Aa=Zr("",!0),Ca=Zr("Odd",0),xa=Zr("Even",1),_a=Ir({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),$a=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],ka={},Ma={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=nn("ng-"+e);ka[t]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var a=n(o[t]);return function(t,n){n.on(e,function(n){var i=function(){a(t,{$event:n})};Ma[e]&&r.$$phase?t.$evalAsync(i):t.$apply(i)})}}}}]});var Ta=["$animate","$compile",function(e,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,a){var s,l,u;n.$watch(i.ngIf,function(n){n?l||a(function(n,o){l=o,n[n.length++]=t.$$createComment("end ngIf",i.ngIf),s={clone:n},e.enter(n,r.parent(),r)}):(u&&(u.remove(),u=null),l&&(l.$destroy(),l=null),s&&(u=lt(s.clone),e.leave(u).done(function(e){!1!==e&&(u=null)}),s=null))})}}}],Fa=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:yi.noop,compile:function(r,i){var o=i.ngInclude||i.src,a=i.onload||"",s=i.autoscroll;return function(r,i,l,u,c){var d,p,h,f=0,g=function(){p&&(p.remove(),p=null),d&&(d.$destroy(),d=null),h&&(n.leave(h).done(function(e){!1!==e&&(p=null)}),p=h,h=null)};r.$watch(o,function(o){var l=function(e){!1===e||!b(s)||s&&!r.$eval(s)||t()},p=++f;o?(e(o,!0).then(function(e){if(!r.$$destroyed&&p===f){var t=r.$new();u.template=e,e=c(t,function(e){g(),n.enter(e,null,i).done(l)}),d=t,h=e,d.$emit("$includeContentLoaded",o),r.$eval(a)}},function(){r.$$destroyed||p!==f||(g(),r.$emit("$includeContentError",o))}),r.$emit("$includeContentRequested",o)):(g(),u.template=null)})}}}}],Oa=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){gi.call(r[0]).match(/SVG/)?(r.empty(),t(yt(o.template,e.document).childNodes)(n,function(e){r.append(e)},{futureParentElement:r})):(r.html(o.template),t(r.contents())(n))}}}],Pa=Ir({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),Ea=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,r){var i=n.ngList||", ",a="false"!==n.ngTrim,s=a?Ai(i):i;r.$parsers.push(function(e){if(!y(e)){var t=[];return e&&o(e.split(s),function(e){e&&t.push(a?Ai(e):e)}),t}}),r.$formatters.push(function(e){return Di(e)?e.join(i):void 0}),r.$isEmpty=function(e){return!e||!e.length}}}},La="ng-valid",Ia="ng-invalid",Ra="ng-pristine",Na="ng-dirty",Wa=t("ngModel");Jr.$inject="$scope $exceptionHandler $attrs $element $parse $animate $timeout $q $interpolate".split(" "),Jr.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var e=this.$$parse(this.$$attr.ngModel+"()"),t=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(t){var n=this.$$parsedNgModel(t);return x(n)&&(n=e(t)),n},this.$$ngModelSet=function(e,n){x(this.$$parsedNgModel(e))?t(e,{$$$p:n}):this.$$parsedNgModelAssign(e,n)}}else if(!this.$$parsedNgModel.assign)throw Wa("nonassign",this.$$attr.ngModel,z(this.$$element))},$render:f,$isEmpty:function(e){return y(e)||""===e||null===e||e!==e},$$updateEmptyClasses:function(e){this.$isEmpty(e)?(this.$$animate.removeClass(this.$$element,"ng-not-empty"),this.$$animate.addClass(this.$$element,"ng-empty")):(this.$$animate.removeClass(this.$$element,"ng-empty"),this.$$animate.addClass(this.$$element,"ng-not-empty"))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,Na),this.$$animate.addClass(this.$$element,Ra)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Ra),this.$$animate.addClass(this.$$element,Na),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,"ng-untouched","ng-touched")},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,"ng-touched","ng-untouched")},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!Si(this.$modelValue)){var e=this.$$lastCommittedViewValue,t=this.$$rawModelValue,n=this.$valid,r=this.$modelValue,i=this.$options.getOption("allowInvalid"),o=this;this.$$runValidators(t,e,function(e){i||n===e||(o.$modelValue=e?t:void 0,o.$modelValue!==r&&o.$$writeModelToScope())})}},$$runValidators:function(e,t,n){function r(){var n=!0;return o(u.$validators,function(r,i){var o=Boolean(r(e,t));n=n&&o,a(i,o)}),n?!0:(o(u.$asyncValidators,function(e,t){a(t,null)}),!1)}function i(){var n=[],r=!0;o(u.$asyncValidators,function(i,o){var s=i(e,t);if(!s||!x(s.then))throw Wa("nopromise",s);a(o,void 0),n.push(s.then(function(){a(o,!0)},function(){r=!1,a(o,!1)}))}),n.length?u.$$q.all(n).then(function(){s(r)},f):s(!0)}function a(e,t){l===u.$$currentValidationRunId&&u.$setValidity(e,t)}function s(e){l===u.$$currentValidationRunId&&n(e)}this.$$currentValidationRunId++;var l=this.$$currentValidationRunId,u=this;(function(){var e=u.$$parserName||"parse";return y(u.$$parserValid)?(a(e,null),!0):(u.$$parserValid||(o(u.$validators,function(e,t){a(t,null)}),o(u.$asyncValidators,function(e,t){a(t,null)})),a(e,u.$$parserValid),u.$$parserValid)})()&&r()?i():s(!1)},$commitViewValue:function(){var e=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==e||""===e&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(e),this.$$lastCommittedViewValue=e,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){var e=this.$$lastCommittedViewValue,t=this;if(this.$$parserValid=y(e)?void 0:!0)for(var n=0;n<this.$parsers.length;n++)if(e=this.$parsers[n](e),y(e)){this.$$parserValid=!1;break}Si(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var r=this.$modelValue,i=this.$options.getOption("allowInvalid");this.$$rawModelValue=e,i&&(this.$modelValue=e,t.$modelValue!==r&&t.$$writeModelToScope()),this.$$runValidators(e,this.$$lastCommittedViewValue,function(n){i||(t.$modelValue=n?e:void 0,t.$modelValue!==r&&t.$$writeModelToScope())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),o(this.$viewChangeListeners,function(e){try{e()}catch(t){this.$$exceptionHandler(t)}},this)},$setViewValue:function(e,t){this.$viewValue=e,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(t)},$$debounceViewValueCommit:function(e){var t=this.$options.getOption("debounce");A(t[e])?t=t[e]:A(t.default)&&(t=t.default),this.$$timeout.cancel(this.$$pendingDebounce);var n=this;t>0?this.$$pendingDebounce=this.$$timeout(function(){n.$commitViewValue()},t):this.$$scope.$root.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){n.$commitViewValue()})},$overrideModelOptions:function(e){this.$options=this.$options.createChild(e)}},Wr({clazz:Jr,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]}});var Ba,Ua=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Jr,priority:1,compile:function(t){return t.addClass(Ra).addClass("ng-untouched").addClass(La),{pre:function(e,t,n,r){var i=r[0];t=r[1]||i.$$parentForm,(r=r[2])&&(i.$options=r.$options),i.$$initGetterSetters(),t.$addControl(i),n.$observe("name",function(e){i.$name!==e&&i.$$parentForm.$$renameControl(i,e)}),e.$on("$destroy",function(){i.$$parentForm.$removeControl(i)})},post:function(t,n,r,i){function o(){a.$setTouched()}var a=i[0];a.$options.getOption("updateOn")&&n.on(a.$options.getOption("updateOn"),function(e){a.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(){a.$touched||(e.$$phase?t.$evalAsync(o):t.$apply(o))})}}}}}],Ga=/(\s+|^)default(\s+|$)/;ei.prototype={getOption:function(e){return this.$$options[e]},createChild:function(e){var t=!1;return e=c({},e),o(e,function(n,r){"$inherit"===n?"*"===r?t=!0:(e[r]=this.$$options[r],"updateOn"===r&&(e.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===r&&(e.updateOnDefault=!1,e[r]=Ai(n.replace(Ga,function(){return e.updateOnDefault=!0," "})))},this),t&&(delete e["*"],ti(e,this.$$options)),ti(e,Ba.$$options),new ei(e)}},Ba=new ei({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var qa=function(){function e(e,t){this.$$attrs=e,this.$$scope=t}return e.$inject=["$attrs","$scope"],e.prototype={$onInit:function(){var e=this.parentCtrl?this.parentCtrl.$options:Ba,t=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=e.createChild(t)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:e}},ja=Ir({terminal:!0,priority:1e3}),za=t("ngOptions"),Ka=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Ha=["$compile","$document","$parse",function(t,n,r){function a(e,t,n){function o(e,t,n,r,i){this.selectValue=e,this.viewValue=t,this.label=n,this.group=r,this.disabled=i}function a(e){var t;if(!u&&i(e))t=e;else{t=[];for(var n in e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n)}return t}var s=e.match(Ka);if(!s)throw za("iexp",e,z(t));var l=s[5]||s[7],u=s[6];e=/ as /.test(s[0])&&s[1];var c=s[9];t=r(s[2]?s[1]:l);var d=e&&r(e)||t,p=c&&r(c),h=c?function(e,t){return p(n,t)}:function(e){return Ut(e)},f=function(e,t){return h(e,S(e,t))},g=r(s[2]||s[1]),m=r(s[3]||""),v=r(s[4]||""),y=r(s[8]),b={},S=u?function(e,t){return b[u]=t,b[l]=e,b}:function(e){return b[l]=e,b};return{trackBy:c,getTrackByValue:f,getWatchables:r(y,function(e){var t=[];e=e||[];for(var r=a(e),i=r.length,o=0;i>o;o++){var l=e===r?o:r[o],u=e[l],l=S(u,l),u=h(u,l);t.push(u),(s[2]||s[1])&&(u=g(n,l),t.push(u)),s[4]&&(l=v(n,l),t.push(l))}return t}),getOptions:function(){for(var e=[],t={},r=y(n)||[],i=a(r),s=i.length,l=0;s>l;l++){var u=r===i?l:i[l],p=S(r[u],u),b=d(n,p),u=h(b,p),D=g(n,p),w=m(n,p),p=v(n,p),b=new o(u,b,D,w,p);e.push(b),t[u]=b}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[f(e)]},getViewValueFromOption:function(e){return c?L(e.viewValue):e.viewValue}}}}}var s=e.document.createElement("option"),l=e.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,r){r[0].registerOption=f},post:function(e,r,i,u){function c(e){var t=(e=S.getOptionFromViewValue(e))&&e.element;return t&&!t.selected&&(t.selected=!0),e}function d(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),t.value=e.selectValue}function p(){var e=S&&h.readValue();if(S)for(var t=S.items.length-1;t>=0;t--){var n=S.items[t];Pt(b(n.group)?n.element.parentNode:n.element)}S=D.getOptions();var i={};y&&r.prepend(h.emptyOption),S.items.forEach(function(e){var t;if(b(e.group)){t=i[e.group],t||(t=l.cloneNode(!1),w.appendChild(t),t.label=null===e.group?"null":e.group,i[e.group]=t);var n=s.cloneNode(!1)}else t=w,n=s.cloneNode(!1);t.appendChild(n),d(e,n)}),r[0].appendChild(w),f.$render(),f.$isEmpty(e)||(t=h.readValue(),(D.trackBy||g?R(e,t):e===t)||(f.$setViewValue(t),f.$render()))}var h=u[0],f=u[1],g=i.multiple;u=0;for(var m=r.children(),v=m.length;v>u;u++)if(""===m[u].value){h.hasEmptyOption=!0,h.emptyOption=m.eq(u);break}var y=!!h.emptyOption;ii(s.cloneNode(!1)).val("?");var S,D=a(i.ngOptions,r,e),w=n[0].createDocumentFragment();h.generateUnknownOptionValue=function(){return"?"},g?(h.writeValue=function(e){var t=e&&e.map(c)||[];S.items.forEach(function(e){e.element.selected&&-1===Array.prototype.indexOf.call(t,e)&&(e.element.selected=!1)})},h.readValue=function(){var e=r.val()||[],t=[];return o(e,function(e){(e=S.selectValueMap[e])&&!e.disabled&&t.push(S.getViewValueFromOption(e))}),t},D.trackBy&&e.$watchCollection(function(){return Di(f.$viewValue)?f.$viewValue.map(function(e){return D.getTrackByValue(e)}):void 0},function(){f.$render()})):(h.writeValue=function(e){var t=S.selectValueMap[r.val()],n=S.getOptionFromViewValue(e);t&&t.element.removeAttribute("selected"),n?(r[0].value!==n.selectValue&&(h.removeUnknownOption(),h.unselectEmptyOption(),r[0].value=n.selectValue,n.element.selected=!0),n.element.setAttribute("selected","selected")):y?h.selectEmptyOption():h.unknownOption.parent().length?h.updateUnknownOption(e):h.renderUnknownOption(e)},h.readValue=function(){var e=S.selectValueMap[r.val()];return e&&!e.disabled?(h.unselectEmptyOption(),h.removeUnknownOption(),S.getViewValueFromOption(e)):null},D.trackBy&&e.$watch(function(){return D.getTrackByValue(f.$viewValue)},function(){f.$render()})),y&&(h.emptyOption.remove(),t(h.emptyOption)(e),8===h.emptyOption[0].nodeType?(h.hasEmptyOption=!1,h.registerOption=function(e,t){""===t.val()&&(h.hasEmptyOption=!0,h.emptyOption=t,h.emptyOption.removeClass("ng-scope"),f.$render(),t.on("$destroy",function(){h.hasEmptyOption=!1,h.emptyOption=void 0}))}):h.emptyOption.removeClass("ng-scope")),r.empty(),p(),e.$watchCollection(D.getWatchables,p)}}}}],Va=["$locale","$interpolate","$log",function(e,t,n){var r=/{}/g,i=/^when(Minus)?(.+)$/;return{link:function(a,s,l){function u(e){s.text(e||"")}var c,d=l.count,p=l.$attr.when&&s.attr(l.$attr.when),h=l.offset||0,g=a.$eval(p)||{},m={},v=t.startSymbol(),b=t.endSymbol(),S=v+d+"-"+h+b,D=yi.noop;o(l,function(e,t){var n=i.exec(t);n&&(n=(n[1]?"-":"")+ci(n[2]),g[n]=s.attr(l.$attr[t]))}),o(g,function(e,n){m[n]=t(e.replace(r,S))}),a.$watch(d,function(t){var r=parseFloat(t),i=Si(r);i||r in g||(r=e.pluralCat(r-h)),r===c||i&&Si(c)||(D(),i=m[r],y(i)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+p),D=f,u()):D=a.$watch(i,u),c=r)})}}}],Ya=["$parse","$animate","$compile",function(e,n,r){var a=t("ngRepeat"),s=function(e,t,n,r,i,o,a){e[n]=r,i&&(e[i]=o),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(t,l){var u=l.ngRepeat,c=r.$$createComment("end ngRepeat",u),d=u.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!d)throw a("iexp",u);var p=d[1],h=d[2],f=d[3],g=d[4],d=p.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/);if(!d)throw a("iidexp",p);var m=d[3]||d[1],v=d[2];if(f&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(f)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(f)))throw a("badident",f);var y,b,S,D,w={$id:Ut};return g?y=e(g):(S=function(e,t){return Ut(t)},D=function(e){return e}),function(e,t,r,l,d){y&&(b=function(t,n,r){return v&&(w[v]=t),w[m]=n,w.$index=r,y(e,w)});var p=ut();e.$watchCollection(h,function(r){var l,h,g,y,w,A,C,x,_,$,k=t[0],M=ut();if(f&&(e[f]=r),i(r))x=r,h=b||S;else for($ in h=b||D,x=[],r)li.call(r,$)&&"$"!==$.charAt(0)&&x.push($);for(y=x.length,$=Array(y),l=0;y>l;l++)if(w=r===x?l:x[l],A=r[w],C=h(w,A,l),p[C])_=p[C],delete p[C],M[C]=_,$[l]=_;else{if(M[C])throw o($,function(e){e&&e.scope&&(p[e.id]=e)}),a("dupes",u,C,A);$[l]={id:C,scope:void 0,clone:void 0},M[C]=!0}for(g in p){if(_=p[g],C=lt(_.clone),n.leave(C),C[0].parentNode)for(l=0,h=C.length;h>l;l++)C[l].$$NG_REMOVED=!0;_.scope.$destroy()}for(l=0;y>l;l++)if(w=r===x?l:x[l],A=r[w],_=$[l],_.scope){g=k;do g=g.nextSibling;while(g&&g.$$NG_REMOVED);_.clone[0]!==g&&n.move(lt(_.clone),null,k),k=_.clone[_.clone.length-1],s(_.scope,l,m,A,v,w,y)}else d(function(e,t){_.scope=t;var r=c.cloneNode(!1);e[e.length++]=r,n.enter(e,null,k),k=r,_.clone=e,M[_.id]=_,s(_.scope,l,m,A,v,w,y)});p=M})}}}}],Qa=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngShow,function(t){e[t?"removeClass":"addClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})
}}}],Za=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngHide,function(t){e[t?"addClass":"removeClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Ja=Ir(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&o(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),Xa=["$animate","$compile",function(e,t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,a){var s=[],l=[],u=[],c=[],d=function(e,t){return function(n){!1!==n&&e.splice(t,1)}};n.$watch(i.ngSwitch||i.on,function(n){for(var r,i;u.length;)e.cancel(u.pop());for(r=0,i=c.length;i>r;++r){var p=lt(l[r].clone);c[r].$destroy(),(u[r]=e.leave(p)).done(d(u,r))}l.length=0,c.length=0,(s=a.cases["!"+n]||a.cases["?"])&&o(s,function(n){n.transclude(function(r,i){c.push(i);var o=n.element;r[r.length++]=t.$$createComment("end ngSwitchWhen"),l.push({clone:r}),e.enter(r,o.parent(),o)})})})}}}],es=Ir({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){e=n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(e,t,n){return n[t-1]!==e}),o(e,function(e){r.cases["!"+e]=r.cases["!"+e]||[],r.cases["!"+e].push({transclude:i,element:t})})}}),ts=Ir({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),ns=t("ngTransclude"),rs=["$compile",function(e){return{restrict:"EAC",terminal:!0,compile:function(t){var n=e(t.contents());return t.empty(),function(e,t,r,i,o){function a(){n(e,function(e){t.append(e)})}if(!o)throw ns("orphan",z(t));r.ngTransclude===r.$attr.ngTransclude&&(r.ngTransclude=""),r=r.ngTransclude||r.ngTranscludeSlot,o(function(e,n){var r;if(r=e.length)e:{r=0;for(var i=e.length;i>r;r++){var o=e[r];if(o.nodeType!==Oi||o.nodeValue.trim()){r=!0;break e}}r=void 0}r?t.append(e):(a(),n.$destroy())},null,r),r&&!o.isSlotFilled(r)&&a()}}}}],is=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){"text/ng-template"===n.type&&e.put(n.id,t[0].text)}}}],os={$setViewValue:f,$render:f},as=["$element","$scope",function(t,n){function r(){s||(s=!0,n.$$postDigest(function(){s=!1,o.ngModelCtrl.$render()}))}function i(e){l||(l=!0,n.$$postDigest(function(){n.$$destroyed||(l=!1,o.ngModelCtrl.$setViewValue(o.readValue()),e&&o.ngModelCtrl.$render())}))}var o=this,a=new Zi;o.selectValueMap={},o.ngModelCtrl=os,o.multiple=!1,o.unknownOption=ii(e.document.createElement("option")),o.hasEmptyOption=!1,o.emptyOption=void 0,o.renderUnknownOption=function(e){e=o.generateUnknownOptionValue(e),o.unknownOption.val(e),t.prepend(o.unknownOption),ni(o.unknownOption,!0),t.val(e)},o.updateUnknownOption=function(e){e=o.generateUnknownOptionValue(e),o.unknownOption.val(e),ni(o.unknownOption,!0),t.val(e)},o.generateUnknownOptionValue=function(e){return"? "+Ut(e)+" ?"},o.removeUnknownOption=function(){o.unknownOption.parent()&&o.unknownOption.remove()},o.selectEmptyOption=function(){o.emptyOption&&(t.val(""),ni(o.emptyOption,!0))},o.unselectEmptyOption=function(){o.hasEmptyOption&&o.emptyOption.removeAttr("selected")},n.$on("$destroy",function(){o.renderUnknownOption=f}),o.readValue=function(){var e=t.val(),e=e in o.selectValueMap?o.selectValueMap[e]:e;return o.hasOption(e)?e:null},o.writeValue=function(e){var n=t[0].options[t[0].selectedIndex];n&&ni(ii(n),!1),o.hasOption(e)?(o.removeUnknownOption(),n=Ut(e),t.val(n in o.selectValueMap?n:e),ni(ii(t[0].options[t[0].selectedIndex]),!0)):null==e&&o.emptyOption?(o.removeUnknownOption(),o.selectEmptyOption()):o.unknownOption.parent().length?o.updateUnknownOption(e):o.renderUnknownOption(e)},o.addOption=function(e,t){if(8!==t[0].nodeType){at(e,'"option value"'),""===e&&(o.hasEmptyOption=!0,o.emptyOption=t);var n=a.get(e)||0;a.set(e,n+1),r()}},o.removeOption=function(e){var t=a.get(e);t&&(1===t?(a.delete(e),""===e&&(o.hasEmptyOption=!1,o.emptyOption=void 0)):a.set(e,t-1))},o.hasOption=function(e){return!!a.get(e)};var s=!1,l=!1;o.registerOption=function(e,t,n,a,s){if(n.$attr.ngValue){var l,u=0/0;n.$observe("value",function(e){var n,r=t.prop("selected");b(u)&&(o.removeOption(l),delete o.selectValueMap[u],n=!0),u=Ut(e),l=e,o.selectValueMap[u]=e,o.addOption(e,t),t.attr("value",u),n&&r&&i()})}else a?n.$observe("value",function(e){o.readValue();var n,r=t.prop("selected");b(l)&&(o.removeOption(l),n=!0),l=e,o.addOption(e,t),n&&r&&i()}):s?e.$watch(s,function(e,r){n.$set("value",e);var a=t.prop("selected");r!==e&&o.removeOption(r),o.addOption(e,t),r&&a&&i()}):o.addOption(n.value,t);n.$observe("disabled",function(e){("true"===e||e&&t.prop("selected"))&&(o.multiple?i(!0):(o.ngModelCtrl.$setViewValue(null),o.ngModelCtrl.$render()))}),t.on("$destroy",function(){var e=o.readValue(),t=n.value;o.removeOption(t),r(),(o.multiple&&e&&-1!==e.indexOf(t)||e===t)&&i(!0)})}}],ss=function(){return{restrict:"E",require:["select","?ngModel"],controller:as,priority:1,link:{pre:function(e,t,n,r){var i=r[0],a=r[1];if(a){if(i.ngModelCtrl=a,t.on("change",function(){i.removeUnknownOption(),e.$apply(function(){a.$setViewValue(i.readValue())})}),n.multiple){i.multiple=!0,i.readValue=function(){var e=[];return o(t.find("option"),function(t){t.selected&&!t.disabled&&(t=t.value,e.push(t in i.selectValueMap?i.selectValueMap[t]:t))}),e},i.writeValue=function(e){o(t.find("option"),function(t){var n=!!e&&(-1!==Array.prototype.indexOf.call(e,t.value)||-1!==Array.prototype.indexOf.call(e,i.selectValueMap[t.value]));n!==t.selected&&ni(ii(t),n)})};var s,l=0/0;e.$watch(function(){l!==a.$viewValue||R(s,a.$viewValue)||(s=pt(a.$viewValue),a.$render()),l=a.$viewValue}),a.$isEmpty=function(e){return!e||0===e.length}}}else i.registerOption=f},post:function(e,t,n,r){var i=r[1];if(i){var o=r[0];i.$render=function(){o.writeValue(i.$viewValue)}}}}}},ls=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){var r,i;return b(n.ngValue)||(b(n.value)?r=e(n.value,!0):(i=e(t.text(),!0))||n.$set("value",t.text())),function(e,t,n){var o=t.parent();(o=o.data("$selectController")||o.parent().data("$selectController"))&&o.registerOption(e,t,n,r,i)}}}}],us=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){r&&(n.required=!0,r.$validators.required=function(e,t){return!n.required||!r.$isEmpty(t)},n.$observe("required",function(){r.$validate()}))}}},cs=function(){return{restrict:"A",require:"?ngModel",link:function(e,n,r,i){if(i){var o,a=r.ngPattern||r.pattern;r.$observe("pattern",function(e){if(w(e)&&0<e.length&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw t("ngPattern")("noregexp",a,e,z(n));o=e||void 0,i.$validate()}),i.$validators.pattern=function(e,t){return i.$isEmpty(t)||y(o)||o.test(t)}}}}},ds=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=-1;n.$observe("maxlength",function(e){e=p(e),i=Si(e)?-1:e,r.$validate()}),r.$validators.maxlength=function(e,t){return 0>i||r.$isEmpty(t)||t.length<=i}}}}},ps=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=0;n.$observe("minlength",function(e){i=p(e)||0,r.$validate()}),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=i}}}}};e.angular.bootstrap?e.console&&void 0:(rt(),ft(yi),yi.module("ngLocale",[],["$provide",function(e){function t(e){e+="";var t=e.indexOf(".");return-1==t?0:e.length-t-1}e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONEMONTH:"January February March April May June July August September October November December".split(" "),WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,n){var r=0|e,i=n;return void 0===i&&(i=Math.min(t(e),3)),Math.pow(10,i),1==r&&0==i?"one":"other"}})}]),ii(function(){J(e.document,X)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),n("angular",function(e){return function(){var t;return t||e.angular}}(this)),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof n&&n.amd?n("moment",t):e.moment=t()}(this,function(){function e(){return Lr.apply(null,arguments)}function n(e){Lr=e}function r(e){return"[object Array]"===Object.prototype.toString.call(e)}function i(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function o(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function s(e,t){for(var n in t)a(t,n)&&(e[n]=t[n]);return a(t,"toString")&&(e.toString=t.toString),a(t,"valueOf")&&(e.valueOf=t.valueOf),e}function l(e,t,n,r){return Mt(e,t,n,r,!0).utc()}function u(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function c(e){return null==e._pf&&(e._pf=u()),e._pf}function d(e){if(null==e._isValid){var t=c(e);e._isValid=!(isNaN(e._d.getTime())||!(t.overflow<0)||t.empty||t.invalidMonth||t.invalidWeekday||t.nullInput||t.invalidFormat||t.userInvalidated),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function p(e){var t=l(0/0);return null!=e?s(c(t),e):c(t).userInvalidated=!0,t}function h(e,t){var n,r,i;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=c(t)),"undefined"!=typeof t._locale&&(e._locale=t._locale),Rr.length>0)for(n in Rr)r=Rr[n],i=t[r],"undefined"!=typeof i&&(e[r]=i);return e}function f(t){h(this,t),this._d=new Date(null!=t._d?t._d.getTime():0/0),Nr===!1&&(Nr=!0,e.updateOffset(this),Nr=!1)}function g(e){return e instanceof f||null!=e&&null!=e._isAMomentObject}function m(e){return 0>e?Math.ceil(e):Math.floor(e)}function v(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=m(t)),n}function y(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;i>r;r++)(n&&e[r]!==t[r]||!n&&v(e[r])!==v(t[r]))&&a++;return a+o}function b(){}function S(e){return e?e.toLowerCase().replace("_","-"):e}function D(e){for(var t,n,r,i,o=0;o<e.length;){for(i=S(e[o]).split("-"),t=i.length,n=S(e[o+1]),n=n?n.split("-"):null;t>0;){if(r=w(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&y(i,n,!0)>=t-1)break;t--}o++}return null}function w(e){var n=null;if(!Wr[e]&&"undefined"!=typeof module&&module&&module.exports)try{n=Ir._abbr,t("./locale/"+e),A(n)}catch(r){}return Wr[e]}function A(e,t){var n;return e&&(n="undefined"==typeof t?x(e):C(e,t),n&&(Ir=n)),Ir._abbr}function C(e,t){return null!==t?(t.abbr=e,Wr[e]=Wr[e]||new b,Wr[e].set(t),A(e),Wr[e]):(delete Wr[e],null)}function x(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Ir;if(!r(e)){if(t=w(e))return t;e=[e]}return D(e)}function _(e,t){var n=e.toLowerCase();Br[n]=Br[n+"s"]=Br[t]=e}function $(e){return"string"==typeof e?Br[e]||Br[e.toLowerCase()]:void 0}function k(e){var t,n,r={};for(n in e)a(e,n)&&(t=$(n),t&&(r[t]=e[n]));return r}function M(t,n){return function(r){return null!=r?(F(this,t,r),e.updateOffset(this,n),this):T(this,t)}}function T(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function F(e,t,n){return e._d["set"+(e._isUTC?"UTC":"")+t](n)}function O(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else if(e=$(e),"function"==typeof this[e])return this[e](t);return this}function P(e,t,n){var r=""+Math.abs(e),i=t-r.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function E(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(jr[e]=i),t&&(jr[t[0]]=function(){return P(i.apply(this,arguments),t[1],t[2])}),n&&(jr[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function L(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function I(e){var t,n,r=e.match(Ur);for(t=0,n=r.length;n>t;t++)r[t]=jr[r[t]]?jr[r[t]]:L(r[t]);return function(i){var o="";for(t=0;n>t;t++)o+=r[t]instanceof Function?r[t].call(i,e):r[t];return o}}function R(e,t){return e.isValid()?(t=N(t,e.localeData()),qr[t]=qr[t]||I(t),qr[t](e)):e.localeData().invalidDate()}function N(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(Gr.lastIndex=0;r>=0&&Gr.test(e);)e=e.replace(Gr,n),Gr.lastIndex=0,r-=1;return e}function W(e){return"function"==typeof e&&"[object Function]"===Object.prototype.toString.call(e)}function B(e,t,n){oi[e]=W(t)?t:function(e){return e&&n?n:t}}function U(e,t){return a(oi,e)?oi[e](t._strict,t._locale):new RegExp(G(e))}function G(e){return e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function q(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(r=function(e,n){n[t]=v(e)}),n=0;n<e.length;n++)ai[e[n]]=r}function j(e,t){q(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function z(e,t,n){null!=t&&a(ai,e)&&ai[e](t,n._a,n,e)}function K(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function H(e){return this._months[e.month()]}function V(e){return this._monthsShort[e.month()]}function Y(e,t,n){var r,i,o;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;12>r;r++){if(i=l([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function Q(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),K(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function Z(t){return null!=t?(Q(this,t),e.updateOffset(this,!0),this):T(this,"Month")}function J(){return K(this.year(),this.month())}function X(e){var t,n=e._a;return n&&-2===c(e).overflow&&(t=n[li]<0||n[li]>11?li:n[ui]<1||n[ui]>K(n[si],n[li])?ui:n[ci]<0||n[ci]>24||24===n[ci]&&(0!==n[di]||0!==n[pi]||0!==n[hi])?ci:n[di]<0||n[di]>59?di:n[pi]<0||n[pi]>59?pi:n[hi]<0||n[hi]>999?hi:-1,c(e)._overflowDayOfYear&&(si>t||t>ui)&&(t=ui),c(e).overflow=t),e}function et(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn}function tt(e,t){var n=!0;return s(function(){return n&&(et(e+"\n"+(new Error).stack),n=!1),t.apply(this,arguments)},t)}function nt(e,t){mi[e]||(et(t),mi[e]=!0)}function rt(e){var t,n,r=e._i,i=vi.exec(r);if(i){for(c(e).iso=!0,t=0,n=yi.length;n>t;t++)if(yi[t][1].exec(r)){e._f=yi[t][0];break}for(t=0,n=bi.length;n>t;t++)if(bi[t][1].exec(r)){e._f+=(i[6]||" ")+bi[t][0];break}r.match(ni)&&(e._f+="Z"),wt(e)}else e._isValid=!1}function it(t){var n=Si.exec(t._i);return null!==n?void(t._d=new Date(+n[1])):(rt(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function ot(e,t,n,r,i,o,a){var s=new Date(e,t,n,r,i,o,a);return 1970>e&&s.setFullYear(e),s}function at(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function st(e){return lt(e)?366:365}function lt(e){return e%4===0&&e%100!==0||e%400===0}function ut(){return lt(this.year())}function ct(e,t,n){var r,i=n-t,o=n-e.day();return o>i&&(o-=7),i-7>o&&(o+=7),r=Tt(e).add(o,"d"),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function dt(e){return ct(e,this._week.dow,this._week.doy).week}function pt(){return this._week.dow}function ht(){return this._week.doy}function ft(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function gt(e){var t=ct(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function mt(e,t,n,r,i){var o,a=6+i-r,s=at(e,0,1+a),l=s.getUTCDay();return i>l&&(l+=7),n=null!=n?1*n:i,o=1+a+7*(t-1)-l+n,{year:o>0?e:e-1,dayOfYear:o>0?o:st(e-1)+o}}function vt(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function yt(e,t,n){return null!=e?e:null!=t?t:n}function bt(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function St(e){var t,n,r,i,o=[];if(!e._d){for(r=bt(e),e._w&&null==e._a[ui]&&null==e._a[li]&&Dt(e),e._dayOfYear&&(i=yt(e._a[si],r[si]),e._dayOfYear>st(i)&&(c(e)._overflowDayOfYear=!0),n=at(i,0,e._dayOfYear),e._a[li]=n.getUTCMonth(),e._a[ui]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;7>t;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ci]&&0===e._a[di]&&0===e._a[pi]&&0===e._a[hi]&&(e._nextDay=!0,e._a[ci]=0),e._d=(e._useUTC?at:ot).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ci]=24)}}function Dt(e){var t,n,r,i,o,a,s;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(o=1,a=4,n=yt(t.GG,e._a[si],ct(Tt(),1,4).year),r=yt(t.W,1),i=yt(t.E,1)):(o=e._locale._week.dow,a=e._locale._week.doy,n=yt(t.gg,e._a[si],ct(Tt(),o,a).year),r=yt(t.w,1),null!=t.d?(i=t.d,o>i&&++r):i=null!=t.e?t.e+o:o),s=mt(n,r,i,a,o),e._a[si]=s.year,e._dayOfYear=s.dayOfYear}function wt(t){if(t._f===e.ISO_8601)return void rt(t);t._a=[],c(t).empty=!0;var n,r,i,o,a,s=""+t._i,l=s.length,u=0;for(i=N(t._f,t._locale).match(Ur)||[],n=0;n<i.length;n++)o=i[n],r=(s.match(U(o,t))||[])[0],r&&(a=s.substr(0,s.indexOf(r)),a.length>0&&c(t).unusedInput.push(a),s=s.slice(s.indexOf(r)+r.length),u+=r.length),jr[o]?(r?c(t).empty=!1:c(t).unusedTokens.push(o),z(o,r,t)):t._strict&&!r&&c(t).unusedTokens.push(o);c(t).charsLeftOver=l-u,s.length>0&&c(t).unusedInput.push(s),c(t).bigHour===!0&&t._a[ci]<=12&&t._a[ci]>0&&(c(t).bigHour=void 0),t._a[ci]=At(t._locale,t._a[ci],t._meridiem),St(t),X(t)}function At(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&12>t&&(t+=12),r||12!==t||(t=0),t):t}function Ct(e){var t,n,r,i,o;if(0===e._f.length)return c(e).invalidFormat=!0,void(e._d=new Date(0/0));for(i=0;i<e._f.length;i++)o=0,t=h({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],wt(t),d(t)&&(o+=c(t).charsLeftOver,o+=10*c(t).unusedTokens.length,c(t).score=o,(null==r||r>o)&&(r=o,n=t));s(e,n||t)}function xt(e){if(!e._d){var t=k(e._i);e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],St(e)}}function _t(e){var t=new f(X($t(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function $t(e){var t=e._i,n=e._f;return e._locale=e._locale||x(e._l),null===t||void 0===n&&""===t?p({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),g(t)?new f(X(t)):(r(n)?Ct(e):n?wt(e):i(t)?e._d=t:kt(e),e))}function kt(t){var n=t._i;void 0===n?t._d=new Date:i(n)?t._d=new Date(+n):"string"==typeof n?it(t):r(n)?(t._a=o(n.slice(0),function(e){return parseInt(e,10)}),St(t)):"object"==typeof n?xt(t):"number"==typeof n?t._d=new Date(n):e.createFromInputFallback(t)}function Mt(e,t,n,r,i){var o={};return"boolean"==typeof n&&(r=n,n=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=e,o._f=t,o._strict=r,_t(o)}function Tt(e,t,n,r){return Mt(e,t,n,r,!1)}function Ft(e,t){var n,i;if(1===t.length&&r(t[0])&&(t=t[0]),!t.length)return Tt();for(n=t[0],i=1;i<t.length;++i)(!t[i].isValid()||t[i][e](n))&&(n=t[i]);return n}function Ot(){var e=[].slice.call(arguments,0);return Ft("isBefore",e)}function Pt(){var e=[].slice.call(arguments,0);return Ft("isAfter",e)}function Et(e){var t=k(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+36e5*s,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=x(),this._bubble()}function Lt(e){return e instanceof Et}function It(e,t){E(e,0,0,function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+P(~~(e/60),2)+t+P(~~e%60,2)})}function Rt(e){var t=(e||"").match(ni)||[],n=t[t.length-1]||[],r=(n+"").match(xi)||["-",0,0],i=+(60*r[1])+v(r[2]);return"+"===r[0]?i:-i}function Nt(t,n){var r,o;return n._isUTC?(r=n.clone(),o=(g(t)||i(t)?+t:+Tt(t))-+r,r._d.setTime(+r._d+o),e.updateOffset(r,!1),r):Tt(t).local()}function Wt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Bt(t,n){var r,i=this._offset||0;return null!=t?("string"==typeof t&&(t=Rt(t)),Math.abs(t)<16&&(t=60*t),!this._isUTC&&n&&(r=Wt(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==t&&(!n||this._changeInProgress?nn(this,Zt(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:Wt(this)}function Ut(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Gt(e){return this.utcOffset(0,e)}function qt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Wt(this),"m")),this}function jt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Rt(this._i)),this}function zt(e){return e=e?Tt(e).utcOffset():0,(this.utcOffset()-e)%60===0}function Kt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ht(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var e={};if(h(e,this),e=$t(e),e._a){var t=e._isUTC?l(e._a):Tt(e._a);this._isDSTShifted=this.isValid()&&y(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Vt(){return!this._isUTC}function Yt(){return this._isUTC}function Qt(){return this._isUTC&&0===this._offset}function Zt(e,t){var n,r,i,o=e,s=null;return Lt(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(o={},t?o[t]=e:o.milliseconds=e):(s=_i.exec(e))?(n="-"===s[1]?-1:1,o={y:0,d:v(s[ui])*n,h:v(s[ci])*n,m:v(s[di])*n,s:v(s[pi])*n,ms:v(s[hi])*n}):(s=$i.exec(e))?(n="-"===s[1]?-1:1,o={y:Jt(s[2],n),M:Jt(s[3],n),d:Jt(s[4],n),h:Jt(s[5],n),m:Jt(s[6],n),s:Jt(s[7],n),w:Jt(s[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=en(Tt(o.from),Tt(o.to)),o={},o.ms=i.milliseconds,o.M=i.months),r=new Et(o),Lt(e)&&a(e,"_locale")&&(r._locale=e._locale),r}function Jt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Xt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function en(e,t){var n;return t=Nt(t,e),e.isBefore(t)?n=Xt(e,t):(n=Xt(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function tn(e,t){return function(n,r){var i,o;return null===r||isNaN(+r)||(nt(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),o=n,n=r,r=o),n="string"==typeof n?+n:n,i=Zt(n,r),nn(this,i,e),this}}function nn(t,n,r,i){var o=n._milliseconds,a=n._days,s=n._months;i=null==i?!0:i,o&&t._d.setTime(+t._d+o*r),a&&F(t,"Date",T(t,"Date")+a*r),s&&Q(t,T(t,"Month")+s*r),i&&e.updateOffset(t,a||s)}function rn(e,t){var n=e||Tt(),r=Nt(n,this).startOf("day"),i=this.diff(r,"days",!0),o=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse";return this.format(t&&t[o]||this.localeData().calendar(o,this,Tt(n)))}function on(){return new f(this)}function an(e,t){var n;return t=$("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=g(e)?e:Tt(e),+this>+e):(n=g(e)?+e:+Tt(e),n<+this.clone().startOf(t))}function sn(e,t){var n;return t=$("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=g(e)?e:Tt(e),+e>+this):(n=g(e)?+e:+Tt(e),+this.clone().endOf(t)<n)}function ln(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)}function un(e,t){var n;return t=$(t||"millisecond"),"millisecond"===t?(e=g(e)?e:Tt(e),+this===+e):(n=+Tt(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))}function cn(e,t,n){var r,i,o=Nt(e,this),a=6e4*(o.utcOffset()-this.utcOffset());return t=$(t),"year"===t||"month"===t||"quarter"===t?(i=dn(this,o),"quarter"===t?i/=3:"year"===t&&(i/=12)):(r=this-o,i="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-a)/864e5:"week"===t?(r-a)/6048e5:r),n?i:m(i)}function dn(e,t){var n,r,i=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(i,"months");return 0>t-o?(n=e.clone().add(i-1,"months"),r=(t-o)/(o-n)):(n=e.clone().add(i+1,"months"),r=(t-o)/(n-o)),-(i+r)}function pn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function hn(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():R(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):R(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function fn(t){var n=R(this,t||e.defaultFormat);return this.localeData().postformat(n)}function gn(e,t){return this.isValid()?Zt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function mn(e){return this.from(Tt(),e)}function vn(e,t){return this.isValid()?Zt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function yn(e){return this.to(Tt(),e)}function bn(e){var t;return void 0===e?this._locale._abbr:(t=x(e),null!=t&&(this._locale=t),this)}function Sn(){return this._locale}function Dn(e){switch(e=$(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function wn(e){return e=$(e),void 0===e||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")}function An(){return+this._d-6e4*(this._offset||0)}function Cn(){return Math.floor(+this/1e3)}function xn(){return this._offset?new Date(+this):this._d}function _n(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function $n(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function kn(){return d(this)}function Mn(){return s({},c(this))}function Tn(){return c(this).overflow}function Fn(e,t){E(0,[e,e.length],0,t)}function On(e,t,n){return ct(Tt([e,11,31+t-n]),t,n).week}function Pn(e){var t=ct(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")}function En(e){var t=ct(this,1,4).year;return null==e?t:this.add(e-t,"y")}function Ln(){return On(this.year(),1,4)}function In(){var e=this.localeData()._week;return On(this.year(),e.dow,e.doy)}function Rn(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Nn(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Wn(e){return this._weekdays[e.day()]}function Bn(e){return this._weekdaysShort[e.day()]}function Un(e){return this._weekdaysMin[e.day()]}function Gn(e){var t,n,r;for(this._weekdaysParse=this._weekdaysParse||[],t=0;7>t;t++)if(this._weekdaysParse[t]||(n=Tt([2e3,1]).day(t),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t}function qn(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Nn(e,this.localeData()),this.add(e-t,"d")):t}function jn(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function zn(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)}function Kn(e,t){E(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Hn(e,t){return t._meridiemParse}function Vn(e){return"p"===(e+"").toLowerCase().charAt(0)}function Yn(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Qn(e,t){t[hi]=v(1e3*("0."+e))}function Zn(){return this._isUTC?"UTC":""}function Jn(){return this._isUTC?"Coordinated Universal Time":""}function Xn(e){return Tt(1e3*e)}function er(){return Tt.apply(null,arguments).parseZone()}function tr(e,t,n){var r=this._calendar[e];return"function"==typeof r?r.call(t,n):r}function nr(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function rr(){return this._invalidDate}function ir(e){return this._ordinal.replace("%d",e)}function or(e){return e}function ar(e,t,n,r){var i=this._relativeTime[n];return"function"==typeof i?i(e,t,n,r):i.replace(/%d/i,e)}function sr(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)}function lr(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function ur(e,t,n,r){var i=x(),o=l().set(r,t);return i[n](o,e)}function cr(e,t,n,r,i){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return ur(e,t,n,i);var o,a=[];for(o=0;r>o;o++)a[o]=ur(e,o,n,i);return a}function dr(e,t){return cr(e,t,"months",12,"month")}function pr(e,t){return cr(e,t,"monthsShort",12,"month")}function hr(e,t){return cr(e,t,"weekdays",7,"day")}function fr(e,t){return cr(e,t,"weekdaysShort",7,"day")}function gr(e,t){return cr(e,t,"weekdaysMin",7,"day")}function mr(){var e=this._data;return this._milliseconds=Qi(this._milliseconds),this._days=Qi(this._days),this._months=Qi(this._months),e.milliseconds=Qi(e.milliseconds),e.seconds=Qi(e.seconds),e.minutes=Qi(e.minutes),e.hours=Qi(e.hours),e.months=Qi(e.months),e.years=Qi(e.years),this}function vr(e,t,n,r){var i=Zt(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function yr(e,t){return vr(this,e,t,1)}function br(e,t){return vr(this,e,t,-1)}function Sr(e){return 0>e?Math.floor(e):Math.ceil(e)}function Dr(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||0>=o&&0>=a&&0>=s||(o+=864e5*Sr(Ar(s)+a),a=0,s=0),l.milliseconds=o%1e3,e=m(o/1e3),l.seconds=e%60,t=m(e/60),l.minutes=t%60,n=m(t/60),l.hours=n%24,a+=m(n/24),i=m(wr(a)),s+=i,a-=Sr(Ar(i)),r=m(s/12),s%=12,l.days=a,l.months=s,l.years=r,this}function wr(e){return 4800*e/146097}function Ar(e){return 146097*e/4800}function Cr(e){var t,n,r=this._milliseconds;if(e=$(e),"month"===e||"year"===e)return t=this._days+r/864e5,n=this._months+wr(t),"month"===e?n:n/12;switch(t=this._days+Math.round(Ar(this._months)),e){case"week":return t/7+r/6048e5;
case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function xr(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12)}function _r(e){return function(){return this.as(e)}}function $r(e){return e=$(e),this[e+"s"]()}function kr(e){return function(){return this._data[e]}}function Mr(){return m(this.days()/7)}function Tr(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function Fr(e,t,n){var r=Zt(e).abs(),i=ho(r.as("s")),o=ho(r.as("m")),a=ho(r.as("h")),s=ho(r.as("d")),l=ho(r.as("M")),u=ho(r.as("y")),c=i<fo.s&&["s",i]||1===o&&["m"]||o<fo.m&&["mm",o]||1===a&&["h"]||a<fo.h&&["hh",a]||1===s&&["d"]||s<fo.d&&["dd",s]||1===l&&["M"]||l<fo.M&&["MM",l]||1===u&&["y"]||["yy",u];return c[2]=t,c[3]=+e>0,c[4]=n,Tr.apply(null,c)}function Or(e,t){return void 0===fo[e]?!1:void 0===t?fo[e]:(fo[e]=t,!0)}function Pr(e){var t=this.localeData(),n=Fr(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function Er(){var e,t,n,r=go(this._milliseconds)/1e3,i=go(this._days),o=go(this._months);e=m(r/60),t=m(e/60),r%=60,e%=60,n=m(o/12),o%=12;var a=n,s=o,l=i,u=t,c=e,d=r,p=this.asSeconds();return p?(0>p?"-":"")+"P"+(a?a+"Y":"")+(s?s+"M":"")+(l?l+"D":"")+(u||c||d?"T":"")+(u?u+"H":"")+(c?c+"M":"")+(d?d+"S":""):"P0D"}var Lr,Ir,Rr=e.momentProperties=[],Nr=!1,Wr={},Br={},Ur=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Gr=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,qr={},jr={},zr=/\d/,Kr=/\d\d/,Hr=/\d{3}/,Vr=/\d{4}/,Yr=/[+-]?\d{6}/,Qr=/\d\d?/,Zr=/\d{1,3}/,Jr=/\d{1,4}/,Xr=/[+-]?\d{1,6}/,ei=/\d+/,ti=/[+-]?\d+/,ni=/Z|[+-]\d\d:?\d\d/gi,ri=/[+-]?\d+(\.\d{1,3})?/,ii=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,oi={},ai={},si=0,li=1,ui=2,ci=3,di=4,pi=5,hi=6;E("M",["MM",2],"Mo",function(){return this.month()+1}),E("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),E("MMMM",0,0,function(e){return this.localeData().months(this,e)}),_("month","M"),B("M",Qr),B("MM",Qr,Kr),B("MMM",ii),B("MMMM",ii),q(["M","MM"],function(e,t){t[li]=v(e)-1}),q(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[li]=i:c(n).invalidMonth=e});var fi="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),gi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),mi={};e.suppressDeprecationWarnings=!1;var vi=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],bi=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Si=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=tt("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),E(0,["YY",2],0,function(){return this.year()%100}),E(0,["YYYY",4],0,"year"),E(0,["YYYYY",5],0,"year"),E(0,["YYYYYY",6,!0],0,"year"),_("year","y"),B("Y",ti),B("YY",Qr,Kr),B("YYYY",Jr,Vr),B("YYYYY",Xr,Yr),B("YYYYYY",Xr,Yr),q(["YYYYY","YYYYYY"],si),q("YYYY",function(t,n){n[si]=2===t.length?e.parseTwoDigitYear(t):v(t)}),q("YY",function(t,n){n[si]=e.parseTwoDigitYear(t)}),e.parseTwoDigitYear=function(e){return v(e)+(v(e)>68?1900:2e3)};var Di=M("FullYear",!1);E("w",["ww",2],"wo","week"),E("W",["WW",2],"Wo","isoWeek"),_("week","w"),_("isoWeek","W"),B("w",Qr),B("ww",Qr,Kr),B("W",Qr),B("WW",Qr,Kr),j(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=v(e)});var wi={dow:0,doy:6};E("DDD",["DDDD",3],"DDDo","dayOfYear"),_("dayOfYear","DDD"),B("DDD",Zr),B("DDDD",Hr),q(["DDD","DDDD"],function(e,t,n){n._dayOfYear=v(e)}),e.ISO_8601=function(){};var Ai=tt("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=Tt.apply(null,arguments);return this>e?this:e}),Ci=tt("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=Tt.apply(null,arguments);return e>this?this:e});It("Z",":"),It("ZZ",""),B("Z",ni),B("ZZ",ni),q(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Rt(e)});var xi=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var _i=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,$i=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Zt.fn=Et.prototype;var ki=tn(1,"add"),Mi=tn(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Ti=tt("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});E(0,["gg",2],0,function(){return this.weekYear()%100}),E(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Fn("gggg","weekYear"),Fn("ggggg","weekYear"),Fn("GGGG","isoWeekYear"),Fn("GGGGG","isoWeekYear"),_("weekYear","gg"),_("isoWeekYear","GG"),B("G",ti),B("g",ti),B("GG",Qr,Kr),B("gg",Qr,Kr),B("GGGG",Jr,Vr),B("gggg",Jr,Vr),B("GGGGG",Xr,Yr),B("ggggg",Xr,Yr),j(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=v(e)}),j(["gg","GG"],function(t,n,r,i){n[i]=e.parseTwoDigitYear(t)}),E("Q",0,0,"quarter"),_("quarter","Q"),B("Q",zr),q("Q",function(e,t){t[li]=3*(v(e)-1)}),E("D",["DD",2],"Do","date"),_("date","D"),B("D",Qr),B("DD",Qr,Kr),B("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),q(["D","DD"],ui),q("Do",function(e,t){t[ui]=v(e.match(Qr)[0],10)});var Fi=M("Date",!0);E("d",0,"do","day"),E("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),E("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),E("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),E("e",0,0,"weekday"),E("E",0,0,"isoWeekday"),_("day","d"),_("weekday","e"),_("isoWeekday","E"),B("d",Qr),B("e",Qr),B("E",Qr),B("dd",ii),B("ddd",ii),B("dddd",ii),j(["dd","ddd","dddd"],function(e,t,n){var r=n._locale.weekdaysParse(e);null!=r?t.d=r:c(n).invalidWeekday=e}),j(["d","e","E"],function(e,t,n,r){t[r]=v(e)});var Oi="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Pi="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ei="Su_Mo_Tu_We_Th_Fr_Sa".split("_");E("H",["HH",2],0,"hour"),E("h",["hh",2],0,function(){return this.hours()%12||12}),Kn("a",!0),Kn("A",!1),_("hour","h"),B("a",Hn),B("A",Hn),B("H",Qr),B("h",Qr),B("HH",Qr,Kr),B("hh",Qr,Kr),q(["H","HH"],ci),q(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),q(["h","hh"],function(e,t,n){t[ci]=v(e),c(n).bigHour=!0});var Li=/[ap]\.?m?\.?/i,Ii=M("Hours",!0);E("m",["mm",2],0,"minute"),_("minute","m"),B("m",Qr),B("mm",Qr,Kr),q(["m","mm"],di);var Ri=M("Minutes",!1);E("s",["ss",2],0,"second"),_("second","s"),B("s",Qr),B("ss",Qr,Kr),q(["s","ss"],pi);var Ni=M("Seconds",!1);E("S",0,0,function(){return~~(this.millisecond()/100)}),E(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),E(0,["SSS",3],0,"millisecond"),E(0,["SSSS",4],0,function(){return 10*this.millisecond()}),E(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),E(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),E(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),E(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),E(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),_("millisecond","ms"),B("S",Zr,zr),B("SS",Zr,Kr),B("SSS",Zr,Hr);var Wi;for(Wi="SSSS";Wi.length<=9;Wi+="S")B(Wi,ei);for(Wi="S";Wi.length<=9;Wi+="S")q(Wi,Qn);var Bi=M("Milliseconds",!1);E("z",0,0,"zoneAbbr"),E("zz",0,0,"zoneName");var Ui=f.prototype;Ui.add=ki,Ui.calendar=rn,Ui.clone=on,Ui.diff=cn,Ui.endOf=wn,Ui.format=fn,Ui.from=gn,Ui.fromNow=mn,Ui.to=vn,Ui.toNow=yn,Ui.get=O,Ui.invalidAt=Tn,Ui.isAfter=an,Ui.isBefore=sn,Ui.isBetween=ln,Ui.isSame=un,Ui.isValid=kn,Ui.lang=Ti,Ui.locale=bn,Ui.localeData=Sn,Ui.max=Ci,Ui.min=Ai,Ui.parsingFlags=Mn,Ui.set=O,Ui.startOf=Dn,Ui.subtract=Mi,Ui.toArray=_n,Ui.toObject=$n,Ui.toDate=xn,Ui.toISOString=hn,Ui.toJSON=hn,Ui.toString=pn,Ui.unix=Cn,Ui.valueOf=An,Ui.year=Di,Ui.isLeapYear=ut,Ui.weekYear=Pn,Ui.isoWeekYear=En,Ui.quarter=Ui.quarters=Rn,Ui.month=Z,Ui.daysInMonth=J,Ui.week=Ui.weeks=ft,Ui.isoWeek=Ui.isoWeeks=gt,Ui.weeksInYear=In,Ui.isoWeeksInYear=Ln,Ui.date=Fi,Ui.day=Ui.days=qn,Ui.weekday=jn,Ui.isoWeekday=zn,Ui.dayOfYear=vt,Ui.hour=Ui.hours=Ii,Ui.minute=Ui.minutes=Ri,Ui.second=Ui.seconds=Ni,Ui.millisecond=Ui.milliseconds=Bi,Ui.utcOffset=Bt,Ui.utc=Gt,Ui.local=qt,Ui.parseZone=jt,Ui.hasAlignedHourOffset=zt,Ui.isDST=Kt,Ui.isDSTShifted=Ht,Ui.isLocal=Vt,Ui.isUtcOffset=Yt,Ui.isUtc=Qt,Ui.isUTC=Qt,Ui.zoneAbbr=Zn,Ui.zoneName=Jn,Ui.dates=tt("dates accessor is deprecated. Use date instead.",Fi),Ui.months=tt("months accessor is deprecated. Use month instead",Z),Ui.years=tt("years accessor is deprecated. Use year instead",Di),Ui.zone=tt("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Ut);var Gi=Ui,qi={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},ji={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},zi="Invalid date",Ki="%d",Hi=/\d{1,2}/,Vi={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Yi=b.prototype;Yi._calendar=qi,Yi.calendar=tr,Yi._longDateFormat=ji,Yi.longDateFormat=nr,Yi._invalidDate=zi,Yi.invalidDate=rr,Yi._ordinal=Ki,Yi.ordinal=ir,Yi._ordinalParse=Hi,Yi.preparse=or,Yi.postformat=or,Yi._relativeTime=Vi,Yi.relativeTime=ar,Yi.pastFuture=sr,Yi.set=lr,Yi.months=H,Yi._months=fi,Yi.monthsShort=V,Yi._monthsShort=gi,Yi.monthsParse=Y,Yi.week=dt,Yi._week=wi,Yi.firstDayOfYear=ht,Yi.firstDayOfWeek=pt,Yi.weekdays=Wn,Yi._weekdays=Oi,Yi.weekdaysMin=Un,Yi._weekdaysMin=Ei,Yi.weekdaysShort=Bn,Yi._weekdaysShort=Pi,Yi.weekdaysParse=Gn,Yi.isPM=Vn,Yi._meridiemParse=Li,Yi.meridiem=Yn,A("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===v(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=tt("moment.lang is deprecated. Use moment.locale instead.",A),e.langData=tt("moment.langData is deprecated. Use moment.localeData instead.",x);var Qi=Math.abs,Zi=_r("ms"),Ji=_r("s"),Xi=_r("m"),eo=_r("h"),to=_r("d"),no=_r("w"),ro=_r("M"),io=_r("y"),oo=kr("milliseconds"),ao=kr("seconds"),so=kr("minutes"),lo=kr("hours"),uo=kr("days"),co=kr("months"),po=kr("years"),ho=Math.round,fo={s:45,m:45,h:22,d:26,M:11},go=Math.abs,mo=Et.prototype;mo.abs=mr,mo.add=yr,mo.subtract=br,mo.as=Cr,mo.asMilliseconds=Zi,mo.asSeconds=Ji,mo.asMinutes=Xi,mo.asHours=eo,mo.asDays=to,mo.asWeeks=no,mo.asMonths=ro,mo.asYears=io,mo.valueOf=xr,mo._bubble=Dr,mo.get=$r,mo.milliseconds=oo,mo.seconds=ao,mo.minutes=so,mo.hours=lo,mo.days=uo,mo.weeks=Mr,mo.months=co,mo.years=po,mo.humanize=Pr,mo.toISOString=Er,mo.toString=Er,mo.toJSON=Er,mo.locale=bn,mo.localeData=Sn,mo.toIsoString=tt("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Er),mo.lang=Ti,E("X",0,0,"unix"),E("x",0,0,"valueOf"),B("x",ti),B("X",ri),q("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),q("x",function(e,t,n){n._d=new Date(v(e))}),e.version="2.10.6",n(Tt),e.fn=Gi,e.min=Ot,e.max=Pt,e.utc=l,e.unix=Xn,e.months=dr,e.isDate=i,e.locale=A,e.invalid=p,e.duration=Zt,e.isMoment=g,e.weekdays=hr,e.parseZone=er,e.localeData=x,e.isDuration=Lt,e.monthsShort=pr,e.weekdaysMin=gr,e.defineLocale=C,e.weekdaysShort=fr,e.normalizeUnits=$,e.relativeTimeThreshold=Or;var vo=e;return vo}),function(){function e(e,t){if(e!==t){var n=null===e,r=e===A,i=e===e,o=null===t,a=t===A,s=t===t;if(e>t&&!o||!i||n&&!a&&s||r&&s)return 1;if(t>e&&!n||!s||o&&!r&&i||a&&i)return-1}return 0}function t(e,t,n){for(var r=e.length,i=n?r:-1;n?i--:++i<r;)if(t(e[i],i,e))return i;return-1}function r(e,t,n){if(t!==t)return f(e,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function i(e){return"function"==typeof e||!1}function o(e){return null==e?"":e+""}function a(e,t){for(var n=-1,r=e.length;++n<r&&t.indexOf(e.charAt(n))>-1;);return n}function s(e,t){for(var n=e.length;n--&&t.indexOf(e.charAt(n))>-1;);return n}function l(t,n){return e(t.criteria,n.criteria)||t.index-n.index}function u(t,n,r){for(var i=-1,o=t.criteria,a=n.criteria,s=o.length,l=r.length;++i<s;){var u=e(o[i],a[i]);if(u){if(i>=l)return u;var c=r[i];return u*("asc"===c||c===!0?1:-1)}}return t.index-n.index}function c(e){return Gt[e]}function d(e){return qt[e]}function p(e,t,n){return t?e=Kt[e]:n&&(e=Ht[e]),"\\"+e}function h(e){return"\\"+Ht[e]}function f(e,t,n){for(var r=e.length,i=t+(n?0:-1);n?i--:++i<r;){var o=e[i];if(o!==o)return i}return-1}function g(e){return!!e&&"object"==typeof e}function m(e){return 160>=e&&e>=9&&13>=e||32==e||160==e||5760==e||6158==e||e>=8192&&(8202>=e||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function v(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;)e[n]===t&&(e[n]=G,o[++i]=n);return o}function y(e,t){for(var n,r=-1,i=e.length,o=-1,a=[];++r<i;){var s=e[r],l=t?t(s,r,e):s;r&&n===l||(n=l,a[++o]=s)}return a}function b(e){for(var t=-1,n=e.length;++t<n&&m(e.charCodeAt(t)););return t}function S(e){for(var t=e.length;t--&&m(e.charCodeAt(t)););return t}function D(e){return jt[e]}function w(n){function m(e){if(g(e)&&!Ml(e)&&!(e instanceof tt)){if(e instanceof X)return e;if(ts.call(e,"__chain__")&&ts.call(e,"__wrapped__"))return hi(e)}return new X(e)}function Y(){}function X(e,t,n){this.__wrapped__=e,this.__actions__=n||[],this.__chain__=!!t}function tt(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ks,this.__views__=[]}function Gt(){var e=new tt(this.__wrapped__);return e.__actions__=nn(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=nn(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=nn(this.__views__),e}function qt(){if(this.__filtered__){var e=new tt(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function jt(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ml(e),r=0>t,i=n?e.length:0,o=Kr(0,i,this.__views__),a=o.start,s=o.end,l=s-a,u=r?s:a-1,c=this.__iteratees__,d=c.length,p=0,h=As(l,this.__takeCount__);if(!n||N>i||i==l&&h==l)return rr(e,this.__actions__);var f=[];e:for(;l--&&h>p;){u+=t;for(var g=-1,m=e[u];++g<d;){var v=c[g],y=v.iteratee,b=v.type,S=y(m);if(b==B)m=S;else if(!S){if(b==W)continue e;break e}}f[p++]=m}return f}function zt(){this.__data__={}}function Kt(e){return this.has(e)&&delete this.__data__[e]}function Ht(e){return"__proto__"==e?A:this.__data__[e]}function Vt(e){return"__proto__"!=e&&ts.call(this.__data__,e)}function Yt(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this}function Qt(e){var t=e?e.length:0;for(this.data={hash:vs(null),set:new ds};t--;)this.push(e[t])}function Zt(e,t){var n=e.data,r="string"==typeof t||Lo(t)?n.set.has(t):n.hash[t];return r?0:-1}function Jt(e){var t=this.data;"string"==typeof e||Lo(e)?t.set.add(e):t.hash[e]=!0}function Xt(e,t){for(var n=-1,r=e.length,i=-1,o=t.length,a=Ua(r+o);++n<r;)a[n]=e[n];for(;++i<o;)a[n++]=t[i];return a}function nn(e,t){var n=-1,r=e.length;for(t||(t=Ua(r));++n<r;)t[n]=e[n];return t}function rn(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function on(e,t){for(var n=e.length;n--&&t(e[n],n,e)!==!1;);return e}function an(e,t){for(var n=-1,r=e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function sn(e,t,n,r){for(var i=-1,o=e.length,a=r,s=a;++i<o;){var l=e[i],u=+t(l);n(u,a)&&(a=u,s=l)}return s}function ln(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[++i]=a)}return o}function un(e,t){for(var n=-1,r=e.length,i=Ua(r);++n<r;)i[n]=t(e[n],n,e);return i}function cn(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function dn(e,t,n,r){var i=-1,o=e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function pn(e,t,n,r){var i=e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function hn(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function fn(e,t){for(var n=e.length,r=0;n--;)r+=+t(e[n])||0;return r}function gn(e,t){return e===A?t:e}function mn(e,t,n,r){return e!==A&&ts.call(r,n)?e:t}function vn(e,t,n){for(var r=-1,i=Bl(t),o=i.length;++r<o;){var a=i[r],s=e[a],l=n(s,t[a],a,e,t);(l===l?l===s:s!==s)&&(s!==A||a in e)||(e[a]=l)}return e}function yn(e,t){return null==t?e:Sn(t,Bl(t),e)}function bn(e,t){for(var n=-1,r=null==e,i=!r&&Zr(e),o=i?e.length:0,a=t.length,s=Ua(a);++n<a;){var l=t[n];s[n]=i?Jr(l,o)?e[l]:A:r?A:e[l]}return s}function Sn(e,t,n){n||(n={});for(var r=-1,i=t.length;++r<i;){var o=t[r];n[o]=e[o]}return n}function Dn(e,t,n){var r=typeof e;return"function"==r?t===A?e:ar(e,t,n):null==e?ka:"object"==r?Bn(e):t===A?Ea(e):Un(e,t)}function wn(e,t,n,r,i,o,a){var s;if(n&&(s=i?n(e,r,i):n(e)),s!==A)return s;if(!Lo(e))return e;var l=Ml(e);if(l){if(s=Hr(e),!t)return nn(e,s)}else{var u=rs.call(e),c=u==V;if(u!=Z&&u!=q&&(!c||i))return Ut[u]?Yr(e,u,t):i?e:{};if(s=Vr(c?{}:e),!t)return yn(s,e)}o||(o=[]),a||(a=[]);for(var d=o.length;d--;)if(o[d]==e)return a[d];return o.push(e),a.push(s),(l?rn:On)(e,function(r,i){s[i]=wn(r,t,n,i,e,o,a)}),s}function An(e,t,n){if("function"!=typeof e)throw new Qa(U);return ps(function(){e.apply(A,n)},t)}function Cn(e,t){var n=e?e.length:0,i=[];if(!n)return i;var o=-1,a=qr(),s=a===r,l=s&&t.length>=N?gr(t):null,u=t.length;l&&(a=Zt,s=!1,t=l);e:for(;++o<n;){var c=e[o];if(s&&c===c){for(var d=u;d--;)if(t[d]===c)continue e;i.push(c)}else a(t,c,0)<0&&i.push(c)}return i}function xn(e,t){var n=!0;return Is(e,function(e,r,i){return n=!!t(e,r,i)}),n}function _n(e,t,n,r){var i=r,o=i;return Is(e,function(e,a,s){var l=+t(e,a,s);(n(l,i)||l===r&&l===o)&&(i=l,o=e)}),o}function $n(e,t,n,r){var i=e.length;for(n=null==n?0:+n||0,0>n&&(n=-n>i?0:i+n),r=r===A||r>i?i:+r||0,0>r&&(r+=i),i=n>r?0:r>>>0,n>>>=0;i>n;)e[n++]=t;return e}function kn(e,t){var n=[];return Is(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function Mn(e,t,n,r){var i;return n(e,function(e,n,o){return t(e,n,o)?(i=r?n:e,!1):void 0}),i}function Tn(e,t,n,r){r||(r=[]);for(var i=-1,o=e.length;++i<o;){var a=e[i];g(a)&&Zr(a)&&(n||Ml(a)||_o(a))?t?Tn(a,t,n,r):cn(r,a):n||(r[r.length]=a)}return r}function Fn(e,t){return Ns(e,t,ta)}function On(e,t){return Ns(e,t,Bl)}function Pn(e,t){return Ws(e,t,Bl)}function En(e,t){for(var n=-1,r=t.length,i=-1,o=[];++n<r;){var a=t[n];Eo(e[a])&&(o[++i]=a)}return o}function Ln(e,t,n){if(null!=e){n!==A&&n in di(e)&&(t=[n]);for(var r=0,i=t.length;null!=e&&i>r;)e=e[t[r++]];return r&&r==i?e:A}}function In(e,t,n,r,i,o){return e===t?!0:null==e||null==t||!Lo(e)&&!g(t)?e!==e&&t!==t:Rn(e,t,In,n,r,i,o)}function Rn(e,t,n,r,i,o,a){var s=Ml(e),l=Ml(t),u=j,c=j;s||(u=rs.call(e),u==q?u=Z:u!=Z&&(s=jo(e))),l||(c=rs.call(t),c==q?c=Z:c!=Z&&(l=jo(t)));var d=u==Z,p=c==Z,h=u==c;if(h&&!s&&!d)return Wr(e,t,u);if(!i){var f=d&&ts.call(e,"__wrapped__"),g=p&&ts.call(t,"__wrapped__");if(f||g)return n(f?e.value():e,g?t.value():t,r,i,o,a)}if(!h)return!1;o||(o=[]),a||(a=[]);for(var m=o.length;m--;)if(o[m]==e)return a[m]==t;o.push(e),a.push(t);var v=(s?Nr:Br)(e,t,n,r,i,o,a);return o.pop(),a.pop(),v}function Nn(e,t,n){var r=t.length,i=r,o=!n;if(null==e)return!i;for(e=di(e);r--;){var a=t[r];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++r<i;){a=t[r];var s=a[0],l=e[s],u=a[1];if(o&&a[2]){if(l===A&&!(s in e))return!1}else{var c=n?n(l,u,s):A;if(!(c===A?In(u,l,n,!0):c))return!1}}return!0}function Wn(e,t){var n=-1,r=Zr(e)?Ua(e.length):[];return Is(e,function(e,i,o){r[++n]=t(e,i,o)}),r}function Bn(e){var t=jr(e);if(1==t.length&&t[0][2]){var n=t[0][0],r=t[0][1];return function(e){return null==e?!1:e[n]===r&&(r!==A||n in di(e))}}return function(e){return Nn(e,t)}}function Un(e,t){var n=Ml(e),r=ei(e)&&ri(t),i=e+"";return e=pi(e),function(o){if(null==o)return!1;var a=i;if(o=di(o),!(!n&&r||a in o)){if(o=1==e.length?o:Ln(o,Yn(e,0,-1)),null==o)return!1;a=_i(e),o=di(o)}return o[a]===t?t!==A||a in o:In(t,o[a],A,!0)}}function Gn(e,t,n,r,i){if(!Lo(e))return e;var o=Zr(t)&&(Ml(t)||jo(t)),a=o?A:Bl(t);return rn(a||t,function(s,l){if(a&&(l=s,s=t[l]),g(s))r||(r=[]),i||(i=[]),qn(e,t,l,Gn,n,r,i);else{var u=e[l],c=n?n(u,s,l,e,t):A,d=c===A;d&&(c=s),c===A&&(!o||l in e)||!d&&(c===c?c===u:u!==u)||(e[l]=c)}}),e}function qn(e,t,n,r,i,o,a){for(var s=o.length,l=t[n];s--;)if(o[s]==l)return void(e[n]=a[s]);var u=e[n],c=i?i(u,l,n,e,t):A,d=c===A;d&&(c=l,Zr(l)&&(Ml(l)||jo(l))?c=Ml(u)?u:Zr(u)?nn(u):[]:Uo(l)||_o(l)?c=_o(u)?Yo(u):Uo(u)?u:{}:d=!1),o.push(l),a.push(c),d?e[n]=r(c,l,i,o,a):(c===c?c!==u:u===u)&&(e[n]=c)}function jn(e){return function(t){return null==t?A:t[e]}}function zn(e){var t=e+"";return e=pi(e),function(n){return Ln(n,e,t)}}function Kn(e,t){for(var n=e?t.length:0;n--;){var r=t[n];if(r!=i&&Jr(r)){var i=r;hs.call(e,r,1)}}return e}function Hn(e,t){return e+ys(_s()*(t-e+1))}function Vn(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function Yn(e,t,n){var r=-1,i=e.length;t=null==t?0:+t||0,0>t&&(t=-t>i?0:i+t),n=n===A||n>i?i:+n||0,0>n&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Ua(i);++r<i;)o[r]=e[r+t];return o}function Qn(e,t){var n;return Is(e,function(e,r,i){return n=t(e,r,i),!n}),!!n}function Zn(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function Jn(e,t,n){var r=Ur(),i=-1;t=un(t,function(e){return r(e)});var o=Wn(e,function(e){var n=un(t,function(t){return t(e)});return{criteria:n,index:++i,value:e}});return Zn(o,function(e,t){return u(e,t,n)})}function Xn(e,t){var n=0;return Is(e,function(e,r,i){n+=+t(e,r,i)||0}),n}function er(e,t){var n=-1,i=qr(),o=e.length,a=i===r,s=a&&o>=N,l=s?gr():null,u=[];l?(i=Zt,a=!1):(s=!1,l=t?[]:u);e:for(;++n<o;){var c=e[n],d=t?t(c,n,e):c;if(a&&c===c){for(var p=l.length;p--;)if(l[p]===d)continue e;t&&l.push(d),u.push(c)}else i(l,d,0)<0&&((t||s)&&l.push(d),u.push(c))}return u}function tr(e,t){for(var n=-1,r=t.length,i=Ua(r);++n<r;)i[n]=e[t[n]];return i}function nr(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Yn(e,r?0:o,r?o+1:i):Yn(e,r?o+1:0,r?i:o)}function rr(e,t){var n=e;n instanceof tt&&(n=n.value());for(var r=-1,i=t.length;++r<i;){var o=t[r];n=o.func.apply(o.thisArg,cn([n],o.args))}return n}function ir(e,t,n){var r=0,i=e?e.length:r;if("number"==typeof t&&t===t&&Fs>=i){for(;i>r;){var o=r+i>>>1,a=e[o];(n?t>=a:t>a)&&null!==a?r=o+1:i=o}return i}return or(e,t,ka,n)}function or(e,t,n,r){t=n(t);for(var i=0,o=e?e.length:0,a=t!==t,s=null===t,l=t===A;o>i;){var u=ys((i+o)/2),c=n(e[u]),d=c!==A,p=c===c;if(a)var h=p||r;else h=s?p&&d&&(r||null!=c):l?p&&(r||d):null==c?!1:r?t>=c:t>c;h?i=u+1:o=u}return As(o,Ts)}function ar(e,t,n){if("function"!=typeof e)return ka;if(t===A)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)};case 5:return function(n,r,i,o,a){return e.call(t,n,r,i,o,a)}}return function(){return e.apply(t,arguments)}}function sr(e){var t=new as(e.byteLength),n=new fs(t);return n.set(new fs(e)),t}function lr(e,t,n){for(var r=n.length,i=-1,o=ws(e.length-r,0),a=-1,s=t.length,l=Ua(s+o);++a<s;)l[a]=t[a];for(;++i<r;)l[n[i]]=e[i];for(;o--;)l[a++]=e[i++];return l}function ur(e,t,n){for(var r=-1,i=n.length,o=-1,a=ws(e.length-i,0),s=-1,l=t.length,u=Ua(a+l);++o<a;)u[o]=e[o];for(var c=o;++s<l;)u[c+s]=t[s];for(;++r<i;)u[c+n[r]]=e[o++];return u}function cr(e,t){return function(n,r,i){var o=t?t():{};if(r=Ur(r,i,3),Ml(n))for(var a=-1,s=n.length;++a<s;){var l=n[a];e(o,l,r(l,a,n),n)}else Is(n,function(t,n,i){e(o,t,r(t,n,i),i)});return o}}function dr(e){return yo(function(t,n){var r=-1,i=null==t?0:n.length,o=i>2?n[i-2]:A,a=i>2?n[2]:A,s=i>1?n[i-1]:A;for("function"==typeof o?(o=ar(o,s,5),i-=2):(o="function"==typeof s?s:A,i-=o?1:0),a&&Xr(n[0],n[1],a)&&(o=3>i?A:o,i=1);++r<i;){var l=n[r];l&&e(t,l,o)}return t})}function pr(e,t){return function(n,r){var i=n?Gs(n):0;if(!ni(i))return e(n,r);for(var o=t?i:-1,a=di(n);(t?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}function hr(e){return function(t,n,r){for(var i=di(t),o=r(t),a=o.length,s=e?a:-1;e?s--:++s<a;){var l=o[s];if(n(i[l],l,i)===!1)break}return t}}function fr(e,t){function n(){var i=this&&this!==en&&this instanceof n?r:e;return i.apply(t,arguments)}var r=vr(e);return n}function gr(e){return vs&&ds?new Qt(e):null}function mr(e){return function(t){for(var n=-1,r=xa(da(t)),i=r.length,o="";++n<i;)o=e(o,r[n],n);return o}}function vr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Ls(e.prototype),r=e.apply(n,t);return Lo(r)?r:n}}function yr(e){function t(n,r,i){i&&Xr(n,r,i)&&(r=A);var o=Rr(n,e,A,A,A,A,A,r);return o.placeholder=t.placeholder,o}return t}function br(e,t){return yo(function(n){var r=n[0];return null==r?r:(n.push(t),e.apply(A,n))})}function Sr(e,t){return function(n,r,i){if(i&&Xr(n,r,i)&&(r=A),r=Ur(r,i,3),1==r.length){n=Ml(n)?n:ci(n);var o=sn(n,r,e,t);if(!n.length||o!==t)return o}return _n(n,r,e,t)}}function Dr(e,n){return function(r,i,o){if(i=Ur(i,o,3),Ml(r)){var a=t(r,i,n);return a>-1?r[a]:A}return Mn(r,i,e)}}function wr(e){return function(n,r,i){return n&&n.length?(r=Ur(r,i,3),t(n,r,e)):-1}}function Ar(e){return function(t,n,r){return n=Ur(n,r,3),Mn(t,n,e,!0)}}function Cr(e){return function(){for(var t,n=arguments.length,r=e?n:-1,i=0,o=Ua(n);e?r--:++r<n;){var a=o[i++]=arguments[r];if("function"!=typeof a)throw new Qa(U);!t&&X.prototype.thru&&"wrapper"==Gr(a)&&(t=new X([],!0))}for(r=t?-1:n;++r<n;){a=o[r];var s=Gr(a),l="wrapper"==s?Us(a):A;t=l&&ti(l[0])&&l[1]==(O|k|T|P)&&!l[4].length&&1==l[9]?t[Gr(l[0])].apply(t,l[3]):1==a.length&&ti(a)?t[s]():t.thru(a)}return function(){var e=arguments,r=e[0];if(t&&1==e.length&&Ml(r)&&r.length>=N)return t.plant(r).value();for(var i=0,a=n?o[i].apply(this,e):r;++i<n;)a=o[i].call(this,a);return a}}}function xr(e,t){return function(n,r,i){return"function"==typeof r&&i===A&&Ml(n)?e(n,r):t(n,ar(r,i,3))}}function _r(e){return function(t,n,r){return("function"!=typeof n||r!==A)&&(n=ar(n,r,3)),e(t,n,ta)}}function $r(e){return function(t,n,r){return("function"!=typeof n||r!==A)&&(n=ar(n,r,3)),e(t,n)}}function kr(e){return function(t,n,r){var i={};return n=Ur(n,r,3),On(t,function(t,r,o){var a=n(t,r,o);r=e?a:r,t=e?t:a,i[r]=t}),i}}function Mr(e){return function(t,n,r){return t=o(t),(e?t:"")+Pr(t,n,r)+(e?"":t)}}function Tr(e){var t=yo(function(n,r){var i=v(r,t.placeholder);return Rr(n,e,A,r,i)});return t}function Fr(e,t){return function(n,r,i,o){var a=arguments.length<3;return"function"==typeof r&&o===A&&Ml(n)?e(n,r,i,a):Vn(n,Ur(r,o,4),i,a,t)}}function Or(e,t,n,r,i,o,a,s,l,u){function c(){for(var b=arguments.length,S=b,D=Ua(b);S--;)D[S]=arguments[S];if(r&&(D=lr(D,r,i)),o&&(D=ur(D,o,a)),f||m){var w=c.placeholder,C=v(D,w);if(b-=C.length,u>b){var $=s?nn(s):A,k=ws(u-b,0),M=f?C:A,O=f?A:C,P=f?D:A,E=f?A:D;t|=f?T:F,t&=~(f?F:T),g||(t&=~(x|_));var L=[e,t,n,P,M,E,O,$,l,k],I=Or.apply(A,L);return ti(e)&&qs(I,L),I.placeholder=w,I}}var R=p?n:this,N=h?R[e]:e;return s&&(D=li(D,s)),d&&l<D.length&&(D.length=l),this&&this!==en&&this instanceof c&&(N=y||vr(e)),N.apply(R,D)}var d=t&O,p=t&x,h=t&_,f=t&k,g=t&$,m=t&M,y=h?A:vr(e);return c}function Pr(e,t,n){var r=e.length;if(t=+t,r>=t||!Ss(t))return"";var i=t-r;return n=null==n?" ":n+"",va(n,ms(i/n.length)).slice(0,i)}function Er(e,t,n,r){function i(){for(var t=-1,s=arguments.length,l=-1,u=r.length,c=Ua(u+s);++l<u;)c[l]=r[l];for(;s--;)c[l++]=arguments[++t];var d=this&&this!==en&&this instanceof i?a:e;return d.apply(o?n:this,c)}var o=t&x,a=vr(e);return i}function Lr(e){var t=za[e];return function(e,n){return n=n===A?0:+n||0,n?(n=us(10,n),t(e*n)/n):t(e)}}function Ir(e){return function(t,n,r,i){var o=Ur(r);return null==r&&o===Dn?ir(t,n,e):or(t,n,o(r,i,1),e)}}function Rr(e,t,n,r,i,o,a,s){var l=t&_;if(!l&&"function"!=typeof e)throw new Qa(U);var u=r?r.length:0;if(u||(t&=~(T|F),r=i=A),u-=i?i.length:0,t&F){var c=r,d=i;r=i=A}var p=l?A:Us(e),h=[e,t,n,r,i,c,d,o,a,s];if(p&&(ii(h,p),t=h[1],s=h[9]),h[9]=null==s?l?0:e.length:ws(s-u,0)||0,t==x)var f=fr(h[0],h[2]);else f=t!=T&&t!=(x|T)||h[4].length?Or.apply(A,h):Er.apply(A,h);var g=p?Bs:qs;return g(f,h)}function Nr(e,t,n,r,i,o,a){var s=-1,l=e.length,u=t.length;if(l!=u&&!(i&&u>l))return!1;for(;++s<l;){var c=e[s],d=t[s],p=r?r(i?d:c,i?c:d,s):A;if(p!==A){if(p)continue;return!1}if(i){if(!hn(t,function(e){return c===e||n(c,e,r,i,o,a)}))return!1}else if(c!==d&&!n(c,d,r,i,o,a))return!1}return!0}function Wr(e,t,n){switch(n){case z:case K:return+e==+t;case H:return e.name==t.name&&e.message==t.message;case Q:return e!=+e?t!=+t:e==+t;case J:case et:return e==t+""}return!1}function Br(e,t,n,r,i,o,a){var s=Bl(e),l=s.length,u=Bl(t),c=u.length;if(l!=c&&!i)return!1;for(var d=l;d--;){var p=s[d];if(!(i?p in t:ts.call(t,p)))return!1}for(var h=i;++d<l;){p=s[d];var f=e[p],g=t[p],m=r?r(i?g:f,i?f:g,p):A;if(!(m===A?n(f,g,r,i,o,a):m))return!1;h||(h="constructor"==p)}if(!h){var v=e.constructor,y=t.constructor;if(v!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y))return!1}return!0}function Ur(e,t,n){var r=m.callback||_a;return r=r===_a?Dn:r,n?r(e,t,n):r}function Gr(e){for(var t=e.name+"",n=Es[t],r=n?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function qr(e,t,n){var i=m.indexOf||Ci;return i=i===Ci?r:i,e?i(e,t,n):i}function jr(e){for(var t=na(e),n=t.length;n--;)t[n][2]=ri(t[n][1]);return t}function zr(e,t){var n=null==e?A:e[t];return No(n)?n:A}function Kr(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=As(t,e+a);break;case"takeRight":e=ws(e,t-a)}}return{start:e,end:t}}function Hr(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&ts.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Vr(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=Ha),new t}function Yr(e,t,n){var r=e.constructor;switch(t){case nt:return sr(e);case z:case K:return new r(+e);case rt:case it:case ot:case at:case st:case lt:case ut:case ct:case dt:var i=e.buffer;return new r(n?sr(i):i,e.byteOffset,e.length);case Q:case et:return new r(e);case J:var o=new r(e.source,Tt.exec(e));o.lastIndex=e.lastIndex}return o}function Qr(e,t,n){null==e||ei(t,e)||(t=pi(t),e=1==t.length?e:Ln(e,Yn(t,0,-1)),t=_i(t));var r=null==e?e:e[t];return null==r?A:r.apply(e,n)}function Zr(e){return null!=e&&ni(Gs(e))}function Jr(e,t){return e="number"==typeof e||Pt.test(e)?+e:-1,t=null==t?Os:t,e>-1&&e%1==0&&t>e}function Xr(e,t,n){if(!Lo(n))return!1;var r=typeof t;if("number"==r?Zr(n)&&Jr(t,n.length):"string"==r&&t in n){var i=n[t];return e===e?e===i:i!==i}return!1}function ei(e,t){var n=typeof e;if("string"==n&&At.test(e)||"number"==n)return!0;if(Ml(e))return!1;var r=!wt.test(e);return r||null!=t&&e in di(t)}function ti(e){var t=Gr(e),n=m[t];if("function"!=typeof n||!(t in tt.prototype))return!1;if(e===n)return!0;var r=Us(n);return!!r&&e===r[0]}function ni(e){return"number"==typeof e&&e>-1&&e%1==0&&Os>=e}function ri(e){return e===e&&!Lo(e)}function ii(e,t){var n=e[1],r=t[1],i=n|r,o=O>i,a=r==O&&n==k||r==O&&n==P&&e[7].length<=t[8]||r==(O|P)&&n==k;
if(!o&&!a)return e;r&x&&(e[2]=t[2],i|=n&x?0:$);var s=t[3];if(s){var l=e[3];e[3]=l?lr(l,s,t[4]):nn(s),e[4]=l?v(e[3],G):nn(t[4])}return s=t[5],s&&(l=e[5],e[5]=l?ur(l,s,t[6]):nn(s),e[6]=l?v(e[5],G):nn(t[6])),s=t[7],s&&(e[7]=nn(s)),r&O&&(e[8]=null==e[8]?t[8]:As(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function oi(e,t){return e===A?t:Tl(e,t,oi)}function ai(e,t){e=di(e);for(var n=-1,r=t.length,i={};++n<r;){var o=t[n];o in e&&(i[o]=e[o])}return i}function si(e,t){var n={};return Fn(e,function(e,r,i){t(e,r,i)&&(n[r]=e)}),n}function li(e,t){for(var n=e.length,r=As(t.length,n),i=nn(e);r--;){var o=t[r];e[r]=Jr(o,n)?i[o]:A}return e}function ui(e){for(var t=ta(e),n=t.length,r=n&&e.length,i=!!r&&ni(r)&&(Ml(e)||_o(e)),o=-1,a=[];++o<n;){var s=t[o];(i&&Jr(s,r)||ts.call(e,s))&&a.push(s)}return a}function ci(e){return null==e?[]:Zr(e)?Lo(e)?e:Ha(e):aa(e)}function di(e){return Lo(e)?e:Ha(e)}function pi(e){if(Ml(e))return e;var t=[];return o(e).replace(Ct,function(e,n,r,i){t.push(r?i.replace(kt,"$1"):n||e)}),t}function hi(e){return e instanceof tt?e.clone():new X(e.__wrapped__,e.__chain__,nn(e.__actions__))}function fi(e,t,n){t=(n?Xr(e,t,n):null==t)?1:ws(ys(t)||1,1);for(var r=0,i=e?e.length:0,o=-1,a=Ua(ms(i/t));i>r;)a[++o]=Yn(e,r,r+=t);return a}function gi(e){for(var t=-1,n=e?e.length:0,r=-1,i=[];++t<n;){var o=e[t];o&&(i[++r]=o)}return i}function mi(e,t,n){var r=e?e.length:0;return r?((n?Xr(e,t,n):null==t)&&(t=1),Yn(e,0>t?0:t)):[]}function vi(e,t,n){var r=e?e.length:0;return r?((n?Xr(e,t,n):null==t)&&(t=1),t=r-(+t||0),Yn(e,0,0>t?0:t)):[]}function yi(e,t,n){return e&&e.length?nr(e,Ur(t,n,3),!0,!0):[]}function bi(e,t,n){return e&&e.length?nr(e,Ur(t,n,3),!0):[]}function Si(e,t,n,r){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&Xr(e,t,n)&&(n=0,r=i),$n(e,t,n,r)):[]}function Di(e){return e?e[0]:A}function wi(e,t,n){var r=e?e.length:0;return n&&Xr(e,t,n)&&(t=!1),r?Tn(e,t):[]}function Ai(e){var t=e?e.length:0;return t?Tn(e,!0):[]}function Ci(e,t,n){var i=e?e.length:0;if(!i)return-1;if("number"==typeof n)n=0>n?ws(i+n,0):n;else if(n){var o=ir(e,t);return i>o&&(t===t?t===e[o]:e[o]!==e[o])?o:-1}return r(e,t,n||0)}function xi(e){return vi(e,1)}function _i(e){var t=e?e.length:0;return t?e[t-1]:A}function $i(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=r;if("number"==typeof n)i=(0>n?ws(r+n,0):As(n||0,r-1))+1;else if(n){i=ir(e,t,!0)-1;var o=e[i];return(t===t?t===o:o!==o)?i:-1}if(t!==t)return f(e,i,!0);for(;i--;)if(e[i]===t)return i;return-1}function ki(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var n=0,r=qr(),i=e.length;++n<i;)for(var o=0,a=e[n];(o=r(t,a,o))>-1;)hs.call(t,o,1);return t}function Mi(e,t,n){var r=[];if(!e||!e.length)return r;var i=-1,o=[],a=e.length;for(t=Ur(t,n,3);++i<a;){var s=e[i];t(s,i,e)&&(r.push(s),o.push(i))}return Kn(e,o),r}function Ti(e){return mi(e,1)}function Fi(e,t,n){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&Xr(e,t,n)&&(t=0,n=r),Yn(e,t,n)):[]}function Oi(e,t,n){var r=e?e.length:0;return r?((n?Xr(e,t,n):null==t)&&(t=1),Yn(e,0,0>t?0:t)):[]}function Pi(e,t,n){var r=e?e.length:0;return r?((n?Xr(e,t,n):null==t)&&(t=1),t=r-(+t||0),Yn(e,0>t?0:t)):[]}function Ei(e,t,n){return e&&e.length?nr(e,Ur(t,n,3),!1,!0):[]}function Li(e,t,n){return e&&e.length?nr(e,Ur(t,n,3)):[]}function Ii(e,t,n,i){var o=e?e.length:0;if(!o)return[];null!=t&&"boolean"!=typeof t&&(i=n,n=Xr(e,t,i)?A:t,t=!1);var a=Ur();return(null!=n||a!==Dn)&&(n=a(n,i,3)),t&&qr()===r?y(e,n):er(e,n)}function Ri(e){if(!e||!e.length)return[];var t=-1,n=0;e=ln(e,function(e){return Zr(e)?(n=ws(e.length,n),!0):void 0});for(var r=Ua(n);++t<n;)r[t]=un(e,jn(t));return r}function Ni(e,t,n){var r=e?e.length:0;if(!r)return[];var i=Ri(e);return null==t?i:(t=ar(t,n,4),un(i,function(e){return dn(e,t,A,!0)}))}function Wi(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(Zr(n))var r=r?cn(Cn(r,n),Cn(n,r)):n}return r?er(r):[]}function Bi(e,t){var n=-1,r=e?e.length:0,i={};for(!r||t||Ml(e[0])||(t=[]);++n<r;){var o=e[n];t?i[o]=t[n]:o&&(i[o[0]]=o[1])}return i}function Ui(e){var t=m(e);return t.__chain__=!0,t}function Gi(e,t,n){return t.call(n,e),e}function qi(e,t,n){return t.call(n,e)}function ji(){return Ui(this)}function zi(){return new X(this.value(),this.__chain__)}function Ki(e){for(var t,n=this;n instanceof Y;){var r=hi(n);t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t}function Hi(){var e=this.__wrapped__,t=function(e){return e.reverse()};if(e instanceof tt){var n=e;return this.__actions__.length&&(n=new tt(this)),n=n.reverse(),n.__actions__.push({func:qi,args:[t],thisArg:A}),new X(n,this.__chain__)}return this.thru(t)}function Vi(){return this.value()+""}function Yi(){return rr(this.__wrapped__,this.__actions__)}function Qi(e,t,n){var r=Ml(e)?an:xn;return n&&Xr(e,t,n)&&(t=A),("function"!=typeof t||n!==A)&&(t=Ur(t,n,3)),r(e,t)}function Zi(e,t,n){var r=Ml(e)?ln:kn;return t=Ur(t,n,3),r(e,t)}function Ji(e,t){return il(e,Bn(t))}function Xi(e,t,n,r){var i=e?Gs(e):0;return ni(i)||(e=aa(e),i=e.length),n="number"!=typeof n||r&&Xr(t,n,r)?0:0>n?ws(i+n,0):n||0,"string"==typeof e||!Ml(e)&&qo(e)?i>=n&&e.indexOf(t,n)>-1:!!i&&qr(e,t,n)>-1}function eo(e,t,n){var r=Ml(e)?un:Wn;return t=Ur(t,n,3),r(e,t)}function to(e,t){return eo(e,Ea(t))}function no(e,t,n){var r=Ml(e)?ln:kn;return t=Ur(t,n,3),r(e,function(e,n,r){return!t(e,n,r)})}function ro(e,t,n){if(n?Xr(e,t,n):null==t){e=ci(e);var r=e.length;return r>0?e[Hn(0,r-1)]:A}var i=-1,o=Vo(e),r=o.length,a=r-1;for(t=As(0>t?0:+t||0,r);++i<t;){var s=Hn(i,a),l=o[s];o[s]=o[i],o[i]=l}return o.length=t,o}function io(e){return ro(e,ks)}function oo(e){var t=e?Gs(e):0;return ni(t)?t:Bl(e).length}function ao(e,t,n){var r=Ml(e)?hn:Qn;return n&&Xr(e,t,n)&&(t=A),("function"!=typeof t||n!==A)&&(t=Ur(t,n,3)),r(e,t)}function so(e,t,n){if(null==e)return[];n&&Xr(e,t,n)&&(t=A);var r=-1;t=Ur(t,n,3);var i=Wn(e,function(e,n,i){return{criteria:t(e,n,i),index:++r,value:e}});return Zn(i,l)}function lo(e,t,n,r){return null==e?[]:(r&&Xr(t,n,r)&&(n=A),Ml(t)||(t=null==t?[]:[t]),Ml(n)||(n=null==n?[]:[n]),Jn(e,t,n))}function uo(e,t){return Zi(e,Bn(t))}function co(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new Qa(U);var n=e;e=t,t=n}return e=Ss(e=+e)?e:0,function(){return--e<1?t.apply(this,arguments):void 0}}function po(e,t,n){return n&&Xr(e,t,n)&&(t=A),t=e&&null==t?e.length:ws(+t||0,0),Rr(e,O,A,A,A,A,t)}function ho(e,t){var n;if("function"!=typeof t){if("function"!=typeof e)throw new Qa(U);var r=e;e=t,t=r}return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=A),n}}function fo(e,t,n){function r(){h&&ss(h),u&&ss(u),g=0,u=h=f=A}function i(t,n){n&&ss(n),u=h=f=A,t&&(g=gl(),c=e.apply(p,l),h||u||(l=p=A))}function o(){var e=t-(gl()-d);0>=e||e>t?i(f,u):h=ps(o,e)}function a(){i(v,h)}function s(){if(l=arguments,d=gl(),p=this,f=v&&(h||!y),m===!1)var n=y&&!h;else{u||y||(g=d);var r=m-(d-g),i=0>=r||r>m;i?(u&&(u=ss(u)),g=d,c=e.apply(p,l)):u||(u=ps(a,r))}return i&&h?h=ss(h):h||t===m||(h=ps(o,t)),n&&(i=!0,c=e.apply(p,l)),!i||h||u||(l=p=A),c}var l,u,c,d,p,h,f,g=0,m=!1,v=!0;if("function"!=typeof e)throw new Qa(U);if(t=0>t?0:+t||0,n===!0){var y=!0;v=!1}else Lo(n)&&(y=!!n.leading,m="maxWait"in n&&ws(+n.maxWait||0,t),v="trailing"in n?!!n.trailing:v);return s.cancel=r,s}function go(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new Qa(U);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new go.Cache,n}function mo(e){if("function"!=typeof e)throw new Qa(U);return function(){return!e.apply(this,arguments)}}function vo(e){return ho(2,e)}function yo(e,t){if("function"!=typeof e)throw new Qa(U);return t=ws(t===A?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,i=ws(n.length-t,0),o=Ua(i);++r<i;)o[r]=n[t+r];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,n[0],o);case 2:return e.call(this,n[0],n[1],o)}var a=Ua(t+1);for(r=-1;++r<t;)a[r]=n[r];return a[t]=o,e.apply(this,a)}}function bo(e){if("function"!=typeof e)throw new Qa(U);return function(t){return e.apply(this,t)}}function So(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Qa(U);return n===!1?r=!1:Lo(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),fo(e,t,{leading:r,maxWait:+t,trailing:i})}function Do(e,t){return t=null==t?ka:t,Rr(t,T,A,[e],[])}function wo(e,t,n,r){return t&&"boolean"!=typeof t&&Xr(e,t,n)?t=!1:"function"==typeof t&&(r=n,n=t,t=!1),"function"==typeof n?wn(e,t,ar(n,r,3)):wn(e,t)}function Ao(e,t,n){return"function"==typeof t?wn(e,!0,ar(t,n,3)):wn(e,!0)}function Co(e,t){return e>t}function xo(e,t){return e>=t}function _o(e){return g(e)&&Zr(e)&&ts.call(e,"callee")&&!cs.call(e,"callee")}function $o(e){return e===!0||e===!1||g(e)&&rs.call(e)==z}function ko(e){return g(e)&&rs.call(e)==K}function Mo(e){return!!e&&1===e.nodeType&&g(e)&&!Uo(e)}function To(e){return null==e?!0:Zr(e)&&(Ml(e)||qo(e)||_o(e)||g(e)&&Eo(e.splice))?!e.length:!Bl(e).length}function Fo(e,t,n,r){n="function"==typeof n?ar(n,r,3):A;var i=n?n(e,t):A;return i===A?In(e,t,n):!!i}function Oo(e){return g(e)&&"string"==typeof e.message&&rs.call(e)==H}function Po(e){return"number"==typeof e&&Ss(e)}function Eo(e){return Lo(e)&&rs.call(e)==V}function Lo(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Io(e,t,n,r){return n="function"==typeof n?ar(n,r,3):A,Nn(e,jr(t),n)}function Ro(e){return Bo(e)&&e!=+e}function No(e){return null==e?!1:Eo(e)?os.test(es.call(e)):g(e)&&Ot.test(e)}function Wo(e){return null===e}function Bo(e){return"number"==typeof e||g(e)&&rs.call(e)==Q}function Uo(e){var t;if(!g(e)||rs.call(e)!=Z||_o(e)||!ts.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var n;return Fn(e,function(e,t){n=t}),n===A||ts.call(e,n)}function Go(e){return Lo(e)&&rs.call(e)==J}function qo(e){return"string"==typeof e||g(e)&&rs.call(e)==et}function jo(e){return g(e)&&ni(e.length)&&!!Bt[rs.call(e)]}function zo(e){return e===A}function Ko(e,t){return t>e}function Ho(e,t){return t>=e}function Vo(e){var t=e?Gs(e):0;return ni(t)?t?nn(e):[]:aa(e)}function Yo(e){return Sn(e,ta(e))}function Qo(e,t,n){var r=Ls(e);return n&&Xr(e,t,n)&&(t=A),t?yn(r,t):r}function Zo(e){return En(e,ta(e))}function Jo(e,t,n){var r=null==e?A:Ln(e,pi(t),t+"");return r===A?n:r}function Xo(e,t){if(null==e)return!1;var n=ts.call(e,t);if(!n&&!ei(t)){if(t=pi(t),e=1==t.length?e:Ln(e,Yn(t,0,-1)),null==e)return!1;t=_i(t),n=ts.call(e,t)}return n||ni(e.length)&&Jr(t,e.length)&&(Ml(e)||_o(e))}function ea(e,t,n){n&&Xr(e,t,n)&&(t=A);for(var r=-1,i=Bl(e),o=i.length,a={};++r<o;){var s=i[r],l=e[s];t?ts.call(a,l)?a[l].push(s):a[l]=[s]:a[l]=s}return a}function ta(e){if(null==e)return[];Lo(e)||(e=Ha(e));var t=e.length;t=t&&ni(t)&&(Ml(e)||_o(e))&&t||0;for(var n=e.constructor,r=-1,i="function"==typeof n&&n.prototype===e,o=Ua(t),a=t>0;++r<t;)o[r]=r+"";for(var s in e)a&&Jr(s,t)||"constructor"==s&&(i||!ts.call(e,s))||o.push(s);return o}function na(e){e=di(e);for(var t=-1,n=Bl(e),r=n.length,i=Ua(r);++t<r;){var o=n[t];i[t]=[o,e[o]]}return i}function ra(e,t,n){var r=null==e?A:e[t];return r===A&&(null==e||ei(t,e)||(t=pi(t),e=1==t.length?e:Ln(e,Yn(t,0,-1)),r=null==e?A:e[_i(t)]),r=r===A?n:r),Eo(r)?r.call(e):r}function ia(e,t,n){if(null==e)return e;var r=t+"";t=null!=e[r]||ei(t,e)?[r]:pi(t);for(var i=-1,o=t.length,a=o-1,s=e;null!=s&&++i<o;){var l=t[i];Lo(s)&&(i==a?s[l]=n:null==s[l]&&(s[l]=Jr(t[i+1])?[]:{})),s=s[l]}return e}function oa(e,t,n,r){var i=Ml(e)||jo(e);if(t=Ur(t,r,4),null==n)if(i||Lo(e)){var o=e.constructor;n=i?Ml(e)?new o:[]:Ls(Eo(o)?o.prototype:A)}else n={};return(i?rn:On)(e,function(e,r,i){return t(n,e,r,i)}),n}function aa(e){return tr(e,Bl(e))}function sa(e){return tr(e,ta(e))}function la(e,t,n){return t=+t||0,n===A?(n=t,t=0):n=+n||0,e>=As(t,n)&&e<ws(t,n)}function ua(e,t,n){n&&Xr(e,t,n)&&(t=n=A);var r=null==e,i=null==t;if(null==n&&(i&&"boolean"==typeof e?(n=e,e=1):"boolean"==typeof t&&(n=t,i=!0)),r&&i&&(t=1,i=!1),e=+e||0,i?(t=e,e=0):t=+t||0,n||e%1||t%1){var o=_s();return As(e+o*(t-e+ls("1e-"+((o+"").length-1))),t)}return Hn(e,t)}function ca(e){return e=o(e),e&&e.charAt(0).toUpperCase()+e.slice(1)}function da(e){return e=o(e),e&&e.replace(Et,c).replace($t,"")}function pa(e,t,n){e=o(e),t+="";var r=e.length;return n=n===A?r:As(0>n?0:+n||0,r),n-=t.length,n>=0&&e.indexOf(t,n)==n}function ha(e){return e=o(e),e&&yt.test(e)?e.replace(mt,d):e}function fa(e){return e=o(e),e&&_t.test(e)?e.replace(xt,p):e||"(?:)"}function ga(e,t,n){e=o(e),t=+t;var r=e.length;if(r>=t||!Ss(t))return e;var i=(t-r)/2,a=ys(i),s=ms(i);return n=Pr("",s,n),n.slice(0,a)+e+n}function ma(e,t,n){return(n?Xr(e,t,n):null==t)?t=0:t&&(t=+t),e=Sa(e),xs(e,t||(Ft.test(e)?16:10))}function va(e,t){var n="";if(e=o(e),t=+t,1>t||!e||!Ss(t))return n;do t%2&&(n+=e),t=ys(t/2),e+=e;while(t);return n}function ya(e,t,n){return e=o(e),n=null==n?0:As(0>n?0:+n||0,e.length),e.lastIndexOf(t,n)==n}function ba(e,t,n){var r=m.templateSettings;n&&Xr(e,t,n)&&(t=n=A),e=o(e),t=vn(yn({},n||t),r,mn);var i,a,s=vn(yn({},t.imports),r.imports,mn),l=Bl(s),u=tr(s,l),c=0,d=t.interpolate||Lt,p="__p += '",f=Va((t.escape||Lt).source+"|"+d.source+"|"+(d===Dt?Mt:Lt).source+"|"+(t.evaluate||Lt).source+"|$","g"),g="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Wt+"]")+"\n";e.replace(f,function(t,n,r,o,s,l){return r||(r=o),p+=e.slice(c,l).replace(It,h),n&&(i=!0,p+="' +\n__e("+n+") +\n'"),s&&(a=!0,p+="';\n"+s+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+t.length,t}),p+="';\n";var v=t.variable;v||(p="with (obj) {\n"+p+"\n}\n"),p=(a?p.replace(pt,""):p).replace(ht,"$1").replace(ft,"$1;"),p="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var y=Zl(function(){return ja(l,g+"return "+p).apply(A,u)});if(y.source=p,Oo(y))throw y;return y}function Sa(e,t,n){var r=e;return(e=o(e))?(n?Xr(r,t,n):null==t)?e.slice(b(e),S(e)+1):(t+="",e.slice(a(e,t),s(e,t)+1)):e}function Da(e,t,n){var r=e;return e=o(e),e?e.slice((n?Xr(r,t,n):null==t)?b(e):a(e,t+"")):e}function wa(e,t,n){var r=e;return e=o(e),e?(n?Xr(r,t,n):null==t)?e.slice(0,S(e)+1):e.slice(0,s(e,t+"")+1):e}function Aa(e,t,n){n&&Xr(e,t,n)&&(t=A);var r=E,i=L;if(null!=t)if(Lo(t)){var a="separator"in t?t.separator:a;r="length"in t?+t.length||0:r,i="omission"in t?o(t.omission):i}else r=+t||0;if(e=o(e),r>=e.length)return e;var s=r-i.length;if(1>s)return i;var l=e.slice(0,s);if(null==a)return l+i;if(Go(a)){if(e.slice(s).search(a)){var u,c,d=e.slice(0,s);for(a.global||(a=Va(a.source,(Tt.exec(a)||"")+"g")),a.lastIndex=0;u=a.exec(d);)c=u.index;l=l.slice(0,null==c?s:c)}}else if(e.indexOf(a,s)!=s){var p=l.lastIndexOf(a);p>-1&&(l=l.slice(0,p))}return l+i}function Ca(e){return e=o(e),e&&vt.test(e)?e.replace(gt,D):e}function xa(e,t,n){return n&&Xr(e,t,n)&&(t=A),e=o(e),e.match(t||Rt)||[]}function _a(e,t,n){return n&&Xr(e,t,n)&&(t=A),g(e)?Ma(e):Dn(e,t)}function $a(e){return function(){return e}}function ka(e){return e}function Ma(e){return Bn(wn(e,!0))}function Ta(e,t){return Un(e,wn(t,!0))}function Fa(e,t,n){if(null==n){var r=Lo(t),i=r?Bl(t):A,o=i&&i.length?En(t,i):A;(o?o.length:r)||(o=!1,n=t,t=e,e=this)}o||(o=En(t,Bl(t)));var a=!0,s=-1,l=Eo(e),u=o.length;n===!1?a=!1:Lo(n)&&"chain"in n&&(a=n.chain);for(;++s<u;){var c=o[s],d=t[c];e[c]=d,l&&(e.prototype[c]=function(t){return function(){var n=this.__chain__;if(a||n){var r=e(this.__wrapped__),i=r.__actions__=nn(this.__actions__);return i.push({func:t,args:arguments,thisArg:e}),r.__chain__=n,r}return t.apply(e,cn([this.value()],arguments))}}(d))}return e}function Oa(){return en._=is,this}function Pa(){}function Ea(e){return ei(e)?jn(e):zn(e)}function La(e){return function(t){return Ln(e,pi(t),t+"")}}function Ia(e,t,n){n&&Xr(e,t,n)&&(t=n=A),e=+e||0,n=null==n?1:+n||0,null==t?(t=e,e=0):t=+t||0;for(var r=-1,i=ws(ms((t-e)/(n||1)),0),o=Ua(i);++r<i;)o[r]=e,e+=n;return o}function Ra(e,t,n){if(e=ys(e),1>e||!Ss(e))return[];var r=-1,i=Ua(As(e,Ms));for(t=ar(t,n,1);++r<e;)Ms>r?i[r]=t(r):t(r);return i}function Na(e){var t=++ns;return o(e)+t}function Wa(e,t){return(+e||0)+(+t||0)}function Ba(e,t,n){return n&&Xr(e,t,n)&&(t=A),t=Ur(t,n,3),1==t.length?fn(Ml(e)?e:ci(e),t):Xn(e,t)}n=n?tn.defaults(en.Object(),n,tn.pick(en,Nt)):en;{var Ua=n.Array,Ga=n.Date,qa=n.Error,ja=n.Function,za=n.Math,Ka=n.Number,Ha=n.Object,Va=n.RegExp,Ya=n.String,Qa=n.TypeError,Za=Ua.prototype,Ja=Ha.prototype,Xa=Ya.prototype,es=ja.prototype.toString,ts=Ja.hasOwnProperty,ns=0,rs=Ja.toString,is=en._,os=Va("^"+es.call(ts).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),as=n.ArrayBuffer,ss=n.clearTimeout,ls=n.parseFloat,us=za.pow,cs=Ja.propertyIsEnumerable,ds=zr(n,"Set"),ps=n.setTimeout,hs=Za.splice,fs=n.Uint8Array,gs=zr(n,"WeakMap"),ms=za.ceil,vs=zr(Ha,"create"),ys=za.floor,bs=zr(Ua,"isArray"),Ss=n.isFinite,Ds=zr(Ha,"keys"),ws=za.max,As=za.min,Cs=zr(Ga,"now"),xs=n.parseInt,_s=za.random,$s=Ka.NEGATIVE_INFINITY,ks=Ka.POSITIVE_INFINITY,Ms=4294967295,Ts=Ms-1,Fs=Ms>>>1,Os=9007199254740991,Ps=gs&&new gs,Es={};m.support={}}m.templateSettings={escape:bt,evaluate:St,interpolate:Dt,variable:"",imports:{_:m}};var Ls=function(){function e(){}return function(t){if(Lo(t)){e.prototype=t;var n=new e;e.prototype=A}return n||{}}}(),Is=pr(On),Rs=pr(Pn,!0),Ns=hr(),Ws=hr(!0),Bs=Ps?function(e,t){return Ps.set(e,t),e}:ka,Us=Ps?function(e){return Ps.get(e)}:Pa,Gs=jn("length"),qs=function(){var e=0,t=0;return function(n,r){var i=gl(),o=R-(i-t);if(t=i,o>0){if(++e>=I)return n}else e=0;return Bs(n,r)}}(),js=yo(function(e,t){return g(e)&&Zr(e)?Cn(e,Tn(t,!1,!0)):[]}),zs=wr(),Ks=wr(!0),Hs=yo(function(e){for(var t=e.length,n=t,i=Ua(d),o=qr(),a=o===r,s=[];n--;){var l=e[n]=Zr(l=e[n])?l:[];i[n]=a&&l.length>=120?gr(n&&l):null}var u=e[0],c=-1,d=u?u.length:0,p=i[0];e:for(;++c<d;)if(l=u[c],(p?Zt(p,l):o(s,l,0))<0){for(var n=t;--n;){var h=i[n];if((h?Zt(h,l):o(e[n],l,0))<0)continue e}p&&p.push(l),s.push(l)}return s}),Vs=yo(function(t,n){n=Tn(n);var r=bn(t,n);return Kn(t,n.sort(e)),r}),Ys=Ir(),Qs=Ir(!0),Zs=yo(function(e){return er(Tn(e,!1,!0))}),Js=yo(function(e,t){return Zr(e)?Cn(e,t):[]}),Xs=yo(Ri),el=yo(function(e){var t=e.length,n=t>2?e[t-2]:A,r=t>1?e[t-1]:A;return t>2&&"function"==typeof n?t-=2:(n=t>1&&"function"==typeof r?(--t,r):A,r=A),e.length=t,Ni(e,n,r)}),tl=yo(function(e){return e=Tn(e),this.thru(function(t){return Xt(Ml(t)?t:[di(t)],e)})}),nl=yo(function(e,t){return bn(e,Tn(t))}),rl=cr(function(e,t,n){ts.call(e,n)?++e[n]:e[n]=1}),il=Dr(Is),ol=Dr(Rs,!0),al=xr(rn,Is),sl=xr(on,Rs),ll=cr(function(e,t,n){ts.call(e,n)?e[n].push(t):e[n]=[t]}),ul=cr(function(e,t,n){e[n]=t}),cl=yo(function(e,t,n){var r=-1,i="function"==typeof t,o=ei(t),a=Zr(e)?Ua(e.length):[];return Is(e,function(e){var s=i?t:o&&null!=e?e[t]:A;a[++r]=s?s.apply(e,n):Qr(e,t,n)}),a}),dl=cr(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),pl=Fr(dn,Is),hl=Fr(pn,Rs),fl=yo(function(e,t){if(null==e)return[];var n=t[2];return n&&Xr(t[0],t[1],n)&&(t.length=1),Jn(e,Tn(t),[])}),gl=Cs||function(){return(new Ga).getTime()},ml=yo(function(e,t,n){var r=x;if(n.length){var i=v(n,ml.placeholder);r|=T}return Rr(e,r,t,n,i)}),vl=yo(function(e,t){t=t.length?Tn(t):Zo(e);for(var n=-1,r=t.length;++n<r;){var i=t[n];e[i]=Rr(e[i],x,e)}return e}),yl=yo(function(e,t,n){var r=x|_;if(n.length){var i=v(n,yl.placeholder);r|=T}return Rr(t,r,e,n,i)}),bl=yr(k),Sl=yr(M),Dl=yo(function(e,t){return An(e,1,t)}),wl=yo(function(e,t,n){return An(e,t,n)}),Al=Cr(),Cl=Cr(!0),xl=yo(function(e,t){if(t=Tn(t),"function"!=typeof e||!an(t,i))throw new Qa(U);var n=t.length;return yo(function(r){for(var i=As(r.length,n);i--;)r[i]=t[i](r[i]);return e.apply(this,r)})}),_l=Tr(T),$l=Tr(F),kl=yo(function(e,t){return Rr(e,P,A,A,A,Tn(t))}),Ml=bs||function(e){return g(e)&&ni(e.length)&&rs.call(e)==j},Tl=dr(Gn),Fl=dr(function(e,t,n){return n?vn(e,t,n):yn(e,t)}),Ol=br(Fl,gn),Pl=br(Tl,oi),El=Ar(On),Ll=Ar(Pn),Il=_r(Ns),Rl=_r(Ws),Nl=$r(On),Wl=$r(Pn),Bl=Ds?function(e){var t=null==e?A:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&Zr(e)?ui(e):Lo(e)?Ds(e):[]}:ui,Ul=kr(!0),Gl=kr(),ql=yo(function(e,t){if(null==e)return{};if("function"!=typeof t[0]){var t=un(Tn(t),Ya);return ai(e,Cn(ta(e),t))}var n=ar(t[0],t[1],3);return si(e,function(e,t,r){return!n(e,t,r)})}),jl=yo(function(e,t){return null==e?{}:"function"==typeof t[0]?si(e,ar(t[0],t[1],3)):ai(e,Tn(t))}),zl=mr(function(e,t,n){return t=t.toLowerCase(),e+(n?t.charAt(0).toUpperCase()+t.slice(1):t)}),Kl=mr(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Hl=Mr(),Vl=Mr(!0),Yl=mr(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Ql=mr(function(e,t,n){return e+(n?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Zl=yo(function(e,t){try{return e.apply(A,t)}catch(n){return Oo(n)?n:new qa(n)}}),Jl=yo(function(e,t){return function(n){return Qr(n,e,t)}}),Xl=yo(function(e,t){return function(n){return Qr(e,n,t)}}),eu=Lr("ceil"),tu=Lr("floor"),nu=Sr(Co,$s),ru=Sr(Ko,ks),iu=Lr("round");return m.prototype=Y.prototype,X.prototype=Ls(Y.prototype),X.prototype.constructor=X,tt.prototype=Ls(Y.prototype),tt.prototype.constructor=tt,zt.prototype.delete=Kt,zt.prototype.get=Ht,zt.prototype.has=Vt,zt.prototype.set=Yt,Qt.prototype.push=Jt,go.Cache=zt,m.after=co,m.ary=po,m.assign=Fl,m.at=nl,m.before=ho,m.bind=ml,m.bindAll=vl,m.bindKey=yl,m.callback=_a,m.chain=Ui,m.chunk=fi,m.compact=gi,m.constant=$a,m.countBy=rl,m.create=Qo,m.curry=bl,m.curryRight=Sl,m.debounce=fo,m.defaults=Ol,m.defaultsDeep=Pl,m.defer=Dl,m.delay=wl,m.difference=js,m.drop=mi,m.dropRight=vi,m.dropRightWhile=yi,m.dropWhile=bi,m.fill=Si,m.filter=Zi,m.flatten=wi,m.flattenDeep=Ai,m.flow=Al,m.flowRight=Cl,m.forEach=al,m.forEachRight=sl,m.forIn=Il,m.forInRight=Rl,m.forOwn=Nl,m.forOwnRight=Wl,m.functions=Zo,m.groupBy=ll,m.indexBy=ul,m.initial=xi,m.intersection=Hs,m.invert=ea,m.invoke=cl,m.keys=Bl,m.keysIn=ta,m.map=eo,m.mapKeys=Ul,m.mapValues=Gl,m.matches=Ma,m.matchesProperty=Ta,m.memoize=go,m.merge=Tl,m.method=Jl,m.methodOf=Xl,m.mixin=Fa,m.modArgs=xl,m.negate=mo,m.omit=ql,m.once=vo,m.pairs=na,m.partial=_l,m.partialRight=$l,m.partition=dl,m.pick=jl,m.pluck=to,m.property=Ea,m.propertyOf=La,m.pull=ki,m.pullAt=Vs,m.range=Ia,m.rearg=kl,m.reject=no,m.remove=Mi,m.rest=Ti,m.restParam=yo,m.set=ia,m.shuffle=io,m.slice=Fi,m.sortBy=so,m.sortByAll=fl,m.sortByOrder=lo,m.spread=bo,m.take=Oi,m.takeRight=Pi,m.takeRightWhile=Ei,m.takeWhile=Li,m.tap=Gi,m.throttle=So,m.thru=qi,m.times=Ra,m.toArray=Vo,m.toPlainObject=Yo,m.transform=oa,m.union=Zs,m.uniq=Ii,m.unzip=Ri,m.unzipWith=Ni,m.values=aa,m.valuesIn=sa,m.where=uo,m.without=Js,m.wrap=Do,m.xor=Wi,m.zip=Xs,m.zipObject=Bi,m.zipWith=el,m.backflow=Cl,m.collect=eo,m.compose=Cl,m.each=al,m.eachRight=sl,m.extend=Fl,m.iteratee=_a,m.methods=Zo,m.object=Bi,m.select=Zi,m.tail=Ti,m.unique=Ii,Fa(m,m),m.add=Wa,m.attempt=Zl,m.camelCase=zl,m.capitalize=ca,m.ceil=eu,m.clone=wo,m.cloneDeep=Ao,m.deburr=da,m.endsWith=pa,m.escape=ha,m.escapeRegExp=fa,m.every=Qi,m.find=il,m.findIndex=zs,m.findKey=El,m.findLast=ol,m.findLastIndex=Ks,m.findLastKey=Ll,m.findWhere=Ji,m.first=Di,m.floor=tu,m.get=Jo,m.gt=Co,m.gte=xo,m.has=Xo,m.identity=ka,m.includes=Xi,m.indexOf=Ci,m.inRange=la,m.isArguments=_o,m.isArray=Ml,m.isBoolean=$o,m.isDate=ko,m.isElement=Mo,m.isEmpty=To,m.isEqual=Fo,m.isError=Oo,m.isFinite=Po,m.isFunction=Eo,m.isMatch=Io,m.isNaN=Ro,m.isNative=No,m.isNull=Wo,m.isNumber=Bo,m.isObject=Lo,m.isPlainObject=Uo,m.isRegExp=Go,m.isString=qo,m.isTypedArray=jo,m.isUndefined=zo,m.kebabCase=Kl,m.last=_i,m.lastIndexOf=$i,m.lt=Ko,m.lte=Ho,m.max=nu,m.min=ru,m.noConflict=Oa,m.noop=Pa,m.now=gl,m.pad=ga,m.padLeft=Hl,m.padRight=Vl,m.parseInt=ma,m.random=ua,m.reduce=pl,m.reduceRight=hl,m.repeat=va,m.result=ra,m.round=iu,m.runInContext=w,m.size=oo,m.snakeCase=Yl,m.some=ao,m.sortedIndex=Ys,m.sortedLastIndex=Qs,m.startCase=Ql,m.startsWith=ya,m.sum=Ba,m.template=ba,m.trim=Sa,m.trimLeft=Da,m.trimRight=wa,m.trunc=Aa,m.unescape=Ca,m.uniqueId=Na,m.words=xa,m.all=Qi,m.any=ao,m.contains=Xi,m.eq=Fo,m.detect=il,m.foldl=pl,m.foldr=hl,m.head=Di,m.include=Xi,m.inject=pl,Fa(m,function(){var e={};return On(m,function(t,n){m.prototype[n]||(e[n]=t)}),e}(),!1),m.sample=ro,m.prototype.sample=function(e){return this.__chain__||null!=e?this.thru(function(t){return ro(t,e)}):ro(this.value())},m.VERSION=C,rn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){m[e].placeholder=m}),rn(["drop","take"],function(e,t){tt.prototype[e]=function(n){var r=this.__filtered__;if(r&&!t)return new tt(this);n=null==n?1:ws(ys(n)||0,0);var i=this.clone();return r?i.__takeCount__=As(i.__takeCount__,n):i.__views__.push({size:n,type:e+(i.__dir__<0?"Right":"")}),i},tt.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),rn(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n!=B;tt.prototype[e]=function(e,t){var i=this.clone();return i.__iteratees__.push({iteratee:Ur(e,t,1),type:n}),i.__filtered__=i.__filtered__||r,i}}),rn(["first","last"],function(e,t){var n="take"+(t?"Right":"");tt.prototype[e]=function(){return this[n](1).value()[0]}}),rn(["initial","rest"],function(e,t){var n="drop"+(t?"":"Right");tt.prototype[e]=function(){return this.__filtered__?new tt(this):this[n](1)}}),rn(["pluck","where"],function(e,t){var n=t?"filter":"map",r=t?Bn:Ea;tt.prototype[e]=function(e){return this[n](r(e))}}),tt.prototype.compact=function(){return this.filter(ka)},tt.prototype.reject=function(e,t){return e=Ur(e,t,1),this.filter(function(t){return!e(t)})},tt.prototype.slice=function(e,t){e=null==e?0:+e||0;var n=this;return n.__filtered__&&(e>0||0>t)?new tt(n):(0>e?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==A&&(t=+t||0,n=0>t?n.dropRight(-t):n.take(t-e)),n)},tt.prototype.takeRightWhile=function(e,t){return this.reverse().takeWhile(e,t).reverse()},tt.prototype.toArray=function(){return this.take(ks)},On(tt.prototype,function(e,t){var n=/^(?:filter|map|reject)|While$/.test(t),r=/^(?:first|last)$/.test(t),i=m[r?"take"+("last"==t?"Right":""):t];i&&(m.prototype[t]=function(){var t=r?[1]:arguments,o=this.__chain__,a=this.__wrapped__,s=!!this.__actions__.length,l=a instanceof tt,u=t[0],c=l||Ml(a);c&&n&&"function"==typeof u&&1!=u.length&&(l=c=!1);var d=function(e){return r&&o?i(e,1)[0]:i.apply(A,cn([e],t))},p={func:qi,args:[d],thisArg:A},h=l&&!s;if(r&&!o)return h?(a=a.clone(),a.__actions__.push(p),e.call(a)):i.call(A,this.value())[0];if(!r&&c){a=h?a:new tt(this);var f=e.apply(a,t);return f.__actions__.push(p),new X(f,o)}return this.thru(d)})}),rn(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(e){var t=(/^(?:replace|split)$/.test(e)?Xa:Za)[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:join|pop|replace|shift)$/.test(e);m.prototype[e]=function(){var e=arguments;return r&&!this.__chain__?t.apply(this.value(),e):this[n](function(n){return t.apply(n,e)})}}),On(tt.prototype,function(e,t){var n=m[t];if(n){var r=n.name+"",i=Es[r]||(Es[r]=[]);i.push({name:t,func:n})}}),Es[Or(A,_).name]=[{name:"wrapper",func:A}],tt.prototype.clone=Gt,tt.prototype.reverse=qt,tt.prototype.value=jt,m.prototype.chain=ji,m.prototype.commit=zi,m.prototype.concat=tl,m.prototype.plant=Ki,m.prototype.reverse=Hi,m.prototype.toString=Vi,m.prototype.run=m.prototype.toJSON=m.prototype.valueOf=m.prototype.value=Yi,m.prototype.collect=m.prototype.map,m.prototype.head=m.prototype.first,m.prototype.select=m.prototype.filter,m.prototype.tail=m.prototype.rest,m}var A,C="3.10.1",x=1,_=2,$=4,k=8,M=16,T=32,F=64,O=128,P=256,E=30,L="...",I=150,R=16,N=200,W=1,B=2,U="Expected a function",G="__lodash_placeholder__",q="[object Arguments]",j="[object Array]",z="[object Boolean]",K="[object Date]",H="[object Error]",V="[object Function]",Y="[object Map]",Q="[object Number]",Z="[object Object]",J="[object RegExp]",X="[object Set]",et="[object String]",tt="[object WeakMap]",nt="[object ArrayBuffer]",rt="[object Float32Array]",it="[object Float64Array]",ot="[object Int8Array]",at="[object Int16Array]",st="[object Int32Array]",lt="[object Uint8Array]",ut="[object Uint8ClampedArray]",ct="[object Uint16Array]",dt="[object Uint32Array]",pt=/\b__p \+= '';/g,ht=/\b(__p \+=) '' \+/g,ft=/(__e\(.*?\)|\b__t\)) \+\n'';/g,gt=/&(?:amp|lt|gt|quot|#39|#96);/g,mt=/[&<>"'`]/g,vt=RegExp(gt.source),yt=RegExp(mt.source),bt=/<%-([\s\S]+?)%>/g,St=/<%([\s\S]+?)%>/g,Dt=/<%=([\s\S]+?)%>/g,wt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,At=/^\w*$/,Ct=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,xt=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,_t=RegExp(xt.source),$t=/[\u0300-\u036f\ufe20-\ufe23]/g,kt=/\\(\\)?/g,Mt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Tt=/\w*$/,Ft=/^0[xX]/,Ot=/^\[object .+?Constructor\]$/,Pt=/^\d+$/,Et=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Lt=/($^)/,It=/['\n\r\u2028\u2029\\]/g,Rt=function(){var e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(e+"+(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")}(),Nt=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Wt=-1,Bt={};Bt[rt]=Bt[it]=Bt[ot]=Bt[at]=Bt[st]=Bt[lt]=Bt[ut]=Bt[ct]=Bt[dt]=!0,Bt[q]=Bt[j]=Bt[nt]=Bt[z]=Bt[K]=Bt[H]=Bt[V]=Bt[Y]=Bt[Q]=Bt[Z]=Bt[J]=Bt[X]=Bt[et]=Bt[tt]=!1;var Ut={};Ut[q]=Ut[j]=Ut[nt]=Ut[z]=Ut[K]=Ut[rt]=Ut[it]=Ut[ot]=Ut[at]=Ut[st]=Ut[Q]=Ut[Z]=Ut[J]=Ut[et]=Ut[lt]=Ut[ut]=Ut[ct]=Ut[dt]=!0,Ut[H]=Ut[V]=Ut[Y]=Ut[X]=Ut[tt]=!1;var Gt={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},qt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},jt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},zt={"function":!0,object:!0},Kt={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Ht={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Vt=zt[typeof exports]&&exports&&!exports.nodeType&&exports,Yt=zt[typeof module]&&module&&!module.nodeType&&module,Qt=Vt&&Yt&&"object"==typeof global&&global&&global.Object&&global,Zt=zt[typeof self]&&self&&self.Object&&self,Jt=zt[typeof window]&&window&&window.Object&&window,Xt=Yt&&Yt.exports===Vt&&Vt,en=Qt||Jt!==(this&&this.window)&&Jt||Zt||this,tn=w();"function"==typeof n&&"object"==typeof n.amd&&n.amd?(en._=tn,n("lodash",[],function(){return tn})):Vt&&Yt?Xt?(Yt.exports=tn)._=tn:Vt._=tn:en._=tn}.call(this),function(e,r){"function"==typeof n&&n.amd?n("ngStorage",["angular"],r):e.hasOwnProperty("angular")?r(e.angular):"object"==typeof exports&&(module.exports=r(t("angular")))}(this,function(e){function t(e,t){var n;try{n=e[t]}catch(r){n=!1}if(n){var i="__"+Math.round(1e7*Math.random());try{e[t].setItem(i,i),e[t].removeItem(i,i)}catch(r){n=!1}}return n}function n(n){var r=t(window,n);return function(){var i="ngStorage-";this.setKeyPrefix=function(e){if("string"!=typeof e)throw new TypeError("[ngStorage] - "+n+"Provider.setKeyPrefix() expects a String.");i=e};var o=e.toJson,a=e.fromJson;this.setSerializer=function(e){if("function"!=typeof e)throw new TypeError("[ngStorage] - "+n+"Provider.setSerializer expects a function.");o=e},this.setDeserializer=function(e){if("function"!=typeof e)throw new TypeError("[ngStorage] - "+n+"Provider.setDeserializer expects a function.");
a=e},this.supported=function(){return!!r},this.get=function(e){return r&&a(r.getItem(i+e))},this.set=function(e,t){return r&&r.setItem(i+e,o(t))},this.remove=function(e){r&&r.removeItem(i+e)},this.$get=["$rootScope","$window","$log","$timeout","$document",function(r,s,l,u,c){var d,p,h=i.length,f=t(s,n),g=f||(l.warn("This browser does not support Web Storage!"),{setItem:e.noop,getItem:e.noop,removeItem:e.noop}),m={$default:function(t){for(var n in t)e.isDefined(m[n])||(m[n]=e.copy(t[n]));return m.$sync(),m},$reset:function(e){for(var t in m)"$"===t[0]||delete m[t]&&g.removeItem(i+t);return m.$default(e)},$sync:function(){for(var e,t=0,n=g.length;n>t;t++)(e=g.key(t))&&i===e.slice(0,h)&&(m[e.slice(h)]=a(g.getItem(e)))},$apply:function(){var t;if(p=null,!e.equals(m,d)){t=e.copy(d),e.forEach(m,function(n,r){e.isDefined(n)&&"$"!==r[0]&&(g.setItem(i+r,o(n)),delete t[r])});for(var n in t)g.removeItem(i+n);d=e.copy(m)}},$supported:function(){return!!f}};return m.$sync(),d=e.copy(m),r.$watch(function(){p||(p=u(m.$apply,100,!1))}),s.addEventListener&&s.addEventListener("storage",function(t){if(t.key){var n=c[0];n.hasFocus&&n.hasFocus()||i!==t.key.slice(0,h)||(t.newValue?m[t.key.slice(h)]=a(t.newValue):delete m[t.key.slice(h)],d=e.copy(m),r.$apply())}}),s.addEventListener&&s.addEventListener("beforeunload",function(){m.$apply()}),m}]}}return e=e&&e.module?e:window.angular,e.module("ngStorage",[]).provider("$localStorage",n("localStorage")).provider("$sessionStorage",n("sessionStorage"))}),function(e,t){function n(e){return null!=e&&""!==e&&"hasOwnProperty"!==e&&a.test("."+e)}function r(e,r){if(!n(r))throw o("badmember",'Dotted member path "@{0}" is invalid.',r);for(var i=r.split("."),a=0,s=i.length;s>a&&t.isDefined(e);a++){var l=i[a];e=null!==e?e[l]:void 0}return e}function i(e,n){n=n||{},t.forEach(n,function(e,t){delete n[t]});for(var r in e)!e.hasOwnProperty(r)||"$"===r.charAt(0)&&"$"===r.charAt(1)||(n[r]=e[r]);return n}var o=t.$$minErr("$resource"),a=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;t.module("ngResource",["ng"]).info({angularVersion:"1.6.4"}).provider("$resource",function(){var e=/^https?:\/\/\[[^\]]*][^\/]*/,n=this;this.defaults={stripTrailingSlashes:!0,cancellable:!1,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$log","$q","$timeout",function(a,s,l,u){function c(e,t){this.template=e,this.defaults=f({},n.defaults,t),this.urlParams={}}function d(e,t,S,D){function w(e,n){var i={};return n=f({},t,n),h(n,function(t,n){y(t)&&(t=t(e)),i[n]=t&&t.charAt&&"@"===t.charAt(0)?r(e,t.substr(1)):t}),i}function A(e){return e.resource}function C(e){i(e||{},this)}var x=new c(e,D);return S=f({},n.defaults.actions,S),C.prototype.toJSON=function(){var e=f({},this);return delete e.$promise,delete e.$resolved,delete e.$cancelRequest,e},h(S,function(e,t){var n=e.hasBody===!0||e.hasBody!==!1&&/^(POST|PUT|PATCH)$/i.test(e.method),r=e.timeout,c=v(e.cancellable)?e.cancellable:x.defaults.cancellable;r&&!b(r)&&(s.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),delete e.timeout,r=null),C[t]=function(s,d,v,b){function S(e){N.catch(p),M.resolve(e)}var D,_,$,k={};switch(arguments.length){case 4:$=b,_=v;case 3:case 2:if(!y(d)){k=s,D=d,_=v;break}if(y(s)){_=s,$=d;break}_=d,$=v;case 1:y(s)?_=s:n?D=s:k=s;break;case 0:break;default:throw o("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var M,T,F=this instanceof C,O=F?D:e.isArray?[]:new C(D),P={},E=e.interceptor&&e.interceptor.response||A,L=e.interceptor&&e.interceptor.responseError||void 0,I=!!$,R=!!L;h(e,function(e,t){switch(t){default:P[t]=g(e);break;case"params":case"isArray":case"interceptor":case"cancellable":}}),!F&&c&&(M=l.defer(),P.timeout=M.promise,r&&(T=u(M.resolve,r))),n&&(P.data=D),x.setUrlParams(P,f({},w(D,e.params||{}),k),e.url);var N=a(P).then(function(n){var r=n.data;if(r){if(m(r)!==!!e.isArray)throw o("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",t,e.isArray?"array":"object",m(r)?"array":"object",P.method,P.url);if(e.isArray)O.length=0,h(r,function(e){O.push("object"==typeof e?new C(e):e)});else{var a=O.$promise;i(r,O),O.$promise=a}}return n.resource=O,n});return N=N.finally(function(){O.$resolved=!0,!F&&c&&(O.$cancelRequest=p,u.cancel(T),M=T=P.timeout=null)}),N=N.then(function(e){var t=E(e);return(_||p)(t,e.headers,e.status,e.statusText),t},I||R?function(e){return I&&!R&&N.catch(p),I&&$(e),R?L(e):l.reject(e)}:void 0),F?N:(O.$promise=N,O.$resolved=!1,c&&(O.$cancelRequest=S),O)},C.prototype["$"+t]=function(e,n,r){y(e)&&(r=n,n=e,e={});var i=C[t].call(this,e,this,n,r);return i.$promise||i}}),C.bind=function(n){var r=f({},t,n);return d(e,r,S,D)},C}var p=t.noop,h=t.forEach,f=t.extend,g=t.copy,m=t.isArray,v=t.isDefined,y=t.isFunction,b=t.isNumber,S=t.$$encodeUriQuery,D=t.$$encodeUriSegment;return c.prototype={setUrlParams:function(t,n,r){var i,a,s=this,l=r||s.template,u="",c=s.urlParams=Object.create(null);h(l.split(/\W/),function(e){if("hasOwnProperty"===e)throw o("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(e)&&e&&new RegExp("(^|[^\\\\]):"+e+"(\\W|$)").test(l)&&(c[e]={isQueryParamValue:new RegExp("\\?.*=:"+e+"(?:\\W|$)").test(l)})}),l=l.replace(/\\:/g,":"),l=l.replace(e,function(e){return u=e,""}),n=n||{},h(s.urlParams,function(e,t){i=n.hasOwnProperty(t)?n[t]:s.defaults[t],v(i)&&null!==i?(a=e.isQueryParamValue?S(i,!0):D(i),l=l.replace(new RegExp(":"+t+"(\\W|$)","g"),function(e,t){return a+t})):l=l.replace(new RegExp("(/?):"+t+"(\\W|$)","g"),function(e,t,n){return"/"===n.charAt(0)?n:t+n})}),s.defaults.stripTrailingSlashes&&(l=l.replace(/\/+$/,"")||"/"),l=l.replace(/\/\.(?=\w+($|\?))/,"."),t.url=u+l.replace(/\/(\\|%5C)\./,"/."),h(n,function(e,n){s.urlParams[n]||(t.params=t.params||{},t.params[n]=e)})}},d}]})}(window,window.angular),n("angular_resource",["angular"],function(e){return function(){var t;return t||e.ngResource}}(this)),function(e){var t=function(t,n){if(e.isArray(t))return t.map(n);var r={};return Object.keys(t).forEach(function(e){r[e]=n(t[e],e)}),r};e.module("ngPromiseExtras",[]).config(["$provide",function(e){e.decorator("$q",["$delegate",function(e){var n=e;return n.allSettled=function(e){return n.all(t(e,function(e){return e.then?e.then(function(e){return{state:"fulfilled",value:e}},function(e){return{state:"rejected",reason:e}}):{state:"fulfilled",value:e}}))},n.map=function(e,r){return n.all(t(e,r))},n.mapSettled=function(e,r){return n.allSettled(t(e,r))},n.resolve||(n.resolve=function(e){return e&&e.then?e:n(function(t){t(e)})}),n}])}])}(window.angular),n("ngPromiseExtras",["angular"],function(){}),n("Configuration",["require","exports","lodash","angular"],function(e,t,n,r){var i={US:{apiURL:"http://airports.ds36.net/api/sabre",apiSpecificHeaders:{"application-key":"YWQ3NmM5ZWYtZGNmYi00ODA0LTg0YzgtNjYwNGYzOGJkMzhhNGE4YzY5NWQtMjZjMy00NmZmLTg5ZDEtYzVhODU0MzYwN2Uz"},pointOfSaleCountry:"US",bfmRequestPcc:"E8KE"},DE:{apiURL:"https://sabreapibridge.crt.aws.sabrenow.com/sabreapibridge/api",apiSpecificHeaders:{},pointOfSaleCountry:"DE",bfmRequestPcc:"1X8H"}},o=n.cloneDeep(i.DE),a=r.module("configuration",[]).value("selectedCountryConfigs",o).constant("countryConfigs",i).value("fareNabberApiURL","http://farenabber.prod.ha.sabre.com/v1/AirShopping/FNB_Subscriptions").value("fareNabberRegistrationPCC","E8KE");t.Configuration=a}),n("webservices/WebService",["require","exports"],function(){var e=function(){function e(e,t,n,r,i){this.url=e,this.$resource=t,this.selectedCountryConfigs=n,this.requestHeadersFactory=r,this.cachingDecorator=i}return e.prototype.createPostResource=function(e){void 0===e&&(e=3e4);var t=this.selectedCountryConfigs.apiURL+this.url,n=this.$resource(t,null,{sendRequest:{method:"POST",headers:this.requestHeadersFactory.getHeaders(),timeout:e}});return this.cachingDecorator.addCaching(n.sendRequest,[404])},e.prototype.createGetResource=function(e,t){void 0===e&&(e={}),void 0===t&&(t=2e4);var n=this.selectedCountryConfigs.apiURL+this.url;return this.$resource(n,e,{get:{method:"GET",cache:!0,headers:this.requestHeadersFactory.getHeaders(),timeout:t}})},e}();return e});var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};n("webservices/advancedCalendar/AdvancedCalendarSearchService",["require","exports","../WebService"],function(e,t,n){var i=function(e){function t(t,n,r,i){var o=e.call(this,"/v1.9.4/shop/calendar/flights",t,n,r,i)||this;return o.$resource=t,o.selectedCountryConfigs=n,o.requestHeadersFactory=r,o.cachingDecorator=i,o}return r(t,e),t.prototype.sendRequest=function(e){return this.createPostResource()(e)},t}(n);return i}),n("util/LodashExtensions",["lodash"],function(e){var t=e.runInContext();return t.mixin({isDefined:e.negate(e.isUndefined),cancellable:function(e){var t=function(){return t.cancelled?void 0:e.apply(this,arguments)};return t.cancel=function(){t.cancelled=!0},t},minOfValues:function(t){var n=e.values(t);return Math.min.apply(void 0,n)},groupByAndGetCountAndMin:function(t,n,r,i){function o(t,n,o){e.isUndefined(t.keysAcc[n])&&(t.keysAcc[n]=n,t.valuesAcc[n]={min:1/0,count:0}),t.valuesAcc[n].count++;var a=e.result(o,r),s=e.result(o,i);if(i&&t.valuesAcc[n].mustBeEqualPropertyValue&&t.valuesAcc[n].mustBeEqualPropertyValue!==s)throw new Error('Error while calculating min value. The property to be equal "'+i+"' while calculating minimum was different across values");return a<t.valuesAcc[n].min&&(t.valuesAcc[n].min=a,t.valuesAcc[n].mustBeEqualPropertyValue=s),t}var a=t.reduce(function(t,r){var i=e.result(r,n);return e.isArray(i)?i.reduce(function(e,t){return o(e,t,r)},t):o(t,i,r)},{keysAcc:{},valuesAcc:{}}),s=e.map(a.keysAcc,function(e){return{value:a.keysAcc[e],count:a.valuesAcc[e].count,min:a.valuesAcc[e].min,mustBeEqualPropertyValue:a.valuesAcc[e].mustBeEqualPropertyValue}});return s},median:function(e){e.sort(function(e,t){return e-t});var t=Math.floor(e.length/2);return e.length%2?e[t]:(e[t-1]+e[t])/2},pushAll:function(e,t){return e.push.apply(e,t),e},pushIfNotContains:function(t,n){return e.contains(t,n)||t.push(n),t},leafValues:function n(t,r){var i=e.values(t);return e.isUndefined(r)||r--,e.isObject(i[0])&&0!==r?e.flatten(i.map(function(e){return n(e,r)})):i},dateDiffDays:function(e,t){var n=Math.abs(t.getTime()-e.getTime());return Math.ceil(n/864e5)}}),t}),n("util/validator",["moment"],function(e){var t=new RegExp("^[A-Z]{3}$"),n=new RegExp("^[A-Z]{3}$"),r=new RegExp("^[1-9]\\d*$"),i=new RegExp("^[1-9][0-9]?$|^100$"),o=function(e,t){if("undefined"==typeof e)throw new Error(t);return!0},a=function(e,t,n){if(o(e,n),!t.test(e))throw new Error(n);return!0},s=function(e,t){if(o(e,t),0===Object.keys(e).length)throw new Error(t);return!0};return{NON_ZERO_POSITIVE_INTEGER_REGEX:r,PERCENTAGE_VALUE_REGEX:i,notEmpty:s,defined:o,definedAndMatches:a,onlyOneDefined:function(e,t,n){if("undefined"==typeof e&&"undefined"==typeof t)throw new Error(n);if(e&&t)throw new Error(n);return!0},currencySymbol:function(e,n){return a(e,t,n)},airportCode:function(e,t){return a(e,n,t)},arrayHasLength:function(e,t,n){if(o(e,n),e.length!==t)throw new Error(n);return!0},year:function(t,n){if(o(t),!e([t,0,1]).isValid())throw new Error(n);return!0},month:function(t,n){if(o(t),!e([2e3,t,1]).isValid())throw new Error(n);return!0},validDate:function(t,n){if(!e(t,n).isValid())throw new Error("invalid date for date format '"+n+"'")},notAfter:function(t,n,r,i,o){var a=e(t,r),s=e(n,r);if(a.isAfter(s))throw new Error(i+"='"+a.format(r)+"' cannot be after "+o+"='"+s.format(r)+"'")},notGreaterThan:function(e,t,n,r){if(e>t)throw new Error(n+": "+e+" cannot be greater than "+r+": "+t)},atLeast:function(e,t){if(t>e)throw new Error(e+": "+e+" is less than required: "+t)},notLowerThan:function(e,t){if(t>e)throw new Error(e+" cannot be lower than "+t)}}}),n("webservices/common/validators/BasicSearchCriteriaValidator",["lodash","util/LodashExtensions","util/validator"],function(e,t,n){function r(){}return r.prototype.validateRoundTripTravelSpecification=function(e){var n=[];return this.validateAirportCodes(e),t.pushAll(n,this.validateTravelDatesRelations(e)),n},r.prototype.validateAirportCodes=function(e){n.airportCode(e.getFirstLeg().origin,"You have to specify origin location, and it must be valid 3 letter airport or city code, for example LAX"),n.airportCode(e.getFirstLeg().destination,"You have to specify destination location, and it must be valid 3 letter airport or city code, for example LAX"),n.airportCode(e.getSecondLeg().origin,"You have to specify origin location, and it must be valid 3 letter airport or city code, for example LAX"),n.airportCode(e.getSecondLeg().destination,"You have to specify destination location, and it must be valid 3 letter airport or city code, for example LAX")},r.prototype.validateTravelDatesRelations=function(t){var n=[],r=t.getFirstLeg().departureDateTime,i=t.getSecondLeg().departureDateTime,o=t.getEarliestDepartureDateTime(),a=t.getLatestReturnDateTime();return e.isUndefined(r)&&e.isUndefined(o)&&n.push("departureDateTime or earliestDepartureDateTime must be defined for round trip travel"),e.isUndefined(i)&&e.isUndefined(a)&&n.push("return date or latest return date must be defined for round trip travel"),e.isDate(r),e.isDate(i),e.isUndefined(i)&&e.isUndefined(a)&&e.isUndefined(t.lengthOfStay)&&n.push("returnDate or latestReturnDateTime or lengthOfStay is not defined for round trip travel. You must define one of them."),e.isUndefined(i)||e.isDate(r),i&&r&&(i.isBefore(r)||i.isSame(r))&&n.push("return date must be after departureDate"),a&&o&&(a.isBefore(o)||a.isSame(o))&&n.push("latest return date must be after earliest departureDate"),n},r}),n("webservices/common/validators/TravelInsightEngineSearchCriteriaValidator",["util/LodashExtensions","webservices/common/validators/BasicSearchCriteriaValidator"],function(e,t){function n(){this.basicValidator=new t}return n.prototype.validateLengthOfStay=function(e){var t=[];return 0>e&&t.push("Length of stay must be non-negative"),e>this.MAX_LENGTH_OF_STAY_DAYS&&t.push("Length of stay over "+this.MAX_LENGTH_OF_STAY_DAYS+" not supported. Please select other travel dates"),t},n.prototype.validate=function(t){var n=[];if(!t.isRoundTripTravel())return n.push("Travel Insight Engine services support only round trip travel"),n;var r=this.basicValidator.validateRoundTripTravelSpecification(t);e.pushAll(n,r),e.pushAll(n,this.validateLengthOfStay(t.getLengthOfStay())),e.pushAll(n,this.validateLengthOfStay(t.getMinLengthOfStay())),e.pushAll(n,this.validateLengthOfStay(t.getMaxLengthOfStay())),t.isEconomyCabinRequested()||n.push("Travel Insight Engine services support only Economy cabin requests, or requests without cabin preference - then economy fares will be returned)");var i=this.validatePaxCountAndType(t);return e.pushAll(n,i),n},n.prototype.validatePaxCountAndType=function(e){var t=[];return e.passengerSpecifications.length>1&&t.push("Travel Insight Engine services do not support multiple passenger type definitions. Use only 1 passenger type definition (for example 1 ADT)."),(e.passengerSpecifications[0].count>1||"ADT"!==e.passengerSpecifications[0].passengerTypeCode)&&t.push("Travel Insight Engine services support only 1 passenger number and only of type ADT. The only supported passenger type is 1 ADT."),t},n.prototype.MAX_LENGTH_OF_STAY_DAYS=16,n}),n("webservices/advancedCalendar/AdvancedCalendarSearchCriteriaValidator",["util/LodashExtensions","moment","webservices/common/validators/TravelInsightEngineSearchCriteriaValidator"],function(e,t,n){function r(){this.travelInsightEngineSearchCriteriaValidator=new n}return r.prototype.validate=function(t){var n=[],r=this.travelInsightEngineSearchCriteriaValidator.validate(t);return e.pushAll(n,r),n},r}),n("webservices/common/OTARequestFactory",[],function(){function e(){}return e.prototype.createRequest=function(e,t){var n=e.optionsPerDay||100;return{OTA_AirLowFareSearchRQ:{OriginDestinationInformation:this.createOriginDestinationInfos(e),POS:this.createPOS(t),TPA_Extensions:this.createRequestTPAExtensions(n,e),TravelPreferences:this.createTravelPreferences(n,e.preferredCabin,e.maxStops),TravelerInfoSummary:this.createTravelerInfoSummary(e.passengerSpecifications)}}},e.prototype.createLegTPAExtensions=function(e){return{IncludeVendorPref:e.map(function(e){return{Code:e}})}},e.prototype.createPOS=function(e){return{Source:[{RequestorID:{CompanyName:{Code:"TN"},ID:"REQ.ID",Type:"0.AAA.X"},PseudoCityCode:e.bfmRequestPcc}]}},e.prototype.createTravelPreferences=function(e,t,n){return{CabinPref:[{Cabin:t.code}],MaxStopsQuantity:n,TPA_Extensions:{NumTrips:this.createNumTrips(e)}}},e.prototype.createTravelerInfoSummary=function(e){return{AirTravelerAvail:[{PassengerTypeQuantity:e.map(function(e){return{Code:e.passengerTypeCode,Quantity:e.count}})}],PriceRequestInformation:this.createPriceRequestInformation()}},e.prototype.createRequestTPAExtensions=function(e,t){return{IntelliSellTransaction:{RequestType:{Name:this.getRequestType(e,t.dateFlexibilityDays)}}}},e.prototype.createPriceRequestInformation=function(){return{}},e.prototype.dateTimeFormat="YYYY-MM-DDTHH:mm:ss",e}),n("webservices/common/WebServiceSerializationUtils",[],function(){return{createWeekDaysString:function(e){var t=["S","M","T","W","T","F","S"],n="_";return e.map(function(e,r){return e?t[r]:n}).join("")}}}),n("webservices/advancedCalendar/AdvancedCalendarRequestFactory",["moment","webservices/common/OTARequestFactory","webservices/common/WebServiceSerializationUtils"],function(e,t,n){function r(e){this.requestDatesExpander=e,t.apply(this)}return r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.prototype.dateFormat="YYYY-MM-DD",r.prototype.createOriginDestinationInfos=function(e){var t=this,n=this.createDaysRangeFormatted(e.getDepartureDateFrom(),e.getDepartureDateTo(),e.getDepartureDaysOfWeek()),r={DepartureDates:{DaysRange:[n]},DestinationLocation:{LocationCode:e.legs[0].destination},OriginLocation:{LocationCode:e.legs[0].origin},RPH:"1",TPA_Extensions:t.createLegTPAExtensions(e.preferredAirlines)},i=this.createDaysRangeFormatted(e.getReturnDateFrom(),e.getReturnDateTo(),e.getReturnDaysOfWeek()),o={DepartureDates:{DaysRange:[i]},DestinationLocation:{LocationCode:e.legs[1].destination},OriginLocation:{LocationCode:e.legs[1].origin},RPH:"2",TPA_Extensions:t.createLegTPAExtensions(e.preferredAirlines)};return e.isPlusMinusDaysDateFlexibilityRequest()||(o.DepartureDates.LengthOfStayRange=[{MinDays:e.getMinLengthOfStay()||e.getLengthOfStay(),MaxDays:e.getMaxLengthOfStay()||e.getLengthOfStay()}]),[r,o]},r.prototype.createDaysRangeFormatted=function(e,t,r){var i={FromDate:e,ToDate:t};this.requestDatesExpander&&(i=this.requestDatesExpander.expandReturnDaysRange(i));var o={FromDate:i.FromDate.format(this.dateFormat),ToDate:i.ToDate.format(this.dateFormat)};return r&&(o.WeekDays=n.createWeekDaysString(r)),o},r.prototype.getRequestType=function(){return"ADC1000"},r.prototype.createNumTrips=function(e){return{PerDateMin:1,PerDateMax:e}},r}),n("webservices/advancedCalendar/AdvancedCalendarRequestDatesExpander",["moment"],function(e){function t(){this.today=e().startOf("day"),this.lastTravelDateAvailableInWebService=this.today.clone().add(this.MAX_ADVANCE_PURCHASE_DAYS_FROM_NOW,"days")}return t.prototype.MAX_ADVANCE_PURCHASE_DAYS_FROM_NOW=192,t.prototype.expandDepartureDaysRange=function(){return{FromDate:this.today,ToDate:this.lastTravelDateAvailableInWebService}},t.prototype.expandReturnDaysRange=function(){return{FromDate:this.today,ToDate:this.lastTravelDateAvailableInWebService}},t}),n("util/ItinerariesDedupper",["lodash"],function(e){function t(){}return t.prototype.dedupMerge=function(t,n){var r=this.createFlightStructureToItinerariesMap(t),i=e.keys(r),o=this;n.forEach(function(t){var n=t.getFlightStructure();if(e.contains(i,n)){var a=r[n].getPricingSource(),s=t.getPricingSource(),l=o.comparePricingSources(a,s);-1===l&&(r[n]=t)}else r[n]=t});var a=e.values(r);return a},t.prototype.comparePricingSources=function(e,t){return e.indexOf("MIP")>-1?1:t.indexOf("MIP")>-1?-1:0},t.prototype.createFlightStructureToItinerariesMap=function(t){return e.indexBy(t,function(e){return e.getFlightStructure()})},t}),n("datamodel/ItinerariesList",["lodash","util/ItinerariesDedupper"],function(e,t){function n(){this.itineraries=[]}function r(e){return e.map(function(e,t){return e.id=t,e})}return n.prototype.getPermittedItineraries=function(){return e.reject(this.itineraries,"filteredOut")},n.prototype.getItineraries=function(){return this.itineraries},n.prototype.add=function(e){this.itineraries.push(e)},n.prototype.addAll=function(e){var t=this;e.forEach(function(e){return t.itineraries.push(e)})},n.prototype.addItinerariesList=function(e){var t=this;return e.getItineraries().forEach(function(e){t.add(e)}),this},n.prototype.addItinerariesListWithDedup=function(e){var n=new t,i=n.dedupMerge(this.itineraries,e.itineraries);return this.itineraries=r(i),this},n.prototype.size=function(){return this.getPermittedItineraries().length},n.prototype.getLeadPrice=function(){var t=e.min(this.getPermittedItineraries(),"totalFareAmount");return{price:t.totalFareAmountWithCurrency.amount,currency:t.totalFareAmountWithCurrency.currency}},n.prototype.getCheapestItinerary=function(t){return e.first(e.sortByAll(this.getPermittedItineraries(),e.union(["totalFareAmount"],t)))},n.prototype.getShortestItinerary=function(t){return e.first(e.sortByAll(this.getPermittedItineraries(),e.union(["duration"],t)))},n.prototype.applyFilters=function(e){this.getItineraries().forEach(function(t){t.filteredOut=!e(t)})},n}),n("datamodel/ShoppingData",["moment","datamodel/ItinerariesList","util/LodashExtensions"],function(e,t,n){function r(){this.data={},this.maxAvailableDates={},this.minDateAndPricePairs={}}return r.prototype.DATE_FORMAT_FOR_KEYS="YYYY-MM-DD",r.prototype.updateMaxAvailableDate=function(e,t){var r=this.maxAvailableDates[e];(n.isUndefined(r)||t.isAfter(r))&&(this.maxAvailableDates[e]=t)},r.prototype.updateMinDateAndPricePair=function(e,t,r){var i=this.minDateAndPricePairs[e];if(i&&i.totalFareAmountWithCurrency.currency&&r.currency!==i.totalFareAmountWithCurrency.currency)throw new Error("Unable to update minimum price as currencies different");(n.isUndefined(i)||r.amount<=i.totalFareAmountWithCurrency.amount&&t.isBefore(i.date))&&(this.minDateAndPricePairs[e]={date:t,totalFareAmountWithCurrency:r})},r.prototype.markRequestedData=function(t,n,r){var i=this;e().range(n.clone().startOf("month"),r).by("months",function(e){var n=e.format(this.DATE_FORMAT_FOR_KEYS);i.initKeyEntries(i.data,t,n)})},r.prototype.contains=function(e,t){var r=t.format(this.DATE_FORMAT_FOR_KEYS);return n.has(this.data,e)&&n.has(this.data[e],[r])},r.prototype.addUpdate=function(e){var t=this;n.each(e.data,function(e,r){n.isUndefined(e)||(n.each(e,function(e,n){t.initKeyEntries(t.data,r,n),t.addUpdateForMonth(r,e)}),t.updateLeadPrices(r))})},r.prototype.addUpdateForMonth=function(t,r){var i=this;n.isUndefined(r)||n.each(r,function(r,o){n.isUndefined(r)||n.each(r.itinerariesList.getItineraries(),function(n){i.addItinerary(t,n,e(o,i.DATE_FORMAT_FOR_KEYS))})})},r.prototype.addItinerary=function(e,t,n){var r=n.clone().startOf("month").format(this.DATE_FORMAT_FOR_KEYS),i=n.clone().startOf("day").format(this.DATE_FORMAT_FOR_KEYS);this.initKeyEntries(this.data,e,r,i),this.data[e][r][i].itinerariesList.add(t),this.updateMaxAvailableDate(e,n),this.updateMinDateAndPricePair(e,n,t.totalFareAmountWithCurrency)},r.prototype.getItinerariesList=function(e,t){var r=t.clone().startOf("month").format(this.DATE_FORMAT_FOR_KEYS),i=t.format(this.DATE_FORMAT_FOR_KEYS);return n.has(this.data,e)&&n.has(this.data[e],[r])&&n.has(this.data[e][r],[i])?this.data[e][r][i].itinerariesList:void 0},r.prototype.getLeadPricesForMonth=function(e,t){var r={},i=this,o=t.format(this.DATE_FORMAT_FOR_KEYS);return n.has(this.data,e)&&n.has(this.data[e],[o])&&Object.keys(this.data[e][o]).forEach(function(t){r[t]=i.data[e][o][t].leadPrice}),r},r.prototype.getLeadPricesForRange=function(t,r,i){var o={},a=this;return e.range(r,i).by("days",function(e){var r=a.getLeadPriceForDay(t,e);n.extend(o,r)}),o},r.prototype.getLeadPriceForDay=function(e,t){var r={},i=t.clone().startOf("month").format(this.DATE_FORMAT_FOR_KEYS),o=t.format(this.DATE_FORMAT_FOR_KEYS);return n.isUndefined(this.data[e])||n.isUndefined(this.data[e][i])||n.isUndefined(this.data[e][i][o])?{}:(r[t.format(this.DATE_FORMAT_FOR_KEYS)]=this.data[e][i][o].leadPrice,r)},r.prototype.getMonthLeadPrice=function(e,t){return n.min(n.values(this.getLeadPricesForMonth(e,t)))},r.prototype.getMinDateAndPricePair=function(e){return this.minDateAndPricePairs[e]},r.prototype.getMaxAvailableDate=function(e){return this.maxAvailableDates[e]},r.prototype.updateLeadPrices=function(e){n.has(this.data,e)&&n.each(this.data[e],function(e){n.isUndefined(e)||n.each(e,function(t,n){var r=t.itinerariesList.getLeadPrice();e[n].leadPrice=r})})},r.prototype.initKeyEntries=function(e,r,i,o){n.isUndefined(e)&&(this.data={}),this.data[r]||(this.data[r]={}),this.data[r][i]||(this.data[r][i]={}),o&&!this.data[r][i][o]&&(this.data[r][i][o]={itinerariesList:new t})},r}),n("datamodel/Itinerary",["lodash","util/LodashExtensions"],function(e,t){function n(){this.legs=[],this.itineraryPricingInfo=void 0,this.weightedPriceAmount=void 0,Object.defineProperty(this,"duration",{get:function(){var e=this.legs.reduce(function(e,t){return e+t.getDuration()},0);return e}}),Object.defineProperty(this,"outboundLegDuration",{get:function(){return t.first(this.legs).getDuration()}}),Object.defineProperty(this,"outboundDepartureDateTime",{get:function(){return this.getOutboundDepartureDateTime()}}),Object.defineProperty(this,"outboundArrivalDateTime",{get:function(){return this.getOutboundArrivalDateTime()}}),Object.defineProperty(this,"numberOfStops",{get:function(){return this.getNumberOfStops()}}),Object.defineProperty(this,"sumNumberOfStopsForAllLegs",{get:function(){return this.getSumNumberOfStopsForAllLegs()}}),Object.defineProperty(this,"totalFareAmountWithCurrency",{get:function(){return this.itineraryPricingInfo.fareAmounts.totalFare},configurable:!0}),Object.defineProperty(this,"totalFareAmount",{get:function(){return this.itineraryPricingInfo.fareAmounts.totalFare.amount},configurable:!0}),Object.defineProperty(this,"totalFareCurrency",{get:function(){return this.itineraryPricingInfo.fareAmounts.totalFare.currency}}),Object.defineProperty(this,"baseFareAmount",{get:function(){return this.itineraryPricingInfo.fareAmounts.baseFare.amount}}),Object.defineProperty(this,"baseFareCurrency",{get:function(){return this.itineraryPricingInfo.fareAmounts.baseFare.currency}}),Object.defineProperty(this,"totalTaxAmount",{get:function(){return this.itineraryPricingInfo.fareAmounts.totalTax.amount}}),Object.defineProperty(this,"totalTaxCurrency",{get:function(){return this.itineraryPricingInfo.fareAmounts.totalTax.currency}})}function r(e){var n=[];e.legs.forEach(function(e){t.pushAll(n,e.getAllMarketingAirlines())}),e.allMarketingAirlines=t.uniq(n)}function i(e){e.hasRedEyeFlight=e.legs.some(function(e){return e.hasRedEyeFlight()})}function o(e){e.hasShortConnection=e.legs.some(function(e){return e.hasShortConnection()})}function a(e){e.hasLongConnection=e.legs.some(function(e){return e.hasLongConnection()})}function s(e){e.hasLowSeatsRemaining=e.itineraryPricingInfo.hasLowSeatsRemaining()}return n.prototype.addLeg=function(e){this.legs.push(e)},n.prototype.build=function(){this.updateLegsChangeOfAirportAtDeparture(),this.updateLegsChangeOfAirportAtArrival(),i(this),o(this),a(this),s(this),r(this)},n.prototype.getLegsSegmentCounts=function(){return this.legs.map(function(e){return e.segments.length})},n.prototype.updateLegsChangeOfAirportAtDeparture=function(){if(!this.isOneWayTravel()){var e=this;this.legs.forEach(function(t,n,r){t.hasAirportChangeAtDeparture=0===n?!e.isTripDepartureAndReturnSameAirport():t.departureAirport!==r[n-1].arrivalAirport})}},n.prototype.updateLegsChangeOfAirportAtArrival=function(){if(!this.isOneWayTravel()){var e=this;this.legs.forEach(function(t,n,r){t.hasAirportChangeAtArrival=e.isLastLeg(n)?!e.isTripDepartureAndReturnSameAirport():t.arrivalAirport!==r[n+1].departureAirport})}},n.prototype.isLastLeg=function(e){return e===this.legs.length-1},n.prototype.getOutboundDepartureDateTime=function(){var e=t.first(this.legs);return t.first(e.segments).departureDateTime},n.prototype.getOutboundArrivalDateTime=function(){var e=t.first(this.legs);return t.last(e.segments).arrivalDateTime},n.prototype.getInboundDepartureDateTime=function(){var e=t.last(this.legs);return t.first(e.segments).arrivalDateTime},n.prototype.getInboundArrivalDateTime=function(){var e=t.last(this.legs);return t.last(e.segments).arrivalDateTime},n.prototype.getNumberOfStops=function(){return t.max(this.legs.map(function(e){return e.getNumberOfStops()}))},n.prototype.getSumNumberOfStopsForAllLegs=function(){return this.legs.reduce(function(e,t){return e+t.getNumberOfStops()},0)},n.prototype.getFirstLeg=function(){return t.first(this.legs)},n.prototype.getFirstMarketingAirline=function(){return this.legs[0].segments[0].marketingAirline},n.prototype.getConnectionAirports=function(){var e=this.legs.map(function(e){return e.getConnectionAirports()});return t.union(t.flatten(e))},n.prototype.getTripDepartureAirport=function(){return t.first(this.legs).departureAirport},n.prototype.getTripArrivalAirport=function(){return t.last(this.legs).arrivalAirport},n.prototype.getFirstLegArrivalAirport=function(){return t.first(this.legs).arrivalAirport},n.prototype.isTripDepartureAndReturnSameAirport=function(){return this.getTripDepartureAirport()===this.getTripArrivalAirport()},n.prototype.departureAndArrivalDifferentForComplexTravel=function(){return this.isOneWayTravel()?void 0:!this.isTripDepartureAndReturnSameAirport()},n.prototype.isOneWayTravel=function(){return 1===this.legs.length},n.prototype.isNonRefundableIndicatorDefined=function(){return t.isDefined(this.itineraryPricingInfo.nonRefundableIndicator)},n.prototype.hasChangeOfAirportsAtAnyStopover=function(){return this.isOneWayTravel()?void 0:(e.isUndefined(this.hasChangeOfAirportsAtAnyStopoverIndicator)&&(this.hasChangeOfAirportsAtAnyStopoverIndicator=this.legs.some(function(e,t,n){return 0===t&&e.hasAirportChangeAtArrival||t>0&&t<n.length-1&&(e.hasAirportChangeAtDeparture||e.hasAirportChangeAtArrival)||t>0&&e.hasAirportChangeAtDeparture})),this.hasChangeOfAirportsAtAnyStopoverIndicator)},n.prototype.getPricingSource=function(){return this.pricingSource},n.prototype.getFlightStructure=function(){return this.legs.map(function(e){return e.getFlightStructure()}).join(" ||| ")},n.prototype.getSeatsRemaining=function(e,t){return this.itineraryPricingInfo.getSeatsRemaining(e,t)},n.prototype.getCabin=function(e,t){return this.itineraryPricingInfo.getCabin(e,t)},n.prototype.getMeals=function(e,t){return this.itineraryPricingInfo.getMeals(e,t)},n.prototype.getBaggageAllowance=function(e,t){return this.itineraryPricingInfo.getBaggageAllowance(e,t)},n.prototype.getMinBaggageAllowance=function(){return this.itineraryPricingInfo.getMinBaggageAllowance()},n.prototype.equals=function(e){if(this.legs.length!==e.legs.length)return!1;for(var t=0;t<this.legs.length;t++)if(!this.legs[t].equals(e.legs[t]))return!1;return this.itineraryPricingInfo.equals(e.itineraryPricingInfo)?!0:!1},n}),n("datamodel/Leg",["lodash","moment"],function(e,t){function n(){this.segments=[]}function r(t){t.departureAirport=e.first(t.segments).departureAirport
}function i(t){t.arrivalAirport=e.last(t.segments).arrivalAirport}function o(t){t.departureDateTime=e.first(t.segments).departureDateTime}function a(t){t.arrivalDateTime=e.last(t.segments).arrivalDateTime}return n.prototype.addSegment=function(e){this.segments.push(e)},n.prototype.build=function(){r(this),i(this),o(this),a(this)},n.prototype.getNumberOfStops=function(){return this.segments.length-1},n.prototype.getDuration=function(){return this.duration},n.prototype.getFirstFlightMarketingAirline=function(){return e.first(this.segments).marketingAirline},n.prototype.getAllMarketingAirlines=function(){var t=[];return this.segments.forEach(function(e){t.push(e.marketingAirline)}),e.uniq(t)},n.prototype.hasConnection=function(){return this.segments.length>1},n.prototype.getConnectionAirports=function(){if(!this.hasConnection())return[];var t=e.initial(this.segments);return t.map(function(e){return e.arrivalAirport})},n.prototype.getConnectionTimeMillis=function(e){if(this.hasConnection()&&e<this.segments.length-1){var t=this.segments[e].arrivalDateTime,n=this.segments[e+1].departureDateTime,r=n.diff(t);return r}},n.prototype.getConnectionTime=function(e){return t.duration(this.getConnectionTimeMillis(e))},n.prototype.getConnectionTimeMinutes=function(e){return this.getConnectionTimeMillis(e)/1e3/60},n.prototype.getFlightStructure=function(){return this.segments.map(function(e){return e.getFlightStructure()}).join("||")},n.prototype.hasRedEyeFlight=function(){return this.segments.some(function(e){return e.isRedEyeFlight()})},n.prototype.hasLongConnection=function(){var e=300,t=this;return this.segments.some(function(n,r){return t.getConnectionTimeMinutes(r)>=e})},n.prototype.hasShortConnection=function(){var e=60,t=this;return this.segments.some(function(n,r){return t.getConnectionTimeMinutes(r)<=e})},n.prototype.equals=function(e){if(this.segments.length!==e.segments.length)return!1;for(var t=0;t<this.segments.length;t++)if(!this.segments[t].equals(e.segments[t]))return!1;return this.duration!==e.duration?!1:this.hasAirportChangeAtDeparture!==e.hasAirportChangeAtDeparture?!1:this.hasAirportChangeAtArrival!==e.hasAirportChangeAtArrival?!1:!0},n}),n("datamodel/Segment",[],function(){function e(e){this.departureAirport=e.departureAirport,this.departureDateTime=e.departureDateTime,this.arrivalAirport=e.arrivalAirport,this.arrivalDateTime=e.arrivalDateTime,this.elapsedTime=e.elapsedTime,this.equipment=e.equipment,this.marketingFlightNumber=e.marketingFlightNumber,this.marketingAirline=e.marketingAirline,this.operatingFlightNumber=e.operatingFlightNumber,this.operatingAirline=e.operatingAirline}return e.prototype.getFlightStructure=function(){return[this.departureDateTime.format(),this.departureAirport,this.arrivalDateTime,this.arrivalAirport,this.cabin,this.marketingAirline,this.marketingFlightNumber,this.operatingAirline,this.operatingFlightNumber].join("|")},e.prototype.isRedEyeFlight=function(){return this.flightTimeCrossesMidnight()},e.prototype.flightTimeCrossesMidnight=function(){var e=this.departureDateTime.clone().endOf("day");return this.arrivalDateTime.isAfter(e)},e.prototype.equals=function(e){return this.departureAirport===e.departureAirport&&this.departureDateTime.isSame(e.departureDateTime)&&this.arrivalAirport===e.arrivalAirport&&this.arrivalDateTime.isSame(e.arrivalDateTime)&&this.elapsedTime===e.elapsedTime&&this.equipment===e.equipment&&this.marketingFlightNumber===e.marketingFlightNumber&&this.marketingAirline===e.marketingAirline&&this.operatingFlightNumber===e.operatingFlightNumber&&this.operatingAirline===e.operatingAirline},e}),n("datamodel/SegmentBaggageAllowance",["lodash","util/LodashExtensions"],function(e,t){function n(e){this.legSegmentBaggageAllowance=e||{}}var r=2;return n.prototype.addLegSegmentsAllowance=function(t,n,r){e.isUndefined(this.legSegmentBaggageAllowance[t])&&(this.legSegmentBaggageAllowance[t]={}),this.legSegmentBaggageAllowance[t][n]=r},n.prototype.getSegmentAllowance=function(e,t){return this.legSegmentBaggageAllowance[e]&&this.legSegmentBaggageAllowance[e][t]},n.prototype.uniqueBaggageAllowance=function(){var n=function(e){return JSON.stringify(e)};return e.uniq(t.leafValues(this.legSegmentBaggageAllowance,r),n)},n.prototype.getMinBaggageAllowance=function(){var n=t.leafValues(this.legSegmentBaggageAllowance,r);return e.min(n,"Pieces").Pieces},n.prototype.equals=function(t){return e.isEqual(this.legSegmentBaggageAllowance,t.legSegmentBaggageAllowance)},n}),n("datamodel/ItineraryPricingInfo",["lodash","util/LodashExtensions","datamodel/SegmentBaggageAllowance"],function(e,t,n){function r(e){this.legsSegmentCounts=e,this.nonRefundableIndicator=void 0,this.OBFees=[],this.baggageAllowance=new n,this.segmentCabins={},this.segmentSeatsRemaining={},this.segmentMeals={},this.fareAmounts={baseFare:void 0,totalFare:void 0,totalTax:void 0},this.summaries={}}return r.prototype.calculateLegAndSegmentRelativeIndices=function(e){for(var t=0,n=0,r=0;r<this.legsSegmentCounts.length;r++){if(t+=this.legsSegmentCounts[r],t>e){var i=e-n;return{legIdx:r,relativeSegmentIdx:i}}n=t}},r.prototype.setCabin=function(t,n){var r=this.calculateLegAndSegmentRelativeIndices(t);e.isUndefined(this.segmentCabins[r.legIdx])&&(this.segmentCabins[r.legIdx]={}),this.segmentCabins[r.legIdx][r.relativeSegmentIdx]=n},r.prototype.setMeal=function(t,n){var r=this.calculateLegAndSegmentRelativeIndices(t);e.isUndefined(this.segmentMeals[r.legIdx])&&(this.segmentMeals[r.legIdx]={}),this.segmentMeals[r.legIdx][r.relativeSegmentIdx]=n},r.prototype.setSeatsRemaining=function(t,n){var r=this.calculateLegAndSegmentRelativeIndices(t);e.isUndefined(this.segmentSeatsRemaining[r.legIdx])&&(this.segmentSeatsRemaining[r.legIdx]={}),this.segmentSeatsRemaining[r.legIdx][r.relativeSegmentIdx]=n},r.prototype.getSeatsRemaining=function(e,t){return this.segmentSeatsRemaining[e]&&this.segmentSeatsRemaining[e][t]},r.prototype.getCabin=function(e,t){return this.segmentCabins[e]&&this.segmentCabins[e][t]},r.prototype.getUniqueCabins=function(){return e.uniq(t.leafValues(this.segmentCabins))},r.prototype.getMeals=function(e,t){return this.segmentMeals[e]&&this.segmentMeals[e][t]},r.prototype.getUniqueMeals=function(){return e.uniq(t.leafValues(this.segmentMeals))},r.prototype.setBaggageAllowance=function(e){var t=this;e.forEach(function(e){e.segmentsAbsoluteIndexes.forEach(function(n){var r=t.calculateLegAndSegmentRelativeIndices(n);t.baggageAllowance.addLegSegmentsAllowance(r.legIdx,r.relativeSegmentIdx,e.allowance)})})},r.prototype.getBaggageAllowance=function(e,t){return this.baggageAllowance.getSegmentAllowance(e,t)},r.prototype.getMinBaggageAllowance=function(){return this.baggageAllowance.getMinBaggageAllowance()},r.prototype.getUniqueBaggageAllowance=function(){return this.baggageAllowance.uniqueBaggageAllowance()},r.prototype.hasLowSeatsRemaining=function(){var t=4;return e.values(this.segmentSeatsRemaining).some(function(n){return e.values(n).some(function(e){return t>=e})})},r.prototype.updateSummaries=function(){this.summaries={uniqueCabins:this.getUniqueCabins(),uniqueMeals:this.getUniqueMeals(),uniqueBaggageAllowance:this.getUniqueBaggageAllowance()}},r.prototype.equals=function(t){return e.isEqual(this.legsSegmentCounts,t.legsSegmentCounts)&&e.isEqual(this.nonRefundableIndicator,t.nonRefundableIndicator)&&e.isEqual(this.OBFees,t.OBFees)&&this.baggageAllowance.equals(t.baggageAllowance)&&e.isEqual(this.segmentCabins,t.segmentCabins)&&e.isEqual(this.segmentSeatsRemaining,t.segmentSeatsRemaining)&&e.isEqual(this.segmentMeals,t.segmentMeals)&&e.isEqual(this.fareAmounts,t.fareAmounts)&&e.isEqual(this.summaries,t.summaries)},r}),n("datamodel/MonetaryAmount",[],function(){function e(e,t){this.amount=e,this.currency=t}return e}),n("datamodel/AlternateDatesAbstractPriceMatrix",["lodash"],function(e){function t(){this.leadFaresForDates=[]}return t.prototype.getAllLeadFares=function(){return this.leadFaresForDates},t.prototype.findEntryForDepartureDate=function(t){var n=e.partial(this.datesAreSameDay,t),r=e.find(this.leadFaresForDates,function(e){return n(e.departureDate)});if(e.isUndefined(r)){var i={departureDate:t},o=e.sortedIndex(this.leadFaresForDates,i,function(e){return e.departureDate.unix()});return this.leadFaresForDates.splice(o,0,i),i}return r},t.prototype.updateEntry=function(t,n,r){if(t.currency&&t.currency!==r)throw new Error("Different currency when trying to update price for dates. Cannot compare the already cheapest fare in "+t.currency+" to candidate fare in "+r);e.isUndefined(t.currency)&&(t.currency=r),(e.isUndefined(t.price)||t.price>n)&&(t.price=n)},t.prototype.datesAreSameDay=function(e,t){return e.date()===t.date()&&e.month()===t.month()&&e.year()===t.year()},t.prototype.hasAtLeastOnePrice=function(){return!e.isEmpty(this.leadFaresForDates)},t}),n("datamodel/AlternateDatesOneWayPriceMatrix",["lodash","datamodel/AlternateDatesAbstractPriceMatrix"],function(e,t){function n(){t.apply(this,arguments)}return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.addLeadFareForDate=function(e){var t=this.findEntryForDepartureDate(e.departureDate);this.updateEntry(t,e.price,e.currency)},n.prototype.getLeadFareForTravelDate=function(t){var n=e.partial(this.datesAreSameDay,t),r=e.find(this.leadFaresForDates,function(e){return n(e.departureDate)});return e.isUndefined(r)?void 0:{price:r.price,currency:r.currency}},n}),n("datamodel/AlternateDatesRoundTripPriceMatrix",["lodash","datamodel/AlternateDatesAbstractPriceMatrix"],function(e,t){function n(){t.apply(this,arguments)}return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.addLeadFareForDate=function(e){var t=this.findEntryForDepartureAndReturnDates(e.departureDate,e.returnDate);this.updateEntry(t,e.price,e.currency)},n.prototype.getLeadFareForTravelDates=function(t,n){var r=e.partial(this.datesAreSameDay,t),i=e.find(this.leadFaresForDates,function(e){return r(e.departureDate)});if(!e.isUndefined(i)){var o=e.partial(this.datesAreSameDay,n),a=e.find(i.pricesForReturnDates,function(e){return o(e.returnDate)});if(!e.isUndefined(a))return{price:a.price,currency:a.currency}}},n.prototype.getAllReturnDates=function(){var t=e.flattenDeep(this.leadFaresForDates.map(function(e){return e.pricesForReturnDates.map(function(e){return e.returnDate})}));return e.uniq(t,!1,function(e){return e.unix()})},n.prototype.findEntryForDepartureAndReturnDates=function(e,t){var n=this.findEntryForDepartureDate(e);return this.findEntryForReturnDate(n,t)},n.prototype.findEntryForReturnDate=function(t,n){e.isUndefined(t.pricesForReturnDates)&&(t.pricesForReturnDates=[]);var r=t.pricesForReturnDates,i=e.partial(this.datesAreSameDay,n),o=e.find(r,function(e){return i(e.returnDate)});if(e.isUndefined(o)){var a={returnDate:n},s=e.sortedIndex(r,a,function(e){return e.returnDate.unix()});return r.splice(s,0,a),a}return o},n}),n("webservices/common/parsers/AbstractOTAResponseParser",["lodash","moment","datamodel/Itinerary","datamodel/Leg","datamodel/Segment","datamodel/ItineraryPricingInfo","datamodel/MonetaryAmount","datamodel/ItinerariesList","datamodel/AlternateDatesOneWayPriceMatrix","datamodel/AlternateDatesRoundTripPriceMatrix"],function(e,t,n,r,i,o,a,s,l,u){function c(){}return c.prototype.getFirstItineraryTripType=function(t){var n=e.first(this.getPricedItinerariesArray(t));return"OneWay"===n.AirItinerary.DirectionInd?"OneWay":"Return"===n.AirItinerary.DirectionInd?"RoundTrip":void 0},c.prototype.createAlternateDatesPriceMatrixForTripType=function(e){return"OneWay"===e?new l:"RoundTrip"===e?new u:void 0},c.prototype.parse=function(e){var t=new s;if(!this.itinerariesFound(e))return t;var n=this;return this.getPricedItinerariesArray(e).forEach(function(e){var r=n.parseItinerary(e);t.add(r)}),t},c.prototype.extractAlternateDatesPriceMatrix=function(e){var t=this.getFirstItineraryTripType(e),n=this.createAlternateDatesPriceMatrixForTripType(t);if(!this.itinerariesFound(e))return n;var r=this;return this.getPricedItinerariesArray(e).forEach(function(e){var t=r.getTravelDatesWithLeadPrice(e);n.addLeadFareForDate(t)}),n},c.prototype.parseItinerary=function(e){var t=this,r=new n;if(e.AirItinerary.OriginDestinationOptions.OriginDestinationOption.forEach(function(e){r.addLeg(t.parseLeg(e))}),e.AirItineraryPricingInfo.length>1)throw new Error("parser unsupported");var i=this.getItineraryPricingInfoResponsePart(e),o=r.getLegsSegmentCounts();return r.itineraryPricingInfo=this.parseItineraryPricingInfo(i,o),r.pricingSource=this.parsePricingSource(e),r.id=e.SequenceNumber,r.build(),r},c.prototype.parseItineraryPricingInfo=function(e,t){var n=new o(t);this.parseCabinAndSeatsRemaining(n,e.FareInfos.FareInfo);var r=e.ItinTotalFare;return n.fareAmounts=this.parseFareAmounts(r),n},c.prototype.parseCabinAndSeatsRemaining=function(e,t){t.forEach(function(t,n){e.setCabin(n,t.TPA_Extensions.Cabin.Cabin),t.TPA_Extensions.Meal&&e.setMeal(n,t.TPA_Extensions.Meal.Code),e.setSeatsRemaining(n,t.TPA_Extensions.SeatsRemaining.Number)})},c.prototype.parseOBFees=function(e){return e.OBFee.map(function(e){return new a(e.Amount,e.CurrencyCode)})},c.prototype.parseFareAmounts=function(t){var n={};if(n.baseFare=new a(t.BaseFare.Amount,t.BaseFare.CurrencyCode),t.Taxes.Tax.length>1)throw new Error("parser unsupported");n.totalTax=new a(t.Taxes.Tax[0].Amount,t.Taxes.Tax[0].CurrencyCode);var r=t.TotalFare.Amount,i=e.isString(r)?parseFloat(r):r;return n.totalFare=new a(i,t.TotalFare.CurrencyCode),n},c.prototype.getTravelDatesWithLeadPrice=function(e){var t=this.parseItinerary(e),n={departureDate:t.getOutboundDepartureDateTime(),returnDate:t.getInboundDepartureDateTime(),price:t.totalFareAmountWithCurrency.amount,currency:t.totalFareAmountWithCurrency.currency};return n},c.prototype.parseLeg=function(e){var n=this,o=new r;return o.duration=parseInt(e.ElapsedTime),o.segments=e.FlightSegment.map(function(e){return new i({departureAirport:e.DepartureAirport.LocationCode,departureDateTime:t(new Date(e.DepartureDateTime)),arrivalAirport:e.ArrivalAirport.LocationCode,arrivalDateTime:t(new Date(e.ArrivalDateTime)),elapsedTime:e.ElapsedTime,equipment:n.parseEquipment(e),marketingFlightNumber:e.FlightNumber,marketingAirline:e.MarketingAirline.Code,operatingFlightNumber:e.OperatingAirline.FlightNumber,operatingAirline:e.OperatingAirline.Code})}),o.build(),o},c}),n("webservices/common/parsers/OTAResponseParser",["lodash","webservices/common/parsers/AbstractOTAResponseParser"],function(e,t){function n(){t.apply(this,arguments)}return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.getPricedItinerariesArray=function(e){return e.OTA_AirLowFareSearchRS.PricedItineraries.PricedItinerary},n.prototype.itinerariesFound=function(t){return e.has(t,"OTA_AirLowFareSearchRS","Success")},n.prototype.getItineraryPricingInfoResponsePart=function(e){return e.AirItineraryPricingInfo[0]},n.prototype.parseEquipment=function(e){return e.Equipment[0].AirEquipType},n.prototype.getBusinessErrorMessages=function(t){var n=["WORKERTHREAD","SERVER","DEFAULT","DRE","IF2","DSFCLIENT","JRCHILD"];try{var r=JSON.parse(t).OTA_AirLowFareSearchRS.Errors.Error.filter(function(t){return!e.contains(n,t.Type)}).map(function(e){return e.ShortText})||[];return e.unique(r)}catch(i){return[t]}},n.prototype.parsePricingSource=function(e){var t=e.AirItineraryPricingInfo[0];return t.PricingSource+":"+t.PricingSubSource},n}),n("webservices/advancedCalendar/AdvancedCalendarService",["angular","lodash","webservices/advancedCalendar/AdvancedCalendarSearchCriteriaValidator","webservices/advancedCalendar/AdvancedCalendarRequestFactory","webservices/advancedCalendar/AdvancedCalendarRequestDatesExpander","datamodel/ShoppingData","webservices/common/parsers/OTAResponseParser"],function(e,t,n,r,i,o,a){function s(e,s,l,u,c,d,p){function h(e){var t=[e.getFirstLeg().origin,e.getFirstLeg().destination,e.getLengthOfStay(),JSON.stringify(e.preferredAirlines),e.maxStops,JSON.stringify(e.passengerSpecifications)];return t.join("-")}function f(e){return!e.isAlternateDatesRequest()}var g=new i,m=new r(g),v=new r(void 0),y=new a,b=new n;return{getLeadPricesForRange:function(n,r){return e(function(e,i){var a=b.validate(n);if(a.length>0)return c.reportErrors(a,"Unsupported search criteria"),i(a);var f=h(n),g=l.getLeadPricesForRange(f,r.start,r.end);if(t.size(g)>0)return e(g);var v=m.createRequest(n,{bfmRequestPcc:p.bfmRequestPcc});s.sendRequest(v).then(function(t){var n=y.parse(t),i=new o;i.markRequestedData(f,r.start,r.end),n.getItineraries().forEach(function(e){i.addItinerary(f,e,e.getOutboundDepartureDateTime())}),i.updateLeadPrices(f),l.addUpdate(i);var a=i.getLeadPricesForRange(f,r.start,r.end);return e(a)},function(e){u.reportError("Advanced Calendar: Could not get lead prices for dates "+r.start.format("YYYY-MM-DD")+" thru "+r.end.format("YYYY-MM-DD"),n),d.handle(i,e,y.getBusinessErrorMessages)})})},getItineraries:function(t){return e(function(e,n){var r=b.validate(t);if(r.length>0)return c.reportErrors(r,"Unsupported search criteria"),n(r);if(f(t)){var i=h(t),o=t.getFirstLeg().departureDateTime.clone().startOf("day"),a=l.getItinerariesList(i,o);if(a&&a.size()>0)return e(a)}var g=v.createRequest(t,{bfmRequestPcc:p.bfmRequestPcc});s.sendRequest(g).then(function(t){var n=y.parse(t);return e(n)},function(e){u.reportError("Advanced Calendar: Could not get itineraries",t),d.handle(n,e,y.getBusinessErrorMessages)})})},getAlternateDatesPriceMatrix:function(t){if(!t.isAlternateDatesRequest())throw new Error("Calling Alternative Dates service for non alternative dates request");var n=v.createRequest(t,{bfmRequestPcc:p.bfmRequestPcc});return e(function(e,r){var i=b.validate(t);return i.length>0?(c.reportErrors(i,"Unsupported search criteria"),r(i)):void s.sendRequest(n).then(function(t){var n=y.extractAlternateDatesPriceMatrix(t);e(n)},function(e){u.reportError("Advanced Calendar: Could not get alternate dates lead prices",t),d.handle(r,e,y.getBusinessErrorMessages)})})},getMinDateAndPricePair:function(e){var t=h(e),n=l.getMinDateAndPricePair(t);return{totalFareAmount:n.totalFareAmountWithCurrency.amount,currency:n.totalFareAmountWithCurrency.currency,date:n.date}},getMaxAvailableDate:function(e){var t=h(e);return l.getMaxAvailableDate(t)}}}return s}),n("webservices/advancedCalendar/advancedCalendar.mod",["angular","webservices/advancedCalendar/AdvancedCalendarSearchService","webservices/advancedCalendar/AdvancedCalendarService"],function(e,t,n){e.module("sabreDevStudioWebServices.advancedCalendar",[]).service("AdvancedCalendarSearchService",["$resource","selectedCountryConfigs","requestHeadersFactory","CachingDecorator",t]).factory("AdvancedCalendarDataService",["$q","AdvancedCalendarSearchService","ShoppingOptionsCacheService","ErrorReportingService","ValidationErrorReportingService","businessMessagesErrorHandler","selectedCountryConfigs",n])});var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};n("webservices/bargainFinderMax/BargainFinderMaxAlternateDateWebService",["require","exports","../WebService"],function(e,t,n){var i=function(e){function t(t,n,r,i){var o=e.call(this,"/v1.8.6/shop/altdates/flights?mode=live",t,n,r,i)||this;return o.$resource=t,o.selectedCountryConfigs=n,o.requestHeadersFactory=r,o.cachingDecorator=i,o}return r(t,e),t.prototype.sendRequest=function(e){return this.createPostResource()(e)},t}(n);return i});var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};n("webservices/bargainFinderMax/BargainFinderMaxWebService",["require","exports","../WebService"],function(e,t,n){var i=function(e){function t(t,n,r,i){var o=e.call(this,"/v1.9.5/shop/flights?mode=live",t,n,r,i)||this;return o.$resource=t,o.selectedCountryConfigs=n,o.requestHeadersFactory=r,o.cachingDecorator=i,o}return r(t,e),t.prototype.sendRequest=function(e){return this.createPostResource()(e)},t}(n);return i}),n("webservices/bargainFinderMax/BargainFinderMaxRequestFactory",["lodash","util/LodashExtensions","moment","webservices/common/OTARequestFactory"],function(e,t,n,r){function i(){r.apply(this)}function o(e){return e.map(function(e){var t={Direction:e.direction.description,Endpoint:e.endpoint.description};return e.ranges.length>0&&(t.Range=a(e.ranges)),t})}function a(e){return e.map(function(e){return{Begin:n(e.begin).format("HH:mm"),End:n(e.end).format("HH:mm"),Options:e.options+"%"}})}return i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype.requestBrandedFares=!1,i.prototype.createOriginDestinationInfos=function(e){var t=this;return e.legs.map(function(n,r){return{DepartureDateTime:n.departureDateTime.format(t.dateTimeFormat),DestinationLocation:{LocationCode:n.destination},OriginLocation:{LocationCode:n.origin},RPH:""+(r+1),TPA_Extensions:t.createLegTPAExtensions(e.preferredAirlines,e.dateFlexibilityDays)}})},i.prototype.createLegTPAExtensions=function(t,n){var r={IncludeVendorPref:t.map(function(e){return{Code:e}})};return n=parseInt(n),n>0&&e.extend(r,{DateFlexibility:{NbrOfDays:n}}),r},i.prototype.getRequestType=function(e,t){return t>0?"AD1":50>=e?"50ITINS":100>=e?"100ITINS":"200ITINS"},i.prototype.createNumTrips=function(e){return{Number:e}},i.prototype.createPriceRequestInformation=function(){return this.requestBrandedFares?{TPA_Extensions:{BrandedFareIndicators:{ReturnCheapestUnbrandedFare:{Ind:!0},SingleBrandedFare:!0,MultipleBrandedFares:!0}}}:r.prototype.createPriceRequestInformation.call(this)},i.prototype.createRequestTPAExtensions=function(t,n){var r=this.createIntelliSellTransaction(t,n);return n.diversityModelOptions&&e.extend(r,this.createDiversityControl(n.diversityModelOptions)),r},i.prototype.createIntelliSellTransaction=function(t,n){var r={IntelliSellTransaction:{RequestType:{Name:this.getRequestType(t,n.dateFlexibilityDays)}}};return e.isEmpty(n.additionalParameters)||e.extend(r.IntelliSellTransaction,n.additionalParameters),r},i.prototype.createDiversityControl=function(n){var r={DiversityControl:{}};return e.extend(r.DiversityControl,this.createLowFareBucket(n)),e.extend(r.DiversityControl,this.createPriceWeight(n)),e.isNumber(n.travelTimeWeight)&&e.extend(r.DiversityControl.Dimensions,this.createTravelTimeWeight(n.travelTimeWeight)),t.isNumber(n.carrier.weight)&&e.extend(r.DiversityControl.Dimensions,this.createCarrierOptions(n)),t.isNumber(n.operatingDuplicate.weight)&&e.extend(r.DiversityControl.Dimensions,this.createOperatingDuplicateOptions(n)),t.isNumber(n.inboundOutboundPairing.weight)&&e.extend(r.DiversityControl.Dimensions,this.createinboundOutboundPairingOptions(n)),t.isNumber(n.timeOfDay.weight)&&e.extend(r.DiversityControl.Dimensions,this.createTimeOfDayOptions(n)),t.isNumber(n.numberOfStopsWeight)&&e.extend(r.DiversityControl.Dimensions,this.createNonStopWeight(n.numberOfStopsWeight)),r},i.prototype.createLowFareBucket=function(e){var t;return e.lowFareBucketMode==e.LowFareBucketModeEnum.OPTION?t={LowFareBucket:{Options:e.lowFareBucket.toString()}}:e.lowFareBucketMode==e.LowFareBucketModeEnum.FARE_CUT_OFF&&(t={LowFareBucket:{FareCutOff:e.fareCutOff+"%"}}),t},i.prototype.createPriceWeight=function(t){return{Dimensions:{PriceWeight:e.isNumber(t.priceWeight)?t.priceWeight:t.PRICE_WEIGHT_DEFAULT_VALUE}}},i.prototype.createTravelTimeWeight=function(e){return{TravelTime:{Weight:e}}},i.prototype.createCarrierOptions=function(n){var r={Carrier:{Weight:n.carrier.weight,OnlineIndicator:n.carrier.onlineIndicator}};if(t.isDefined(n.carrier.default.options)&&e.extend(r.Carrier,{Default:{Options:n.carrier.default.options.toString()}}),n.carrier.override.length>0){var i={Override:[]};n.carrier.override.forEach(function(e){i.Override.push({Code:e.code,Options:e.options.toString()})}),e.extend(r.Carrier,i)}return r},i.prototype.createOperatingDuplicateOptions=function(n){var r={OperatingDuplicate:{Weight:n.operatingDuplicate.weight}};if(t.isDefined(n.operatingDuplicate.preferredCarriers.selected.length>0)){var i={PreferredCarrier:[]};n.operatingDuplicate.preferredCarriers.selected.forEach(function(e){i.PreferredCarrier.push({Code:e})}),e.extend(r.OperatingDuplicate,i)}return r},i.prototype.createinboundOutboundPairingOptions=function(t){return{InboundOutboundPairing:{Weight:t.inboundOutboundPairing.weight,Duplicates:e.isNumber(t.inboundOutboundPairing.duplicates)?t.inboundOutboundPairing.duplicates:t.INBOUND_OUTBOUND_PAIRING_DUPLICATES_DEFAULT_VALUE}}},i.prototype.createTimeOfDayOptions=function(e){var t={TimeOfDay:{Weight:e.timeOfDay.weight}};return e.getDistributions().length>0&&(t.TimeOfDay.Distribution=o(e.getDistributions())),t},i.prototype.createNonStopWeight=function(e){return{StopsNumber:{Weight:e}}},i}),n("webservices/bargainFinderMax/BFMResponseParser",["webservices/common/parsers/OTAResponseParser","webservices/common/parsers/AbstractOTAResponseParser"],function(e,t){function n(){e.apply(this,arguments)}return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype.parseItineraryPricingInfo=function(t,n){var r=e.prototype.parseItineraryPricingInfo.call(this,t,n);if(t.PTC_FareBreakdowns.PTC_FareBreakdown.length>1)throw new Error("itineraryPricingInfoResponsePart.PTC_FareBreakdowns.PTC_FareBreakdown.length > 1 not supported. There is one entry in this array for every passenger type requested. Currently only ADT passenger type requested (one type, regardless of number of ADT passengers)");var i=t.PTC_FareBreakdowns.PTC_FareBreakdown[0];r.nonRefundableIndicator=i.Endorsements.NonRefundableIndicator;var o=i.PassengerFare.OBFees;if(r.OBFees=o&&this.parseOBFees(o),i.PassengerFare.TPA_Extensions.BaggageInformationList){var a=this.parseBaggageAllowance(i.PassengerFare.TPA_Extensions.BaggageInformationList);r.setBaggageAllowance(a)}return r},n.prototype.parseBaggageAllowance=function(e){return e.BaggageInformation.map(function(e){var t=e.Allowance,n=e.Segment.map(function(e){return e.Id});return{allowance:t,segmentsAbsoluteIndexes:n}})},n.prototype.parseItinerary=function(e){var n=t.prototype.parseItinerary.call(this,e);return e.TPA_Extensions.DiversitySwapper&&(n.weightedPriceAmount=e.TPA_Extensions.DiversitySwapper.WeighedPriceAmount),n},n}),n("datamodel/BrandedItinerary",["lodash","util/LodashExtensions","datamodel/Itinerary"],function(e,t,n){function r(){n.apply(this,arguments),this.additionalFaresPricingInfos=[]}return r.prototype=Object.create(n.prototype),r.prototype.constructor=r,r.prototype.createBrandedItinerary=function(t){return t.additionalFaresPricingInfos=[],e.extend(t,r.prototype),t},r.prototype.addAdditionalFare=function(e){this.additionalFaresPricingInfos.push(e)},r.prototype.hasAnyBrands=function(){return this.additionalFaresPricingInfos.length>0},r.prototype.getBrandsMatchedToFlight=function(e,n){var r=this.itineraryPricingInfo.getBrandMatchedToFlight(e,n),i=this.additionalFaresPricingInfos.filter(function(e){return e.fareReturned}).map(function(t){return t.getBrandMatchedToFlight(e,n)});return[r].concat(i).filter(t.isDefined)},r}),n("datamodel/BrandToSegmentMatchingItem",[],function(){function e(e){this.brandName=e,this.matchedSegments=[]}return e.prototype.addMatchedSegment=function(e,t){this.matchedSegments.push({legIndex:e,segmentIndex:t})},e.prototype.hasMatchingForFlight=function(e,t){return this.matchedSegments.some(function(n){return n.legIndex===e&&n.segmentIndex===t})},e.prototype.getBrandMatchedForFlight=function(e,t){return this.hasMatchingForFlight(e,t)?this.brandName:void 0},e}),n("datamodel/BrandedItineraryPricingInfo",["lodash","datamodel/ItineraryPricingInfo"],function(e,t){function n(){t.apply(this,arguments),this.brandToSegmentMatchings=[]}return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.createBrandedItineraryPricingInfo=function(t){return t.brandToSegmentMatchings=[],e.extend(t,n.prototype),t},n.prototype.fareReturned=!0,n.prototype.getBrandMatchedToFlight=function(t,n){var r=e.find(this.brandToSegmentMatchings,function(e){return e.hasMatchingForFlight(t,n)});return r&&r.brandName},n.prototype.getUniqueBrandsMatchedToAllFlights=function(){return e.isUndefined(this.brandToSegmentMatchings)?[]:e.uniq(this.brandToSegmentMatchings.map(function(e){return e.brandName}))},n.prototype.updateSummaries=function(){t.prototype.updateSummaries.call(this),this.summaries.uniqueBrandsMatchedToAllFlights=this.getUniqueBrandsMatchedToAllFlights()},n}),n("datamodel/BrandedItineraryPricingInfoNotReturnedFare",["datamodel/BrandedItineraryPricingInfo"],function(e){function t(){e.apply(this,arguments),this.fareStatus=void 0}return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.fareReturned=!1,t.prototype.getTranslatedFareStatus=function(){switch(this.fareStatus){case"A":return"Class is not available";case"O":return"Class is not offered";case"F":return"No fare found or applicable";case"N":return"Unknown status"}},t}),n("webservices/bargainFinderMax/BrandedBFMResponseParser",["lodash","util/LodashExtensions","datamodel/BrandedItinerary","datamodel/BrandToSegmentMatchingItem","datamodel/ItineraryPricingInfo","datamodel/BrandedItineraryPricingInfo","datamodel/BrandedItineraryPricingInfoNotReturnedFare","webservices/bargainFinderMax/BFMResponseParser"],function(e,t,n,r,i,o,a,s){function l(){s.apply(this,arguments)}return l.prototype=Object.create(s.prototype),l.prototype.constructor=l,l.prototype.parseItinerary=function(e){var t=s.prototype.parseItinerary.call(this,e),r=n.prototype.createBrandedItinerary(t);if(e.TPA_Extensions.AdditionalFares){var i=t.getLegsSegmentCounts(),o=this.parseAdditionalFares(e.TPA_Extensions.AdditionalFares,i);o.forEach(function(e){r.addAdditionalFare(e)})}return r},l.prototype.parseAdditionalFares=function(e,t){var n=this;return e.map(function(e){return n.parseItineraryPricingInfo(e.AirItineraryPricingInfo,t)})},l.prototype.parseItineraryPricingInfo=function(e,t){function n(e){var t=new r(e.BrandName);return e.Segment.forEach(function(e){t.addMatchedSegment(e.LegIndex-1,e.FlightIndex-1)}),t}if(e.FareReturned===!1){var i=[],l=new a(t);return l.fareStatus=e.FareStatus,e.TPA_Extensions&&e.TPA_Extensions.Legs&&(i=e.TPA_Extensions.Legs),l.brandToSegmentMatchings=this.parseBrandToSegmentMatchingForNotReturnedFare(i),l}var u=s.prototype.parseItineraryPricingInfo.call(this,e,t),c=o.prototype.createBrandedItineraryPricingInfo(u),d=e.PTC_FareBreakdowns.PTC_FareBreakdown[0].PassengerFare.TPA_Extensions.FareComponents;return c.brandToSegmentMatchings=d&&d.FareComponent.map(n),c.updateSummaries(),c},l.prototype.parseBrandToSegmentMatchingForNotReturnedFare=function(n){function i(e,t){return t.Segment.filter(function(e){return e.BrandName}).map(function(t){var n=new r(t.BrandName),i=t.Number-1;return n.addMatchedSegment(e,i),n})}var o=e.flatten(n.Leg);return o.reduce(function(e,n){var r=n.Number-1,o=i(r,n);return t.pushAll(e,o)},[])},l}),n("util/NGPromiseUtils",["angular","ngPromiseExtras"],function(e){return e.module("NGPromiseUtils",["ngPromiseExtras"]).config(["$provide",function(e){e.decorator("$q",["$delegate",function(e){function t(e){return o(function(t,o){if(n(e)){var a=r(e);t(a)}else{var s=i(e);o(s)}})}function n(e){return e.some(function(e){return"fulfilled"===e.state})}function r(e){return e.filter(function(e){return"fulfilled"===e.state}).map(function(e){return e.value})}function i(e){return e.filter(function(e){return"rejected"===e.state}).map(function(e){return e.reason})}var o=e;return o.mergePromises=function(e,n,r){return o(function(i,a){o.allSettled(e).then(t).then(function(e){var t=e.reduce(n);i(t)},function(e){var t=e.reduce(r);a(t)})})},o}])}])}),n("webservices/bargainFinderMax/BargainFinderMaxDataService",["util/LodashExtensions","angular","webservices/bargainFinderMax/BargainFinderMaxRequestFactory","webservices/bargainFinderMax/BFMResponseParser","webservices/bargainFinderMax/BrandedBFMResponseParser","datamodel/ItinerariesList","util/NGPromiseUtils"],function(e,t,n,r,i,o){function a(t,a,s,l,u,c){function d(e){if(!e.isAlternateDatesRequest())return f(a,e);
if(e.isAlternateDatesRequest()){if(e.returnAlternateDatesOnly)return f(s,e);var n=e.cloneWithoutDateFlexibility(),r=f(a,n),i=f(s,e);return t.mergePromises([r,i],g,m)}}function p(e){var n=b.createRequest(e,{bfmRequestPcc:c.bfmRequestPcc});return t(function(t,r){a.sendRequest(n).then(function(e){var n=S.parse(e);t(n)},function(t){l.reportError("Could not find branded itineraries",e),u.handle(r,t,S.getBusinessErrorMessages)})})}function h(e){if(!e.isAlternateDatesRequest())throw new Error("Calling Alternative Dates service for non alternative dates request");var n=v.createRequest(e,{bfmRequestPcc:c.bfmRequestPcc});return t(function(t,r){s.sendRequest(n).then(function(e){var n=y.extractAlternateDatesPriceMatrix(e);t(n)},function(t){l.reportError("BFM: Could not find alternate dates prices",e),u.handle(r,t,y.getBusinessErrorMessages)})})}function f(e,n){var r=v.createRequest(n,{bfmRequestPcc:c.bfmRequestPcc});return t(function(t,i){e.sendRequest(r).then(function(e){var n=y.parse(e);t(n)},function(e){l.reportError("BFM: Could not find itineraries",n),u.handle(i,e,y.getBusinessErrorMessages)})})}function g(e,t){return e=e||new o,e.addItinerariesListWithDedup(t)}function m(t,n){return t=t||[],e.unique(e.pushAll(t,n))}var v=new n,y=new r,b=new n;b.requestBrandedFares=!0;var S=new i;return{getItineraries:d,getBrandedItineraries:p,getAlternateDatesPriceMatrix:h}}return a}),n("webservices/bargainFinderMax/bargainFinderMax.mod",["angular","webservices/bargainFinderMax/BargainFinderMaxAlternateDateWebService","webservices/bargainFinderMax/BargainFinderMaxWebService","webservices/bargainFinderMax/BargainFinderMaxDataService"],function(e,t,n,r){e.module("sabreDevStudioWebServices.bargainFinderMax",[]).service("BargainFinderMaxAlternateDateWebService",["$resource","selectedCountryConfigs","requestHeadersFactory","CachingDecorator",t]).service("BargainFinderMaxWebService",["$resource","selectedCountryConfigs","requestHeadersFactory","CachingDecorator",n]).factory("BargainFinderMaxDataService",["$q","BargainFinderMaxWebService","BargainFinderMaxAlternateDateWebService","ErrorReportingService","businessMessagesErrorHandler","selectedCountryConfigs",r])});var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};n("webservices/leadPriceCalendar/LeadPriceCalendarWebService",["require","exports","../WebService"],function(e,t,n){var i=function(e){function t(t,n,r){var i=e.call(this,"/v1/shop/flights/fares",t,n,r,{})||this;return i.$resource=t,i.selectedCountryConfigs=n,i.requestHeadersFactory=r,i}return r(t,e),t.prototype.get=function(e){return this.createGetResource().get(e)},t}(n);return i}),n("webservices/leadPriceCalendar/LeadPriceCalendarSearchCriteriaValidator",["util/LodashExtensions","moment","webservices/common/validators/TravelInsightEngineSearchCriteriaValidator"],function(e,t,n){function r(){this.travelInsightEngineSearchCriteriaValidator=new n}return r.prototype.validate=function(t){var n=[],r=this.travelInsightEngineSearchCriteriaValidator.validate(t);return e.pushAll(n,r),t.getPreferredAirlines().length>0&&n.push("Lead Price calendar does not support airline preference"),n},r}),n("webservices/leadPriceCalendar/LeadPriceCalendarResponseParser",["angular","moment","lodash","datamodel/AlternateDatesRoundTripPriceMatrix"],function(e,t,n,r){function i(){return{parse:function(e){function t(e){return!isNaN(parseFloat(e.LowestFare))&&isFinite(e.LowestFare)||!isNaN(parseFloat(e.LowestNonStopFare))&&isFinite(e.LowestNonStopFare)}return e.FareInfo.filter(t).map(function(e){return{departureDateTime:e.DepartureDateTime,lowestFare:e.LowestFare,lowestNonStopFare:e.LowestNonStopFare,currency:e.CurrencyCode}})},extractAlternateDatesPriceMatrix:function(e){return e.FareInfo.map(function(e){return{departureDate:t(e.DepartureDateTime,t.ISO_8601),returnDate:t(e.ReturnDateTime,t.ISO_8601),price:e.LowestFare,currency:e.CurrencyCode}}).reduce(function(e,t){return e.addLeadFareForDate(t),e},new r)},getBusinessErrorMessages:function(e){return e}}}return i}),n("webservices/leadPriceCalendar/LeadPriceCalendarDataService",["angular","moment","lodash","webservices/leadPriceCalendar/LeadPriceCalendarSearchCriteriaValidator","datamodel/ShoppingData","webservices/leadPriceCalendar/LeadPriceCalendarResponseParser"],function(e,t,n,r,i){function o(e,o,a,s,l,u,c,d){function p(e){var t={origin:e.getFirstLeg().origin,destination:e.getFirstLeg().destination,lengthofstay:e.getLengthOfStay()};return l.pointOfSaleCountry.length>0&&n.extend(t,{pointofsalecountry:l.pointOfSaleCountry}),t}function h(e){var t=e.getRequestedDepartureDates(),r=e.getRequestedLengthOfStayValues();r=r.filter(f);var i=e.getLengthOfStay(),o=10;r.length>o&&(r=g(r,i,o));var a={origin:e.getFirstLeg().origin,destination:e.getFirstLeg().destination,departuredate:t.map(function(e){return e.format("YYYY-MM-DD")}).join(","),lengthofstay:r.join(",")};return l.pointOfSaleCountry.length>0&&n.extend(a,{pointofsalecountry:l.pointOfSaleCountry}),a}function f(e){return 16>=e}function g(e,t,r){function i(e){return Math.abs(t-e)}var o=n.sortBy(e,i);return n.slice(o,0,r)}function m(e,n){return e.filter(function(e){var r=t(e.departureDateTime,t.ISO_8601);return n.contains(r)})}function v(e,r){var i=n.min(e,function(e){return 0===r?e.lowestNonStopFare:e.lowestFare});return{totalFareAmount:0===r?i.lowestNonStopFare:i.lowestFare,currency:i.currency,date:t(i.departureDateTime,t.ISO_8601)}}function y(e){var r=e.reduce(function(e,t){return n.isUndefined(e)||t.departureDateTime>e?t.departureDateTime:void 0});return t(r,t.ISO_8601)}function b(e,n){return e.reduce(function(e,r){var o=t(r.departureDateTime,t.ISO_8601).format(i.prototype.DATE_FORMAT_FOR_KEYS),a=0===n?r.lowestNonStopFare:r.lowestFare;return e[o]={price:a,currency:r.currency},e},{})}var S=o("leadPricesCache"),D=new r;return{getLeadPricesForRange:function(t,n){return e(function(e,r){var i=D.validate(t);if(i.length>0)return c.reportErrors(i,"Unsupported search criteria"),r(i);var o=S.get(t);if(o){var l=m(o,n),h=b(l,t.maxStops);return e(h)}var f=p(t);a.get(f).$promise.then(function(r){var i=s.parse(r);S.put(t,i);var o=m(i,n),a=b(o,t.maxStops);return e(a)},function(e){u.reportError("Lead Price Calendar: Could not get lead prices for dates "+n.start.format("YYYY-MM-DD")+" thru "+n.end.format("YYYY-MM-DD"),t),d.handle(r,e,s.getBusinessErrorMessages)})})},getAlternateDatesPriceMatrix:function(t){if(!t.isAlternateDatesRequest())throw new Error("Calling Alternative Dates service for non alternative dates request");var n=h(t);return e(function(e,r){var i=D.validate(t);return i.length>0?(c.reportErrors(i,"Unsupported search criteria"),r(i)):void a.get(n).$promise.then(function(t){var n=s.extractAlternateDatesPriceMatrix(t);e(n)},function(e){u.reportError("Lead Price Calendar: Could not get alternate dates lead prices",t),d.handle(r,e,s.getBusinessErrorMessages)})})},getMinDateAndPricePair:function(e){var t=S.get(e);if(n.isUndefined(t))throw new Error("trying to get aggregate from lead prices data while first call not done yet");return v(t,e.maxStops)},getMaxAvailableDate:function(e){var t=S.get(e);if(n.isUndefined(t))throw new Error("trying to get aggregate from lead prices data while first call not done yet");return y(t)}}}return o}),n("webservices/leadPriceCalendar/leadPriceCalendar.mod",["angular","webservices/leadPriceCalendar/LeadPriceCalendarWebService","webservices/leadPriceCalendar/LeadPriceCalendarDataService","webservices/leadPriceCalendar/LeadPriceCalendarResponseParser"],function(e,t,n,r){e.module("sabreDevStudioWebServices.leadPriceCalendar",[]).factory("LeadPriceCalendarResponseParser",r).service("LeadPriceCalendarWebService",["$resource","selectedCountryConfigs","requestHeadersFactory",t]).factory("LeadPriceCalendarDataService",["$q","$cacheFactory","LeadPriceCalendarWebService","LeadPriceCalendarResponseParser","selectedCountryConfigs","ErrorReportingService","ValidationErrorReportingService","businessMessagesErrorHandler",n])}),n("webservices/informational/TravelSeasonalityDataService",["require","exports"],function(){function e(e,t,n,r){function i(t){return e(function(e,n){var r=t.destination;o(r).then(e,n)})}function o(i){return e(function(e,o){var a={destination:i};t.get(a).$promise.then(function(t){e(t)},function(e){n.reportError("Could not get seasonality information for destination: "+i),r.handle(o,e)})})}return{getDestinationSeasonality:o,getSeasonality:i}}return e}),n("webservices/informational/informational.mod",["angular","webservices/informational/TravelSeasonalityDataService"],function(e,t){e.module("sabreDevStudioWebServices.informational",[]).factory("TravelSeasonalityDataService",["$q","TravelSeasonalityWebService","ErrorReportingService","businessMessagesErrorHandler",t])});var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};n("webservices/instaflights/InstaFlightsWebService",["require","exports","../WebService"],function(e,t,n){var i=function(e){function t(t,n,r){var i=e.call(this,"/v1/shop/flights",t,n,r,{})||this;return i.$resource=t,i.selectedCountryConfigs=n,i.requestHeadersFactory=r,i}return r(t,e),t.prototype.get=function(e){return this.createGetResource().get(e)},t}(n);return i});var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};n("webservices/informational/FareForecastWebService",["require","exports","../WebService"],function(e,t,n){var i=function(e){function t(t,n,r){var i=e.call(this,"/v1/forecast/flights/fares",t,n,r,{})||this;return i.$resource=t,i.selectedCountryConfigs=n,i.requestHeadersFactory=r,i}return r(t,e),t.prototype.get=function(e){return this.createGetResource().get(e)},t}(n);return i});var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};n("webservices/informational/FareRangeWebService",["require","exports","../WebService"],function(e,t,n){var i=function(e){function t(t,n,r){var i=e.call(this,"/v1/historical/flights/fares",t,n,r,{})||this;return i.$resource=t,i.selectedCountryConfigs=n,i.requestHeadersFactory=r,i}return r(t,e),t.prototype.get=function(e){return this.createGetResource().get(e)},t}(n);return i});var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};n("webservices/informational/LowFareHistoryWebService",["require","exports","../WebService"],function(e,t,n){var i=function(e){function t(t,n,r){var i=e.call(this,"/v1/historical/shop/flights/fares",t,n,r,{})||this;return i.$resource=t,i.selectedCountryConfigs=n,i.requestHeadersFactory=r,i}return r(t,e),t.prototype.get=function(e){return this.createGetResource().get(e)},t}(n);return i});var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};n("webservices/informational/TravelSeasonalityWebService",["require","exports","../WebService"],function(e,t,n){var i=function(e){function t(t,n,r){var i=e.call(this,"/v1/historical/flights/:destination/seasonality",t,n,r,{})||this;return i.$resource=t,i.selectedCountryConfigs=n,i.requestHeadersFactory=r,i}return r(t,e),t.prototype.get=function(e){return this.createGetResource({destination:"@_destination"}).get(e)},t}(n);return i});var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};n("webservices/inspirational/DestinationPricerWebService",["require","exports","../WebService"],function(e,t,n){var i=function(e){function t(t,n,r){var i=e.call(this,"/v1/shop/flights/cheapest/fares/:destination",t,n,r,{})||this;return i.$resource=t,i.selectedCountryConfigs=n,i.requestHeadersFactory=r,i}return r(t,e),t.prototype.get=function(e){return this.createGetResource({destination:"@_destination"}).get(e)},t}(n);return i});var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};n("webservices/inspirational/DestinationFinderWebService",["require","exports","../WebService"],function(e,t,n){var i=function(e){function t(t,n,r){var i=e.call(this,"/v2/shop/flights/fares/",t,n,r,{})||this;return i.$resource=t,i.selectedCountryConfigs=n,i.requestHeadersFactory=r,i}return r(t,e),t.prototype.get=function(e){return this.createGetResource().get(e)},t}(n);return i});var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};n("webservices/lookup/AirlineLookupWebService",["require","exports","../WebService"],function(e,t,n){var i=function(e){function t(t,n,r){var i=e.call(this,"/v1/lists/utilities/airlines/",t,n,r,{})||this;return i.$resource=t,i.selectedCountryConfigs=n,i.requestHeadersFactory=r,i}return r(t,e),t.prototype.get=function(e){return this.createGetResource().get(e)},t}(n);return i});var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};n("webservices/lookup/EquipmentLookupWebService",["require","exports","../WebService"],function(e,t,n){var i=function(e){function t(t,n,r){var i=e.call(this,"/v1/lists/utilities/aircraft/equipment/",t,n,r,{})||this;return i.$resource=t,i.selectedCountryConfigs=n,i.requestHeadersFactory=r,i}return r(t,e),t.prototype.get=function(e){return this.createGetResource().get(e)},t}(n);return i});var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};n("webservices/lookup/PointOfSaleCountryLookupWebService",["require","exports","../WebService"],function(e,t,n){var i=function(e){function t(t,n,r){var i=e.call(this,"/v1/lists/supported/pointofsalecountries/",t,n,r,{})||this;return i.$resource=t,i.selectedCountryConfigs=n,i.requestHeadersFactory=r,i}return r(t,e),t.prototype.get=function(e){return this.createGetResource().get(e)},t}(n);return i});var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};n("webservices/lookup/ShoppingAirportsAndCitiesLookupWebService",["require","exports","../WebService"],function(e,t,n){var i=function(e){function t(t,n,r){var i=e.call(this,"/v1/lists/supported/shop/flights/origins-destinations/",t,n,r,{})||this;return i.$resource=t,i.selectedCountryConfigs=n,i.requestHeadersFactory=r,i}return r(t,e),t.prototype.get=function(e){return this.createGetResource().get(e)},t}(n);return i});var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};n("webservices/lookup/FareRangeAirportsAndCitiesLookupWebService",["require","exports","../WebService"],function(e,t,n){var i=function(e){function t(t,n,r){var i=e.call(this,"/v1/lists/supported/historical/flights/origins-destinations/",t,n,r,{})||this;return i.$resource=t,i.selectedCountryConfigs=n,i.requestHeadersFactory=r,i}return r(t,e),t.prototype.get=function(e){return this.createGetResource().get(e)},t}(n);return i});var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};n("webservices/lookup/LowFareForecastAirportsAndCitiesLookupWebService",["require","exports","../WebService"],function(e,t,n){var i=function(e){function t(t,n,r){var i=e.call(this,"/v1/lists/supported/forecast/flights/origins-destinations/",t,n,r,{})||this;return i.$resource=t,i.selectedCountryConfigs=n,i.requestHeadersFactory=r,i}return r(t,e),t.prototype.get=function(e){return this.createGetResource().get(e)},t}(n);return i});var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};n("webservices/lookup/TravelThemeLookupWebService",["require","exports","../WebService"],function(e,t,n){var i=function(e){function t(t,n,r){var i=e.call(this,"/v1/lists/supported/shop/themes/",t,n,r,{})||this;return i.$resource=t,i.selectedCountryConfigs=n,i.requestHeadersFactory=r,i}return r(t,e),t.prototype.get=function(e){return this.createGetResource().get(e)},t}(n);return i});var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};n("webservices/geo/GeoSearchWebService",["require","exports","../WebService"],function(e,t,n){var i=function(e){function t(t,n,r,i){var o=e.call(this,"/v1/lists/utilities/geosearch/locations",t,n,r,i)||this;return o.$resource=t,o.selectedCountryConfigs=n,o.requestHeadersFactory=r,o.cachingDecorator=i,o}return r(t,e),t.prototype.sendRequest=function(e){return this.createPostResource()(e)},t}(n);return i});var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};return n("webservices/geo/GeoCodeWebService",["require","exports","../WebService"],function(e,t,n){var i=function(e){function t(t,n,r,i){var o=e.call(this,"/v1/lists/utilities/geocode/locations",t,n,r,i)||this;return o.$resource=t,o.selectedCountryConfigs=n,o.requestHeadersFactory=r,o.cachingDecorator=i,o}return r(t,e),t.prototype.sendRequest=function(e){return this.createPostResource()(e)},t}(n);return i}),n("webservices/CachingDecorator",["require","exports","lodash"],function(e,t,n){function r(e,t){var r=0;return{addCaching:function(i,o){var a=t("CachingDecoratorCache_"+r++);return function(t){var r=JSON.stringify(t);return e(function(e,s){var l=a.get(r);return l&&l.success?e(l.success):l&&l.error?s(l.error):void i({},t).$promise.then(function(t){return a.put(r,{success:t}),e(t)},function(e){return n.contains(o,e.status)&&a.put(r,{error:e}),s(e)})})}}}}return r}),n("webservices/common/searchStrategyFactories/DaysRangeSearchStrategyFactory",["require","exports"],function(){function e(e,t){return{createSearchStrategy:function(n){switch(n=n||"leadPriceCalendar"){case"advancedCalendar":return e;case"leadPriceCalendar":return t;default:throw new Error("unrecognized web service: "+n)}}}}return e}),n("webservices/SabreDevStudioWebServicesModule",["require","exports","angular","lodash","./instaflights/InstaFlightsWebService","./informational/FareForecastWebService","./informational/FareRangeWebService","./informational/LowFareHistoryWebService","./informational/TravelSeasonalityWebService","./inspirational/DestinationPricerWebService","./inspirational/DestinationFinderWebService","./lookup/AirlineLookupWebService","./lookup/EquipmentLookupWebService","./lookup/PointOfSaleCountryLookupWebService","./lookup/ShoppingAirportsAndCitiesLookupWebService","./lookup/FareRangeAirportsAndCitiesLookupWebService","./lookup/LowFareForecastAirportsAndCitiesLookupWebService","./lookup/TravelThemeLookupWebService","./geo/GeoSearchWebService","./geo/GeoCodeWebService","./CachingDecorator","./common/searchStrategyFactories/DaysRangeSearchStrategyFactory"],function(e,t,n,r,i,o,a,s,l,u,c,d,p,h,f,g,m,v,y,b,S,D){n.module("sabreDevStudioWebServices",["ngResource","configuration","NGPromiseUtils","ngStorage","sabreDevStudioWebServices.advancedCalendar","sabreDevStudioWebServices.bargainFinderMax","sabreDevStudioWebServices.leadPriceCalendar","sabreDevStudioWebServices.informational"]).constant("dateTimeFormat","YYYY-MM-DDTHH:mm:ss").constant("dateFormat","YYYY-MM-DD").constant("errorEvent","errorEvent").constant("networkErrorEvent","networkErrorEvent").constant("validationErrorEvent","validationErrorEvent").constant("resetErrorsEvent","resetErrorsEvent").factory("requestHeadersFactory",["selectedCountryConfigs",function(e){var t={"Content-Type":"application/JSON"};return{getHeaders:function(){return r.extend({},t,e.apiSpecificHeaders)}}}]).factory("CachingDecorator",["$q","$cacheFactory",S]).factory("DaysRangeSearchStrategyFactory",["AdvancedCalendarDataService","LeadPriceCalendarDataService",D]).service("InstaFlightsWebService",["$resource","selectedCountryConfigs","requestHeadersFactory",i]).service("FareForecastWebService",["$resource","selectedCountryConfigs","requestHeadersFactory",o]).service("FareRangeWebService",["$resource","selectedCountryConfigs","requestHeadersFactory",a]).service("LowFareHistoryWebService",["$resource","selectedCountryConfigs","requestHeadersFactory",s]).service("DestinationPricerWebService",["$resource","selectedCountryConfigs","requestHeadersFactory",u]).service("DestinationFinderWebService",["$resource","selectedCountryConfigs","requestHeadersFactory",c]).service("AirlineLookupWebService",["$resource","selectedCountryConfigs","requestHeadersFactory",d]).service("EquipmentLookupWebService",["$resource","selectedCountryConfigs","requestHeadersFactory",p]).service("PointOfSaleCountryLookupWebService",["$resource","selectedCountryConfigs","requestHeadersFactory",h]).service("ShoppingAirportsAndCitiesLookupWebService",["$resource","selectedCountryConfigs","requestHeadersFactory",f]).service("FareRangeAirportsAndCitiesLookupWebService",["$resource","selectedCountryConfigs","requestHeadersFactory",g]).service("LowFareForecastAirportsAndCitiesLookupWebService",["$resource","selectedCountryConfigs","requestHeadersFactory",m]).service("TravelThemeLookupWebService",["$resource","selectedCountryConfigs","requestHeadersFactory",v]).service("TravelSeasonalityWebService",["$resource","selectedCountryConfigs","requestHeadersFactory",l]).service("GeoSearchWebService",["$resource","selectedCountryConfigs","requestHeadersFactory","CachingDecorator",y]).service("GeoCodeWebService",["$resource","selectedCountryConfigs","requestHeadersFactory","CachingDecorator",b]).factory("businessMessagesErrorHandler",["ErrorReportingService",function(e){function t(e){return[e]}return{handle:function(n,r,i){if(i=i||t,null!==r.data){var o=i(r.data.message);e.reportErrors(o)}return n(o)}}}]).service("ErrorReportingService",["$rootScope","errorEvent",function(e,t){return{reportError:function(n,r){e.$broadcast(t,[n],r)},reportErrors:function(n,r){e.$broadcast(t,n,r)}}}]).service("NetworkErrorReportingService",["$rootScope","networkErrorEvent",function(e,t){return{reportError:function(n){e.$broadcast(t,[n],"Network error")}}}]).factory("ValidationErrorReportingService",["$rootScope","validationErrorEvent",function(e,t){return{reportErrors:function(n,r){e.$broadcast(t,n,r)}}}])}),n("util/BaseServices",["moment","angular","datamodel/ShoppingData"],function(e,t,n){return t.module("baseServices",[]).service("DateService",function(){return{now:function(){return e()}}}).service("ShoppingOptionsCacheService",function(){return new n}).service("WidgetIdGeneratorService",function(){var e=0;return{next:function(){return e++}}})}),n("util/CommonDirectives",["angular"],function(e){return e.module("commonDirectives",[]).directive("stringToNumber",function(){return{require:"ngModel",link:function(e,t,n,r){r.$parsers.push(function(e){return""+e}),r.$formatters.push(function(e){return parseFloat(e)})}}}).directive("hideOnClick",function(){return{scope:"A",link:function(t,n){e.element(n).on("click",function(){e.element(n).addClass("ng-hide")}),t.$on("$destroy",function(){e.element(n).off("click")})}}})}),n("util/CommonGenericFilters",["lodash","util/LodashExtensions","moment","angular"],function(e,t,n,r){return r.module("commonFilters",[]).filter("startFrom",function(){return function(e,t){return t=parseInt(t),e.slice(t)}}).filter("moment",function(){return function(e,t){return n(e,t)}}).filter("stringJoiner",function(){return function(e,t,n,r){return n=n||"",r=r||"",t=t||", ",n+(e||[]).join(t)+r}}).filter("capitalize",function(){return function(t){return e.startCase(t.toLowerCase())}}).filter("unixTimeToMoment",function(){return function(e){return n.unix(e)}}).filter("momentDateFormat",function(){return function(t,n){return e.isUndefined(t)||null===t?"":t.format(n)}}).filter("passAllFilter",function(){return function(e){return e}}).filter("forEachApplyFilter",["$filter",function(t){var n=t("applyFilter");return function(){var t=Array.prototype.slice.call(arguments),r=t.shift();if(!e.isUndefined(r)){var i=r.map(function(e){t.unshift(e);var r=n.apply(null,t);return t.shift(e),r});return i}}}]).filter("applyFilter",["$filter",function(t){return function(){var n=Array.prototype.slice.call(arguments),r=n.shift(),i=n.shift();e.isUndefined(i)&&(i="passAllFilter");var o=t(i);return n.unshift(r),o.apply(null,n)}}])}),n("util/CommonDisplayFilters",["lodash","util/LodashExtensions","moment","angular","util/CommonGenericFilters"],function(e,t,n,r){return r.module("commonFilters").filter("cabin",function(){return function(e){switch(e){case"Y":return"Economy";case"S":return"Premium Economy";case"C":return"Business";case"J":return"Premium Business";case"F":return"First";case"P":return"Premium First";default:return e}}}).filter("ticketRefundability",function(){return function(e){return e?"Non-refundable ticket":"Refundable ticket"}}).filter("baggageAllowance",function(){return function(n){if(e.isUndefined(n))return n;if(t.isDefined(n.Pieces)){var r;switch(n.Pieces){case 0:r="0 pieces";break;case 1:r="1 piece";break;default:r=n.Pieces+" pieces"}}if(n.Weight&&n.Unit)var i=n.Weight+" "+n.Unit;return[r,i].filter(t.isDefined).join(", ")}}).filter("meal",function(){var e={};return e.P="Alcoholic beverages for purchase",e.B="Breakfast",e.O="Cold meal",e.C="Complimentary alcoholic beverages",e.K="Continental Breakfast",e.D="Dinner ",e.F="Food for purchase",e.G="Food and Beverage / for purchase",e.H="Hot Meal",e.L="Lunch",e.M="Meal",e.N="No meal service",e.R="Refreshment",e.V="Refreshment / for purchase",e.S="Snack",function(t){return e[t]||t}}).filter("humanizeNumberOfStops",function(){return function(e){switch(e){case 0:return"Non-stop";case 1:return"One stop";default:return"Two+ stops"}}}).filter("passengerType",function(){var e={};return e.ADT="Adult",e.CNN="Child",e.SNN="Senior",e.SRC="Senior citizen",e.INS="Infant with a seat",e.INF="Infant without a seat",e.FFY="Frequent flyer",function(t){return e[t]||t}}).filter("humanizeDurationDays",function(){return function(e){return 1===e?"1 day":e>1&&7>e?e+" days":7===e?"1 week":14===e?"2 weeks":e+" days"}}).filter("humanizeMinutes",function(){return function(e){var t=Math.floor(e/60),n=e%60;return 0===t?e+" min.":1===t?t+" hour, "+n+" min.":t>1?t+" hour, "+n+" min.":void 0}})}),function(e,t){"function"==typeof n&&n.amd?n("ResizeSensor",t):"object"==typeof exports?module.exports=t():e.ResizeSensor=t()}(this,function(){function e(e,t){var n=Object.prototype.toString.call(e),r="[object Array]"===n||"[object NodeList]"===n||"[object HTMLCollection]"===n||"undefined"!=typeof jQuery&&e instanceof jQuery||"undefined"!=typeof Elements&&e instanceof Elements,i=0,o=e.length;if(r)for(;o>i;i++)t(e[i]);else t(e)}var t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)},n=function(r,i){function o(){var e=[];this.add=function(t){e.push(t)};var t,n;this.call=function(){for(t=0,n=e.length;n>t;t++)e[t].call()},this.remove=function(r){var i=[];for(t=0,n=e.length;n>t;t++)e[t]!==r&&i.push(e[t]);e=i},this.length=function(){return e.length}}function a(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle?window.getComputedStyle(e,null).getPropertyValue(t):e.style[t]}function s(e,n){if(e.resizedAttached){if(e.resizedAttached)return void e.resizedAttached.add(n)}else e.resizedAttached=new o,e.resizedAttached.add(n);e.resizeSensor=document.createElement("div"),e.resizeSensor.className="resize-sensor";var r="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;",i="position: absolute; left: 0; top: 0; transition: 0s;";e.resizeSensor.style.cssText=r,e.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+r+'"><div style="'+i+'"></div></div><div class="resize-sensor-shrink" style="'+r+'"><div style="'+i+' width: 200%; height: 200%"></div></div>',e.appendChild(e.resizeSensor),"static"==a(e,"position")&&(e.style.position="relative");var s=e.resizeSensor.childNodes[0],l=s.childNodes[0],u=e.resizeSensor.childNodes[1],c=function(){l.style.width=1e5+"px",l.style.height=1e5+"px",s.scrollLeft=1e5,s.scrollTop=1e5,u.scrollLeft=1e5,u.scrollTop=1e5};c();var d=!1,p=function(){e.resizedAttached&&(d&&(e.resizedAttached.call(),d=!1),t(p))};t(p);var h,f,g,m,v=function(){((g=e.offsetWidth)!=h||(m=e.offsetHeight)!=f)&&(d=!0,h=g,f=m),c()},y=function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n)};y(s,"scroll",v),y(u,"scroll",v)}e(r,function(e){s(e,i)}),this.detach=function(e){n.detach(r,e)}};return n.detach=function(t,n){e(t,function(e){e.resizedAttached&&"function"==typeof n&&(e.resizedAttached.remove(n),e.resizedAttached.length())||e.resizeSensor&&(e.removeChild(e.resizeSensor),delete e.resizeSensor,delete e.resizedAttached)})},n}),function(e,r){"function"==typeof n&&n.amd?n("elementQuery",["ResizeSensor"],r):"object"==typeof exports?module.exports=r(t("./ResizeSensor.js")):e.ElementQueries=r(e.ResizeSensor)}(this,function(e){var t=function(){function n(e){e||(e=document.documentElement);var t=window.getComputedStyle(e,null).fontSize;return parseFloat(t)||16}function r(e,t){var r=t.split(/\d/),i=r[r.length-1];switch(t=parseFloat(t),i){case"px":return t;case"em":return t*n(e);case"rem":return t*n();case"vw":return t*document.documentElement.clientWidth/100;case"vh":return t*document.documentElement.clientHeight/100;case"vmin":case"vmax":var o=document.documentElement.clientWidth/100,a=document.documentElement.clientHeight/100,s=Math["vmin"===i?"min":"max"];return t*s(o,a);default:return t}}function i(e){this.element=e,this.options={};var t,n,i,o,a,s,l,u=0,c=0;this.addOption=function(e){var t=[e.mode,e.property,e.value].join(",");this.options[t]=e};var d=["min-width","min-height","max-width","max-height"];this.call=function(){u=this.element.offsetWidth,c=this.element.offsetHeight,a={};for(t in this.options)this.options.hasOwnProperty(t)&&(n=this.options[t],i=r(this.element,n.value),o="width"==n.property?u:c,l=n.mode+"-"+n.property,s="","min"==n.mode&&o>=i&&(s+=n.value),"max"==n.mode&&i>=o&&(s+=n.value),a[l]||(a[l]=""),s&&-1===(" "+a[l]+" ").indexOf(" "+s+" ")&&(a[l]+=" "+s));for(var e in d)d.hasOwnProperty(e)&&(a[d[e]]?this.element.setAttribute(d[e],a[d[e]].substr(1)):this.element.removeAttribute(d[e]))}}function o(t,n){t.elementQueriesSetupInformation?t.elementQueriesSetupInformation.addOption(n):(t.elementQueriesSetupInformation=new i(t),t.elementQueriesSetupInformation.addOption(n),t.elementQueriesSensor=new e(t,function(){t.elementQueriesSetupInformation.call()})),t.elementQueriesSetupInformation.call(),h&&f.indexOf(t)<0&&f.push(t)}function a(e,t,n,r){"undefined"==typeof g[t]&&(g[t]={}),"undefined"==typeof g[t][n]&&(g[t][n]={}),"undefined"==typeof g[t][n][r]?g[t][n][r]=e:g[t][n][r]+=","+e}function s(){var e;if(document.querySelectorAll&&(e=document.querySelectorAll.bind(document)),e||"undefined"==typeof $$||(e=$$),e||"undefined"==typeof jQuery||(e=jQuery),!e)throw"No document.querySelectorAll, jQuery or Mootools's $$ found.";
return e}function l(){var e=s();for(var t in g)if(g.hasOwnProperty(t))for(var n in g[t])if(g[t].hasOwnProperty(n))for(var r in g[t][n])if(g[t][n].hasOwnProperty(r))for(var i=e(g[t][n][r]),a=0,l=i.length;l>a;a++)o(i[a],{mode:t,property:n,value:r})}function u(t){function n(){var e,n=!1;for(e in r)r.hasOwnProperty(e)&&i[e].minWidth&&t.offsetWidth>i[e].minWidth&&(n=e);if(n||(n=a),s!=n)if(l[n])r[s].style.display="none",r[n].style.display="block",s=n;else{var u=new Image;u.onload=function(){r[n].src=o[n],r[s].style.display="none",r[n].style.display="block",l[n]=!0,s=n},u.src=o[n]}else r[n].src=o[n]}var r=[],i=[],o=[],a=0,s=-1,l=[];for(var u in t.children)if(t.children.hasOwnProperty(u)&&t.children[u].tagName&&"img"===t.children[u].tagName.toLowerCase()){r.push(t.children[u]);var c=t.children[u].getAttribute("min-width")||t.children[u].getAttribute("data-min-width"),d=t.children[u].getAttribute("data-src")||t.children[u].getAttribute("url");o.push(d);var p={minWidth:c};i.push(p),c?t.children[u].style.display="none":(a=r.length-1,t.children[u].style.display="block")}s=a,t.resizeSensor=new e(t,n),n(),h&&f.push(t)}function c(){for(var e=s(),t=e("[data-responsive-image],[responsive-image]"),n=0,r=t.length;r>n;n++)u(t[n])}function d(e){var t,n;for(e=e.replace(/'/g,'"');null!==(t=m.exec(e));)for(n=t[1]+t[3],attrs=t[2];null!==(attrMatch=v.exec(attrs));)a(n,attrMatch[1],attrMatch[2],attrMatch[3])}function p(e){var t="";if(e)if("string"==typeof e)e=e.toLowerCase(),(-1!==e.indexOf("min-width")||-1!==e.indexOf("max-width"))&&d(e);else for(var n=0,r=e.length;r>n;n++)1===e[n].type?(t=e[n].selectorText||e[n].cssText,-1!==t.indexOf("min-height")||-1!==t.indexOf("max-height")?d(t):(-1!==t.indexOf("min-width")||-1!==t.indexOf("max-width"))&&d(t)):4===e[n].type&&p(e[n].cssRules||e[n].rules)}var h=!1,f=[],g={},m=/,?[\s\t]*([^,\n]*?)((?:\[[\s\t]*?(?:min|max)-(?:width|height)[\s\t]*?[~$\^]?=[\s\t]*?"[^"]*?"[\s\t]*?])+)([^,\n\s\{]*)/gim,v=/\[[\s\t]*?(min|max)-(width|height)[\s\t]*?[~$\^]?=[\s\t]*?"([^"]*?)"[\s\t]*?]/gim,y=!1;this.init=function(e){h="undefined"==typeof e?!1:e;for(var t=0,n=document.styleSheets.length;n>t;t++)try{p(document.styleSheets[t].cssRules||document.styleSheets[t].rules||document.styleSheets[t].cssText)}catch(r){if("SecurityError"!==r.name)throw r}if(!y){var i=document.createElement("style");i.type="text/css",i.innerHTML="[responsive-image] > img, [data-responsive-image] {overflow: hidden; padding: 0; } [responsive-image] > img, [data-responsive-image] > img { width: 100%;}",document.getElementsByTagName("head")[0].appendChild(i),y=!0}l(),c()},this.update=function(e){this.init(e)},this.detach=function(){if(!this.withTracking)throw"withTracking is not enabled. We can not detach elements since we don not store it.Use ElementQueries.withTracking = true; before domready or call ElementQueryes.update(true).";for(var e;e=f.pop();)t.detach(e);f=[]}};t.update=function(e){t.instance.update(e)},t.detach=function(e){e.elementQueriesSetupInformation?(e.elementQueriesSensor.detach(),delete e.elementQueriesSetupInformation,delete e.elementQueriesSensor):e.resizeSensor&&(e.resizeSensor.detach(),delete e.resizeSensor)},t.withTracking=!1,t.init=function(){t.instance||(t.instance=new t),t.instance.init(t.withTracking)};var n=function(e){if(document.addEventListener)document.addEventListener("DOMContentLoaded",e,!1);else if(/KHTML|WebKit|iCab/i.test(navigator.userAgent))var t=setInterval(function(){/loaded|complete/i.test(document.readyState)&&(e(),clearInterval(t))},10);else window.onload=e};return t.listen=function(){n(t.init)},"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=t:(window.ElementQueries=t,t.listen()),t}),n("widgets/WidgetGlobalCallbacks",["elementQuery"],function(e){return{linkComplete:function(t,n){e.init(),t.$on("$destroy",function(){e.detach(n)})}}}),n("datamodel/inspirationalSearch/InspirationalSearchCriteria",[],function(){function e(e){this.origin=e.origin,this.pointofsalecountry=e.pointofsalecountry,this.inspirationalSearchPolicy=e.inspirationalSearchPolicy,this.theme=e.theme}return e}),n("datamodel/inspirationalSearch/InspirationalSearchPolicy",[],function(){function e(e){this.lengthOfStayDays=e.lengthOfStayDays,this.earliestdeparturedate=e.earliestdeparturedate,this.latestdeparturedate=e.latestdeparturedate,this.topdestinations=e.topdestinations||50,this.maxOffersPerDestination=e.maxOffersPerDestination||10}return e}),n("datamodel/inspirationalSearch/SimpleInspirationalSearchPolicy",["moment"],function(e){var t=2,n=e().add(2,"months"),r={lengthOfStayDays:[7,13,14,15],earliestdeparturedate:n,latestdeparturedate:n.clone().add(t,"days")};return r}),n("datamodel/inspirationalSearch/InspirationalSearchCriteriaFactory",["datamodel/inspirationalSearch/InspirationalSearchCriteria","datamodel/inspirationalSearch/InspirationalSearchPolicy","datamodel/inspirationalSearch/SimpleInspirationalSearchPolicy"],function(e,t,n){return{create:function(r,i){return new e({origin:r,pointofsalecountry:i,inspirationalSearchPolicy:new t(n)})}}}),n("widgets/inspirational/ThemedDestinationFinderWidget.ctr",["moment","angular","lodash","util/LodashExtensions","widgets/SDSWidgets","util/BaseServices","widgets/WidgetGlobalCallbacks","util/CommonGenericFilters","datamodel/inspirationalSearch/InspirationalSearchCriteriaFactory"],function(e,t,n,r,i,o,a,s,l){function u(e,t,r,i,o,a){function s(){e.model.originForPricesForDestinations=void 0,e.model.pricesForDestinationsGrouped=[]}function u(t,r){var o=n.extend(p,{theme:t});e.searchStartedCallback&&e.searchStartedCallback({searchCriteria:p}),i.getOffersOrderedSummary(o).then(function(t){t.pricesForDestinationsGrouped=t.pricesForDestinationsGrouped.map(c),e.model.pricesForDestinationsGrouped=t.pricesForDestinationsGrouped,e.model.originForPricesForDestinations=t.originForPricesForDestinations,e.model.priceTiersStatistics=t.priceTiersStatistics,e.searchSuccessCallback&&e.searchSuccessCallback({searchResults:t,searchCriteria:p})},function(t){s(),e.searchErrorCallback&&e.searchErrorCallback({errorMessages:t,searchCriteria:p})}).finally(r)}function c(t){return n.extend({},t,{searchOfferClicked:e.searchOfferClicked})}function d(i,o){void 0===o&&(o=n.noop),t.getClosestAirportData(i).then(function(t){p.origin=t.airportCode,p.pointofsalecountry=t.countryCode,r.getAirportGeoCoordinates(t.airportCode).then(function(t){e.closestAirportGeoCoordinates=t,o()})})}var p=l.create();e.model={originForPricesForDestinations:void 0,pricesForDestinationsGrouped:[]},e.closestAirportGeoCoordinates={latitude:0,longitude:0},e.isAnyDataToDisplayAvailable=function(){return!n.isEmpty(e.model.pricesForDestinationsGrouped)},e.$on("newThemedInspirationalSearchCriteriaEvent",function(){var e=o.searchCriteria.theme,t=function(){a.themeSearched=e,a.broadcast()};u(e,t)}),e.$on("tripOriginChangedEvent",function(e,t){var r=t;d(r,function(){u(p.theme,n.noop)})}),d(e.closestAirport)}return u}),n("widgets/inspirational/TilesThemedDestinationFinderWidget.drv",["widgets/WidgetGlobalCallbacks"],function(e){function t(){return{scope:{closestAirport:"@?",searchOfferClicked:"&?",searchStartedCallback:"&?",searchSuccessCallback:"&?",searchErrorCallback:"&?"},templateUrl:"../widgets/view-templates/widgets/TilesThemedDestinationFinderWidget.tpl.html",controller:"TilesThemedDestinationFinderWidgetController",link:function(t,n){e.linkComplete(t,n)}}}return t}),n("widgets/inspirational/MapThemedDestinationFinderWidget.drv",["lodash"],function(){function e(e){return{scope:{closestAirport:"@?",searchOfferClicked:"&?",initialZoom:"@?",searchStartedCallback:"&?",searchSuccessCallback:"&?",searchErrorCallback:"&?"},templateUrl:"../widgets/view-templates/widgets/MapThemedDestinationFinderWidget.tpl.html",controller:"MapThemedDestinationFinderWidgetController",link:function(t){e.then(function(){t.initialZoom=parseInt(t.initialZoom)||4;var e=[{icon:"https://d1xzms9o977hvd.cloudfront.net/widgets/static/icons/bullets/bullet_sm_green.png"},{icon:"https://d1xzms9o977hvd.cloudfront.net/widgets/static/icons/bullets/bullet_sm_yellow.png"},{icon:"https://d1xzms9o977hvd.cloudfront.net/widgets/static/icons/bullets/bullet_sm_red.png"}];t.markerEvents={mouseover:function(e,t,n){n.control.shortDetailsShown=!0},mouseout:function(e,t,n){n.control.shortDetailsShown=!1}},t.getTierIcon=function(e){return t.getMarkerOptions(e).icon},t.getMarkerOptions=function(t){return e[t-1]}})}}}return e.$inject=["uiGmapGoogleMapApi"],e}),n("widgets/inspirational/ThemedInspirationalSearchCriteriaBroadcastingService.srv",[],function(){function e(e,t){var n={searchCriteria:void 0,broadcast:function(){e.$broadcast(t)}};return n}return e.$inject=["$rootScope","newThemedInspirationalSearchCriteriaEvent"],e}),n("widgets/inspirational/ThemedInspirationalSearchCompleteBroadcastingService.srv",[],function(){function e(e,t){var n={themeSearched:void 0,broadcast:function(){e.$broadcast(t)}};return n}return e.$inject=["$rootScope","themedInspirationalSearchCompleteEvent"],e}),n("widgets/inspirational/TripOriginChangedBroadcastingService.srv",[],function(){function e(e,t){var n={onOriginChange:function(n){e.$broadcast(t,n)}};return n}return e.$inject=["$rootScope","tripOriginChangedEvent"],e}),n("widgets/inspirational/TripOriginChangedLocalStorageService.srv",[],function(){function e(e){var t={onOriginChange:function(t){e.origin=t}};return t}return e}),n("widgets/inspirational/TripOriginChangedCompositeService.srv",[],function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n={onOriginChange:function(t){e.forEach(function(e){e.onOriginChange(t)})}};return n}return e}),n("widgets/inspirational/TripOriginLocalStorageProvider.srv",[],function(){function e(e){var t={get:function(){return e.origin}};return t}return e}),n("webservices/lookup/TravelThemeLookupDataService",["angular","lodash","webservices/SabreDevStudioWebServicesModule"],function(e,t){return e.module("sabreDevStudioWebServices").factory("TravelThemeLookupDataService",["$q","TravelThemeLookupWebService","$localStorage","ErrorReportingService","businessMessagesErrorHandler",function(e,n,r,i,o){function a(e){return e.Themes.map(function(e){return e.Theme})}return{getTravelThemes:function(){return e(function(e,s){return r.travelThemesList?e(t.clone(r.travelThemesList)):void n.get().$promise.then(function(n){var i=a(n);r.travelThemesList=i,e(t.clone(i))},function(e){i.reportError("Cannot get travel themes dictionary"),o.handle(s,e)})})}}}])}),n("widgets/inspirational/TravelThemesSelectionBar.drv",["angular","lodash","util/LodashExtensions","webservices/lookup/TravelThemeLookupDataService"],function(e,t,n){function r(r,i,o,a,s){return{scope:{closestAirport:"@?",themeSelectedCallback:"&?"},templateUrl:"../widgets/view-templates/widgets/TravelThemesSelectionBar.tpl.html",link:function(o){function l(){r.getTravelThemes().then(function(e){o.travelThemes=e;var n=t.random(o.travelThemes.length-1),r=o.travelThemes[n];s(function(){u(r)})})}function u(e){var n={theme:e};t.isFunction(o.themeSelectedCallback)&&o.themeSelectedCallback(n),i.searchCriteria=n,i.broadcast()}o.travelThemes=[],o.selectedTravelTheme=void 0;var c;o.travelThemeClicked=function(t,n){var r=t.target||t.srcElement;c=e.element(r),c.addClass("SDSSearchInProgressUponClicked"),u(n)},o.$on("themedInspirationalSearchCompleteEvent",function(){n.isDefined(c)&&c.removeClass("SDSSearchInProgressUponClicked"),o.selectedTravelTheme=a.themeSearched}),l()}}}return r.$inject=["TravelThemeLookupDataService","ThemedInspirationalSearchCriteriaBroadcastingService","themedInspirationalSearchCompleteEvent","ThemedInspirationalSearchCompleteBroadcastingService","$timeout"],r}),function i(e,n,r){function o(s,l){if(!n[s]){if(!e[s]){var u="function"==typeof t&&t;if(!l&&u)return u(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[s]={exports:{}};e[s][0].call(d.exports,function(t){var n=e[s][1][t];return o(n?n:t)},d,d.exports,i,e,n,r)}return n[s].exports}for(var a="function"==typeof t&&t,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e){angular.module("nemLogging",[]),angular.module("nemLogging").provider("nemDebug",function(){var t=null;return t=e("debug"),this.$get=function(){return t},this.debug=t,this});var t=function(e,t){return function(){return e.apply(t,arguments)}},n=[].slice;angular.module("nemLogging").provider("nemSimpleLogger",["nemDebugProvider",function(e){var r,i,o,a,s,l,u,c,d,p,h,f;for(h=e.debug,o={},a=["debug","info","warn","error","log"],r={},d=c=0,p=a.length;p>c;d=++c)f=a[d],r[f]=d;return l=function(e,t,n){return e>=t?n():void 0},s=function(e){var t,n,r;if(t=!1,!e)return t;for(n=0,r=a.length;r>n&&(f=a[n],t=null!=e[f]&&"function"==typeof e[f],t);n++);return t},u=function(e,t){var n,r,i,s;for(null==o[e]&&(o[e]=h(e)),n=o[e],s={},r=0,i=a.length;i>r;r++)f=a[r],s[f]="debug"===f?n:t[f];return s},i=function(){function e(e){var i,o,u,c,d;if(this.$log=e,this.spawn=t(this.spawn,this),!this.$log)throw"internalLogger undefined";if(!s(this.$log))throw"@$log is invalid";for(this.doLog=!0,d={},i=function(e){return function(t){return d[t]=function(){var i;return i=1<=arguments.length?n.call(arguments,0):[],e.doLog?l(r[t],e.currentLevel,function(){var n;return(n=e.$log)[t].apply(n,i)}):void 0},e[t]=d[t]}}(this),o=0,u=a.length;u>o;o++)c=a[o],i(c);this.LEVELS=r,this.currentLevel=r.error}return e.prototype.spawn=function(t){if("string"==typeof t){if(!s(this.$log))throw"@$log is invalid";if(!h)throw"nemDebug is undefined this is probably the light version of this library sep debug logggers is not supported!";return u(t,this.$log)}return new e(t||this.$log)},e}(),this.decorator=["$log",function(e){var t;return t=new i(e),t.currentLevel=r.debug,t}],this.$get=["$log",function(e){return new i(e)}],this}])},{debug:2}],2:[function(e,t,n){function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function i(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var i=0,o=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))}),e.splice(o,0,r),e}function o(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(t){}}function s(){var e;try{e=n.storage.debug}catch(t){}return e}function l(){try{return window.localStorage}catch(e){}}n=t.exports=e("./debug"),n.log=o,n.formatArgs=i,n.save=a,n.load=s,n.useColors=r,n.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:l(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){return JSON.stringify(e)},n.enable(s())},{"./debug":3}],3:[function(e,t,n){function r(){return n.colors[c++%n.colors.length]}function i(e){function t(){}function i(){var e=i,t=+new Date,o=t-(u||t);e.diff=o,e.prev=u,e.curr=t,u=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=r());var a=Array.prototype.slice.call(arguments);a[0]=n.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var s=0;a[0]=a[0].replace(/%([a-z%])/g,function(t,r){if("%%"===t)return t;s++;var i=n.formatters[r];if("function"==typeof i){var o=a[s];t=i.call(e,o),a.splice(s,1),s--}return t}),"function"==typeof n.formatArgs&&(a=n.formatArgs.apply(e,a));var l=i.log||n.log||console.log.bind(console);l.apply(e,a)}t.enabled=!1,i.enabled=!0;var o=n.enabled(e)?i:t;return o.namespace=e,o}function o(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),r=t.length,i=0;r>i;i++)t[i]&&(e=t[i].replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function a(){n.enable("")}function s(e){var t,r;for(t=0,r=n.skips.length;r>t;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;r>t;t++)if(n.names[t].test(e))return!0;return!1}function l(e){return e instanceof Error?e.stack||e.message:e}n=t.exports=i,n.coerce=l,n.disable=a,n.enable=o,n.enabled=s,n.humanize=e("ms"),n.names=[],n.skips=[],n.formatters={};var u,c=0},{ms:4}],4:[function(e,t){function n(e){if(e=""+e,!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*c;case"days":case"day":case"d":return n*u;case"hours":case"hour":case"hrs":case"hr":case"h":return n*l;case"minutes":case"minute":case"mins":case"min":case"m":return n*s;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}}function r(e){return e>=u?Math.round(e/u)+"d":e>=l?Math.round(e/l)+"h":e>=s?Math.round(e/s)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function i(e){return o(e,u,"day")||o(e,l,"hour")||o(e,s,"minute")||o(e,a,"second")||e+" ms"}function o(e,t,n){return t>e?void 0:1.5*t>e?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,s=60*a,l=60*s,u=24*l,c=365.25*u;t.exports=function(e,t){return t=t||{},"string"==typeof e?n(e):t.long?i(e):r(e)}},{}]},{},[1]),n("angular-simple-logger",["angular"],function(){}),function(e,t,n,r){(function(){t.module("uiGmapgoogle-maps.providers",["nemLogging"]),t.module("uiGmapgoogle-maps.wrapped",[]),t.module("uiGmapgoogle-maps.extensions",["uiGmapgoogle-maps.wrapped","uiGmapgoogle-maps.providers"]),t.module("uiGmapgoogle-maps.directives.api.utils",["uiGmapgoogle-maps.extensions"]),t.module("uiGmapgoogle-maps.directives.api.managers",[]),t.module("uiGmapgoogle-maps.directives.api.options",["uiGmapgoogle-maps.directives.api.utils"]),t.module("uiGmapgoogle-maps.directives.api.options.builders",[]),t.module("uiGmapgoogle-maps.directives.api.models.child",["uiGmapgoogle-maps.directives.api.utils","uiGmapgoogle-maps.directives.api.options","uiGmapgoogle-maps.directives.api.options.builders"]),t.module("uiGmapgoogle-maps.directives.api.models.parent",["uiGmapgoogle-maps.directives.api.managers","uiGmapgoogle-maps.directives.api.models.child","uiGmapgoogle-maps.providers"]),t.module("uiGmapgoogle-maps.directives.api",["uiGmapgoogle-maps.directives.api.models.parent"]),t.module("uiGmapgoogle-maps",["uiGmapgoogle-maps.directives.api","uiGmapgoogle-maps.providers"])}).call(this),function(){t.module("uiGmapgoogle-maps.providers").factory("uiGmapMapScriptLoader",["$q","uiGmapuuid",function(r,i){var o,a,s,l,u;return l=void 0,u=void 0,o=function(e){return e.china?"http://maps.google.cn/maps/api/js?":"auto"===e.transport?"//maps.googleapis.com/maps/api/js?":e.transport+"://maps.googleapis.com/maps/api/js?"},a=function(e){var t,r,a,s;return t=["transport","isGoogleMapsForWork","china","preventLoad"],e.isGoogleMapsForWork&&t.push("key"),r=n.map(n.omit(e,t),function(e,t){return t+"="+e}),l&&(s=document.getElementById(l),s.parentNode.removeChild(s)),r=r.join("&"),a=document.createElement("script"),a.id=l="ui_gmap_map_load_"+i.generate(),a.type="text/javascript",a.src=o(e)+r,document.head.appendChild(a)},s=function(){return t.isDefined(e.google)&&t.isDefined(e.google.maps)},{load:function(t){var n,i;return n=r.defer(),s()?(n.resolve(e.google.maps),n.promise):(i=t.callback="onGoogleMapsReady"+Math.round(1e3*Math.random()),e[i]=function(){e[i]=null,n.resolve(e.google.maps)},e.navigator.connection&&e.Connection&&e.navigator.connection.type===e.Connection.NONE&&!t.preventLoad?document.addEventListener("online",function(){return s()?void 0:a(t)}):t.preventLoad||a(t),u=t,u.randomizedFunctionName=i,n.promise)},manualLoad:function(){var t;return t=u,s()?e[t.randomizedFunctionName]?e[t.randomizedFunctionName]():void 0:a(t)}}}]).provider("uiGmapGoogleMapApi",function(){return this.options={transport:"https",isGoogleMapsForWork:!1,china:!1,v:"3",libraries:"",language:"en",preventLoad:!1},this.configure=function(e){t.extend(this.options,e)},this.$get=["uiGmapMapScriptLoader",function(e){return function(t){return t.load(e.options)}}(this)],this}).service("uiGmapGoogleMapApiManualLoader",["uiGmapMapScriptLoader",function(e){return{load:function(){e.manualLoad()}}}])}.call(this),function(){var r=function(e,t){return function(){return e.apply(t,arguments)}},i=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;t.module("uiGmapgoogle-maps.extensions").service("uiGmapExtendGWin",function(){return{init:n.once(function(){var t;if(google||("undefined"!=typeof google&&null!==google?google.maps:void 0)||null!=google.maps.InfoWindow)return google.maps.InfoWindow.prototype._open=google.maps.InfoWindow.prototype.open,google.maps.InfoWindow.prototype._close=google.maps.InfoWindow.prototype.close,google.maps.InfoWindow.prototype._isOpen=!1,google.maps.InfoWindow.prototype.open=function(e,t,n){null==n&&(this._isOpen=!0,this._open(e,t,!0))},google.maps.InfoWindow.prototype.close=function(e){null==e&&(this._isOpen=!1,this._close(!0))},google.maps.InfoWindow.prototype.isOpen=function(e){return null==e&&(e=void 0),null==e?this._isOpen:this._isOpen=e},e.InfoBox&&(e.InfoBox.prototype._open=e.InfoBox.prototype.open,e.InfoBox.prototype._close=e.InfoBox.prototype.close,e.InfoBox.prototype._isOpen=!1,e.InfoBox.prototype.open=function(e,t){this._isOpen=!0,this._open(e,t)},e.InfoBox.prototype.close=function(){this._isOpen=!1,this._close()},e.InfoBox.prototype.isOpen=function(e){return null==e&&(e=void 0),null==e?this._isOpen:this._isOpen=e},t=function(t){function o(t){this.getOrigCloseBoxImg_=r(this.getOrigCloseBoxImg_,this),this.getCloseBoxDiv_=r(this.getCloseBoxDiv_,this);var i;i=new e.InfoBox(t),n.extend(this,i),null!=t.closeBoxDiv&&(this.closeBoxDiv_=t.closeBoxDiv)}return i(o,t),o.prototype.getCloseBoxDiv_=function(){return this.closeBoxDiv_},o.prototype.getCloseBoxImg_=function(){var e,t;return e=this.getCloseBoxDiv_(),t=this.getOrigCloseBoxImg_(),e||t},o.prototype.getOrigCloseBoxImg_=function(){var e;return e="",""!==this.closeBoxURL_&&(e="<img",e+=" src='"+this.closeBoxURL_+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin_+";",e+="'>"),e},o}(e.InfoBox),e.uiGmapInfoBox=t),e.MarkerLabel_?e.MarkerLabel_.prototype.setContent=function(){var e;e=this.marker_.get("labelContent"),e&&!n.isEqual(this.oldContent,e)&&("undefined"==typeof(null!=e?e.nodeType:void 0)?(this.labelDiv_.innerHTML=e,this.eventDiv_.innerHTML=this.labelDiv_.innerHTML,this.oldContent=e):(this.labelDiv_.innerHTML="",this.labelDiv_.appendChild(e),e=e.cloneNode(!0),this.labelDiv_.innerHTML="",this.eventDiv_.appendChild(e),this.oldContent=e))}:void 0})}})}.call(this),function(){t.module("uiGmapgoogle-maps.extensions").service("uiGmapLodash",function(){var e,t,r,i,o,a,s,l;return a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,o=/\\(\\)?/g,r=function(e){var t,r,i;return r=e.missingName,i=e.swapName,t=e.isProto,null==n[r]&&(n[r]=n[i],t)?n.prototype[r]=n[i]:void 0},[{missingName:"contains",swapName:"includes",isProto:!0},{missingName:"includes",swapName:"contains",isProto:!0},{missingName:"object",swapName:"zipObject"},{missingName:"zipObject",swapName:"object"},{missingName:"all",swapName:"every"},{missingName:"every",swapName:"all"},{missingName:"any",swapName:"some"},{missingName:"some",swapName:"any"},{missingName:"first",swapName:"head"},{missingName:"head",swapName:"first"}].forEach(function(e){return r(e)}),null==n.get&&(s=function(e){return n.isObject(e)?e:Object(e)},t=function(e){return null===e?"":e+""},l=function(e){var r;return n.isArray(e)?e:(r=[],t(e).replace(a,function(e,t,n,i){r.push(n?i.replace(o,"$1"):t||e)}),r)},e=function(e,t,r){var i,o;if(null!==e){void 0!==r&&r in s(e)&&(t=[r]),i=0,o=t.length;for(;!n.isUndefined(e)&&o>i;)e=e[t[i++]];return i&&i===o?e:void 0}},i=function(t,n,r){var i;return i=null===t?void 0:e(t,l(n),n+""),void 0===i?r:i},n.get=i),this.intersectionObjects=function(e,t,r){var i;return null==r&&(r=void 0),i=n.map(e,function(e){return n.find(t,function(t){return null!=r?r(e,t):n.isEqual(e,t)})}),n.filter(i,function(e){return null!=e})},this.containsObject=n.includeObject=function(e,t,r){return null==r&&(r=void 0),null===e?!1:n.some(e,function(e){return null!=r?r(e,t):n.isEqual(e,t)})},this.differenceObjects=function(e,t,r){return null==r&&(r=void 0),n.filter(e,function(e){return function(n){return!e.containsObject(t,n,r)}}(this))},this.withoutObjects=this.differenceObjects,this.indexOfObject=function(e,t,r,i){var o,a;if(null==e)return-1;if(o=0,a=e.length,i){if("number"!=typeof i)return o=n.sortedIndex(e,t),e[o]===t?o:-1;o=0>i?Math.max(0,a+i):i}for(;a>o;){if(null!=r){if(r(e[o],t))return o}else if(n.isEqual(e[o],t))return o;o++}return-1},this.isNullOrUndefined=function(e){return n.isNull(e||n.isUndefined(e))},this})}.call(this),function(){t.module("uiGmapgoogle-maps.extensions").factory("uiGmapString",function(){return function(e){return this.contains=function(t,n){return-1!==e.indexOf(t,n)},this}})}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmap_sync",[function(){return{fakePromise:function(){var e;return e=void 0,{then:function(t){return e=t},resolve:function(){return e.apply(void 0,arguments)}}}}}]).service("uiGmap_async",["$timeout","uiGmapPromise","uiGmapLogger","$q","uiGmapDataStructures","uiGmapGmapUtil",function(e,r,i,o,a,s){var l,u,c,d,p,h,f,g,m,v,y,b,S,D,w,A,C,x,_,$;return _=r.promiseTypes,b=r.isInProgress,x=r.promiseStatus,l=r.ExposedPromise,c=r.SniffedPromise,S=function(e,t){var n;return n=e.promise(),n.promiseType=e.promiseType,n.$$state&&i.debug("promiseType: "+n.promiseType+", state: "+x(n.$$state.status)),n.cancelCb=t,n},g=function(e,t){return e.promiseType===_.create&&t.promiseType!==_.delete&&t.promiseType!==_.init?(i.debug("lastPromise.promiseType "+t.promiseType+", newPromiseType: "+e.promiseType+", SKIPPED MUST COME AFTER DELETE ONLY"),!0):!1},C=function(e,t,r){var o;return t.promiseType===_.delete&&r.promiseType!==_.delete&&null!=r.cancelCb&&n.isFunction(r.cancelCb)&&b(r)&&(i.debug("promiseType: "+t.promiseType+", CANCELING LAST PROMISE type: "+r.promiseType),r.cancelCb("cancel safe"),o=e.peek(),null!=o&&b(o))?o.hasOwnProperty("cancelCb")&&n.isFunction(o.cancelCb)?(i.debug("promiseType: "+o.promiseType+", CANCELING FIRST PROMISE type: "+o.promiseType),o.cancelCb("cancel safe")):i.warn("first promise was not cancelable"):void 0},u=function(e,t,r){var i,o;if(e.existingPieces){if(i=n.last(e.existingPieces._content),g(t,i))return;return C(e.existingPieces,t,i),o=l(i.finally(function(){return S(t,r)})),o.cancelCb=r,o.promiseType=t.promiseType,e.existingPieces.enqueue(o),i.finally(function(){return e.existingPieces.dequeue()})}return e.existingPieces=new a.Queue,e.existingPieces.enqueue(S(t,r))},w=function(e,t,r,o,a){var s;return null==r&&(r=""),s=function(e){return i.debug(e+": "+e),null!=o&&n.isFunction(o)?o(e):void 0},u(e,c(a,t),s)},h=80,v={value:null},$=function(e,t,n){var r,i;try{return e.apply(t,n)}catch(i){return r=i,v.value=r,v}},D=function(e,t,n,r){var o,a;return a=$(e,t,r),a===v&&(o="error within chunking iterator: "+v.value,i.error(o),n.reject(o)),"cancel safe"===a?!1:!0},d=function(e,t,n){var r,i;return r=e===t,i=t[n],r?i:e[i]},p=["length","forEach","map"],y=function(e,r,i,o){var a,s,l;if(t.isArray(e))a=e;else if(r)a=r;else{a=[];for(s in e)l=e[s],e.hasOwnProperty(s)&&!n.includes(p,s)&&a.push(s)}return null==o&&(o=i),t.isArray(a)&&!(null!=a?a.length:void 0)&&o!==i?i():o(a,r)},f=function(r,i,o,a,s,l,u,c){return y(r,c,function(c,p){var h,g,m,v;for(h=i&&i<c.length?i:c.length,g=u,m=!0;m&&h--&&g<(c?c.length:g+1);)v=d(r,c,g),m=t.isFunction(v)?!0:D(a,void 0,l,[v,g]),++g;if(c){if(!(m&&g<c.length))return l.resolve();if(u=g,i)return null!=s&&n.isFunction(s)&&D(s,void 0,l,[]),e(function(){return f(r,i,o,a,s,l,u,p)},o,!1)}})},m=function(e,t,n,o,a,s,l){var u,c,d;return null==n&&(n=h),null==a&&(a=0),null==s&&(s=1),d=void 0,c=r.defer(),d=c.promise,s?y(e,l,function(){return c.resolve(),d},function(r,i){return f(e,n,s,t,o,c,a,i),d}):(u="pause (delay) must be set from _async!",i.error(u),c.reject(u),d)},A=function(e,t,n,i,o,a,s){var l;return l=[],y(e,s,function(){return r.resolve(l)},function(r,s){return m(e,function(e){return l.push(t(e))},n,i,o,a,s).then(function(){return l})})},{each:m,map:A,managePromiseQueue:w,promiseLock:w,defaultChunkSize:h,getArrayAndKeys:y,chunkSizeFrom:function(e,t){return null==t&&(t=void 0),n.isNumber(e)&&(t=e),(s.isFalse(e)||e===!1)&&(t=!1),t}}}])}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapBaseObject",function(){var t,n;return n=["extended","included"],t=function(){function t(){}return t.extend=function(t){var r,i,o;for(r in t)o=t[r],e.call(n,r)<0&&(this[r]=o);return null!=(i=t.extended)&&i.apply(this),this},t.include=function(t){var r,i,o;for(r in t)o=t[r],e.call(n,r)<0&&(this.prototype[r]=o);return null!=(i=t.included)&&i.apply(this),this},t}()})}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapChildEvents",function(){return{onChildCreation:function(){}}})}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapCtrlHandle",["$q",function(e){var t;return t={handle:function(n){return n.$on("$destroy",function(){return t.handle(n)}),n.deferred=e.defer(),{getScope:function(){return n}}},mapPromise:function(e,t){var n;return n=t.getScope(),n.deferred.promise.then(function(t){return e.map=t}),n.deferred.promise}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapEventsHelper",["uiGmapLogger",function(){var e,r;return r=function(e){return t.isDefined(e.events)&&null!=e.events&&t.isObject(e.events)},e=function(e,t){return r(e)?e:r(t)?t:void 0},{setEvents:function(r,i,o,a){var s;return s=e(i,o),null!=s?n.compact(n.map(s.events,function(e,l){var u;return a&&(u=n(a).includes(l)),s.events.hasOwnProperty(l)&&t.isFunction(s.events[l])&&!u?google.maps.event.addListener(r,l,function(){return i.$evalAsync||(i.$evalAsync=function(){}),i.$evalAsync(e.apply(i,[r,l,o,arguments]))}):void 0})):void 0},removeEvents:function(e){var t,n;if(e)for(t in e)n=e[t],n&&e.hasOwnProperty(t)&&google.maps.event.removeListener(n)}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapFitHelper",["uiGmapLogger","$timeout",function(e,t){return{fit:function(e,r){var i,o,a,s,l;if(r&&(null!=e?e.length:void 0)){i=new google.maps.LatLngBounds,o=!1;for(a in e)s=e[a],s&&(o||(o=!0),l=n.isFunction(s.getPosition)?s.getPosition():s),i.extend(l);if(o)return t(function(){return r.fitBounds(i)})}}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapGmapUtil",["uiGmapLogger","$compile",function(e,r){var i,o,a,s,l,u;return o=function(e,t,n){return e===t||-1!==n.indexOf(e)},i=function(e){return o(e,!1,["false","FALSE",0,"n","N","no","NO"])},s=function(e){return Array.isArray(e)&&2===e.length?e[1]:t.isDefined(e.type)&&"Point"===e.type?e.coordinates[1]:e.latitude},l=function(e){return Array.isArray(e)&&2===e.length?e[0]:t.isDefined(e.type)&&"Point"===e.type?e.coordinates[0]:e.longitude},a=function(e){return e?e instanceof google.maps.LatLng?e:Array.isArray(e)&&2===e.length?new google.maps.LatLng(e[1],e[0]):t.isDefined(e.type)&&"Point"===e.type?new google.maps.LatLng(e.coordinates[1],e.coordinates[0]):new google.maps.LatLng(e.latitude,e.longitude):void 0},u=function(e){if(t.isUndefined(e))return!1;if(n.isArray(e)){if(2===e.length)return!0}else if(null!=e&&(null!=e?e.type:void 0)&&"Point"===e.type&&n.isArray(e.coordinates)&&2===e.coordinates.length)return!0;
return e&&t.isDefined((null!=e?e.latitude:void 0)&&t.isDefined(null!=e?e.longitude:void 0))?!0:!1},{setCoordsFromEvent:function(e,n){return e?(Array.isArray(e)&&2===e.length?(e[1]=n.lat(),e[0]=n.lng()):t.isDefined(e.type)&&"Point"===e.type?(e.coordinates[1]=n.lat(),e.coordinates[0]=n.lng()):(e.latitude=n.lat(),e.longitude=n.lng()),e):void 0},getLabelPositionPoint:function(e){var t,n;return void 0===e?void 0:(e=/^([-\d\.]+)\s([-\d\.]+)$/.exec(e),t=parseFloat(e[1]),n=parseFloat(e[2]),null!=t&&null!=n?new google.maps.Point(t,n):void 0)},createWindowOptions:function(n,i,o,s){var l;return null!=o&&null!=s&&null!=r?(l=t.extend({},s,{content:this.buildContent(i,s,o),position:null!=s.position?s.position:t.isObject(n)?n.getPosition():a(i.coords)}),null!=n&&null==(null!=l?l.pixelOffset:void 0)&&(null==l.boxClass||(l.pixelOffset={height:0,width:-2})),l):s?s:(e.error("infoWindow defaults not defined"),o?void 0:e.error("infoWindow content not defined"))},buildContent:function(e,t,n){var i,o;return null!=t.content?o=t.content:null!=r?(n=n.replace(/^\s+|\s+$/g,""),i=""===n?"":r(n)(e),i.length>0&&(o=i[0])):o=n,o},defaultDelay:50,isTrue:function(e){return o(e,!0,["true","TRUE",1,"y","Y","yes","YES"])},isFalse:i,isFalsy:function(e){return o(e,!1,[void 0,null])||i(e)},getCoords:a,validateCoords:u,equalCoords:function(e,t){return s(e)===s(t)&&l(e)===l(t)},validatePath:function(e){var r,i,o,a;if(i=0,t.isUndefined(e.type)){if(!Array.isArray(e)||e.length<2)return!1;for(;i<e.length;){if(!(t.isDefined(e[i].latitude)&&t.isDefined(e[i].longitude)||"function"==typeof e[i].lat&&"function"==typeof e[i].lng))return!1;i++}return!0}if(t.isUndefined(e.coordinates))return!1;if("Polygon"===e.type){if(e.coordinates[0].length<4)return!1;r=e.coordinates[0]}else if("MultiPolygon"===e.type){if(a={max:0,index:0},n.forEach(e.coordinates,function(e,t){return e[0].length>this.max?(this.max=e[0].length,this.index=t):void 0},a),o=e.coordinates[a.index],r=o[0],r.length<4)return!1}else{if("LineString"!==e.type)return!1;if(e.coordinates.length<2)return!1;r=e.coordinates}for(;i<r.length;){if(2!==r[i].length)return!1;i++}return!0},convertPathPoints:function(e){var r,i,o,a,s;if(i=0,a=new google.maps.MVCArray,t.isUndefined(e.type))for(;i<e.length;)t.isDefined(e[i].latitude)&&t.isDefined(e[i].longitude)?o=new google.maps.LatLng(e[i].latitude,e[i].longitude):"function"==typeof e[i].lat&&"function"==typeof e[i].lng&&(o=e[i]),a.push(o),i++;else for("Polygon"===e.type?r=e.coordinates[0]:"MultiPolygon"===e.type?(s={max:0,index:0},n.forEach(e.coordinates,function(e,t){return e[0].length>this.max?(this.max=e[0].length,this.index=t):void 0},s),r=e.coordinates[s.index][0]):"LineString"===e.type&&(r=e.coordinates);i<r.length;)a.push(new google.maps.LatLng(r[i][1],r[i][0])),i++;return a},getPath:function(e,t){var r;return null!=t&&n.isString(t)?(r=e,n.each(t.split("."),function(e){return r?r=r[e]:void 0}),r):t},validateBoundPoints:function(e){return t.isUndefined(e.sw.latitude)||t.isUndefined(e.sw.longitude)||t.isUndefined(e.ne.latitude)||t.isUndefined(e.ne.longitude)?!1:!0},convertBoundPoints:function(e){var t;return t=new google.maps.LatLngBounds(new google.maps.LatLng(e.sw.latitude,e.sw.longitude),new google.maps.LatLng(e.ne.latitude,e.ne.longitude))},fitMapBounds:function(e,t){return e.fitBounds(t)}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapIsReady",["$q","$timeout",function(e,t){var n,r,i,o;return r=0,o=[],i=function(){return e.all(o)},n=function(e,o,a){return t(function(){return 0>=a?void e.reject("Your maps are not found we have checked the maximum amount of times. :)"):void(r!==o?n(e,o,a-1):e.resolve(i()))},100)},{spawn:function(){var t;return t=e.defer(),o.push(t.promise),r+=1,{instance:r,deferred:t}},promises:i,instances:function(){return r},promise:function(t,r){var i;return null==t&&(t=1),null==r&&(r=50),i=e.defer(),n(i,t,r),i.promise},reset:function(){r=0,o.length=0},decrement:function(){r>0&&(r-=1),o.length&&(o.length-=1)}}}])}.call(this),function(){var e=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapLinked",["uiGmapBaseObject",function(t){var n;return n=function(t){function n(e,t,n,r){this.scope=e,this.element=t,this.attrs=n,this.ctrls=r}return e(n,t),n}(t)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapLogger",["nemSimpleLogger",function(e){return e.spawn()}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapModelKey",["uiGmapBaseObject","uiGmapGmapUtil",function(i,o){return function(i){function a(t,n){this.scope=t,this.interface=null!=n?n:{scopeKeys:[]},this.modelsLength=e(this.modelsLength,this),this.updateChild=e(this.updateChild,this),this.destroy=e(this.destroy,this),this.setChildScope=e(this.setChildScope,this),this.getChanges=e(this.getChanges,this),this.getProp=e(this.getProp,this),this.setIdKey=e(this.setIdKey,this),this.modelKeyComparison=e(this.modelKeyComparison,this),a.__super__.constructor.call(this),this.defaultIdKey="id",this.idKey=void 0}return r(a,i),a.prototype.evalModelHandle=function(e,t){return null!=e&&null!=t?"self"===t?e:(n.isFunction(t)&&(t=t()),o.getPath(e,t)):void 0},a.prototype.modelKeyComparison=function(e,t){var r,i,a,s,l,u;if(a=this.interface.scopeKeys.indexOf("coords")>=0,(a&&null!=this.scope.coords||!a)&&(l=this.scope),null==l)throw"No scope set!";return a&&(r=this.scopeOrModelVal("coords",l,e),i=this.scopeOrModelVal("coords",l,t),s=o.equalCoords(r,i),!s)?s:(u=n.without(this.interface.scopeKeys,"coords"),s=n.every(u,function(n){return function(r){return n.scopeOrModelVal(l[r],l,e)===n.scopeOrModelVal(l[r],l,t)}}(this)))},a.prototype.setIdKey=function(e){return this.idKey=null!=e.idKey?e.idKey:this.defaultIdKey},a.prototype.setVal=function(e,t,n){return this.modelOrKey(e,t=n),e},a.prototype.modelOrKey=function(e,t){return null!=t?"self"!==t?o.getPath(e,t):e:void 0},a.prototype.getProp=function(e,t,n){return this.scopeOrModelVal(e,t,n)},a.prototype.getChanges=function(e,t,r){var i,o,a;r&&(t=n.pick(t,r),e=n.pick(e,r)),o={},a={},i={};for(a in e)t&&t[a]===e[a]||(n.isArray(e[a])?o[a]=e[a]:n.isObject(e[a])?(i=this.getChanges(e[a],t?t[a]:null),n.isEmpty(i)||(o[a]=i)):o[a]=e[a]);return o},a.prototype.scopeOrModelVal=function(e,t,r,i){var o,a,s,l;return null==i&&(i=!1),o=function(e,t,n){return null==n&&(n=!1),n?{isScope:e,value:t}:t},l=n.get(t,e),n.isFunction(l)?o(!0,l(r),i):n.isObject(l)?o(!0,l,i):n.isString(l)?(a=l,s=a?"self"===a?r:n.get(r,a):n.get(r,e),n.isFunction(s)?o(!1,s(),i):o(!1,s,i)):o(!0,l,i)},a.prototype.setChildScope=function(e,t,n){var r,i,o,a;for(i in e)o=e[i],r=this.scopeOrModelVal(o,t,n,!0),null!=(null!=r?r.value:void 0)&&(a=r.value,a!==t[o]&&(t[o]=a));return t.model=n},a.prototype.onDestroy=function(){},a.prototype.destroy=function(e){var t;return null==e&&(e=!1),null==this.scope||(null!=(t=this.scope)?t.$$destroyed:void 0)||!this.needToManualDestroy&&!e?this.clean():this.scope.$destroy()},a.prototype.updateChild=function(e,t){return null==t[this.idKey]?void this.$log.error("Model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key."):e.updateModel(t)},a.prototype.modelsLength=function(e){var n,r;return null==e&&(e=void 0),n=0,r=e?e:this.scope.models,null==r?n:n=t.isArray(r)||null!=r.length?r.length:Object.keys(r).length},a}(i)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapModelsWatcher",["uiGmapLogger","uiGmap_async","$q","uiGmapPromise",function(e,t,n,r){return{didQueueInitPromise:function(e,n){return 0===n.models.length?(t.promiseLock(e,r.promiseTypes.init,null,null,function(){return r.resolve()}),!0):!1},figureOutState:function(t,n,r,i){var o,a,s,l,u;return o=[],s={},l=[],u=[],n.models.forEach(function(a){var l;return null==a[t]?e.error(" id missing for model #{m.toString()},\ncan not use do comparison/insertion"):(s[a[t]]={},null==r.get(a[t])?o.push(a):(l=r.get(a[t]),i(a,l.clonedModel,n)?void 0:u.push({model:a,child:l})))}),a=r.values(),a.forEach(function(n){var r;return null==n?void e.error("child undefined in ModelsWatcher."):null==n.model?void e.error("child.model undefined in ModelsWatcher."):(r=n.model[t],null==s[r]?l.push(n):void 0)}),{adds:o,removals:l,updates:u}}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapPromise",["$q","$timeout","uiGmapLogger",function(e,t,r){var i,o,a,s,l,u,c,d,p,h,f;return p={create:"create",update:"update","delete":"delete",init:"init"},d={IN_PROGRESS:0,RESOLVED:1,REJECTED:2},f=function(){var e;return e={},e[""+d.IN_PROGRESS]="in-progress",e[""+d.RESOLVED]="resolved",e[""+d.REJECTED]="rejected",e}(),s=function(e){return e.$$state?e.$$state.status===d.IN_PROGRESS:e.hasOwnProperty("$$v")?void 0:!0},l=function(e){return e.$$state?e.$$state.status===d.RESOLVED:e.hasOwnProperty("$$v")?!0:void 0},c=function(e){return f[e]||"done w error"},i=function(t){var n,r,i;return n=e.defer(),r=e.all([t,n.promise]),i=e.defer(),t.then(n.resolve,function(){},function(e){return n.notify(e),i.notify(e)}),r.then(function(e){return i.resolve(e[0]||e[1])},function(e){return i.reject(e)}),i.promise.cancel=function(e){return null==e&&(e="canceled"),n.reject(e)},i.promise.notify=function(e){return null==e&&(e="cancel safe"),i.notify(e),t.hasOwnProperty("notify")?t.notify(e):void 0},null!=t.promiseType&&(i.promise.promiseType=t.promiseType),i.promise},o=function(e,t){return{promise:e,promiseType:t}},a=function(){return e.defer()},h=function(){var t;return t=e.defer(),t.resolve.apply(void 0,arguments),t.promise},u=function(i){var o;return n.isFunction(i)?(o=e.defer(),t(function(){var e;return e=i(),o.resolve(e)}),o.promise):void r.error("uiGmapPromise.promise() only accepts functions")},{defer:a,promise:u,resolve:h,promiseTypes:p,isInProgress:s,isResolved:l,promiseStatus:c,ExposedPromise:i,SniffedPromise:o}}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapPropMap",function(){var t;return t=function(){function t(){this.removeAll=e(this.removeAll,this),this.slice=e(this.slice,this),this.push=e(this.push,this),this.keys=e(this.keys,this),this.values=e(this.values,this),this.remove=e(this.remove,this),this.put=e(this.put,this),this.stateChanged=e(this.stateChanged,this),this.get=e(this.get,this),this.length=0,this.dict={},this.didValsStateChange=!1,this.didKeysStateChange=!1,this.allVals=[],this.allKeys=[]}return t.prototype.get=function(e){return this.dict[e]},t.prototype.stateChanged=function(){return this.didValsStateChange=!0,this.didKeysStateChange=!0},t.prototype.put=function(e,t){return null==this.get(e)&&this.length++,this.stateChanged(),this.dict[e]=t},t.prototype.remove=function(e,t){var n;return null==t&&(t=!1),t&&!this.get(e)?void 0:(n=this.dict[e],delete this.dict[e],this.length--,this.stateChanged(),n)},t.prototype.valuesOrKeys=function(e){var t,r;return null==e&&(e="Keys"),this["did"+e+"StateChange"]?(r=[],t=[],n.each(this.dict,function(e,n){return r.push(e),t.push(n)}),this.didKeysStateChange=!1,this.didValsStateChange=!1,this.allVals=r,this.allKeys=t,this["all"+e]):this["all"+e]},t.prototype.values=function(){return this.valuesOrKeys("Vals")},t.prototype.keys=function(){return this.valuesOrKeys()},t.prototype.push=function(e,t){return null==t&&(t="key"),this.put(e[t],e)},t.prototype.slice=function(){return this.keys().map(function(e){return function(t){return e.remove(t)}}(this))},t.prototype.removeAll=function(){return this.slice()},t.prototype.each=function(e){return n.each(this.dict,function(t){return e(t)})},t.prototype.map=function(e){return n.map(this.dict,function(t){return e(t)})},t}()})}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapPropertyAction",["uiGmapLogger",function(){var e;return e=function(e){return this.setIfChange=function(t){return function(r,i){return n.isEqual(i,r)?void 0:e(t,r)}},this.sic=this.setIfChange,this}}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps.directives.api.managers").factory("uiGmapClustererMarkerManager",["uiGmapLogger","uiGmapFitHelper","uiGmapPropMap","uiGmapEventsHelper",function(n,r,i,o){var a;return a=function(){function a(t,r,o,s){null==r&&(r={}),this.opt_options=null!=o?o:{},this.opt_events=s,this.checkSync=e(this.checkSync,this),this.getGMarkers=e(this.getGMarkers,this),this.fit=e(this.fit,this),this.destroy=e(this.destroy,this),this.attachEvents=e(this.attachEvents,this),this.clear=e(this.clear,this),this.draw=e(this.draw,this),this.removeMany=e(this.removeMany,this),this.remove=e(this.remove,this),this.addMany=e(this.addMany,this),this.update=e(this.update,this),this.add=e(this.add,this),this.type=a.type,this.clusterer=new NgMapMarkerClusterer(t,r,this.opt_options),this.propMapGMarkers=new i,this.attachEvents(this.opt_events,"opt_events"),this.clusterer.setIgnoreHidden(!0),this.noDrawOnSingleAddRemoves=!0,n.info(this)}return a.type="ClustererMarkerManager",a.prototype.checkKey=function(e){var t;return null==e.key?(t="gMarker.key undefined and it is REQUIRED!!",n.error(t)):void 0},a.prototype.add=function(e){return this.checkKey(e),this.clusterer.addMarker(e,this.noDrawOnSingleAddRemoves),this.propMapGMarkers.put(e.key,e),this.checkSync()},a.prototype.update=function(e){return this.remove(e),this.add(e)},a.prototype.addMany=function(e){return e.forEach(function(e){return function(t){return e.add(t)}}(this))},a.prototype.remove=function(e){var t;return this.checkKey(e),t=this.propMapGMarkers.get(e.key),t&&(this.clusterer.removeMarker(e,this.noDrawOnSingleAddRemoves),this.propMapGMarkers.remove(e.key)),this.checkSync()},a.prototype.removeMany=function(e){return e.forEach(function(e){return function(t){return e.remove(t)}}(this))},a.prototype.draw=function(){return this.clusterer.repaint()},a.prototype.clear=function(){return this.removeMany(this.getGMarkers()),this.clusterer.repaint()},a.prototype.attachEvents=function(e,r){var i,o,a;if(this.listeners=[],t.isDefined(e)&&null!=e&&t.isObject(e)){a=[];for(o in e)i=e[o],e.hasOwnProperty(o)&&t.isFunction(e[o])?(n.info(r+": Attaching event: "+o+" to clusterer"),a.push(this.listeners.push(google.maps.event.addListener(this.clusterer,o,e[o])))):a.push(void 0);return a}},a.prototype.clearEvents=function(){return o.removeEvents(this.listeners),this.listeners=[]},a.prototype.destroy=function(){return this.clearEvents(),this.clear()},a.prototype.fit=function(){return r.fit(this.getGMarkers(),this.clusterer.getMap())},a.prototype.getGMarkers=function(){return this.clusterer.getMarkers().values()},a.prototype.checkSync=function(){},a}()}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.managers").service("uiGmapGoogleMapObjectManager",[function(){var e,n;return e=[],n=[],{createMapInstance:function(r,i){var o;return o=null,0===e.length?(o=new google.maps.Map(r,i),n.push(o)):(o=e.pop(),t.element(r).append(o.getDiv()),o.setOptions(i),n.push(o)),o},recycleMapInstance:function(t){var r;if(r=n.indexOf(t),0>r)throw new Error("Expected map instance to be a previously used instance");return n.splice(r,1),e.push(t)}}}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps.directives.api.managers").factory("uiGmapMarkerManager",["uiGmapLogger","uiGmapFitHelper","uiGmapPropMap",function(t,n,r){var i;return i=function(){function i(n){this.getGMarkers=e(this.getGMarkers,this),this.fit=e(this.fit,this),this.handleOptDraw=e(this.handleOptDraw,this),this.clear=e(this.clear,this),this.destroy=e(this.destroy,this),this.draw=e(this.draw,this),this.removeMany=e(this.removeMany,this),this.remove=e(this.remove,this),this.addMany=e(this.addMany,this),this.update=e(this.update,this),this.add=e(this.add,this),this.type=i.type,this.gMap=n,this.gMarkers=new r,this.$log=t,this.$log.info(this)}return i.type="MarkerManager",i.prototype.add=function(e,n){var r,i;if(null==n&&(n=!0),null==e.key)throw i="gMarker.key undefined and it is REQUIRED!!",t.error(i),i;return r=this.gMarkers.get(e.key),r?void 0:(this.handleOptDraw(e,n,!0),this.gMarkers.put(e.key,e))},i.prototype.update=function(e,t){return null==t&&(t=!0),this.remove(e,t),this.add(e,t)},i.prototype.addMany=function(e){return e.forEach(function(e){return function(t){return e.add(t)}}(this))},i.prototype.remove=function(e,t){return null==t&&(t=!0),this.handleOptDraw(e,t,!1),this.gMarkers.get(e.key)?this.gMarkers.remove(e.key):void 0},i.prototype.removeMany=function(e){return e.forEach(function(e){return function(t){return e.remove(t)}}(this))},i.prototype.draw=function(){var e;return e=[],this.gMarkers.each(function(t){return function(n){return n.isDrawn?void 0:n.doAdd?(n.setMap(t.gMap),n.isDrawn=!0):e.push(n)}}(this)),e.forEach(function(e){return function(t){return t.isDrawn=!1,e.remove(t,!0)}}(this))},i.prototype.destroy=function(){return this.clear()},i.prototype.clear=function(){return this.gMarkers.each(function(e){return e.setMap(null)}),delete this.gMarkers,this.gMarkers=new r},i.prototype.handleOptDraw=function(e,t,n){return t===!0?(e.setMap(n?this.gMap:null),e.isDrawn=!0):(e.isDrawn=!1,e.doAdd=n)},i.prototype.fit=function(){return n.fit(this.getGMarkers(),this.gMap)},i.prototype.getGMarkers=function(){return this.gMarkers.values()},i}()}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps.directives.api.managers").factory("uiGmapSpiderfierMarkerManager",["uiGmapLogger","uiGmapFitHelper","uiGmapPropMap","uiGmapMarkerSpiderfier",function(r,i,o,a){var s;return s=function(){function s(t,n,i,l,u){null==n&&(n={}),this.opt_options=null!=i?i:{},this.opt_events=l,this.scope=u,this.checkSync=e(this.checkSync,this),this.isSpiderfied=e(this.isSpiderfied,this),this.getGMarkers=e(this.getGMarkers,this),this.fit=e(this.fit,this),this.destroy=e(this.destroy,this),this.attachEvents=e(this.attachEvents,this),this.clear=e(this.clear,this),this.draw=e(this.draw,this),this.removeMany=e(this.removeMany,this),this.remove=e(this.remove,this),this.addMany=e(this.addMany,this),this.update=e(this.update,this),this.add=e(this.add,this),this.type=s.type,this.markerSpiderfier=new a(t,this.opt_options),this.propMapGMarkers=new o,this.attachEvents(this.opt_events,"opt_events"),this.noDrawOnSingleAddRemoves=!0,r.info(this)}return s.type="SpiderfierMarkerManager",s.prototype.checkKey=function(e){var t;return null==e.key?(t="gMarker.key undefined and it is REQUIRED!!",r.error(t)):void 0},s.prototype.add=function(e){return e.setMap(this.markerSpiderfier.map),this.checkKey(e),this.markerSpiderfier.addMarker(e,this.noDrawOnSingleAddRemoves),this.propMapGMarkers.put(e.key,e),this.checkSync()},s.prototype.update=function(e){return this.remove(e),this.add(e)},s.prototype.addMany=function(e){return e.forEach(function(e){return function(t){return e.add(t)}}(this))},s.prototype.remove=function(e){var t;return this.checkKey(e),t=this.propMapGMarkers.get(e.key),t&&(e.setMap(null),this.markerSpiderfier.removeMarker(e,this.noDrawOnSingleAddRemoves),this.propMapGMarkers.remove(e.key)),this.checkSync()},s.prototype.removeMany=function(e){return e.forEach(function(e){return function(t){return e.remove(t)}}(this))},s.prototype.draw=function(){},s.prototype.clear=function(){return this.removeMany(this.getGMarkers())},s.prototype.attachEvents=function(e,i){return t.isDefined(e)&&null!=e&&t.isObject(e)?n.each(e,function(n){return function(o,a){return e.hasOwnProperty(a)&&t.isFunction(e[a])?(r.info(i+": Attaching event: "+a+" to markerSpiderfier"),n.markerSpiderfier.addListener(a,function(){return n.scope.$evalAsync("spiderfy"===a||"unspiderfy"===a?e[a].apply(e,arguments):e[a].apply(e,[arguments[0],a,arguments[0].model,arguments]))})):void 0}}(this)):void 0},s.prototype.clearEvents=function(e,n){var i,o;if(t.isDefined(e)&&null!=e&&t.isObject(e))for(o in e)i=e[o],e.hasOwnProperty(o)&&t.isFunction(e[o])&&(r.info(n+": Clearing event: "+o+" to markerSpiderfier"),this.markerSpiderfier.clearListeners(o))},s.prototype.destroy=function(){return this.clearEvents(this.opt_events,"opt_events"),this.clear()},s.prototype.fit=function(){return i.fit(this.getGMarkers(),this.markerSpiderfier.map)},s.prototype.getGMarkers=function(){return this.markerSpiderfier.getMarkers()},s.prototype.isSpiderfied=function(){return n.find(this.getGMarkers(),function(e){return null!=(null!=e?e._omsData:void 0)})},s.prototype.checkSync=function(){},s}()}])}.call(this),function(){t.module("uiGmapgoogle-maps").factory("uiGmapadd-events",["$timeout",function(e){var n,r;return n=function(t,n,r){return google.maps.event.addListener(t,n,function(){return r.apply(this,arguments),e(function(){},!0)})},r=function(e,r,i){var o;return i?n(e,r,i):(o=[],t.forEach(r,function(t,r){return o.push(n(e,r,t))}),function(){return t.forEach(o,function(e){return google.maps.event.removeListener(e)}),o=null})}}])}.call(this),function(){t.module("uiGmapgoogle-maps").factory("uiGmaparray-sync",["uiGmapadd-events",function(e){return function(n,r,i,o){var a,s,l,u,c,d,p,h,f;return u=!1,h=r.$eval(i),r.static||(c={set_at:function(e){var t;if(!u&&(t=n.getAt(e)))return t.lng&&t.lat?(h[e].latitude=t.lat(),h[e].longitude=t.lng()):h[e]=t},insert_at:function(e){var t;if(!u&&(t=n.getAt(e)))return t.lng&&t.lat?h.splice(e,0,{latitude:t.lat(),longitude:t.lng()}):h.splice(e,0,t)},remove_at:function(e){return u?void 0:h.splice(e,1)}},"Polygon"===h.type?a=h.coordinates[0]:"LineString"===h.type&&(a=h.coordinates),s={set_at:function(e){var t;if(!u&&(t=n.getAt(e),t&&t.lng&&t.lat))return a[e][1]=t.lat(),a[e][0]=t.lng()},insert_at:function(e){var t;if(!u&&(t=n.getAt(e),t&&t.lng&&t.lat))return a.splice(e,0,[t.lng(),t.lat()])},remove_at:function(e){return u?void 0:a.splice(e,1)}},p=e(n,t.isUndefined(h.type)?c:s)),d=function(e){var t,r,i,a,s,l,c,d;if(u=!0,l=n,t=!1,e){for(r=0,c=l.getLength(),a=e.length,i=Math.min(c,a),s=void 0;i>r;)d=l.getAt(r),s=e[r],"function"==typeof s.equals?s.equals(d)||(l.setAt(r,s),t=!0):(d.lat()!==s.latitude||d.lng()!==s.longitude)&&(l.setAt(r,new google.maps.LatLng(s.latitude,s.longitude)),t=!0),r++;for(;a>r;)s=e[r],l.push("function"==typeof s.lat&&"function"==typeof s.lng?s:new google.maps.LatLng(s.latitude,s.longitude)),t=!0,r++;for(;c>r;)l.pop(),t=!0,r++}return u=!1,t?o(l):void 0},l=function(e){var t,r,i,a,s,l,c,d,p;if(u=!0,c=n,r=!1,e){for("Polygon"===h.type?t=e.coordinates[0]:"LineString"===h.type&&(t=e.coordinates),i=0,d=c.getLength(),s=t.length,a=Math.min(d,s),l=void 0;a>i;)p=c.getAt(i),l=t[i],(p.lat()!==l[1]||p.lng()!==l[0])&&(c.setAt(i,new google.maps.LatLng(l[1],l[0])),r=!0),i++;for(;s>i;)l=t[i],c.push(new google.maps.LatLng(l[1],l[0])),r=!0,i++;for(;d>i;)c.pop(),r=!0,i++}return u=!1,r?o(c):void 0},r.static||(f=t.isUndefined(h.type)?r.$watchCollection(i,d):r.$watch(i,l,!0)),function(){return p&&(p(),p=null),f?(f(),f=null):void 0}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapChromeFixes",["$timeout",function(e){return{maybeRepaint:function(t){return t?(t.style.opacity=.9,e(function(){return t.style.opacity=1})):void 0}}}])}.call(this),function(){t.module("uiGmapgoogle-maps").service("uiGmapObjectIterators",function(){var e,t,r,i;return e=["length","forEach","map"],t=[],r=function(t){return t.forEach=function(r){return n.each(n.omit(t,e),function(e){return n.isFunction(e)?void 0:r(e)})},t},t.push(r),i=function(t){return t.map=function(r){return n.map(n.omit(t,e),function(e){return n.isFunction(e)?void 0:r(e)})},t},t.push(i),{slapMap:i,slapForEach:r,slapAll:function(e){return t.forEach(function(t){return t(e)}),e}}})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.options.builders").service("uiGmapCommonOptionsBuilder",["uiGmapBaseObject","uiGmapLogger","uiGmapModelKey",function(r,i,o){var a;return a=function(r){function o(){return this.watchProps=e(this.watchProps,this),this.buildOpts=e(this.buildOpts,this),o.__super__.constructor.apply(this,arguments)}return n(o,r),o.prototype.props=["clickable","draggable","editable","visible",{prop:"stroke",isColl:!0}],o.prototype.getCorrectModel=function(e){return t.isDefined(null!=e?e.model:void 0)?e.model:e},o.prototype.buildOpts=function(e,n,r){var o,a,s;return null==e&&(e={}),null==r&&(r={}),this.scope?this.gMap?(o=this.getCorrectModel(this.scope),s=this.scopeOrModelVal("stroke",this.scope,o),a=t.extend(e,this.DEFAULTS,{map:this.gMap,strokeColor:null!=s?s.color:void 0,strokeOpacity:null!=s?s.opacity:void 0,strokeWeight:null!=s?s.weight:void 0}),t.forEach(t.extend(r,{clickable:!0,draggable:!1,editable:!1,"static":!1,fit:!1,visible:!0,zIndex:0,icons:[]}),function(e){return function(r,i){var s;return s=n?n[i]:e.scopeOrModelVal(i,e.scope,o),a[i]=t.isUndefined(s)?r:o[i]}}(this)),a.static&&(a.editable=!1),a):void i.error("this.map not defined in CommonOptionsBuilder can not buildOpts"):void i.error("this.scope not defined in CommonOptionsBuilder can not buildOpts")},o.prototype.watchProps=function(e){return null==e&&(e=this.props),e.forEach(function(e){return function(t){return null!=e.attrs[t]||null!=e.attrs[null!=t?t.prop:void 0]?(null!=t?t.isColl:void 0)?e.scope.$watchCollection(t.prop,e.setMyOptions):e.scope.$watch(t,e.setMyOptions):void 0}}(this))},o}(o)}])}.call(this),function(){var e=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.options.builders").factory("uiGmapPolylineOptionsBuilder",["uiGmapCommonOptionsBuilder",function(t){var n;return n=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.buildOpts=function(e,t){return n.__super__.buildOpts.call(this,{path:e},t,{geodesic:!1})},n}(t)}]).factory("uiGmapShapeOptionsBuilder",["uiGmapCommonOptionsBuilder",function(n){var r;return r=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,n),r.prototype.buildOpts=function(e,n,i){var o,a;return a=this.getCorrectModel(this.scope),o=n?n.fill:this.scopeOrModelVal("fill",this.scope,a),e=t.extend(e,{fillColor:null!=o?o.color:void 0,fillOpacity:null!=o?o.opacity:void 0}),r.__super__.buildOpts.call(this,e,n,i)},r}(n)}]).factory("uiGmapPolygonOptionsBuilder",["uiGmapShapeOptionsBuilder",function(t){var n;return n=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.buildOpts=function(e,t){return n.__super__.buildOpts.call(this,{path:e},t,{geodesic:!1})},n}(t)}]).factory("uiGmapRectangleOptionsBuilder",["uiGmapShapeOptionsBuilder",function(t){var n;return n=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.buildOpts=function(e,t){return n.__super__.buildOpts.call(this,{bounds:e},t)},n}(t)}]).factory("uiGmapCircleOptionsBuilder",["uiGmapShapeOptionsBuilder",function(t){var n;return n=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.buildOpts=function(e,t,r){return n.__super__.buildOpts.call(this,{center:e,radius:t},r)},n}(t)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.options").service("uiGmapMarkerOptions",["uiGmapLogger","uiGmapGmapUtil",function(e,r){return n.extend(r,{createOptions:function(e,n,i,o){var a;return null==i&&(i={}),a=t.extend({},i,{position:null!=i.position?i.position:r.getCoords(e),visible:null!=i.visible?i.visible:r.validateCoords(e)}),(null!=i.icon||null!=n)&&(a=t.extend(a,{icon:null!=i.icon?i.icon:n})),null!=o&&(a.map=o),a},isLabel:function(e){return null==e?!1:null!=e.labelContent||null!=e.labelAnchor||null!=e.labelClass||null!=e.labelStyle||null!=e.labelVisible}})}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapBasePolyChildModel",["uiGmapLogger","$timeout","uiGmaparray-sync","uiGmapGmapUtil","uiGmapEventsHelper",function(i,o,a,s,l){return function(i,o){var u;return u=function(i){function u(r){var i,s,u;this.scope=r.scope,this.attrs=r.attrs,this.gMap=r.gMap,this.defaults=r.defaults,this.model=r.model,s=r.gObjectChangeCb,this.isScopeModel=null!=(u=r.isScopeModel)?u:!1,this.clean=e(this.clean,this),this.isScopeModel&&(this.clonedModel=n.clone(this.model,!0)),this.isDragging=!1,this.internalEvents={dragend:function(e){return function(){return n.defer(function(){return e.isDragging=!1})}}(this),dragstart:function(e){return function(){return e.isDragging=!0}}(this)},i=function(e){return function(){var n;if(!e.isDragging)return e.pathPoints=e.convertPathPoints(e.scope.path),null!=e.gObject&&e.clean(),null!=e.scope.model&&(n=e.scope),e.pathPoints.length>0&&(e.gObject=o(e.buildOpts(e.pathPoints,n))),e.gObject?(a(e.gObject.getPath(),e.scope,"path",function(t){return e.pathPoints=t,null!=s?s():void 0}),t.isDefined(e.scope.events)&&t.isObject(e.scope.events)&&(e.listeners=e.model?l.setEvents(e.gObject,e.scope,e.model):l.setEvents(e.gObject,e.scope,e.scope)),e.internalListeners=e.model?l.setEvents(e.gObject,{events:e.internalEvents},e.model):l.setEvents(e.gObject,{events:e.internalEvents},e.scope)):void 0}}(this),i(),this.scope.$watch("path",function(e){return function(t,r){return n.isEqual(t,r)&&e.gObject?void 0:i()}}(this),!0),!this.scope.static&&t.isDefined(this.scope.editable)&&this.scope.$watch("editable",function(e){return function(t,n){var r;return t!==n?(t=!e.isFalse(t),null!=(r=e.gObject)?r.setEditable(t):void 0):void 0}}(this),!0),t.isDefined(this.scope.draggable)&&this.scope.$watch("draggable",function(e){return function(t,n){var r;return t!==n?(t=!e.isFalse(t),null!=(r=e.gObject)?r.setDraggable(t):void 0):void 0}}(this),!0),t.isDefined(this.scope.visible)&&this.scope.$watch("visible",function(e){return function(t,n){var r;return t!==n&&(t=!e.isFalse(t)),null!=(r=e.gObject)?r.setVisible(t):void 0}}(this),!0),t.isDefined(this.scope.geodesic)&&this.scope.$watch("geodesic",function(e){return function(t,n){var r;return t!==n?(t=!e.isFalse(t),null!=(r=e.gObject)?r.setOptions(e.buildOpts(e.gObject.getPath())):void 0):void 0}}(this),!0),t.isDefined(this.scope.stroke)&&t.isDefined(this.scope.stroke.weight)&&this.scope.$watch("stroke.weight",function(e){return function(t,n){var r;return t!==n&&null!=(r=e.gObject)?r.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this),!0),t.isDefined(this.scope.stroke)&&t.isDefined(this.scope.stroke.color)&&this.scope.$watch("stroke.color",function(e){return function(t,n){var r;return t!==n&&null!=(r=e.gObject)?r.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this),!0),t.isDefined(this.scope.stroke)&&t.isDefined(this.scope.stroke.opacity)&&this.scope.$watch("stroke.opacity",function(e){return function(t,n){var r;return t!==n&&null!=(r=e.gObject)?r.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this),!0),t.isDefined(this.scope.icons)&&this.scope.$watch("icons",function(e){return function(t,n){var r;return t!==n&&null!=(r=e.gObject)?r.setOptions(e.buildOpts(e.gObject.getPath())):void 0
}}(this),!0),this.scope.$on("$destroy",function(e){return function(){return e.clean(),e.scope=null}}(this)),t.isDefined(this.scope.fill)&&t.isDefined(this.scope.fill.color)&&this.scope.$watch("fill.color",function(e){return function(t,n){return t!==n?e.gObject.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this)),t.isDefined(this.scope.fill)&&t.isDefined(this.scope.fill.opacity)&&this.scope.$watch("fill.opacity",function(e){return function(t,n){return t!==n?e.gObject.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this)),t.isDefined(this.scope.zIndex)&&this.scope.$watch("zIndex",function(e){return function(t,n){return t!==n?e.gObject.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this))}return r(u,i),u.include(s),u.prototype.clean=function(){var e;return l.removeEvents(this.listeners),l.removeEvents(this.internalListeners),null!=(e=this.gObject)&&e.setMap(null),this.gObject=null},u}(i)}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.models.child").factory("uiGmapDrawFreeHandChildModel",["uiGmapLogger","$q",function(e,t){var r,i;return r=function(e,t,n){var r,i;return i=new google.maps.Polyline({map:e,clickable:!1}),r=google.maps.event.addListener(e,"mousemove",function(e){return i.getPath().push(e.latLng)}),void google.maps.event.addListenerOnce(e,"mouseup",function(){var o;return google.maps.event.removeListener(r),o=i.getPath(),i.setMap(null),t.push(new google.maps.Polygon({map:e,path:o})),i=null,google.maps.event.clearListeners(e.getDiv(),"mousedown"),n()})},i=function(i,o){var a,s;return this.map=i,a=function(t){return function(){var n;return n={draggable:!1,disableDefaultUI:!0,scrollwheel:!1,disableDoubleClickZoom:!1},e.info("disabling map move"),t.map.setOptions(n)}}(this),s=function(e){return function(){var t,r;return t={draggable:!0,disableDefaultUI:!1,scrollwheel:!0,disableDoubleClickZoom:!0},null!=(r=e.deferred)&&r.resolve(),n.defer(function(){return e.map.setOptions(n.extend(t,o.options))})}}(this),this.engage=function(n){return function(i){return n.polys=i,n.deferred=t.defer(),a(),e.info("DrawFreeHandChildModel is engaged (drawing)."),google.maps.event.addDomListener(n.map.getDiv(),"mousedown",function(){return r(n.map,n.polys,s)}),n.deferred.promise}}(this),this}}])}.call(this),function(){var r=function(e,t){return function(){return e.apply(t,arguments)}},i=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.child").factory("uiGmapMarkerChildModel",["uiGmapModelKey","uiGmapGmapUtil","uiGmapLogger","uiGmapEventsHelper","uiGmapPropertyAction","uiGmapMarkerOptions","uiGmapIMarker","uiGmapMarkerManager","uiGmapPromise",function(o,a,s,l,u,c,d,p,h){var f;return f=function(o){function f(e){this.internalEvents=r(this.internalEvents,this),this.setLabelOptions=r(this.setLabelOptions,this),this.setOptions=r(this.setOptions,this),this.setIcon=r(this.setIcon,this),this.setCoords=r(this.setCoords,this),this.isNotValid=r(this.isNotValid,this),this.maybeSetScopeValue=r(this.maybeSetScopeValue,this),this.createMarker=r(this.createMarker,this),this.setMyScope=r(this.setMyScope,this),this.updateModel=r(this.updateModel,this),this.handleModelChanges=r(this.handleModelChanges,this),this.destroy=r(this.destroy,this);var t,i,o,a,l,c,d;d=e.scope,this.model=e.model,this.keys=e.keys,this.gMap=e.gMap,this.defaults=null!=(i=e.defaults)?i:{},this.doClick=e.doClick,this.gManager=e.gManager,this.doDrawSelf=null!=(o=e.doDrawSelf)?o:!0,this.trackModel=null!=(a=e.trackModel)?a:!0,this.needRedraw=null!=(l=e.needRedraw)?l:!1,this.isScopeModel=null!=(c=e.isScopeModel)?c:!1,this.isScopeModel&&(this.clonedModel=n.clone(this.model,!0)),this.deferred=h.defer(),n.each(this.keys,function(e){return function(t,r){var i;return i=e.keys[r],null!=i&&!n.isFunction(i)&&n.isString(i)?e[r+"Key"]=i:void 0}}(this)),this.idKey=this.idKeyKey||"id",null!=this.model[this.idKey]&&(this.id=this.model[this.idKey]),f.__super__.constructor.call(this,d),this.scope.getGMarker=function(e){return function(){return e.gObject}}(this),this.firstTime=!0,this.trackModel?(this.scope.model=this.model,this.scope.$watch("model",function(e){return function(t,n){return t!==n?e.handleModelChanges(t,n):void 0}}(this),!0)):(t=new u(function(e){return function(t){return n.isFunction(t)&&(t="all"),e.firstTime?void 0:e.setMyScope(t,d)}}(this),!1),n.each(this.keys,function(e,n){return d.$watch(n,t.sic(n),!0)})),this.scope.$on("$destroy",function(e){return function(){return g(e)}}(this)),this.createMarker(this.model),s.info(this)}var g;return i(f,o),f.include(a),f.include(l),f.include(c),g=function(e){return null!=(null!=e?e.gObject:void 0)&&(e.removeEvents(e.externalListeners),e.removeEvents(e.internalListeners),null!=e?e.gObject:void 0)?(e.removeFromManager&&e.gManager.remove(e.gObject),e.gObject.setMap(null),e.gObject=null):void 0},f.prototype.destroy=function(e){return null==e&&(e=!0),this.removeFromManager=e,this.scope.$destroy()},f.prototype.handleModelChanges=function(e,t){var r,i,o;return r=this.getChanges(e,t,d.keys),this.firstTime?void 0:(i=0,o=n.keys(r).length,n.each(r,function(n){return function(r,a){var s;return i+=1,s=o===i,n.setMyScope(a,e,t,!1,!0,s),n.needRedraw=!0}}(this)))},f.prototype.updateModel=function(e){return this.isScopeModel&&(this.clonedModel=n.clone(e,!0)),this.setMyScope("all",e,this.model)},f.prototype.renderGMarker=function(t,n){var r,i,o;if(null==t&&(t=!0),r=this.getProp("coords",this.scope,this.model),null!=(null!=(o=this.gManager)?o.isSpiderfied:void 0)&&(i=this.gManager.isSpiderfied()),null!=r){if(!this.validateCoords(r))return void s.debug("MarkerChild does not have coords yet. They may be defined later.");if(null!=n&&n(),t&&this.gObject&&this.gManager.add(this.gObject),i)return this.gManager.markerSpiderfier.spiderListener(this.gObject,e.event)}else if(t&&this.gObject)return this.gManager.remove(this.gObject)},f.prototype.setMyScope=function(e,t,r,i,o){var a;switch(null==r&&(r=void 0),null==i&&(i=!1),null==o&&(o=!0),null==t?t=this.model:this.model=t,this.gObject||(this.setOptions(this.scope,o),a=!0),e){case"all":return n.each(this.keys,function(e){return function(n,a){return e.setMyScope(a,t,r,i,o)}}(this));case"icon":return this.maybeSetScopeValue({gSetter:this.setIcon,doDraw:o});case"coords":return this.maybeSetScopeValue({gSetter:this.setCoords,doDraw:o});case"options":if(!a)return this.createMarker(t,r,i,o)}},f.prototype.createMarker=function(e,t,n,r){return null==t&&(t=void 0),null==n&&(n=!1),null==r&&(r=!0),this.maybeSetScopeValue({gSetter:this.setOptions,doDraw:r}),this.firstTime=!1},f.prototype.maybeSetScopeValue=function(e){var t,n,r;return n=e.gSetter,t=null!=(r=e.doDraw)?r:!0,null!=n&&n(this.scope,t),this.doDrawSelf&&t?this.gManager.draw():void 0},f.prototype.isNotValid=function(e,t){var n,r;return null==t&&(t=!0),r=t?void 0===this.gObject:!1,n=this.trackModel?!1:e.$id!==this.scope.$id,n||r},f.prototype.setCoords=function(e,t){return null==t&&(t=!0),this.isNotValid(e)||null==this.gObject?void 0:this.renderGMarker(t,function(t){return function(){var n,r,i;return r=t.getProp("coords",e,t.model),n=t.getCoords(r),i=t.gObject.getPosition(),null==i||null==n||n.lng()!==i.lng()||n.lat()!==i.lat()?(t.gObject.setPosition(n),t.gObject.setVisible(t.validateCoords(r))):void 0}}(this))},f.prototype.setIcon=function(e,t){return null==t&&(t=!0),this.isNotValid(e)||null==this.gObject?void 0:this.renderGMarker(t,function(t){return function(){var n,r,i;return i=t.gObject.getIcon(),r=t.getProp("icon",e,t.model),i!==r?(t.gObject.setIcon(r),n=t.getProp("coords",e,t.model),t.gObject.setPosition(t.getCoords(n)),t.gObject.setVisible(t.validateCoords(n))):void 0}}(this))},f.prototype.setOptions=function(e,t){var r;if(null==t&&(t=!0),!this.isNotValid(e,!1)){if(this.renderGMarker(t,function(t){return function(){var r,i,o;return i=t.getProp("coords",e,t.model),o=t.getProp("icon",e,t.model),r=t.getProp("options",e,t.model),t.opts=t.createOptions(i,o,r),t.isLabel(t.gObject)!==t.isLabel(t.opts)&&null!=t.gObject&&(t.gManager.remove(t.gObject),t.gObject=void 0),null!=t.gObject&&t.gObject.setOptions(t.setLabelOptions(t.opts)),t.gObject||(t.isLabel(t.opts)?t.gObject=new MarkerWithLabel(t.setLabelOptions(t.opts)):t.opts.content?(t.gObject=new RichMarker(t.opts),t.gObject.getIcon=t.gObject.getContent,t.gObject.setIcon=t.gObject.setContent):t.gObject=new google.maps.Marker(t.opts),n.extend(t.gObject,{model:t.model})),t.externalListeners&&t.removeEvents(t.externalListeners),t.internalListeners&&t.removeEvents(t.internalListeners),t.externalListeners=t.setEvents(t.gObject,t.scope,t.model,["dragend"]),t.internalListeners=t.setEvents(t.gObject,{events:t.internalEvents(),$evalAsync:function(){}},t.model),null!=t.id?t.gObject.key=t.id:void 0}}(this)),this.gObject&&(this.gObject.getMap()||this.gManager.type!==p.type))this.deferred.resolve(this.gObject);else{if(!this.gObject)return this.deferred.reject("gObject is null");(null!=(r=this.gObject)?r.getMap():0)&&this.gManager.type===p.type||(s.debug("gObject has no map yet"),this.deferred.resolve(this.gObject))}return this.model[this.fitKey]?this.gManager.fit():void 0}},f.prototype.setLabelOptions=function(e){return e.labelAnchor&&(e.labelAnchor=this.getLabelPositionPoint(e.labelAnchor)),e},f.prototype.internalEvents=function(){return{dragend:function(e){return function(t,n,r,i){var o,a,s;return a=e.trackModel?e.scope.model:e.model,s=e.setCoordsFromEvent(e.modelOrKey(a,e.coordsKey),e.gObject.getPosition()),a=e.setVal(r,e.coordsKey,s),o=e.scope.events,null!=(null!=o?o.dragend:void 0)&&o.dragend(t,n,a,i),e.scope.$apply()}}(this),click:function(e){return function(n,r,i,o){var a;return a=e.getProp("click",e.scope,e.model),e.doClick&&t.isFunction(a)?e.scope.$evalAsync(a(n,r,e.model,o)):void 0}}(this)}},f}(o)}])}.call(this),function(){var e=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolygonChildModel",["uiGmapBasePolyChildModel","uiGmapPolygonOptionsBuilder",function(t,n){var r,i,o;return o=function(e){return new google.maps.Polygon(e)},i=new t(n,o),r=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n}(i)}])}.call(this),function(){var e=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolylineChildModel",["uiGmapBasePolyChildModel","uiGmapPolylineOptionsBuilder",function(t,n){var r,i,o;return o=function(e){return new google.maps.Polyline(e)},i=t(n,o),r=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n}(i)}])}.call(this),function(){var r=function(e,t){return function(){return e.apply(t,arguments)}},i=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.child").factory("uiGmapWindowChildModel",["uiGmapBaseObject","uiGmapGmapUtil","uiGmapLogger","$compile","$http","$templateCache","uiGmapChromeFixes","uiGmapEventsHelper",function(o,a,s,l,u,c,d,p){var h;return h=function(o){function h(e){this.updateModel=r(this.updateModel,this),this.destroy=r(this.destroy,this),this.remove=r(this.remove,this),this.getLatestPosition=r(this.getLatestPosition,this),this.hideWindow=r(this.hideWindow,this),this.showWindow=r(this.showWindow,this),this.handleClick=r(this.handleClick,this),this.watchOptions=r(this.watchOptions,this),this.watchCoords=r(this.watchCoords,this),this.createGWin=r(this.createGWin,this),this.watchElement=r(this.watchElement,this),this.watchAndDoShow=r(this.watchAndDoShow,this),this.doShow=r(this.doShow,this);var t,i,o,a,l;this.model=null!=(i=e.model)?i:{},this.scope=e.scope,this.opts=e.opts,this.isIconVisibleOnClick=e.isIconVisibleOnClick,this.gMap=e.gMap,this.markerScope=e.markerScope,this.element=e.element,this.needToManualDestroy=null!=(o=e.needToManualDestroy)?o:!1,this.markerIsVisibleAfterWindowClose=null!=(a=e.markerIsVisibleAfterWindowClose)?a:!0,this.isScopeModel=null!=(l=e.isScopeModel)?l:!1,this.isScopeModel&&(this.clonedModel=n.clone(this.model,!0)),this.getGmarker=function(){var e,t;return null!=(null!=(e=this.markerScope)?e.getGMarker:void 0)&&null!=(t=this.markerScope)?t.getGMarker():void 0},this.listeners=[],this.createGWin(),t=this.getGmarker(),null!=t&&t.setClickable(!0),this.watchElement(),this.watchOptions(),this.watchCoords(),this.watchAndDoShow(),this.scope.$on("$destroy",function(e){return function(){return e.destroy()}}(this)),s.info(this)}return i(h,o),h.include(a),h.include(p),h.prototype.doShow=function(e){return this.scope.show===!0||e?this.showWindow():this.hideWindow()},h.prototype.watchAndDoShow=function(){return null!=this.model.show&&(this.scope.show=this.model.show),this.scope.$watch("show",this.doShow,!0),this.doShow()},h.prototype.watchElement=function(){return this.scope.$watch(function(e){return function(){var t,n;if(e.element||e.html)return e.html!==e.element.html()&&e.gObject?(null!=(t=e.opts)&&(t.content=void 0),n=e.gObject.isOpen(),e.remove(),e.createGWin(n)):void 0}}(this))},h.prototype.createGWin=function(t){var r,i,o,a,s;return null==t&&(t=!1),o=this.getGmarker(),i={},null!=this.opts&&(this.scope.coords&&(this.opts.position=this.getCoords(this.scope.coords)),i=this.opts),this.element&&(this.html=n.isObject(this.element)?this.element.html():this.element),r=this.scope.options?this.scope.options:i,this.opts=this.createWindowOptions(o,this.markerScope||this.scope,this.html,r),null!=this.opts?(this.gObject||(this.gObject=this.opts.boxClass&&e.InfoBox&&"function"==typeof e.InfoBox?new e.InfoBox(this.opts):new google.maps.InfoWindow(this.opts),this.listeners.push(google.maps.event.addListener(this.gObject,"domready",function(){return d.maybeRepaint(this.content)})),this.listeners.push(google.maps.event.addListener(this.gObject,"closeclick",function(e){return function(){return o&&(o.setAnimation(e.oldMarkerAnimation),e.markerIsVisibleAfterWindowClose&&n.delay(function(){return o.setVisible(!1),o.setVisible(e.markerIsVisibleAfterWindowClose)},250)),e.gObject.close(),e.model.show=!1,null!=e.scope.closeClick?e.scope.$evalAsync(e.scope.closeClick()):e.scope.$evalAsync()}}(this)))),this.gObject.setContent(this.opts.content),this.handleClick((null!=(a=this.scope)&&null!=(s=a.options)?s.forceClick:void 0)||t),this.doShow(this.gObject.isOpen())):void 0},h.prototype.watchCoords=function(){var e;return e=null!=this.markerScope?this.markerScope:this.scope,e.$watch("coords",function(e){return function(t,n){var r;if(t!==n){if(null==t)e.hideWindow();else if(!e.validateCoords(t))return void s.error("WindowChildMarker cannot render marker as scope.coords as no position on marker: "+JSON.stringify(e.model));if(r=e.getCoords(t),e.doShow(),e.gObject.setPosition(r),e.opts)return e.opts.position=r}}}(this),!0)},h.prototype.watchOptions=function(){return this.scope.$watch("options",function(e){return function(t,n){if(t!==n&&(e.opts=t,null!=e.gObject)){if(e.gObject.setOptions(e.opts),null!=e.opts.visible&&e.opts.visible)return e.showWindow();if(null!=e.opts.visible)return e.hideWindow()}}}(this),!0)},h.prototype.handleClick=function(e){var t,n;if(null!=this.gObject)return n=this.getGmarker(),t=function(e){return function(){return null==e.gObject&&e.createGWin(),e.showWindow(),null!=n?(e.initialMarkerVisibility=n.getVisible(),e.oldMarkerAnimation=n.getAnimation(),n.setVisible(e.isIconVisibleOnClick)):void 0}}(this),e&&t(),n?this.listeners=this.listeners.concat(this.setEvents(n,{events:{click:t}},this.model)):void 0},h.prototype.showWindow=function(){var e,n,r;if(null!=this.gObject)return r=null,n=function(e){return function(){var t,n,r;if(!e.gObject.isOpen()){if(n=e.getGmarker(),null!=e.gObject&&null!=e.gObject.getPosition&&(r=e.gObject.getPosition()),n&&(r=n.getPosition()),!r)return;if(e.gObject.open(e.gMap,n),t=e.gObject.isOpen(),e.model.show!==t)return e.model.show=t}}}(this),this.scope.templateUrl?u.get(this.scope.templateUrl,{cache:c}).then(function(e){return function(i){var o;return r=e.scope.$new(),t.isDefined(e.scope.templateParameter)&&(r.parameter=e.scope.templateParameter),o=l(i.data)(r),e.gObject.setContent(o[0]),n()}}(this)):this.scope.template?(r=this.scope.$new(),t.isDefined(this.scope.templateParameter)&&(r.parameter=this.scope.templateParameter),e=l(this.scope.template)(r),this.gObject.setContent(e[0]),n()):n(),this.scope.$on("destroy",function(){return r.$destroy()})},h.prototype.hideWindow=function(){return null!=this.gObject&&this.gObject.isOpen()?this.gObject.close():void 0},h.prototype.getLatestPosition=function(e){var t;return t=this.getGmarker(),null==this.gObject||null==t||e?e?this.gObject.setPosition(e):void 0:this.gObject.setPosition(t.getPosition())},h.prototype.remove=function(){return this.hideWindow(),this.removeEvents(this.listeners),this.listeners.length=0,delete this.gObject,delete this.opts},h.prototype.destroy=function(e){var t;return null==e&&(e=!1),this.remove(),null==this.scope||(null!=(t=this.scope)?t.$$destroyed:void 0)||!this.needToManualDestroy&&!e?void 0:this.scope.$destroy()},h.prototype.updateModel=function(e){return this.isScopeModel&&(this.clonedModel=n.clone(e,!0)),n.extend(this.model,this.clonedModel||e)},h}(o)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapBasePolysParentModel",["$timeout","uiGmapLogger","uiGmapModelKey","uiGmapModelsWatcher","uiGmapPropMap","uiGmap_async","uiGmapPromise","uiGmapFitHelper",function(i,o,a,s,l,u,c,d){return function(i,p,h){var f;return f=function(a){function f(t,r,a,s,u){this.element=r,this.attrs=a,this.gMap=s,this.defaults=u,this.maybeFit=e(this.maybeFit,this),this.createChild=e(this.createChild,this),this.pieceMeal=e(this.pieceMeal,this),this.createAllNew=e(this.createAllNew,this),this.watchIdKey=e(this.watchIdKey,this),this.createChildScopes=e(this.createChildScopes,this),this.watchDestroy=e(this.watchDestroy,this),this.onDestroy=e(this.onDestroy,this),this.rebuildAll=e(this.rebuildAll,this),this.doINeedToWipe=e(this.doINeedToWipe,this),this.watchModels=e(this.watchModels,this),f.__super__.constructor.call(this,t),this.interface=i,this.$log=o,this.plurals=new l,n.each(i.scopeKeys,function(e){return function(t){return e[t+"Key"]=void 0}}(this)),this.models=void 0,this.firstTime=!0,this.$log.info(this),this.createChildScopes()}return r(f,a),f.include(s),f.prototype.watchModels=function(e){return e.$watch("models",function(t){return function(n,r){return n!==r?t.doINeedToWipe(n)||e.doRebuildAll?t.rebuildAll(e,!0,!0):t.createChildScopes(!1):void 0}}(this),!0)},f.prototype.doINeedToWipe=function(e){var t;return t=null!=e?0===e.length:!0,this.plurals.length>0&&t},f.prototype.rebuildAll=function(e,t,n){return this.onDestroy(n).then(function(e){return function(){return t?e.createChildScopes():void 0}}(this))},f.prototype.onDestroy=function(){return f.__super__.onDestroy.call(this,this.scope),u.promiseLock(this,c.promiseTypes.delete,void 0,void 0,function(e){return function(){return u.each(e.plurals.values(),function(e){return e.destroy(!0)},u.chunkSizeFrom(e.scope.cleanchunk,!1)).then(function(){var t;return null!=(t=e.plurals)?t.removeAll():void 0})}}(this))},f.prototype.watchDestroy=function(e){return e.$on("$destroy",function(t){return function(){return t.rebuildAll(e,!1,!0)}}(this))},f.prototype.createChildScopes=function(e){return null==e&&(e=!0),t.isUndefined(this.scope.models)?void this.$log.error("No models to create "+h+"s from! I Need direct models!"):null!=this.gMap&&null!=this.scope.models?(this.watchIdKey(this.scope),e?this.createAllNew(this.scope,!1):this.pieceMeal(this.scope,!1)):void 0},f.prototype.watchIdKey=function(e){return this.setIdKey(e),e.$watch("idKey",function(t){return function(n,r){return n!==r&&null==n?(t.idKey=n,t.rebuildAll(e,!0,!0)):void 0}}(this))},f.prototype.createAllNew=function(e,t){var n;return null==t&&(t=!1),this.models=e.models,this.firstTime&&(this.watchModels(e),this.watchDestroy(e)),this.didQueueInitPromise(this,e)?void 0:(n=null,u.promiseLock(this,c.promiseTypes.create,"createAllNew",function(e){return n=e},function(t){return function(){return u.map(e.models,function(e){var r;return r=t.createChild(e,t.gMap),n&&(o.debug("createNew should fall through safely"),r.isEnabled=!1),r.pathPoints.getArray()},u.chunkSizeFrom(e.chunk)).then(function(e){return t.maybeFit(e),t.firstTime=!1})}}(this)))},f.prototype.pieceMeal=function(e,t){var r,i;return null==t&&(t=!0),e.$$destroyed?void 0:(r=null,i=null,this.models=e.models,null!=e&&this.modelsLength()&&this.plurals.length?u.promiseLock(this,c.promiseTypes.update,"pieceMeal",function(e){return r=e},function(t){return function(){return c.promise(function(){return t.figureOutState(t.idKey,e,t.plurals,t.modelKeyComparison)}).then(function(o){return i=o,i.updates.length&&u.each(i.updates,function(e){return n.extend(e.child.scope,e.model),e.child.model=e.model}),u.each(i.removals,function(e){return null!=e?(e.destroy(),t.plurals.remove(e.model[t.idKey]),r):void 0},u.chunkSizeFrom(e.chunk))}).then(function(){return u.each(i.adds,function(e){return r&&o.debug("pieceMeal should fall through safely"),t.createChild(e,t.gMap),r},u.chunkSizeFrom(e.chunk)).then(function(){return t.maybeFit()})})}}(this)):(this.inProgress=!1,this.rebuildAll(this.scope,!0,!0)))},f.prototype.createChild=function(e,t){var n,r;return r=this.scope.$new(!1),this.setChildScope(i.scopeKeys,r,e),r.$watch("model",function(e){return function(t,n){return t!==n?e.setChildScope(i.scopeKeys,r,t):void 0}}(this),!0),r.static=this.scope.static,n=new p({isScopeModel:!0,scope:r,attrs:this.attrs,gMap:t,defaults:this.defaults,model:e,gObjectChangeCb:function(e){return function(){return e.maybeFit()}}(this)}),null==e[this.idKey]?void this.$log.error(h+" model has no id to assign a child to.\nThis is required for performance. Please assign id,\nor redirect id to a different key."):(this.plurals.put(e[this.idKey],n),n)},f.prototype.maybeFit=function(e){return null==e&&(e=this.plurals.map(function(e){return e.pathPoints})),this.scope.fit?(e=n.flatten(e),d.fit(e,this.gMap)):void 0},f}(a)}}])}.call(this),function(){var e=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapCircleParentModel",["uiGmapLogger","$timeout","uiGmapGmapUtil","uiGmapEventsHelper","uiGmapCircleOptionsBuilder",function(r,i,o,a,s){var l,u;return u=function(e,t){return e.settingFromDirective=!0,t(),i(function(){return e.settingFromDirective=!1})},l=function(i){function s(e,i,a,s,l){var c,d,p;this.attrs=a,this.gMap=s,this.DEFAULTS=l,this.scope=e,p=null,c=function(e){return function(){return p=null,null!=e.listeners?(e.removeEvents(e.listeners),e.listeners=void 0):void 0}}(this),d=new google.maps.Circle(this.buildOpts(o.getCoords(e.center),e.radius)),this.setMyOptions=function(t){return function(r,i){return e.settingFromDirective?void 0:!n.isEqual(r,i)||r!==i||(null!=r&&null!=i?r.coordinates!==i.coordinates:0)?d.setOptions(t.buildOpts(o.getCoords(e.center),e.radius)):void 0}}(this),this.props=this.props.concat([{prop:"center",isColl:!0},{prop:"fill",isColl:!0},"radius","zIndex"]),this.watchProps(),null!=this.scope.control&&(this.scope.control.getCircle=function(){return d}),c(),this.listeners=this.setEvents(d,e,e,["radius_changed"])||[],this.listeners.push(google.maps.event.addListener(d,"radius_changed",function(){var r,i;return r=d.getRadius(),r!==p?(p=r,i=function(){return u(e,function(){var t,i;return r!==e.radius&&(e.radius=r),(null!=(t=e.events)?t.radius_changed:void 0)&&n.isFunction(null!=(i=e.events)?i.radius_changed:void 0)?e.events.radius_changed(d,"radius_changed",e,arguments):void 0})},t.mock?i():e.$evalAsync(function(){return i()})):void 0})),this.listeners.push(google.maps.event.addListener(d,"center_changed",function(){return e.$evalAsync(function(){return u(e,function(){return t.isDefined(e.center.type)?(e.center.coordinates[1]=d.getCenter().lat(),e.center.coordinates[0]=d.getCenter().lng()):(e.center.latitude=d.getCenter().lat(),e.center.longitude=d.getCenter().lng())})})})),e.$on("$destroy",function(){return c(),d.setMap(null)}),r.info(this)}return e(s,i),s.include(o),s.include(a),s}(s)}])}.call(this),function(){var e=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapDrawingManagerParentModel",["uiGmapLogger","$timeout","uiGmapBaseObject","uiGmapEventsHelper",function(t,r,i,o){var a;return a=function(t){function r(e,t,r,i){var o,a;this.scope=e,this.attrs=r,this.map=i,o=new google.maps.drawing.DrawingManager(this.scope.options),o.setMap(this.map),a=void 0,null!=this.scope.control&&(this.scope.control.getDrawingManager=function(){return o}),!this.scope.static&&this.scope.options&&this.scope.$watch("options",function(e){return null!=o?o.setOptions(e):void 0},!0),null!=this.scope.events&&(a=this.setEvents(o,this.scope,this.scope),this.scope.$watch("events",function(e){return function(t,r){return n.isEqual(t,r)?void 0:(null!=a&&e.removeEvents(a),a=e.setEvents(o,e.scope,e.scope))}}(this))),this.scope.$on("$destroy",function(e){return function(){return null!=a&&e.removeEvents(a),o.setMap(null),o=null}}(this))}return e(r,t),r.include(o),r}(i)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapIMarkerParentModel",["uiGmapModelKey","uiGmapLogger",function(i,o){var a;return a=function(i){function a(n,r,i,s){if(this.scope=n,this.element=r,this.attrs=i,this.map=s,this.onWatch=e(this.onWatch,this),this.watch=e(this.watch,this),this.validateScope=e(this.validateScope,this),a.__super__.constructor.call(this,this.scope),this.$log=o,!this.validateScope(this.scope))throw new String("Unable to construct IMarkerParentModel due to invalid scope");this.doClick=t.isDefined(this.attrs.click),null!=this.scope.options&&(this.DEFAULTS=this.scope.options),this.watch("coords",this.scope),this.watch("icon",this.scope),this.watch("options",this.scope),this.scope.$on("$destroy",function(e){return function(){return e.onDestroy(e.scope)}}(this))}return r(a,i),a.prototype.DEFAULTS={},a.prototype.validateScope=function(e){var t;return null==e?(this.$log.error(this.constructor.name+": invalid scope used"),!1):(t=null!=e.coords,t?t:(this.$log.error(this.constructor.name+": no valid coords attribute found"),!1))},a.prototype.watch=function(e,t,r){return null==r&&(r=!0),t.$watch(e,function(r){return function(i,o){return n.isEqual(i,o)?void 0:r.onWatch(e,t,i,o)}}(this),r)},a.prototype.onWatch=function(){},a}(i)}])}.call(this),function(){var e=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapIWindowParentModel",["uiGmapModelKey","uiGmapGmapUtil","uiGmapLogger",function(t,n,r){var i;return i=function(t){function i(e,t,n,o,a,s,l,u){i.__super__.constructor.call(this,e),this.$log=r,this.$timeout=a,this.$compile=s,this.$http=l,this.$templateCache=u,this.DEFAULTS={},null!=e.options&&(this.DEFAULTS=e.options)}return e(i,t),i.include(n),i.prototype.getItem=function(e,t,n){return"models"===t?e[t][n]:e[t].get(n)},i}(t)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapLayerParentModel",["uiGmapBaseObject","uiGmapLogger","$timeout",function(r,i){var o;return o=function(r){function o(n,r,o,a,s,l){return this.scope=n,this.element=r,this.attrs=o,this.gMap=a,this.onLayerCreated=null!=s?s:void 0,this.$log=null!=l?l:i,this.createGoogleLayer=e(this.createGoogleLayer,this),null==this.attrs.type?void this.$log.info("type attribute for the layer directive is mandatory. Layer creation aborted!!"):(this.createGoogleLayer(),this.doShow=!0,t.isDefined(this.attrs.show)&&(this.doShow=this.scope.show),this.doShow&&null!=this.gMap&&this.gObject.setMap(this.gMap),this.scope.$watch("show",function(e){return function(t,n){return t!==n?(e.doShow=t,e.gObject.setMap(t?e.gMap:null)):void 0}}(this),!0),this.scope.$watch("options",function(e){return function(t,n){return t!==n&&e.doShow?e.gObject.setOptions(t):void 0}}(this),!0),void this.scope.$on("$destroy",function(e){return function(){return e.gObject.setMap(null)}}(this)))}return n(o,r),o.prototype.createGoogleLayer=function(){var e;return this.gObject=null==this.attrs.options?void 0===this.attrs.namespace?new google.maps[this.attrs.type]:new google.maps[this.attrs.namespace][this.attrs.type]:void 0===this.attrs.namespace?new google.maps[this.attrs.type](this.scope.options):new google.maps[this.attrs.namespace][this.attrs.type](this.scope.options),null!=this.gObject&&this.doShow&&this.gObject.setMap(this.gMap),null!=this.gObject&&null!=this.onLayerCreated&&"function"==typeof(e=this.onLayerCreated(this.scope,this.gObject))?e(this.gObject):void 0},o}(r)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapMapTypeParentModel",["uiGmapBaseObject","uiGmapLogger",function(i,o){var a;return a=function(i){function a(r,i,a,s,l){return this.scope=r,this.element=i,this.attrs=a,this.gMap=s,this.$log=null!=l?l:o,this.hideOverlay=e(this.hideOverlay,this),this.showOverlay=e(this.showOverlay,this),this.refreshMapType=e(this.refreshMapType,this),this.createMapType=e(this.createMapType,this),null==this.attrs.options?void this.$log.info("options attribute for the map-type directive is mandatory. Map type creation aborted!!"):(this.id=this.gMap.overlayMapTypesCount=this.gMap.overlayMapTypesCount+1||0,this.doShow=!0,this.createMapType(),t.isDefined(this.attrs.show)&&(this.doShow=this.scope.show),this.doShow&&null!=this.gMap&&this.showOverlay(),this.scope.$watch("show",function(e){return function(t,n){return t!==n?(e.doShow=t,t?e.showOverlay():e.hideOverlay()):void 0}}(this),!0),this.scope.$watchCollection("options",function(e){return function(t,r){var i,o;return!n.isEqual(t,r)&&(o=["tileSize","maxZoom","minZoom","name","alt"],i=n.some(o,function(e){return!r||!t||!n.isEqual(t[e],r[e])}))?e.refreshMapType():void 0}}(this)),t.isDefined(this.attrs.refresh)&&this.scope.$watch("refresh",function(e){return function(t,r){return n.isEqual(t,r)?void 0:e.refreshMapType()}}(this),!0),void this.scope.$on("$destroy",function(e){return function(){return e.hideOverlay(),e.mapType=null
}}(this)))}return r(a,i),a.prototype.createMapType=function(){if(null!=this.scope.options.getTile)this.mapType=this.scope.options;else{if(null==this.scope.options.getTileUrl)return void this.$log.info("options should provide either getTile or getTileUrl methods. Map type creation aborted!!");this.mapType=new google.maps.ImageMapType(this.scope.options)}return this.attrs.id&&this.scope.id&&(this.gMap.mapTypes.set(this.scope.id,this.mapType),t.isDefined(this.attrs.show)||(this.doShow=!1)),this.mapType.layerId=this.id},a.prototype.refreshMapType=function(){return this.hideOverlay(),this.mapType=null,this.createMapType(),this.doShow&&null!=this.gMap?this.showOverlay():void 0},a.prototype.showOverlay=function(){return this.gMap.overlayMapTypes.push(this.mapType)},a.prototype.hideOverlay=function(){var e;return e=!1,this.gMap.overlayMapTypes.forEach(function(t){return function(n,r){e||n.layerId!==t.id||(e=!0,t.gMap.overlayMapTypes.removeAt(r))}}(this))},a}(i)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapMarkersParentModel",["uiGmapIMarkerParentModel","uiGmapModelsWatcher","uiGmapPropMap","uiGmapMarkerChildModel","uiGmap_async","uiGmapClustererMarkerManager","uiGmapMarkerManager","$timeout","uiGmapIMarker","uiGmapPromise","uiGmapGmapUtil","uiGmapLogger","uiGmapSpiderfierMarkerManager",function(i,o,a,s,l,u,c,d,p,h,f,g,m){var v,y;return y=function(e,t){return t.plurals=new a,t.scope.plurals=t.plurals,t},v=function(i){function d(t,r,i,o){this.maybeExecMappedEvent=e(this.maybeExecMappedEvent,this),this.onDestroy=e(this.onDestroy,this),this.newChildMarker=e(this.newChildMarker,this),this.pieceMeal=e(this.pieceMeal,this),this.rebuildAll=e(this.rebuildAll,this),this.createAllNew=e(this.createAllNew,this),this.bindToTypeEvents=e(this.bindToTypeEvents,this),this.createChildScopes=e(this.createChildScopes,this),this.validateScope=e(this.validateScope,this),this.onWatch=e(this.onWatch,this),d.__super__.constructor.call(this,t,r,i,o),this.interface=p,y(new a,this),this.scope.pluralsUpdate={updateCtr:0},this.$log.info(this),this.doRebuildAll=null!=this.scope.doRebuildAll?this.scope.doRebuildAll:!1,this.setIdKey(this.scope),this.scope.$watch("doRebuildAll",function(e){return function(t,n){return t!==n?e.doRebuildAll=t:void 0}}(this)),this.modelsLength()||(this.modelsRendered=!1),this.scope.$watch("models",function(e){return function(t,r){if(!n.isEqual(t,r)||!e.modelsRendered){if(0===t.length&&0===r.length)return;return e.modelsRendered=!0,e.onWatch("models",e.scope,t,r)}}}(this),!this.isTrue(i.modelsbyref)),this.watch("doCluster",this.scope),this.watch("type",this.scope),this.watch("clusterOptions",this.scope),this.watch("clusterEvents",this.scope),this.watch("typeOptions",this.scope),this.watch("typeEvents",this.scope),this.watch("fit",this.scope),this.watch("idKey",this.scope),this.gManager=void 0,this.createAllNew(this.scope)}return r(d,i),d.include(f),d.include(o),d.prototype.onWatch=function(e,t,n,r){return"idKey"===e&&n!==r&&(this.idKey=n),this.doRebuildAll||"doCluster"===e||"type"===e?this.rebuildAll(t):this.pieceMeal(t)},d.prototype.validateScope=function(e){var n;return n=t.isUndefined(e.models)||void 0===e.models,n&&this.$log.error(this.constructor.name+": no valid models attribute found"),d.__super__.validateScope.call(this,e)||n},d.prototype.createChildScopes=function(e){return null!=this.gMap&&null!=this.scope.models?e?this.createAllNew(this.scope,!1):this.pieceMeal(this.scope,!1):void 0},d.prototype.bindToTypeEvents=function(e,r){var i,o;return null==r&&(r=["click","mouseout","mouseover"]),o=this,this.origTypeEvents?t.extend(e,this.origTypeEvents):(this.origTypeEvents={},n.each(r,function(t){return function(n){return t.origTypeEvents[n]=null!=e?e[n]:void 0}}(this))),i={},n.each(r,function(e){return i[e]=function(t){return o.maybeExecMappedEvent(t,e)}}),t.extend(e,i)},d.prototype.createAllNew=function(e){var t,n,r,i;return null!=this.gManager&&(this.gManager instanceof m&&(t=this.gManager.isSpiderfied()),this.gManager.clear(),delete this.gManager),r=e.typeEvents||e.clusterEvents,i=e.typeOptions||e.clusterOptions,e.doCluster||"cluster"===e.type?(null!=r&&this.bindToTypeEvents(r),this.gManager=new u(this.map,void 0,i,r)):"spider"===e.type?(null!=r&&this.bindToTypeEvents(r,["spiderfy","unspiderfy"]),this.gManager=new m(this.map,void 0,i,r,this.scope),t&&this.gManager.spiderfy()):this.gManager=new c(this.map),this.didQueueInitPromise(this,e)?void 0:(n=null,l.promiseLock(this,h.promiseTypes.create,"createAllNew",function(e){return n=e},function(t){return function(){return l.each(e.models,function(r){return t.newChildMarker(r,e),n},l.chunkSizeFrom(e.chunk)).then(function(){return t.modelsRendered=!0,e.fit&&t.gManager.fit(),t.gManager.draw(),t.scope.pluralsUpdate.updateCtr+=1},l.chunkSizeFrom(e.chunk))}}(this)))},d.prototype.rebuildAll=function(e){var t;if(e.doRebuild||void 0===e.doRebuild)return(null!=(t=this.scope.plurals)?t.length:void 0)?this.onDestroy(e).then(function(t){return function(){return t.createAllNew(e)}}(this)):this.createAllNew(e)},d.prototype.pieceMeal=function(e){var t,n;if(!e.$$destroyed)return t=null,n=null,this.modelsLength()&&this.scope.plurals.length?l.promiseLock(this,h.promiseTypes.update,"pieceMeal",function(e){return t=e},function(r){return function(){return h.promise(function(){return r.figureOutState(r.idKey,e,r.scope.plurals,r.modelKeyComparison)}).then(function(i){return n=i,l.each(n.removals,function(e){return null!=e?(null!=e.destroy&&e.destroy(),r.scope.plurals.remove(e.id),t):void 0},l.chunkSizeFrom(e.chunk))}).then(function(){return l.each(n.adds,function(n){return r.newChildMarker(n,e),t},l.chunkSizeFrom(e.chunk))}).then(function(){return l.each(n.updates,function(e){return r.updateChild(e.child,e.model),t},l.chunkSizeFrom(e.chunk))}).then(function(){return(n.adds.length>0||n.removals.length>0||n.updates.length>0)&&(e.plurals=r.scope.plurals,e.fit&&r.gManager.fit(),r.gManager.draw()),r.scope.pluralsUpdate.updateCtr+=1})}}(this)):(this.inProgress=!1,this.rebuildAll(e))},d.prototype.newChildMarker=function(e,t){var n,r,i;if(!e)throw"model undefined";return null==e[this.idKey]?void this.$log.error("Marker model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key."):(this.$log.info("child",n,"markers",this.scope.markerModels),r=t.$new(!1),r.events=t.events,i={},p.scopeKeys.forEach(function(e){return i[e]=t[e]}),n=new s({scope:r,model:e,keys:i,gMap:this.map,defaults:this.DEFAULTS,doClick:this.doClick,gManager:this.gManager,doDrawSelf:!1,isScopeModel:!0}),this.scope.plurals.put(e[this.idKey],n),n)},d.prototype.onDestroy=function(e){return d.__super__.onDestroy.call(this,e),l.promiseLock(this,h.promiseTypes.delete,void 0,void 0,function(e){return function(){return l.each(e.scope.plurals.values(),function(e){return null!=e?e.destroy(!1):void 0},l.chunkSizeFrom(e.scope.cleanchunk,!1)).then(function(){return null!=e.gManager&&e.gManager.destroy(),e.plurals.removeAll(),e.plurals!==e.scope.plurals,e.scope.pluralsUpdate.updateCtr+=1})}}(this))},d.prototype.maybeExecMappedEvent=function(e,t){var r,i;if(!this.scope.$$destroyed)return i=this.scope.typeEvents||this.scope.clusterEvents,n.isFunction(null!=i?i[t]:void 0)&&(r=this.mapTypeToPlurals(e),this.origTypeEvents[t])?this.origTypeEvents[t](r.group,r.mapped):void 0},d.prototype.mapTypeToPlurals=function(e){var t,r,i;return n.isArray(e)?t=e:n.isFunction(e.getMarkers)&&(t=e.getMarkers()),null==t?void g.error("Unable to map event as we cannot find the array group to map"):(r=(null!=(i=this.scope.plurals.values())?i.length:void 0)?t.map(function(e){return function(t){return e.scope.plurals.get(t.key).model}}(this)):[],{cluster:e,mapped:r,group:e})},d.prototype.getItem=function(e,t,n){return"models"===t?e[t][n]:e[t].get(n)},d}(i)}])}.call(this),function(){["Polygon","Polyline"].forEach(function(e){return t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmap"+e+"sParentModel",["uiGmapBasePolysParentModel","uiGmap"+e+"ChildModel","uiGmapI"+e,function(t,n,r){return t(r,n,e)}])})}.call(this),function(){var e=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapRectangleParentModel",["uiGmapLogger","uiGmapGmapUtil","uiGmapEventsHelper","uiGmapRectangleOptionsBuilder",function(t,r,i,o){var a;return a=function(o){function a(e,r,i,o,a){var s,l,u,c,d,p,h,f,g,m,v;this.scope=e,this.attrs=i,this.gMap=o,this.DEFAULTS=a,s=void 0,c=!1,g=[],f=void 0,d=function(e){return function(){return e.isTrue(e.attrs.fit)?e.fitMapBounds(e.gMap,s):void 0}}(this),u=function(e){return function(){var n,r,i;return null!=e.scope.bounds&&null!=(null!=(n=e.scope.bounds)?n.sw:void 0)&&null!=(null!=(r=e.scope.bounds)?r.ne:void 0)&&e.validateBoundPoints(e.scope.bounds)?(s=e.convertBoundPoints(e.scope.bounds),t.info("new new bounds created: "+JSON.stringify(s))):null!=e.scope.bounds.getNorthEast&&null!=e.scope.bounds.getSouthWest?s=e.scope.bounds:null!=e.scope.bounds?t.error("Invalid bounds for newValue: "+JSON.stringify(null!=(i=e.scope)?i.bounds:void 0)):void 0}}(this),u(),p=new google.maps.Rectangle(this.buildOpts(s)),t.info("gObject (rectangle) created: "+p),m=!1,v=function(e){return function(){var t,n,r;return t=p.getBounds(),n=t.getNorthEast(),r=t.getSouthWest(),m?void 0:e.scope.$evalAsync(function(e){return null!=e.bounds&&null!=e.bounds.sw&&null!=e.bounds.ne&&(e.bounds.ne={latitude:n.lat(),longitude:n.lng()},e.bounds.sw={latitude:r.lat(),longitude:r.lng()}),null!=e.bounds.getNorthEast&&null!=e.bounds.getSouthWest?e.bounds=t:void 0})}}(this),h=function(e){return function(){return d(),e.removeEvents(g),g.push(google.maps.event.addListener(p,"dragstart",function(){return c=!0})),g.push(google.maps.event.addListener(p,"dragend",function(){return c=!1,v()})),g.push(google.maps.event.addListener(p,"bounds_changed",function(){return c?void 0:v()}))}}(this),l=function(e){return function(){return e.removeEvents(g),null!=f&&e.removeEvents(f),p.setMap(null)}}(this),null!=s&&h(),this.scope.$watch("bounds",function(e,t){var r;if(!(n.isEqual(e,t)&&null!=s||c))return m=!0,null==e?void l():(null==s?r=!0:d(),u(),p.setBounds(s),m=!1,r&&null!=s?h():void 0)},!0),this.setMyOptions=function(e){return function(t,r){return n.isEqual(t,r)||null==s||null==t?void 0:p.setOptions(e.buildOpts(s))}}(this),this.props.push("bounds"),this.watchProps(this.props),null!=this.attrs.events&&(f=this.setEvents(p,this.scope,this.scope),this.scope.$watch("events",function(e){return function(t,r){return n.isEqual(t,r)?void 0:(null!=f&&e.removeEvents(f),f=e.setEvents(p,e.scope,e.scope))}}(this))),this.scope.$on("$destroy",function(){return l()}),t.info(this)}return e(a,o),a.include(r),a.include(i),a}(o)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapSearchBoxParentModel",["uiGmapBaseObject","uiGmapLogger","uiGmapEventsHelper",function(r,i,o){var a;return a=function(r){function a(n,r,o,a,s,l,u){var c;return this.scope=n,this.element=r,this.attrs=o,this.gMap=a,this.ctrlPosition=s,this.template=l,this.$log=null!=u?u:i,this.setVisibility=e(this.setVisibility,this),this.getBounds=e(this.getBounds,this),this.setBounds=e(this.setBounds,this),this.createSearchBox=e(this.createSearchBox,this),this.addToParentDiv=e(this.addToParentDiv,this),this.addAsMapControl=e(this.addAsMapControl,this),this.init=e(this.init,this),null==this.attrs.template?void this.$log.error("template attribute for the search-box directive is mandatory. Places Search Box creation aborted!!"):(t.isUndefined(this.scope.options)&&(this.scope.options={},this.scope.options.visible=!0),t.isUndefined(this.scope.options.visible)&&(this.scope.options.visible=!0),t.isUndefined(this.scope.options.autocomplete)&&(this.scope.options.autocomplete=!1),this.visible=this.scope.options.visible,this.autocomplete=this.scope.options.autocomplete,c=t.element("<div></div>"),c.append(this.template),this.input=c.find("input")[0],void this.init())}return n(a,r),a.include(o),a.prototype.init=function(){return this.createSearchBox(),this.scope.$watch("options",function(e){return function(n){return t.isObject(n)&&(null!=n.bounds&&e.setBounds(n.bounds),null!=n.visible&&e.visible!==n.visible)?e.setVisibility(n.visible):void 0}}(this),!0),null!=this.attrs.parentdiv?this.addToParentDiv():this.addAsMapControl(),this.visible||this.setVisibility(this.visible),this.listener=this.autocomplete?google.maps.event.addListener(this.gObject,"place_changed",function(e){return function(){return e.places=e.gObject.getPlace()}}(this)):google.maps.event.addListener(this.gObject,"places_changed",function(e){return function(){return e.places=e.gObject.getPlaces()}}(this)),this.listeners=this.setEvents(this.gObject,this.scope,this.scope),this.$log.info(this),this.scope.$on("$stateChangeSuccess",function(e){return function(){return null!=e.attrs.parentdiv?e.addToParentDiv():void 0}}(this)),this.scope.$on("$destroy",function(e){return function(){return e.gObject=null}}(this))},a.prototype.addAsMapControl=function(){return this.gMap.controls[google.maps.ControlPosition[this.ctrlPosition]].push(this.input)},a.prototype.addToParentDiv=function(){var e;return this.parentDiv=t.element(document.getElementById(this.scope.parentdiv)),(null!=(e=this.parentDiv)?e.length:void 0)?this.parentDiv.append(this.input):void 0},a.prototype.createSearchBox=function(){return this.gObject=this.autocomplete?new google.maps.places.Autocomplete(this.input,this.scope.options):new google.maps.places.SearchBox(this.input,this.scope.options)},a.prototype.setBounds=function(e){if(t.isUndefined(e.isEmpty))this.$log.error("Error: SearchBoxParentModel setBounds. Bounds not an instance of LatLngBounds.");else if(e.isEmpty()===!1&&null!=this.gObject)return this.gObject.setBounds(e)},a.prototype.getBounds=function(){return this.gObject.getBounds()},a.prototype.setVisibility=function(e){return null!=this.attrs.parentdiv?e===!1?this.parentDiv.addClass("ng-hide"):this.parentDiv.removeClass("ng-hide"):e===!1?this.gMap.controls[google.maps.ControlPosition[this.ctrlPosition]].clear():this.gMap.controls[google.maps.ControlPosition[this.ctrlPosition]].push(this.input),this.visible=e},a}(r)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapWindowsParentModel",["uiGmapIWindowParentModel","uiGmapModelsWatcher","uiGmapPropMap","uiGmapWindowChildModel","uiGmapLinked","uiGmap_async","uiGmapLogger","$timeout","$compile","$http","$templateCache","$interpolate","uiGmapPromise","uiGmapIWindow","uiGmapGmapUtil",function(i,o,a,s,l,u,c,d,p,h,f,g,m,v,y){var b;return b=function(i){function b(t,r,i,o,s,u){this.gMap=s,this.markersScope=u,this.modelKeyComparison=e(this.modelKeyComparison,this),this.interpolateContent=e(this.interpolateContent,this),this.setChildScope=e(this.setChildScope,this),this.createWindow=e(this.createWindow,this),this.setContentKeys=e(this.setContentKeys,this),this.pieceMeal=e(this.pieceMeal,this),this.createAllNew=e(this.createAllNew,this),this.watchIdKey=e(this.watchIdKey,this),this.createChildScopes=e(this.createChildScopes,this),this.watchOurScope=e(this.watchOurScope,this),this.watchDestroy=e(this.watchDestroy,this),this.onDestroy=e(this.onDestroy,this),this.rebuildAll=e(this.rebuildAll,this),this.doINeedToWipe=e(this.doINeedToWipe,this),this.watchModels=e(this.watchModels,this),this.go=e(this.go,this),b.__super__.constructor.call(this,t,r,i,o,d,p,h,f),this.interface=v,this.plurals=new a,n.each(v.scopeKeys,function(e){return function(t){return e[t+"Key"]=void 0}}(this)),this.linked=new l(t,r,i,o),this.contentKeys=void 0,this.isIconVisibleOnClick=void 0,this.firstTime=!0,this.firstWatchModels=!0,this.$log.info(self),this.parentScope=void 0,this.go(t)}return r(b,i),b.include(o),b.prototype.go=function(e){return this.watchOurScope(e),this.doRebuildAll=null!=this.scope.doRebuildAll?this.scope.doRebuildAll:!1,e.$watch("doRebuildAll",function(e){return function(t,n){return t!==n?e.doRebuildAll=t:void 0}}(this)),this.createChildScopes()},b.prototype.watchModels=function(e){var t;return t=null!=this.markersScope?"pluralsUpdate":"models",e.$watch(t,function(t){return function(r,i){var o;return!n.isEqual(r,i)||t.firstWatchModels?(t.firstWatchModels=!1,t.doRebuildAll||t.doINeedToWipe(e.models)?t.rebuildAll(e,!0,!0):(o=0===t.plurals.length,null!=t.existingPieces?n.last(t.existingPieces._content).then(function(){return t.createChildScopes(o)}):t.createChildScopes(o))):void 0}}(this),!0)},b.prototype.doINeedToWipe=function(e){var t;return t=null!=e?0===e.length:!0,this.plurals.length>0&&t},b.prototype.rebuildAll=function(e,t,n){return this.onDestroy(n).then(function(e){return function(){return t?e.createChildScopes():void 0}}(this))},b.prototype.onDestroy=function(){return b.__super__.onDestroy.call(this,this.scope),u.promiseLock(this,m.promiseTypes.delete,void 0,void 0,function(e){return function(){return u.each(e.plurals.values(),function(e){return e.destroy(!0)},u.chunkSizeFrom(e.scope.cleanchunk,!1)).then(function(){var t;return null!=(t=e.plurals)?t.removeAll():void 0})}}(this))},b.prototype.watchDestroy=function(e){return e.$on("$destroy",function(t){return function(){return t.firstWatchModels=!0,t.firstTime=!0,t.rebuildAll(e,!1,!0)}}(this))},b.prototype.watchOurScope=function(e){return n.each(v.scopeKeys,function(t){return function(n){var r;return r=n+"Key",t[r]="function"==typeof e[n]?e[n]():e[n]}}(this))},b.prototype.createChildScopes=function(e){var n,r,i;return null==e&&(e=!0),this.isIconVisibleOnClick=!0,t.isDefined(this.linked.attrs.isiconvisibleonclick)&&(this.isIconVisibleOnClick=this.linked.scope.isIconVisibleOnClick),n=t.isUndefined(this.linked.scope.models),!n||void 0!==this.markersScope&&void 0!==(null!=(r=this.markersScope)?r.plurals:void 0)&&void 0!==(null!=(i=this.markersScope)?i.models:void 0)?null!=this.gMap?null!=this.linked.scope.models?(this.watchIdKey(this.linked.scope),e?this.createAllNew(this.linked.scope,!1):this.pieceMeal(this.linked.scope,!1)):(this.parentScope=this.markersScope,this.watchIdKey(this.parentScope),e?this.createAllNew(this.markersScope,!0,"plurals",!1):this.pieceMeal(this.markersScope,!0,"plurals",!1)):void 0:void this.$log.error("No models to create windows from! Need direct models or models derived from markers!")},b.prototype.watchIdKey=function(e){return this.setIdKey(e),e.$watch("idKey",function(t){return function(n,r){return n!==r&&null==n?(t.idKey=n,t.rebuildAll(e,!0,!0)):void 0}}(this))},b.prototype.createAllNew=function(e,t,n,r){var i;return null==n&&(n="models"),null==r&&(r=!1),this.firstTime&&(this.watchModels(e),this.watchDestroy(e)),this.setContentKeys(e.models),this.didQueueInitPromise(this,e)?void 0:(i=null,u.promiseLock(this,m.promiseTypes.create,"createAllNew",function(e){return i=e},function(r){return function(){return u.each(e.models,function(o){var a,s;return a=t&&null!=(s=r.getItem(e,n,o[r.idKey]))?s.gObject:void 0,i||(!a&&r.markersScope&&c.error("Unable to get gMarker from markersScope!"),r.createWindow(o,a,r.gMap)),i},u.chunkSizeFrom(e.chunk)).then(function(){return r.firstTime=!1})}}(this)))},b.prototype.pieceMeal=function(e,t,n,r){var i,o;return null==n&&(n="models"),null==r&&(r=!0),e.$$destroyed?void 0:(i=null,o=null,null!=e&&this.modelsLength()&&this.plurals.length?u.promiseLock(this,m.promiseTypes.update,"pieceMeal",function(e){return i=e},function(t){return function(){return m.promise(function(){return t.figureOutState(t.idKey,e,t.plurals,t.modelKeyComparison)}).then(function(n){return o=n,u.each(o.removals,function(e){return null!=e?(t.plurals.remove(e.id),null!=e.destroy&&e.destroy(!0),i):void 0},u.chunkSizeFrom(e.chunk))}).then(function(){return u.each(o.adds,function(r){var o,a;if(o=null!=(a=t.getItem(e,n,r[t.idKey]))?a.gObject:void 0,!o)throw"Gmarker undefined";return t.createWindow(r,o,t.gMap),i})}).then(function(){return u.each(o.updates,function(e){return t.updateChild(e.child,e.model),i},u.chunkSizeFrom(e.chunk))})}}(this)):(c.debug("pieceMeal: rebuildAll"),this.rebuildAll(this.scope,!0,!0)))},b.prototype.setContentKeys=function(e){return this.modelsLength(e)?this.contentKeys=Object.keys(e[0]):void 0},b.prototype.createWindow=function(e,t,n){var r,i,o,a,l,u;return i=this.linked.scope.$new(!1),this.setChildScope(i,e),i.$watch("model",function(e){return function(t,n){return t!==n?e.setChildScope(i,t):void 0}}(this),!0),o={html:function(t){return function(){return t.interpolateContent(t.linked.element.html(),e)}}(this)},this.DEFAULTS=this.scopeOrModelVal(this.optionsKey,this.scope,e)||{},a=this.createWindowOptions(t,i,o.html(),this.DEFAULTS),r=new s({model:e,scope:i,opts:a,isIconVisibleOnClick:this.isIconVisibleOnClick,gMap:n,markerScope:null!=(l=this.markersScope)&&null!=(u=l.plurals.get(e[this.idKey]))?u.scope:void 0,element:o,needToManualDestroy:!1,markerIsVisibleAfterWindowClose:!0,isScopeModel:!0}),null==e[this.idKey]?void this.$log.error("Window model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key."):(this.plurals.put(e[this.idKey],r),r)},b.prototype.setChildScope=function(e,t){return n.each(v.scopeKeys,function(n){return function(r){var i,o;return i=r+"Key",o="self"===n[i]?t:t[n[i]],o!==e[r]?e[r]=o:void 0}}(this)),e.model=t},b.prototype.interpolateContent=function(e,t){var n,r,i,o,a,s;if(void 0!==this.contentKeys&&0!==this.contentKeys.length){for(n=g(e),i={},s=this.contentKeys,r=0,a=s.length;a>r;r++)o=s[r],i[o]=t[o];return n(i)}},b.prototype.modelKeyComparison=function(e,t){var r,i;if(i=null!=this.scope.coords?this.scope:this.parentScope,null==i)throw"No scope or parentScope set!";return(r=y.equalCoords(this.evalModelHandle(e,i.coords),this.evalModelHandle(t,i.coords)))?r=n.every(n.without(this.interface.scopeKeys,"coords"),function(n){return function(r){return n.evalModelHandle(e,i[r])===n.evalModelHandle(t,i[r])}}(this)):r},b}(i)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapCircle",["uiGmapICircle","uiGmapCircleParentModel",function(e,t){return n.extend(e,{link:function(e,n,r,i){return i.getScope().deferred.promise.then(function(i){return new t(e,n,r,i)})}})}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapControl",["uiGmapIControl","$http","$templateCache","$compile","$controller","uiGmapGoogleMapApi",function(r,i,o,a,s,l){var u;return u=function(u){function c(){this.link=e(this.link,this),c.__super__.constructor.call(this)}return n(c,u),c.prototype.transclude=!0,c.prototype.link=function(e,n,u,c,d){return l.then(function(n){return function(l){var u,p,h,f;return f=d(),u=d().length>0,!u&&t.isUndefined(e.template)?void n.$log.error("mapControl: could not find a valid template property or elements for transclusion"):(p=t.isDefined(e.index&&!isNaN(parseInt(e.index)))?parseInt(e.index):void 0,h=t.isDefined(e.position)?e.position.toUpperCase().replace(/-/g,"_"):"TOP_CENTER",l.ControlPosition[h]?r.mapPromise(e,c).then(function(r){var l,c,f;return l=void 0,c=t.element("<div></div>"),f=function(e,t,n){return n&&(t[0].index=n),e.controls[google.maps.ControlPosition[h]].push(t[0])},u?d(function(e){return c.append(e),f(r,c,p)}):i.get(e.template,{cache:o}).success(function(n){var r,i;return i=e.$new(),c.append(n),t.isDefined(e.controller)&&(r=s(e.controller,{$scope:i}),c.children().data("$ngControllerController",r)),l=a(c.children())(i)}).error(function(){return n.$log.error("mapControl: template could not be found")}).then(function(){return f(r,l,p)})}):void n.$log.error("mapControl: invalid position property"))}}(this))},c}(r)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapDragZoom",["uiGmapCtrlHandle","uiGmapPropertyAction",function(e,t){return{restrict:"EMA",transclude:!0,template:'<div class="angular-google-map-dragzoom" ng-transclude style="display: none"></div>',require:"^uiGmapGoogleMap",scope:{keyboardkey:"=",options:"=",spec:"="},controller:["$scope","$element",function(t,r){return t.ctrlType="uiGmapDragZoom",n.extend(this,e.handle(t,r))}],link:function(n,r,i,o){return e.mapPromise(n,o).then(function(e){var r,i,o;return r=function(t){return e.enableKeyDragZoom(t)},i=new t(function(e,t){return t?r({key:t}):r()}),o=new t(function(e,t){return t?r(t):void 0}),n.$watch("keyboardkey",i.sic("keyboardkey")),i.sic(n.keyboardkey),n.$watch("options",o.sic("options")),o.sic(n.options)})}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapDrawingManager",["uiGmapIDrawingManager","uiGmapDrawingManagerParentModel",function(e,t){return n.extend(e,{link:function(e,n,r,i){return i.getScope().deferred.promise.then(function(i){return new t(e,n,r,i)})}})}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapApiFreeDrawPolygons",["uiGmapLogger","uiGmapBaseObject","uiGmapCtrlHandle","uiGmapDrawFreeHandChildModel","uiGmapLodash",function(t,i,o,a,s){var l;return l=function(i){function l(){return this.link=e(this.link,this),l.__super__.constructor.apply(this,arguments)}return r(l,i),l.include(o),l.prototype.restrict="EMA",l.prototype.replace=!0,l.prototype.require="^uiGmapGoogleMap",l.prototype.scope={polygons:"=",draw:"="},l.prototype.link=function(e,r,i,o){return this.mapPromise(e,o).then(function(){return function(r){var i,l;return e.polygons?n.isArray(e.polygons)?(i=new a(r,o.getScope()),l=void 0,e.draw=function(){return"function"==typeof l&&l(),i.engage(e.polygons).then(function(){var t;return t=!0,l=e.$watchCollection("polygons",function(e,n){var r;return t||e===n?void(t=!1):(r=s.differenceObjects(n,e),r.forEach(function(e){return e.setMap(null)}))})})}):t.error("Free Draw Polygons must be of type Array!"):t.error("No polygons to bind to!")}}(this))},l}(i)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapICircle",[function(){var e;return e={},{restrict:"EA",replace:!0,require:"^uiGmapGoogleMap",scope:{center:"=center",radius:"=radius",stroke:"=stroke",fill:"=fill",clickable:"=",draggable:"=",editable:"=",geodesic:"=",icons:"=icons",visible:"=",events:"=",control:"=",zIndex:"=zindex"}}}])}.call(this),function(){var e=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIControl",["uiGmapBaseObject","uiGmapLogger","uiGmapCtrlHandle",function(t,n,r){var i;return i=function(t){function i(){this.restrict="EA",this.replace=!0,this.require="^uiGmapGoogleMap",this.scope={template:"@template",position:"@position",controller:"@controller",index:"@index"},this.$log=n}return e(i,t),i.extend(r),i.prototype.link=function(){throw new Exception("Not implemented!!")},i}(t)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapIDrawingManager",[function(){return{restrict:"EA",replace:!0,require:"^uiGmapGoogleMap",scope:{"static":"@",control:"=",options:"=",events:"="}}}])}.call(this),function(){var e=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIMarker",["uiGmapBaseObject","uiGmapCtrlHandle",function(t,r){var i;return i=function(t){function i(){this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.replace=!0,this.scope=n.extend(this.scope||{},i.scope)}return e(i,t),i.scope={coords:"=coords",icon:"=icon",click:"&click",options:"=options",events:"=events",fit:"=fit",idKey:"=idkey",control:"=control"},i.scopeKeys=n.keys(i.scope),i.keys=i.scopeKeys,i.extend(r),i}(t)}])}.call(this),function(){var e=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIPolygon",["uiGmapGmapUtil","uiGmapBaseObject","uiGmapLogger","uiGmapCtrlHandle",function(t,r,i,o){var a;return a=function(r){function a(){}return e(a,r),a.scope={path:"=path",stroke:"=stroke",clickable:"=",draggable:"=",editable:"=",geodesic:"=",fill:"=",icons:"=icons",visible:"=","static":"=",events:"=",zIndex:"=zindex",fit:"=",control:"=control"},a.scopeKeys=n.keys(a.scope),a.include(t),a.extend(o),a.prototype.restrict="EMA",a.prototype.replace=!0,a.prototype.require="^uiGmapGoogleMap",a.prototype.scope=a.scope,a.prototype.DEFAULTS={},a.prototype.$log=i,a}(r)}])}.call(this),function(){var e=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIPolyline",["uiGmapGmapUtil","uiGmapBaseObject","uiGmapLogger","uiGmapCtrlHandle",function(t,r,i,o){var a;return a=function(r){function a(){}return e(a,r),a.scope={path:"=",stroke:"=",clickable:"=",draggable:"=",editable:"=",geodesic:"=",icons:"=",visible:"=","static":"=",fit:"=",events:"=",zIndex:"=zindex"},a.scopeKeys=n.keys(a.scope),a.include(t),a.extend(o),a.prototype.restrict="EMA",a.prototype.replace=!0,a.prototype.require="^uiGmapGoogleMap",a.prototype.scope=a.scope,a.prototype.DEFAULTS={},a.prototype.$log=i,a}(r)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapIRectangle",[function(){var e;return e={},{restrict:"EMA",require:"^uiGmapGoogleMap",replace:!0,scope:{bounds:"=",stroke:"=",clickable:"=",draggable:"=",editable:"=",fill:"=",visible:"=",events:"="}}}])}.call(this),function(){var e=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIWindow",["uiGmapBaseObject","uiGmapChildEvents","uiGmapCtrlHandle",function(t,r,i){var o;return o=function(t){function o(){this.restrict="EMA",this.template=void 0,this.transclude=!0,this.priority=-100,this.require="^uiGmapGoogleMap",this.replace=!0,this.scope=n.extend(this.scope||{},o.scope)}return e(o,t),o.scope={coords:"=coords",template:"=template",templateUrl:"=templateurl",templateParameter:"=templateparameter",isIconVisibleOnClick:"=isiconvisibleonclick",closeClick:"&closeclick",options:"=options",control:"=control",show:"=show"},o.scopeKeys=n.keys(o.scope),o.include(r),o.extend(i),o
}(t)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapMap",["$timeout","$q","$log","uiGmapGmapUtil","uiGmapBaseObject","uiGmapCtrlHandle","uiGmapIsReady","uiGmapuuid","uiGmapExtendGWin","uiGmapExtendMarkerClusterer","uiGmapGoogleMapsUtilV3","uiGmapGoogleMapApi","uiGmapEventsHelper","uiGmapGoogleMapObjectManager",function(i,o,a,s,l,u,c,d,p,h,f,g,m,v){var y,b,S;return y=void 0,S=[f,p,h],b=function(o){function l(){this.link=e(this.link,this);var t;t=function(e){var t,r;return r=void 0,e.$on("$destroy",function(){return c.decrement()}),t=u.handle(e),e.ctrlType="Map",e.deferred.promise.then(function(){return S.forEach(function(e){return e.init()})}),t.getMap=function(){return e.map},r=n.extend(this,t)},this.controller=["$scope",t]}return r(l,o),l.include(s),l.prototype.restrict="EMA",l.prototype.transclude=!0,l.prototype.replace=!1,l.prototype.template='<div class="angular-google-map"><div class="angular-google-map-container">\n</div><div ng-transclude style="display: none"></div></div>',l.prototype.scope={center:"=",zoom:"=",dragging:"=",control:"=",options:"=",events:"=",eventOpts:"=",styles:"=",bounds:"=",update:"="},l.prototype.link=function(e,r,o){var s;return s=[],e.$on("$destroy",function(){return m.removeEvents(s),"true"===o.recycleMapInstance&&e.map?(v.recycleMapInstance(e.map),e.map=null):void 0}),e.idleAndZoomChanged=!1,g.then(function(l){return function(u){var p,h,f,g,b,S,D,w,A,C,x,_,$,k,M,T,F;if(y={mapTypeId:u.MapTypeId.ROADMAP},k=c.spawn(),_=function(){return k.deferred.resolve({instance:k.instance,map:p})},!t.isDefined(e.center)&&!t.isDefined(e.bounds))return void a.error("angular-google-maps: a center or bounds property is required");if(t.isDefined(e.center)||(e.center=new google.maps.LatLngBounds(l.getCoords(e.bounds.southwest),l.getCoords(e.bounds.northeast)).getCenter()),t.isDefined(e.zoom)||(e.zoom=10),b=t.element(r),b.addClass("angular-google-map"),C={options:{}},o.options&&(C.options=e.options),o.styles&&(C.styles=e.styles),o.type&&(M=o.type.toUpperCase(),google.maps.MapTypeId.hasOwnProperty(M)?C.mapTypeId=google.maps.MapTypeId[o.type.toUpperCase()]:a.error("angular-google-maps: invalid map type '"+o.type+"'")),w=t.extend({},y,C,{center:l.getCoords(e.center),zoom:e.zoom,bounds:e.bounds}),p="true"===o.recycleMapInstance?v.createMapInstance(b.find("div")[1],w):new google.maps.Map(b.find("div")[1],w),p.uiGmap_id=d.generate(),g=!1,s.push(google.maps.event.addListenerOnce(p,"idle",function(){return e.deferred.resolve(p),_()})),f=o.events&&null!=(null!=(x=e.events)?x.blacklist:void 0)?e.events.blacklist:[],n.isString(f)&&(f=[f]),A=function(t,r,i){return n.includes(f,t)?void 0:(i&&i(),s.push(google.maps.event.addListener(p,t,function(){var t;return(null!=(t=e.update)?t.lazy:void 0)?void 0:r()})))},n.includes(f,"all")||(A("dragstart",function(){return g=!0,e.$evalAsync(function(e){return null!=e.dragging?e.dragging=g:void 0})}),A("dragend",function(){return g=!1,e.$evalAsync(function(e){return null!=e.dragging?e.dragging=g:void 0})}),T=function(t,r){return null==t&&(t=p.center),null==r&&(r=e),n.includes(f,"center")&&(r.center.latitude!==t.lat()&&(r.center.latitude=t.lat()),r.center.longitude!==t.lng())?r.center.longitude=t.lng():void 0},$=!1,A("idle",function(){var t,r,i;return t=p.getBounds(),r=t.getNorthEast(),i=t.getSouthWest(),$=!0,e.$evalAsync(function(t){return T(),n.isUndefined(t.bounds)||n.includes(f,"bounds")||(t.bounds.northeast={latitude:r.lat(),longitude:r.lng()},t.bounds.southwest={latitude:i.lat(),longitude:i.lng()}),n.includes(f,"zoom")||(t.zoom=p.zoom,e.idleAndZoomChanged=!e.idleAndZoomChanged),$=!1})})),t.isDefined(e.events)&&null!==e.events&&t.isObject(e.events)){D=function(t){return function(){return e.events[t].apply(e,[p,t,arguments])}},h=[];for(S in e.events)e.events.hasOwnProperty(S)&&t.isFunction(e.events[S])&&h.push(google.maps.event.addListener(p,S,D(S)));s.concat(h)}return p.getOptions=function(){return w},e.map=p,null!=o.control&&null!=e.control&&(e.control.refresh=function(e){var t,n,r;if(null!=p)return null!=("undefined"!=typeof google&&null!==google&&null!=(n=google.maps)&&null!=(r=n.event)?r.trigger:void 0)&&null!=p&&google.maps.event.trigger(p,"resize"),null!=(null!=e?e.latitude:void 0)&&null!=(null!=e?e.longitude:void 0)?(t=l.getCoords(e),l.isTrue(o.pan)?p.panTo(t):p.setCenter(t)):void 0},e.control.getGMap=function(){return p},e.control.getMapOptions=function(){return w},e.control.getCustomEventListeners=function(){return h},e.control.removeEvents=function(e){return m.removeEvents(e)}),e.$watch("center",function(t,n){var r;if(t!==n&&!$&&(r=l.getCoords(e.center),r.lat()!==p.center.lat()||r.lng()!==p.center.lng()))return g?void 0:(l.validateCoords(t)||a.error("Invalid center for newValue: "+JSON.stringify(t)),l.isTrue(o.pan)&&e.zoom===p.zoom?p.panTo(r):p.setCenter(r))},!0),F=null,e.$watch("zoom",function(t,r){var o,a;if(null!=t&&!n.isEqual(t,r)&&(null!=p?p.getZoom():void 0)!==(null!=e?e.zoom:void 0)&&!$)return null!=F&&i.cancel(F),F=i(function(){return p.setZoom(t)},(null!=(o=e.eventOpts)&&null!=(a=o.debounce)?a.zoomMs:void 0)+20,!1)}),e.$watch("bounds",function(e,t){var n,r,i,o,s,l,u;if(e!==t)return null==(null!=e&&null!=(i=e.northeast)?i.latitude:void 0)||null==(null!=e&&null!=(o=e.northeast)?o.longitude:void 0)||null==(null!=e&&null!=(s=e.southwest)?s.latitude:void 0)||null==(null!=e&&null!=(l=e.southwest)?l.longitude:void 0)?void a.error("Invalid map bounds for new value: "+JSON.stringify(e)):(r=new google.maps.LatLng(e.northeast.latitude,e.northeast.longitude),u=new google.maps.LatLng(e.southwest.latitude,e.southwest.longitude),n=new google.maps.LatLngBounds(u,r),p.fitBounds(n))}),["options","styles"].forEach(function(t){return e.$watch(t,function(e,r){return n.isEqual(e,r)?void 0:("options"===t?C.options=e:C.options[t]=e,null!=p?p.setOptions(C):void 0)},!0)})}}(this))},l}(l)}])}.call(this),function(){var e=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapMarker",["uiGmapIMarker","uiGmapMarkerChildModel","uiGmapMarkerManager","uiGmapLogger",function(t,r,i,o){var a;return a=function(a){function s(){s.__super__.constructor.call(this),this.template='<span class="angular-google-map-marker" ng-transclude></span>',o.info(this)}return e(s,a),s.prototype.controller=["$scope","$element",function(e,r){return e.ctrlType="Marker",n.extend(this,t.handle(e,r))}],s.prototype.link=function(e,o,a,s){var l;return l=t.mapPromise(e,s),l.then(function(o){var a,s,l;return a=new i(o),s=n.object(t.keys,t.keys),l=new r({scope:e,model:e,keys:s,gMap:o,doClick:!0,gManager:a,doDrawSelf:!1,trackModel:!1}),l.deferred.promise.then(function(t){return e.deferred.resolve(t)}),null!=e.control?e.control.getGMarkers=a.getGMarkers:void 0}),e.$on("$destroy",function(){var e;return"undefined"!=typeof e&&null!==e&&e.clear(),e=null})},s}(t)}])}.call(this),function(){var e=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapMarkers",["uiGmapIMarker","uiGmapPlural","uiGmapMarkersParentModel","uiGmap_sync","uiGmapLogger",function(t,r,i,o,a){var s;return s=function(o){function s(){s.__super__.constructor.call(this),this.template='<span class="angular-google-map-markers" ng-transclude></span>',r.extend(this,{doCluster:"=?docluster",clusterOptions:"=clusteroptions",clusterEvents:"=clusterevents",modelsByRef:"=modelsbyref",type:"=?type",typeOptions:"=?typeoptions",typeEvents:"=?typeevents"}),a.info(this)}return e(s,o),s.prototype.controller=["$scope","$element",function(e,r){return e.ctrlType="Markers",n.extend(this,t.handle(e,r))}],s.prototype.link=function(e,o,a,s){var l,u;return l=void 0,u=function(){return e.deferred.resolve()},t.mapPromise(e,s).then(function(t){var c;return c=s.getScope(),c.$watch("idleAndZoomChanged",function(){return n.defer(l.gManager.draw)}),l=new i(e,o,a,t),r.link(e,l),null!=e.control&&(e.control.getGMarkers=function(){var e;return null!=(e=l.gManager)?e.getGMarkers():void 0},e.control.getChildMarkers=function(){return l.plurals}),n.last(l.existingPieces._content).then(function(){return u()})})},s}(t)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapPlural",[function(){var e;return e=function(e,t){return null!=e.control?(e.control.updateModels=function(n){return e.models=n,t.createChildScopes(!1)},e.control.newModels=function(n){return e.models=n,t.rebuildAll(e,!0,!0)},e.control.clean=function(){return t.rebuildAll(e,!1,!0)},e.control.getPlurals=function(){return t.plurals},e.control.getManager=function(){return t.gManager},e.control.hasManager=function(){return null!=t.gManager==!0},e.control.managerDraw=function(){var t;return e.control.hasManager()&&null!=(t=e.control.getManager())?t.draw():void 0}):void 0},{extend:function(e,t){return n.extend(e.scope||{},t||{},{idKey:"=idkey",doRebuildAll:"=dorebuildall",models:"=models",chunk:"=chunk",cleanchunk:"=cleanchunk",control:"=control"})},link:function(t,n){return e(t,n)}}}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolygon",["uiGmapIPolygon","$timeout","uiGmapPolygonChildModel",function(t,r,i){var o;return o=function(r){function o(){return this.link=e(this.link,this),o.__super__.constructor.apply(this,arguments)}return n(o,r),o.prototype.link=function(e,n,r,o){var a,s;return a=[],s=t.mapPromise(e,o),null!=e.control&&(e.control.getInstance=this,e.control.polygons=a,e.control.promise=s),s.then(function(t){return function(n){return a.push(new i({scope:e,attrs:r,gMap:n,defaults:t.DEFAULTS}))}}(this))},o}(t)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolygons",["uiGmapIPolygon","$timeout","uiGmapPolygonsParentModel","uiGmapPlural",function(r,i,o,a){var s;return s=function(r){function i(){this.link=e(this.link,this),i.__super__.constructor.call(this),a.extend(this),this.$log.info(this)}return n(i,r),i.prototype.link=function(e,n,r,i){return i.getScope().deferred.promise.then(function(i){return function(s){return(t.isUndefined(e.path)||null===e.path)&&i.$log.warn("polygons: no valid path attribute found"),e.models||i.$log.warn("polygons: no models found to create from"),a.link(e,new o(e,n,r,s,i.DEFAULTS))}}(this))},i}(r)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolyline",["uiGmapIPolyline","$timeout","uiGmapPolylineChildModel",function(r,i,o){var a;return a=function(i){function a(){return this.link=e(this.link,this),a.__super__.constructor.apply(this,arguments)}return n(a,i),a.prototype.link=function(e,n,i,a){return r.mapPromise(e,a).then(function(n){return function(r){return(t.isUndefined(e.path)||null===e.path||!n.validatePath(e.path))&&n.$log.warn("polyline: no valid path attribute found"),new o({scope:e,attrs:i,gMap:r,defaults:n.DEFAULTS})}}(this))},a}(r)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolylines",["uiGmapIPolyline","$timeout","uiGmapPolylinesParentModel","uiGmapPlural",function(r,i,o,a){var s;return s=function(r){function i(){this.link=e(this.link,this),i.__super__.constructor.call(this),a.extend(this),this.$log.info(this)}return n(i,r),i.prototype.link=function(e,n,r,i){return i.getScope().deferred.promise.then(function(i){return function(s){return(t.isUndefined(e.path)||null===e.path)&&i.$log.warn("polylines: no valid path attribute found"),e.models||i.$log.warn("polylines: no models found to create from"),a.link(e,new o(e,n,r,s,i.DEFAULTS))}}(this))},i}(r)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapRectangle",["uiGmapLogger","uiGmapGmapUtil","uiGmapIRectangle","uiGmapRectangleParentModel",function(e,t,r,i){return n.extend(r,{link:function(e,t,n,r){return r.getScope().deferred.promise.then(function(r){return new i(e,t,n,r)})}})}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapWindow",["uiGmapIWindow","uiGmapGmapUtil","uiGmapWindowChildModel","uiGmapLodash","uiGmapLogger",function(r,i,o,a,s){var l;return l=function(l){function u(){this.link=e(this.link,this),u.__super__.constructor.call(this),this.require=["^uiGmapGoogleMap","^?uiGmapMarker"],this.template='<span class="angular-google-maps-window" ng-transclude></span>',s.debug(this),this.childWindows=[]}return n(u,l),u.include(i),u.prototype.link=function(e,n,i,o){var a,s;return a=o.length>1&&null!=o[1]?o[1]:void 0,s=null!=a?a.getScope():void 0,this.mapPromise=r.mapPromise(e,o[0]),this.mapPromise.then(function(r){return function(o){var l;return l=!0,t.isDefined(i.isiconvisibleonclick)&&(l=e.isIconVisibleOnClick),a?s.deferred.promise.then(function(){return r.init(e,n,l,o,s)}):void r.init(e,n,l,o)}}(this))},u.prototype.init=function(e,t,n,r,i){var s,l,u,c,d;return l=null!=e.options?e.options:{},c=null!=e&&this.validateCoords(e.coords),null!=(null!=i?i.getGMarker:void 0)&&(u=i.getGMarker()),d=c?this.createWindowOptions(u,e,t.html(),l):l,null!=r&&(s=new o({scope:e,opts:d,isIconVisibleOnClick:n,gMap:r,markerScope:i,element:t}),this.childWindows.push(s),e.$on("$destroy",function(e){return function(){return e.childWindows=a.withoutObjects(e.childWindows,[s],function(e,t){return e.scope.$id===t.scope.$id}),e.childWindows.length=0}}(this))),null!=e.control&&(e.control.getGWindows=function(e){return function(){return e.childWindows.map(function(e){return e.gObject})}}(this),e.control.getChildWindows=function(e){return function(){return e.childWindows}}(this),e.control.getPlurals=e.control.getChildWindows,e.control.showWindow=function(e){return function(){return e.childWindows.map(function(e){return e.showWindow()})}}(this),e.control.hideWindow=function(e){return function(){return e.childWindows.map(function(e){return e.hideWindow()})}}(this)),null!=this.onChildCreation&&null!=s?this.onChildCreation(s):void 0},u}(r)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapWindows",["uiGmapIWindow","uiGmapPlural","uiGmapWindowsParentModel","uiGmapPromise","uiGmapLogger",function(t,r,i,o,a){var s;return s=function(t){function s(){this.link=e(this.link,this),s.__super__.constructor.call(this),this.require=["^uiGmapGoogleMap","^?uiGmapMarkers"],this.template='<span class="angular-google-maps-windows" ng-transclude></span>',r.extend(this),a.debug(this)}return n(s,t),s.prototype.link=function(e,t,n,r){var i,a,s;return i=r[0].getScope(),a=r.length>1&&null!=r[1]?r[1]:void 0,s=null!=a?a.getScope():void 0,i.deferred.promise.then(function(i){return function(a){var l,u;return l=(null!=s&&null!=(u=s.deferred)?u.promise:void 0)||o.resolve(),l.then(function(){var o,l;return o=null!=(l=i.parentModel)?l.existingPieces:void 0,o?o.then(function(){return i.init(e,t,n,r,a,s)}):i.init(e,t,n,r,a,s)})}}(this))},s.prototype.init=function(e,t,n,o,a,s){var l;return l=new i(e,t,n,o,a,s),r.link(e,l),null!=e.control?(e.control.getGWindows=function(){return l.plurals.map(function(e){return e.gObject})},e.control.getChildWindows=function(){return l.plurals}):void 0},s}(t)}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapGoogleMap",["uiGmapMap",function(e){return new e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapMarker",["$timeout","uiGmapMarker",function(e,t){return new t(e)}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapMarkers",["$timeout","uiGmapMarkers",function(e,t){return new t(e)}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapPolygon",["uiGmapPolygon",function(e){return new e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapCircle",["uiGmapCircle",function(e){return e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapPolyline",["uiGmapPolyline",function(e){return new e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapPolylines",["uiGmapPolylines",function(e){return new e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapRectangle",["uiGmapLogger","uiGmapRectangle",function(e,t){return t}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapWindow",["$timeout","$compile","$http","$templateCache","uiGmapWindow",function(e,t,n,r,i){return new i(e,t,n,r)}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapWindows",["$timeout","$compile","$http","$templateCache","$interpolate","uiGmapWindows",function(e,t,n,r,i,o){return new o(e,t,n,r,i)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps").directive("uiGmapLayer",["$timeout","uiGmapLogger","uiGmapLayerParentModel",function(t,n,r){var i;return new(i=function(){function t(){this.link=e(this.link,this),this.$log=n,this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.template="<span class='angular-google-map-layer' ng-transclude></span>",this.replace=!0,this.scope={show:"=show",type:"=type",namespace:"=namespace",options:"=options",onCreated:"&oncreated"}}return t.prototype.link=function(e,t,n,i){return i.getScope().deferred.promise.then(function(){return function(i){return null!=e.onCreated?new r(e,t,n,i,e.onCreated):new r(e,t,n,i)}}(this))},t}())}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapMapControl",["uiGmapControl",function(e){return new e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapDragZoom",["uiGmapDragZoom",function(e){return e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapDrawingManager",["uiGmapDrawingManager",function(e){return e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapFreeDrawPolygons",["uiGmapApiFreeDrawPolygons",function(e){return new e}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps").directive("uiGmapMapType",["$timeout","uiGmapLogger","uiGmapMapTypeParentModel",function(t,n,r){var i;return new(i=function(){function t(){this.link=e(this.link,this),this.$log=n,this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.template='<span class="angular-google-map-layer" ng-transclude></span>',this.replace=!0,this.scope={show:"=show",options:"=options",refresh:"=refresh",id:"@"}}return t.prototype.link=function(e,t,n,i){return i.getScope().deferred.promise.then(function(){return function(i){return new r(e,t,n,i)}}(this))},t}())}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapPolygons",["uiGmapPolygons",function(e){return new e}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps").directive("uiGmapSearchBox",["uiGmapGoogleMapApi","uiGmapLogger","uiGmapSearchBoxParentModel","$http","$templateCache","$compile",function(n,r,i,o,a,s){var l;return new(l=function(){function l(){this.link=e(this.link,this),this.$log=r,this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.template="<span class='angular-google-map-search' ng-transclude></span>",this.replace=!0,this.scope={template:"=template",events:"=events",position:"=?position",options:"=?options",parentdiv:"=?parentdiv",ngModel:"=?"}}return l.prototype.require="ngModel",l.prototype.link=function(e,r,l,u){return n.then(function(n){return function(c){return null==e.template&&(a.put("uigmap-searchbox-default.tpl.html",'<input type="text">'),e.template="uigmap-searchbox-default.tpl.html"),o.get(e.template,{cache:a}).success(function(o){return t.isUndefined(e.events)?void n.$log.error("searchBox: the events property is required"):u.getScope().deferred.promise.then(function(a){var u;return u=t.isDefined(e.position)?e.position.toUpperCase().replace(/-/g,"_"):"TOP_LEFT",c.ControlPosition[u]?new i(e,r,l,a,u,s(o)(e)):void n.$log.error("searchBox: invalid position property")})})}}(this))},l}())}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapShow",["$animate","uiGmapLogger",function(e,n){return{scope:{uiGmapShow:"=",uiGmapAfterShow:"&",uiGmapAfterHide:"&"},link:function(r,i){var o,a,s;return o=function(t,n){return e[t](i,"ng-hide").then(function(){return n()})},a=function(t,n){return e[t](i,"ng-hide",n)},s=function(e,r){return t.version.major>1?n.error("uiGmapShow is not supported for Angular Major greater than 1.\nYour Major is "+t.version.major+'"'):1===t.version.major&&t.version.minor<3?a(e,r):o(e,r)},r.$watch("uiGmapShow",function(e){return e&&s("removeClass",r.uiGmapAfterShow),e?void 0:s("addClass",r.uiGmapAfterHide)})}}}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapStreetViewPanorama",["uiGmapGoogleMapApi","uiGmapLogger","uiGmapGmapUtil","uiGmapEventsHelper",function(e,n,r,i){var o;return o="uiGmapStreetViewPanorama",{restrict:"EMA",template:'<div class="angular-google-map-street-view-panorama"></div>',replace:!0,scope:{focalcoord:"=",radius:"=?",events:"=?",options:"=?",control:"=?",povoptions:"=?",imagestatus:"="},link:function(a,s){return e.then(function(){return function(){var e,l,u,c,d,p,h,f,g,m;return f=void 0,m=void 0,u=!1,p=void 0,h=null,g=null,e=function(){return i.removeEvents(p),null!=f&&(f.unbind("position"),f.setVisible(!1)),null!=m?(null!=(null!=m?m.setVisible:void 0)&&m.setVisible(!1),m=void 0):void 0},d=function(e,n){var r;return r=google.maps.geometry.spherical.computeHeading(e,n),u=!0,a.radius=a.radius||50,g=t.extend({heading:r,zoom:1,pitch:0},a.povoptions||{}),h=h=t.extend({navigationControl:!1,addressControl:!1,linksControl:!1,position:e,pov:g,visible:!0},a.options||{}),u=!1},l=function(){var t;return a.focalcoord?a.radius?(e(),null==m&&(m=new google.maps.StreetViewService),a.events&&(p=i.setEvents(m,a,a)),t=r.getCoords(a.focalcoord),m.getPanoramaByLocation(t,a.radius,function(e,n){var r,i,o;return null!=a.imagestatus&&(a.imagestatus=n),null!=(null!=(o=a.events)?o.image_status_changed:void 0)&&a.events.image_status_changed(m,"image_status_changed",a,n),"OK"===n?(i=e.location.latLng,d(i,t),r=s[0],f=new google.maps.StreetViewPanorama(r,h)):void 0})):void n.error(o+": needs a radius to set the camera view from its focal target."):void n.error(o+": focalCoord needs to be defined")},null!=a.control&&(a.control.getOptions=function(){return h},a.control.getPovOptions=function(){return g},a.control.getGObject=function(){return m},a.control.getGPano=function(){return f}),a.$watch("options",function(e,t){return e===t||e===h||u?void 0:l()}),c=!0,a.$watch("focalcoord",function(e,t){return e===t&&!c||null==e?void 0:(c=!1,l())}),a.$on("$destroy",function(){return e()})}}(this))}}}])}.call(this),t.module("uiGmapgoogle-maps.wrapped").service("uiGmapuuid",function(){function e(){}return e.generate=function(){var t=e._gri,n=e._ha;return n(t(32),8)+"-"+n(t(16),4)+"-"+n(16384|t(12),4)+"-"+n(32768|t(14),4)+"-"+n(t(48),12)},e._gri=function(e){return 0>e?0/0:30>=e?0|Math.random()*(1<<e):53>=e?(0|1073741824*Math.random())+1073741824*(0|Math.random()*(1<<e-30)):0/0},e._ha=function(e,t){for(var n=e.toString(16),r=t-n.length,i="0";r>0;r>>>=1,i+=i)1&r&&(n=i+n);return n},e}),t.module("uiGmapgoogle-maps.wrapped").service("uiGmapGoogleMapsUtilV3",function(){return{init:n.once(function(){+function(){function t(e,n){e.getMarkerClusterer().extend(t,google.maps.OverlayView),this.cluster_=e,this.className_=e.getMarkerClusterer().getClusterClass(),this.styles_=n,this.center_=null,this.div_=null,this.sums_=null,this.visible_=!1,this.setMap(e.getMap())}function n(e){this.markerClusterer_=e,this.map_=e.getMap(),this.gridSize_=e.getGridSize(),this.minClusterSize_=e.getMinimumClusterSize(),this.averageCenter_=e.getAverageCenter(),this.hideLabel_=e.getHideLabel(),this.markers_=[],this.center_=null,this.bounds_=null,this.clusterIcon_=new t(this,e.getStyles())}function i(e,t,n){this.extend(i,google.maps.OverlayView),t=t||[],n=n||{},this.markers_=[],this.clusters_=[],this.listeners_=[],this.activeMap_=null,this.ready_=!1,this.gridSize_=n.gridSize||60,this.minClusterSize_=n.minimumClusterSize||2,this.maxZoom_=n.maxZoom||null,this.styles_=n.styles||[],this.title_=n.title||"",this.zoomOnClick_=!0,void 0!==n.zoomOnClick&&(this.zoomOnClick_=n.zoomOnClick),this.averageCenter_=!1,void 0!==n.averageCenter&&(this.averageCenter_=n.averageCenter),this.ignoreHidden_=!1,void 0!==n.ignoreHidden&&(this.ignoreHidden_=n.ignoreHidden),this.enableRetinaIcons_=!1,void 0!==n.enableRetinaIcons&&(this.enableRetinaIcons_=n.enableRetinaIcons),this.hideLabel_=!1,void 0!==n.hideLabel&&(this.hideLabel_=n.hideLabel),this.imagePath_=n.imagePath||i.IMAGE_PATH,this.imageExtension_=n.imageExtension||i.IMAGE_EXTENSION,this.imageSizes_=n.imageSizes||i.IMAGE_SIZES,this.calculator_=n.calculator||i.CALCULATOR,this.batchSize_=n.batchSize||i.BATCH_SIZE,this.batchSizeIE_=n.batchSizeIE||i.BATCH_SIZE_IE,this.clusterClass_=n.clusterClass||"cluster",-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(this.batchSize_=this.batchSizeIE_),this.setupStyles_(),this.addMarkers(t,!0),this.setMap(e)}function o(e){e=e||{},google.maps.OverlayView.apply(this,arguments),this.content_=e.content||"",this.disableAutoPan_=e.disableAutoPan||!1,this.maxWidth_=e.maxWidth||0,this.pixelOffset_=e.pixelOffset||new google.maps.Size(0,0),this.position_=e.position||new google.maps.LatLng(0,0),this.zIndex_=e.zIndex||null,this.boxClass_=e.boxClass||"infoBox",this.boxStyle_=e.boxStyle||{},this.closeBoxMargin_=e.closeBoxMargin||"2px",this.closeBoxURL_=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===e.closeBoxURL&&(this.closeBoxURL_=""),this.infoBoxClearance_=e.infoBoxClearance||new google.maps.Size(1,1),"undefined"==typeof e.visible&&(e.visible="undefined"==typeof e.isHidden?!0:!e.isHidden),this.isHidden_=!e.visible,this.alignBottom_=e.alignBottom||!1,this.pane_=e.pane||"floatPane",this.enableEventPropagation_=e.enableEventPropagation||!1,this.div_=null,this.closeListener_=null,this.moveListener_=null,this.contextListener_=null,this.eventListeners_=null,this.fixedWidthSet_=null}function a(e,t){function n(){}n.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new n,e.prototype.constructor=e}function s(e,t){this.marker_=e,this.handCursorURL_=e.handCursorURL,this.labelDiv_=document.createElement("div"),this.labelDiv_.style.cssText="position: absolute; overflow: hidden;",this.eventDiv_=document.createElement("div"),this.eventDiv_.style.cssText=this.labelDiv_.style.cssText,this.eventDiv_.setAttribute("onselectstart","return false;"),this.eventDiv_.setAttribute("ondragstart","return false;"),this.crossDiv_=s.getSharedCross(t)}function l(e){e=e||{},e.labelContent=e.labelContent||"",e.labelAnchor=e.labelAnchor||new google.maps.Point(0,0),e.labelClass=e.labelClass||"markerLabels",e.labelStyle=e.labelStyle||{},e.labelInBackground=e.labelInBackground||!1,"undefined"==typeof e.labelVisible&&(e.labelVisible=!0),"undefined"==typeof e.raiseOnDrag&&(e.raiseOnDrag=!0),"undefined"==typeof e.clickable&&(e.clickable=!0),"undefined"==typeof e.draggable&&(e.draggable=!1),"undefined"==typeof e.optimized&&(e.optimized=!1),e.crossImage=e.crossImage||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/intl/en_us/mapfiles/drag_cross_67_16.png",e.handCursor=e.handCursor||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/intl/en_us/mapfiles/closedhand_8_8.cur",e.optimized=!1,this.label=new s(this,e.crossImage,e.handCursor),google.maps.Marker.apply(this,arguments)}function u(e){var t=e||{};this.ready_=!1,this.dragging_=!1,e.visible==r&&(e.visible=!0),e.shadow==r&&(e.shadow="7px -3px 5px rgba(88,88,88,0.7)"),e.anchor==r&&(e.anchor=c.BOTTOM),this.setValues(t)}t.prototype.onAdd=function(){var e,t,n=this;this.div_=document.createElement("div"),this.div_.className=this.className_,this.visible_&&this.show(),this.getPanes().overlayMouseTarget.appendChild(this.div_),this.boundsChangedListener_=google.maps.event.addListener(this.getMap(),"bounds_changed",function(){t=e}),google.maps.event.addDomListener(this.div_,"mousedown",function(){e=!0,t=!1}),google.maps.event.addDomListener(this.div_,"click",function(r){if(e=!1,!t){var i,o,a=n.cluster_.getMarkerClusterer();google.maps.event.trigger(a,"click",n.cluster_),google.maps.event.trigger(a,"clusterclick",n.cluster_),a.getZoomOnClick()&&(o=a.getMaxZoom(),i=n.cluster_.getBounds(),a.getMap().fitBounds(i),setTimeout(function(){a.getMap().fitBounds(i),null!==o&&a.getMap().getZoom()>o&&a.getMap().setZoom(o+1)},100)),r.cancelBubble=!0,r.stopPropagation&&r.stopPropagation()}}),google.maps.event.addDomListener(this.div_,"mouseover",function(){var e=n.cluster_.getMarkerClusterer();google.maps.event.trigger(e,"mouseover",n.cluster_)}),google.maps.event.addDomListener(this.div_,"mouseout",function(){var e=n.cluster_.getMarkerClusterer();google.maps.event.trigger(e,"mouseout",n.cluster_)})},t.prototype.onRemove=function(){this.div_&&this.div_.parentNode&&(this.hide(),google.maps.event.removeListener(this.boundsChangedListener_),google.maps.event.clearInstanceListeners(this.div_),this.div_.parentNode.removeChild(this.div_),this.div_=null)},t.prototype.draw=function(){if(this.visible_){var e=this.getPosFromLatLng_(this.center_);this.div_.style.top=e.y+"px",this.div_.style.left=e.x+"px"}},t.prototype.hide=function(){this.div_&&(this.div_.style.display="none"),this.visible_=!1},t.prototype.show=function(){if(this.div_){var e="",t=this.backgroundPosition_.split(" "),n=parseInt(t[0].trim(),10),r=parseInt(t[1].trim(),10),i=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(i),e="<img src='"+this.url_+"' style='position: absolute; top: "+r+"px; left: "+n+"px; ",e+=this.cluster_.getMarkerClusterer().enableRetinaIcons_?"width: "+this.width_+"px;height: "+this.height_+"px;":"clip: rect("+-1*r+"px, "+(-1*n+this.width_)+"px, "+(-1*r+this.height_)+"px, "+-1*n+"px);",e+="'>",this.div_.innerHTML=e+"<div style='position: absolute;top: "+this.anchorText_[0]+"px;left: "+this.anchorText_[1]+"px;color: "+this.textColor_+";font-size: "+this.textSize_+"px;font-family: "+this.fontFamily_+";font-weight: "+this.fontWeight_+";font-style: "+this.fontStyle_+";text-decoration: "+this.textDecoration_+";text-align: center;width: "+this.width_+"px;line-height:"+this.height_+"px;'>"+(this.cluster_.hideLabel_?" ":this.sums_.text)+"</div>",this.div_.title="undefined"==typeof this.sums_.title||""===this.sums_.title?this.cluster_.getMarkerClusterer().getTitle():this.sums_.title,this.div_.style.display=""
}this.visible_=!0},t.prototype.useStyle=function(e){this.sums_=e;var t=Math.max(0,e.index-1);t=Math.min(this.styles_.length-1,t);var n=this.styles_[t];this.url_=n.url,this.height_=n.height,this.width_=n.width,this.anchorText_=n.anchorText||[0,0],this.anchorIcon_=n.anchorIcon||[parseInt(this.height_/2,10),parseInt(this.width_/2,10)],this.textColor_=n.textColor||"black",this.textSize_=n.textSize||11,this.textDecoration_=n.textDecoration||"none",this.fontWeight_=n.fontWeight||"bold",this.fontStyle_=n.fontStyle||"normal",this.fontFamily_=n.fontFamily||"Arial,sans-serif",this.backgroundPosition_=n.backgroundPosition||"0 0"},t.prototype.setCenter=function(e){this.center_=e},t.prototype.createCss=function(e){var t=[];return t.push("cursor: pointer;"),t.push("position: absolute; top: "+e.y+"px; left: "+e.x+"px;"),t.push("width: "+this.width_+"px; height: "+this.height_+"px;"),t.join("")},t.prototype.getPosFromLatLng_=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return t.x-=this.anchorIcon_[1],t.y-=this.anchorIcon_[0],t.x=parseInt(t.x,10),t.y=parseInt(t.y,10),t},n.prototype.getSize=function(){return this.markers_.length},n.prototype.getMarkers=function(){return this.markers_},n.prototype.getCenter=function(){return this.center_},n.prototype.getMap=function(){return this.map_},n.prototype.getMarkerClusterer=function(){return this.markerClusterer_},n.prototype.getBounds=function(){var e,t=new google.maps.LatLngBounds(this.center_,this.center_),n=this.getMarkers();for(e=0;e<n.length;e++)t.extend(n[e].getPosition());return t},n.prototype.remove=function(){this.clusterIcon_.setMap(null),this.markers_=[],delete this.markers_},n.prototype.addMarker=function(e){var t,n,r;if(this.isMarkerAlreadyAdded_(e))return!1;if(this.center_){if(this.averageCenter_){var i=this.markers_.length+1,o=(this.center_.lat()*(i-1)+e.getPosition().lat())/i,a=(this.center_.lng()*(i-1)+e.getPosition().lng())/i;this.center_=new google.maps.LatLng(o,a),this.calculateBounds_()}}else this.center_=e.getPosition(),this.calculateBounds_();if(e.isAdded=!0,this.markers_.push(e),n=this.markers_.length,r=this.markerClusterer_.getMaxZoom(),null!==r&&this.map_.getZoom()>r)e.getMap()!==this.map_&&e.setMap(this.map_);else if(n<this.minClusterSize_)e.getMap()!==this.map_&&e.setMap(this.map_);else if(n===this.minClusterSize_)for(t=0;n>t;t++)this.markers_[t].setMap(null);else e.setMap(null);return!0},n.prototype.isMarkerInClusterBounds=function(e){return this.bounds_.contains(e.getPosition())},n.prototype.calculateBounds_=function(){var e=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(e)},n.prototype.updateIcon_=function(){var e=this.markers_.length,t=this.markerClusterer_.getMaxZoom();if(null!==t&&this.map_.getZoom()>t)return void this.clusterIcon_.hide();if(e<this.minClusterSize_)return void this.clusterIcon_.hide();var n=this.markerClusterer_.getStyles().length,r=this.markerClusterer_.getCalculator()(this.markers_,n);this.clusterIcon_.setCenter(this.center_),this.clusterIcon_.useStyle(r),this.clusterIcon_.show()},n.prototype.isMarkerAlreadyAdded_=function(e){for(var t=0,n=this.markers_.length;n>t;t++)if(e===this.markers_[t])return!0;return!1},i.prototype.onAdd=function(){var e=this;this.activeMap_=this.getMap(),this.ready_=!0,this.repaint(),this.listeners_=[google.maps.event.addListener(this.getMap(),"zoom_changed",function(){e.resetViewport_(!1),(this.getZoom()===(this.get("minZoom")||0)||this.getZoom()===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")}),google.maps.event.addListener(this.getMap(),"idle",function(){e.redraw_()})]},i.prototype.onRemove=function(){var e;for(e=0;e<this.markers_.length;e++)this.markers_[e].getMap()!==this.activeMap_&&this.markers_[e].setMap(this.activeMap_);for(e=0;e<this.clusters_.length;e++)this.clusters_[e].remove();for(this.clusters_=[],e=0;e<this.listeners_.length;e++)google.maps.event.removeListener(this.listeners_[e]);this.listeners_=[],this.activeMap_=null,this.ready_=!1},i.prototype.draw=function(){},i.prototype.setupStyles_=function(){var e,t;if(!(this.styles_.length>0))for(e=0;e<this.imageSizes_.length;e++)t=this.imageSizes_[e],this.styles_.push({url:this.imagePath_+(e+1)+"."+this.imageExtension_,height:t,width:t})},i.prototype.fitMapToMarkers=function(){var e,t=this.getMarkers(),n=new google.maps.LatLngBounds;for(e=0;e<t.length;e++)n.extend(t[e].getPosition());this.getMap().fitBounds(n)},i.prototype.getGridSize=function(){return this.gridSize_},i.prototype.setGridSize=function(e){this.gridSize_=e},i.prototype.getMinimumClusterSize=function(){return this.minClusterSize_},i.prototype.setMinimumClusterSize=function(e){this.minClusterSize_=e},i.prototype.getMaxZoom=function(){return this.maxZoom_},i.prototype.setMaxZoom=function(e){this.maxZoom_=e},i.prototype.getStyles=function(){return this.styles_},i.prototype.setStyles=function(e){this.styles_=e},i.prototype.getTitle=function(){return this.title_},i.prototype.setTitle=function(e){this.title_=e},i.prototype.getZoomOnClick=function(){return this.zoomOnClick_},i.prototype.setZoomOnClick=function(e){this.zoomOnClick_=e},i.prototype.getAverageCenter=function(){return this.averageCenter_},i.prototype.setAverageCenter=function(e){this.averageCenter_=e},i.prototype.getIgnoreHidden=function(){return this.ignoreHidden_},i.prototype.setIgnoreHidden=function(e){this.ignoreHidden_=e},i.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons_},i.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons_=e},i.prototype.getImageExtension=function(){return this.imageExtension_},i.prototype.setImageExtension=function(e){this.imageExtension_=e},i.prototype.getImagePath=function(){return this.imagePath_},i.prototype.setImagePath=function(e){this.imagePath_=e},i.prototype.getImageSizes=function(){return this.imageSizes_},i.prototype.setImageSizes=function(e){this.imageSizes_=e},i.prototype.getCalculator=function(){return this.calculator_},i.prototype.setCalculator=function(e){this.calculator_=e},i.prototype.setHideLabel=function(e){this.hideLabel_=e},i.prototype.getHideLabel=function(){return this.hideLabel_},i.prototype.getBatchSizeIE=function(){return this.batchSizeIE_},i.prototype.setBatchSizeIE=function(e){this.batchSizeIE_=e},i.prototype.getClusterClass=function(){return this.clusterClass_},i.prototype.setClusterClass=function(e){this.clusterClass_=e},i.prototype.getMarkers=function(){return this.markers_},i.prototype.getTotalMarkers=function(){return this.markers_.length},i.prototype.getClusters=function(){return this.clusters_},i.prototype.getTotalClusters=function(){return this.clusters_.length},i.prototype.addMarker=function(e,t){this.pushMarkerTo_(e),t||this.redraw_()},i.prototype.addMarkers=function(e,t){var n;for(n in e)e.hasOwnProperty(n)&&this.pushMarkerTo_(e[n]);t||this.redraw_()},i.prototype.pushMarkerTo_=function(e){if(e.getDraggable()){var t=this;google.maps.event.addListener(e,"dragend",function(){t.ready_&&(this.isAdded=!1,t.repaint())})}e.isAdded=!1,this.markers_.push(e)},i.prototype.removeMarker=function(e,t,n){var r=!0&&!n,i=this.removeMarker_(e,r);return!t&&i&&this.repaint(),i},i.prototype.removeMarkers=function(e,t,n){var r,i,o=!1,a=!0&&!n;for(r=0;r<e.length;r++)i=this.removeMarker_(e[r],a),o=o||i;return!t&&o&&this.repaint(),o},i.prototype.removeMarker_=function(e,t){var n,r=-1;if(this.markers_.indexOf)r=this.markers_.indexOf(e);else for(n=0;n<this.markers_.length;n++)if(e===this.markers_[n]){r=n;break}return-1===r?!1:(t&&e.setMap(null),this.markers_.splice(r,1),!0)},i.prototype.clearMarkers=function(){this.resetViewport_(!0),this.markers_=[]},i.prototype.repaint=function(){var e=this.clusters_.slice();this.clusters_=[],this.resetViewport_(!1),this.redraw_(),setTimeout(function(){var t;for(t=0;t<e.length;t++)e[t].remove()},0)},i.prototype.getExtendedBounds=function(e){var t=this.getProjection(),n=new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()),r=new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()),i=t.fromLatLngToDivPixel(n);i.x+=this.gridSize_,i.y-=this.gridSize_;var o=t.fromLatLngToDivPixel(r);o.x-=this.gridSize_,o.y+=this.gridSize_;var a=t.fromDivPixelToLatLng(i),s=t.fromDivPixelToLatLng(o);return e.extend(a),e.extend(s),e},i.prototype.redraw_=function(){this.createClusters_(0)},i.prototype.resetViewport_=function(e){var t,n;for(t=0;t<this.clusters_.length;t++)this.clusters_[t].remove();for(this.clusters_=[],t=0;t<this.markers_.length;t++)n=this.markers_[t],n.isAdded=!1,e&&n.setMap(null)},i.prototype.distanceBetweenPoints_=function(e,t){var n=6371,r=(t.lat()-e.lat())*Math.PI/180,i=(t.lng()-e.lng())*Math.PI/180,o=Math.sin(r/2)*Math.sin(r/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(i/2)*Math.sin(i/2),a=2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)),s=n*a;return s},i.prototype.isMarkerInBounds_=function(e,t){return t.contains(e.getPosition())},i.prototype.addToClosestCluster_=function(e){var t,r,i,o,a=4e4,s=null;for(t=0;t<this.clusters_.length;t++)i=this.clusters_[t],o=i.getCenter(),o&&(r=this.distanceBetweenPoints_(o,e.getPosition()),a>r&&(a=r,s=i));s&&s.isMarkerInClusterBounds(e)?s.addMarker(e):(i=new n(this),i.addMarker(e),this.clusters_.push(i))},i.prototype.createClusters_=function(e){var t,n,r,i=this;if(this.ready_){0===e&&(google.maps.event.trigger(this,"clusteringbegin",this),"undefined"!=typeof this.timerRefStatic&&(clearTimeout(this.timerRefStatic),delete this.timerRefStatic)),r=this.getMap().getZoom()>3?new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625));var o=this.getExtendedBounds(r),a=Math.min(e+this.batchSize_,this.markers_.length);for(t=e;a>t;t++)n=this.markers_[t],!n.isAdded&&this.isMarkerInBounds_(n,o)&&(!this.ignoreHidden_||this.ignoreHidden_&&n.getVisible())&&this.addToClosestCluster_(n);if(a<this.markers_.length)this.timerRefStatic=setTimeout(function(){i.createClusters_(a)},0);else for(delete this.timerRefStatic,google.maps.event.trigger(this,"clusteringend",this),t=0;t<this.clusters_.length;t++)this.clusters_[t].updateIcon_()}},i.prototype.extend=function(e,t){return function(e){var t;for(t in e.prototype)this.prototype[t]=e.prototype[t];return this}.apply(e,[t])},i.CALCULATOR=function(e,t){for(var n=0,r="",i=e.length.toString(),o=i;0!==o;)o=parseInt(o/10,10),n++;return n=Math.min(n,t),{text:i,index:n,title:r}},i.BATCH_SIZE=2e3,i.BATCH_SIZE_IE=500,i.IMAGE_PATH="//cdn.rawgit.com/mahnunchik/markerclustererplus/master/images/m",i.IMAGE_EXTENSION="png",i.IMAGE_SIZES=[53,56,66,78,90],"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),o.prototype=new google.maps.OverlayView,o.prototype.createInfoBoxDiv_=function(){var e,t,n,r=this,i=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()},o=function(e){e.returnValue=!1,e.preventDefault&&e.preventDefault(),r.enableEventPropagation_||i(e)};if(!this.div_){if(this.div_=document.createElement("div"),this.setBoxStyle_(),"undefined"==typeof this.content_.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+this.content_:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(this.content_)),this.getPanes()[this.pane_].appendChild(this.div_),this.addClickHandler_(),this.div_.style.width?this.fixedWidthSet_=!0:0!==this.maxWidth_&&this.div_.offsetWidth>this.maxWidth_?(this.div_.style.width=this.maxWidth_,this.div_.style.overflow="auto",this.fixedWidthSet_=!0):(n=this.getBoxWidths_(),this.div_.style.width=this.div_.offsetWidth-n.left-n.right+"px",this.fixedWidthSet_=!1),this.panBox_(this.disableAutoPan_),!this.enableEventPropagation_){for(this.eventListeners_=[],t=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],e=0;e<t.length;e++)this.eventListeners_.push(google.maps.event.addDomListener(this.div_,t[e],i));this.eventListeners_.push(google.maps.event.addDomListener(this.div_,"mouseover",function(){this.style.cursor="default"}))}this.contextListener_=google.maps.event.addDomListener(this.div_,"contextmenu",o),google.maps.event.trigger(this,"domready")}},o.prototype.getCloseBoxImg_=function(){var e="";return""!==this.closeBoxURL_&&(e="<img",e+=" src='"+this.closeBoxURL_+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin_+";",e+="'>"),e},o.prototype.addClickHandler_=function(){var e;""!==this.closeBoxURL_?(e=this.div_.firstChild,this.closeListener_=google.maps.event.addDomListener(e,"click",this.getCloseClickHandler_())):this.closeListener_=null},o.prototype.getCloseClickHandler_=function(){var e=this;return function(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation(),google.maps.event.trigger(e,"closeclick"),e.close()}},o.prototype.panBox_=function(e){var t,n,r=0,i=0;if(!e&&(t=this.getMap(),t instanceof google.maps.Map)){t.getBounds().contains(this.position_)||t.setCenter(this.position_),n=t.getBounds();var o=t.getDiv(),a=o.offsetWidth,s=o.offsetHeight,l=this.pixelOffset_.width,u=this.pixelOffset_.height,c=this.div_.offsetWidth,d=this.div_.offsetHeight,p=this.infoBoxClearance_.width,h=this.infoBoxClearance_.height,f=this.getProjection().fromLatLngToContainerPixel(this.position_);if(f.x<-l+p?r=f.x+l-p:f.x+c+l+p>a&&(r=f.x+c+l+p-a),this.alignBottom_?f.y<-u+h+d?i=f.y+u-h-d:f.y+u+h>s&&(i=f.y+u+h-s):f.y<-u+h?i=f.y+u-h:f.y+d+u+h>s&&(i=f.y+d+u+h-s),0!==r||0!==i){{t.getCenter()}t.panBy(r,i)}}},o.prototype.setBoxStyle_=function(){var e,t;if(this.div_){this.div_.className=this.boxClass_,this.div_.style.cssText="",t=this.boxStyle_;for(e in t)t.hasOwnProperty(e)&&(this.div_.style[e]=t[e]);this.div_.style.WebkitTransform="translateZ(0)","undefined"!=typeof this.div_.style.opacity&&""!==this.div_.style.opacity&&(this.div_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*this.div_.style.opacity+')"',this.div_.style.filter="alpha(opacity="+100*this.div_.style.opacity+")"),this.div_.style.position="absolute",this.div_.style.visibility="hidden",null!==this.zIndex_&&(this.div_.style.zIndex=this.zIndex_)}},o.prototype.getBoxWidths_=function(){var e,t={top:0,bottom:0,left:0,right:0},n=this.div_;return document.defaultView&&document.defaultView.getComputedStyle?(e=n.ownerDocument.defaultView.getComputedStyle(n,""),e&&(t.top=parseInt(e.borderTopWidth,10)||0,t.bottom=parseInt(e.borderBottomWidth,10)||0,t.left=parseInt(e.borderLeftWidth,10)||0,t.right=parseInt(e.borderRightWidth,10)||0)):document.documentElement.currentStyle&&n.currentStyle&&(t.top=parseInt(n.currentStyle.borderTopWidth,10)||0,t.bottom=parseInt(n.currentStyle.borderBottomWidth,10)||0,t.left=parseInt(n.currentStyle.borderLeftWidth,10)||0,t.right=parseInt(n.currentStyle.borderRightWidth,10)||0),t},o.prototype.onRemove=function(){this.div_&&(this.div_.parentNode.removeChild(this.div_),this.div_=null)},o.prototype.draw=function(){this.createInfoBoxDiv_();var e=this.getProjection().fromLatLngToDivPixel(this.position_);this.div_.style.left=e.x+this.pixelOffset_.width+"px",this.alignBottom_?this.div_.style.bottom=-(e.y+this.pixelOffset_.height)+"px":this.div_.style.top=e.y+this.pixelOffset_.height+"px",this.div_.style.visibility=this.isHidden_?"hidden":"visible"},o.prototype.setOptions=function(e){"undefined"!=typeof e.boxClass&&(this.boxClass_=e.boxClass,this.setBoxStyle_()),"undefined"!=typeof e.boxStyle&&(this.boxStyle_=e.boxStyle,this.setBoxStyle_()),"undefined"!=typeof e.content&&this.setContent(e.content),"undefined"!=typeof e.disableAutoPan&&(this.disableAutoPan_=e.disableAutoPan),"undefined"!=typeof e.maxWidth&&(this.maxWidth_=e.maxWidth),"undefined"!=typeof e.pixelOffset&&(this.pixelOffset_=e.pixelOffset),"undefined"!=typeof e.alignBottom&&(this.alignBottom_=e.alignBottom),"undefined"!=typeof e.position&&this.setPosition(e.position),"undefined"!=typeof e.zIndex&&this.setZIndex(e.zIndex),"undefined"!=typeof e.closeBoxMargin&&(this.closeBoxMargin_=e.closeBoxMargin),"undefined"!=typeof e.closeBoxURL&&(this.closeBoxURL_=e.closeBoxURL),"undefined"!=typeof e.infoBoxClearance&&(this.infoBoxClearance_=e.infoBoxClearance),"undefined"!=typeof e.isHidden&&(this.isHidden_=e.isHidden),"undefined"!=typeof e.visible&&(this.isHidden_=!e.visible),"undefined"!=typeof e.enableEventPropagation&&(this.enableEventPropagation_=e.enableEventPropagation),this.div_&&this.draw()},o.prototype.setContent=function(e){this.content_=e,this.div_&&(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.fixedWidthSet_||(this.div_.style.width=""),"undefined"==typeof e.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+e:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(e)),this.fixedWidthSet_||(this.div_.style.width=this.div_.offsetWidth+"px","undefined"==typeof e.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+e:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(e))),this.addClickHandler_()),google.maps.event.trigger(this,"content_changed")},o.prototype.setPosition=function(e){this.position_=e,this.div_&&this.draw(),google.maps.event.trigger(this,"position_changed")},o.prototype.setZIndex=function(e){this.zIndex_=e,this.div_&&(this.div_.style.zIndex=e),google.maps.event.trigger(this,"zindex_changed")},o.prototype.setVisible=function(e){this.isHidden_=!e,this.div_&&(this.div_.style.visibility=this.isHidden_?"hidden":"visible")},o.prototype.getContent=function(){return this.content_},o.prototype.getPosition=function(){return this.position_},o.prototype.getZIndex=function(){return this.zIndex_},o.prototype.getVisible=function(){var e;return e="undefined"==typeof this.getMap()||null===this.getMap()?!1:!this.isHidden_},o.prototype.show=function(){this.isHidden_=!1,this.div_&&(this.div_.style.visibility="visible")},o.prototype.hide=function(){this.isHidden_=!0,this.div_&&(this.div_.style.visibility="hidden")},o.prototype.open=function(e,t){var n=this;t&&(this.position_=t.getPosition(),this.moveListener_=google.maps.event.addListener(t,"position_changed",function(){n.setPosition(this.getPosition())})),this.setMap(e),this.div_&&this.panBox_()},o.prototype.close=function(){var e;if(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.eventListeners_){for(e=0;e<this.eventListeners_.length;e++)google.maps.event.removeListener(this.eventListeners_[e]);this.eventListeners_=null}this.moveListener_&&(google.maps.event.removeListener(this.moveListener_),this.moveListener_=null),this.contextListener_&&(google.maps.event.removeListener(this.contextListener_),this.contextListener_=null),this.setMap(null)},function(){function t(e,t){var n=this,r=new google.maps.OverlayView;r.onAdd=function(){n.init_(e,t)},r.draw=function(){},r.onRemove=function(){},r.setMap(e),this.prjov_=r}var n=function(e){var t;switch(e){case"thin":t="2px";break;case"medium":t="4px";break;case"thick":t="6px";break;default:t=e}return t},r=function(e){var t,r={};if(document.defaultView&&document.defaultView.getComputedStyle){if(t=e.ownerDocument.defaultView.getComputedStyle(e,""))return r.top=parseInt(t.borderTopWidth,10)||0,r.bottom=parseInt(t.borderBottomWidth,10)||0,r.left=parseInt(t.borderLeftWidth,10)||0,r.right=parseInt(t.borderRightWidth,10)||0,r}else if(document.documentElement.currentStyle&&e.currentStyle)return r.top=parseInt(n(e.currentStyle.borderTopWidth),10)||0,r.bottom=parseInt(n(e.currentStyle.borderBottomWidth),10)||0,r.left=parseInt(n(e.currentStyle.borderLeftWidth),10)||0,r.right=parseInt(n(e.currentStyle.borderRightWidth),10)||0,r;return r.top=parseInt(e.style["border-top-width"],10)||0,r.bottom=parseInt(e.style["border-bottom-width"],10)||0,r.left=parseInt(e.style["border-left-width"],10)||0,r.right=parseInt(e.style["border-right-width"],10)||0,r},i={x:0,y:0},o=function(){i.x="undefined"!=typeof document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft,i.y="undefined"!=typeof document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop};o();var a=function(t){var n=0,r=0;return t=t||e.event,"undefined"!=typeof t.pageX?(n=t.pageX,r=t.pageY):"undefined"!=typeof t.clientX&&(n=t.clientX+i.x,r=t.clientY+i.y),{left:n,top:r}},s=function(t){for(var n=t.offsetLeft,r=t.offsetTop,i=t.offsetParent;null!==i;){i!==document.body&&i!==document.documentElement&&(n-=i.scrollLeft,r-=i.scrollTop);var o=i,a=o.offsetLeft,s=o.offsetTop;if(!a&&!s&&e.getComputedStyle){var l=document.defaultView.getComputedStyle(o,null).MozTransform||document.defaultView.getComputedStyle(o,null).WebkitTransform;if(l&&"string"==typeof l){var u=l.split(",");a+=parseInt(u[4],10)||0,s+=parseInt(u[5],10)||0}}n+=a,r+=s,i=i.offsetParent}return{left:n,top:r}},l=function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},u=function(e,t){"undefined"!=typeof t&&(e.style.opacity=t),"undefined"!=typeof e.style.opacity&&""!==e.style.opacity&&(e.style.filter="alpha(opacity="+100*e.style.opacity+")")};t.prototype.init_=function(t,n){var i,a=this;for(this.map_=t,n=n||{},this.key_=n.key||"shift",this.key_=this.key_.toLowerCase(),this.borderWidths_=r(this.map_.getDiv()),this.veilDiv_=[],i=0;4>i;i++)this.veilDiv_[i]=document.createElement("div"),this.veilDiv_[i].onselectstart=function(){return!1},l(this.veilDiv_[i].style,{backgroundColor:"gray",opacity:.25,cursor:"crosshair"}),l(this.veilDiv_[i].style,n.paneStyle),l(this.veilDiv_[i].style,n.veilStyle),l(this.veilDiv_[i].style,{position:"absolute",overflow:"hidden",display:"none"}),"shift"===this.key_&&(this.veilDiv_[i].style.MozUserSelect="none"),u(this.veilDiv_[i]),"transparent"===this.veilDiv_[i].style.backgroundColor&&(this.veilDiv_[i].style.backgroundColor="white",u(this.veilDiv_[i],0)),this.map_.getDiv().appendChild(this.veilDiv_[i]);this.noZoom_=n.noZoom||!1,this.visualEnabled_=n.visualEnabled||!1,this.visualClass_=n.visualClass||"",this.visualPosition_=n.visualPosition||google.maps.ControlPosition.LEFT_TOP,this.visualPositionOffset_=n.visualPositionOffset||new google.maps.Size(35,0),this.visualPositionIndex_=n.visualPositionIndex||null,this.visualSprite_=n.visualSprite||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/mapfiles/ftr/controls/dragzoom_btn.png",this.visualSize_=n.visualSize||new google.maps.Size(20,20),this.visualTips_=n.visualTips||{},this.visualTips_.off=this.visualTips_.off||"Turn on drag zoom mode",this.visualTips_.on=this.visualTips_.on||"Turn off drag zoom mode",this.boxDiv_=document.createElement("div"),l(this.boxDiv_.style,{border:"4px solid #736AFF"}),l(this.boxDiv_.style,n.boxStyle),l(this.boxDiv_.style,{position:"absolute",display:"none"}),u(this.boxDiv_),this.map_.getDiv().appendChild(this.boxDiv_),this.boxBorderWidths_=r(this.boxDiv_),this.listeners_=[google.maps.event.addDomListener(document,"keydown",function(e){a.onKeyDown_(e)}),google.maps.event.addDomListener(document,"keyup",function(e){a.onKeyUp_(e)}),google.maps.event.addDomListener(this.veilDiv_[0],"mousedown",function(e){a.onMouseDown_(e)}),google.maps.event.addDomListener(this.veilDiv_[1],"mousedown",function(e){a.onMouseDown_(e)}),google.maps.event.addDomListener(this.veilDiv_[2],"mousedown",function(e){a.onMouseDown_(e)}),google.maps.event.addDomListener(this.veilDiv_[3],"mousedown",function(e){a.onMouseDown_(e)}),google.maps.event.addDomListener(document,"mousedown",function(e){a.onMouseDownDocument_(e)}),google.maps.event.addDomListener(document,"mousemove",function(e){a.onMouseMove_(e)}),google.maps.event.addDomListener(document,"mouseup",function(e){a.onMouseUp_(e)}),google.maps.event.addDomListener(e,"scroll",o)],this.hotKeyDown_=!1,this.mouseDown_=!1,this.dragging_=!1,this.startPt_=null,this.endPt_=null,this.mapWidth_=null,this.mapHeight_=null,this.mousePosn_=null,this.mapPosn_=null,this.visualEnabled_&&(this.buttonDiv_=this.initControl_(this.visualPositionOffset_),null!==this.visualPositionIndex_&&(this.buttonDiv_.index=this.visualPositionIndex_),this.map_.controls[this.visualPosition_].push(this.buttonDiv_),this.controlIndex_=this.map_.controls[this.visualPosition_].length-1)},t.prototype.initControl_=function(e){var t,n,r=this;return t=document.createElement("div"),t.className=this.visualClass_,t.style.position="relative",t.style.overflow="hidden",t.style.height=this.visualSize_.height+"px",t.style.width=this.visualSize_.width+"px",t.title=this.visualTips_.off,n=document.createElement("img"),n.src=this.visualSprite_,n.style.position="absolute",n.style.left=-(2*this.visualSize_.width)+"px",n.style.top="0px",t.appendChild(n),t.onclick=function(e){r.hotKeyDown_=!r.hotKeyDown_,r.hotKeyDown_?(r.buttonDiv_.firstChild.style.left=-(0*r.visualSize_.width)+"px",r.buttonDiv_.title=r.visualTips_.on,r.activatedByControl_=!0,google.maps.event.trigger(r,"activate")):(r.buttonDiv_.firstChild.style.left=-(2*r.visualSize_.width)+"px",r.buttonDiv_.title=r.visualTips_.off,google.maps.event.trigger(r,"deactivate")),r.onMouseMove_(e)},t.onmouseover=function(){r.buttonDiv_.firstChild.style.left=-(1*r.visualSize_.width)+"px"},t.onmouseout=function(){r.hotKeyDown_?(r.buttonDiv_.firstChild.style.left=-(0*r.visualSize_.width)+"px",r.buttonDiv_.title=r.visualTips_.on):(r.buttonDiv_.firstChild.style.left=-(2*r.visualSize_.width)+"px",r.buttonDiv_.title=r.visualTips_.off)},t.ondragstart=function(){return!1},l(t.style,{cursor:"pointer",marginTop:e.height+"px",marginLeft:e.width+"px"}),t},t.prototype.isHotKeyDown_=function(t){var n;if(t=t||e.event,n=t.shiftKey&&"shift"===this.key_||t.altKey&&"alt"===this.key_||t.ctrlKey&&"ctrl"===this.key_,!n)switch(t.keyCode){case 16:"shift"===this.key_&&(n=!0);break;case 17:"ctrl"===this.key_&&(n=!0);break;case 18:"alt"===this.key_&&(n=!0)}return n},t.prototype.isMouseOnMap_=function(){var e=this.mousePosn_;if(e){var t=this.mapPosn_,n=this.map_.getDiv();return e.left>t.left&&e.left<t.left+n.offsetWidth&&e.top>t.top&&e.top<t.top+n.offsetHeight}return!1},t.prototype.setVeilVisibility_=function(){var e;if(this.map_&&this.hotKeyDown_&&this.isMouseOnMap_()){var t=this.map_.getDiv();if(this.mapWidth_=t.offsetWidth-(this.borderWidths_.left+this.borderWidths_.right),this.mapHeight_=t.offsetHeight-(this.borderWidths_.top+this.borderWidths_.bottom),this.activatedByControl_){var n=parseInt(this.buttonDiv_.style.left,10)+this.visualPositionOffset_.width,r=parseInt(this.buttonDiv_.style.top,10)+this.visualPositionOffset_.height,i=this.visualSize_.width,o=this.visualSize_.height;for(this.veilDiv_[0].style.top="0px",this.veilDiv_[0].style.left="0px",this.veilDiv_[0].style.width=n+"px",this.veilDiv_[0].style.height=this.mapHeight_+"px",this.veilDiv_[1].style.top="0px",this.veilDiv_[1].style.left=n+i+"px",this.veilDiv_[1].style.width=this.mapWidth_-(n+i)+"px",this.veilDiv_[1].style.height=this.mapHeight_+"px",this.veilDiv_[2].style.top="0px",this.veilDiv_[2].style.left=n+"px",this.veilDiv_[2].style.width=i+"px",this.veilDiv_[2].style.height=r+"px",this.veilDiv_[3].style.top=r+o+"px",this.veilDiv_[3].style.left=n+"px",this.veilDiv_[3].style.width=i+"px",this.veilDiv_[3].style.height=this.mapHeight_-(r+o)+"px",e=0;e<this.veilDiv_.length;e++)this.veilDiv_[e].style.display="block"}else{for(this.veilDiv_[0].style.left="0px",this.veilDiv_[0].style.top="0px",this.veilDiv_[0].style.width=this.mapWidth_+"px",this.veilDiv_[0].style.height=this.mapHeight_+"px",e=1;e<this.veilDiv_.length;e++)this.veilDiv_[e].style.width="0px",this.veilDiv_[e].style.height="0px";for(e=0;e<this.veilDiv_.length;e++)this.veilDiv_[e].style.display="block"}}else for(e=0;e<this.veilDiv_.length;e++)this.veilDiv_[e].style.display="none"},t.prototype.onKeyDown_=function(e){this.map_&&!this.hotKeyDown_&&this.isHotKeyDown_(e)&&(this.mapPosn_=s(this.map_.getDiv()),this.hotKeyDown_=!0,this.activatedByControl_=!1,this.setVeilVisibility_(),google.maps.event.trigger(this,"activate"))},t.prototype.getMousePoint_=function(e){var t=a(e),n=new google.maps.Point;return n.x=t.left-this.mapPosn_.left-this.borderWidths_.left,n.y=t.top-this.mapPosn_.top-this.borderWidths_.top,n.x=Math.min(n.x,this.mapWidth_),n.y=Math.min(n.y,this.mapHeight_),n.x=Math.max(n.x,0),n.y=Math.max(n.y,0),n},t.prototype.onMouseDown_=function(e){if(this.map_&&this.hotKeyDown_){this.mapPosn_=s(this.map_.getDiv()),this.dragging_=!0,this.startPt_=this.endPt_=this.getMousePoint_(e),this.boxDiv_.style.width=this.boxDiv_.style.height="0px";var t=this.prjov_.getProjection(),n=t.fromContainerPixelToLatLng(this.startPt_);google.maps.event.trigger(this,"dragstart",n)}},t.prototype.onMouseDownDocument_=function(){this.mouseDown_=!0},t.prototype.onMouseMove_=function(e){if(this.mousePosn_=a(e),this.dragging_){this.endPt_=this.getMousePoint_(e);var t=Math.min(this.startPt_.x,this.endPt_.x),n=Math.min(this.startPt_.y,this.endPt_.y),r=Math.abs(this.startPt_.x-this.endPt_.x),i=Math.abs(this.startPt_.y-this.endPt_.y),o=Math.max(0,r-(this.boxBorderWidths_.left+this.boxBorderWidths_.right)),l=Math.max(0,i-(this.boxBorderWidths_.top+this.boxBorderWidths_.bottom));this.veilDiv_[0].style.top="0px",this.veilDiv_[0].style.left="0px",this.veilDiv_[0].style.width=t+"px",this.veilDiv_[0].style.height=this.mapHeight_+"px",this.veilDiv_[1].style.top="0px",this.veilDiv_[1].style.left=t+r+"px",this.veilDiv_[1].style.width=this.mapWidth_-(t+r)+"px",this.veilDiv_[1].style.height=this.mapHeight_+"px",this.veilDiv_[2].style.top="0px",this.veilDiv_[2].style.left=t+"px",this.veilDiv_[2].style.width=r+"px",this.veilDiv_[2].style.height=n+"px",this.veilDiv_[3].style.top=n+i+"px",this.veilDiv_[3].style.left=t+"px",this.veilDiv_[3].style.width=r+"px",this.veilDiv_[3].style.height=this.mapHeight_-(n+i)+"px",this.boxDiv_.style.top=n+"px",this.boxDiv_.style.left=t+"px",this.boxDiv_.style.width=o+"px",this.boxDiv_.style.height=l+"px",this.boxDiv_.style.display="block",google.maps.event.trigger(this,"drag",new google.maps.Point(t,n+i),new google.maps.Point(t+r,n),this.prjov_.getProjection())}else this.mouseDown_||(this.mapPosn_=s(this.map_.getDiv()),this.setVeilVisibility_())},t.prototype.onMouseUp_=function(e){var t,n=this;if(this.mouseDown_=!1,this.dragging_){if(this.getMousePoint_(e).x===this.startPt_.x&&this.getMousePoint_(e).y===this.startPt_.y)return void this.onKeyUp_(e);var r=Math.min(this.startPt_.x,this.endPt_.x),i=Math.min(this.startPt_.y,this.endPt_.y),o=Math.abs(this.startPt_.x-this.endPt_.x),a=Math.abs(this.startPt_.y-this.endPt_.y),s=!0;s&&(r+=this.borderWidths_.left,i+=this.borderWidths_.top);var l=this.prjov_.getProjection(),u=l.fromContainerPixelToLatLng(new google.maps.Point(r,i+a)),c=l.fromContainerPixelToLatLng(new google.maps.Point(r+o,i)),d=new google.maps.LatLngBounds(u,c);if(this.noZoom_)this.boxDiv_.style.display="none";else{t=this.map_.getZoom(),this.map_.fitBounds(d),this.map_.getZoom()<t&&this.map_.setZoom(t);var p=l.fromLatLngToContainerPixel(u),h=l.fromLatLngToContainerPixel(c);s&&(p.x-=this.borderWidths_.left,p.y-=this.borderWidths_.top,h.x-=this.borderWidths_.left,h.y-=this.borderWidths_.top),this.boxDiv_.style.left=p.x+"px",this.boxDiv_.style.top=h.y+"px",this.boxDiv_.style.width=Math.abs(h.x-p.x)-(this.boxBorderWidths_.left+this.boxBorderWidths_.right)+"px",this.boxDiv_.style.height=Math.abs(h.y-p.y)-(this.boxBorderWidths_.top+this.boxBorderWidths_.bottom)+"px",setTimeout(function(){n.boxDiv_.style.display="none"},1e3)}this.dragging_=!1,this.onMouseMove_(e),google.maps.event.trigger(this,"dragend",d),this.isHotKeyDown_(e)||this.onKeyUp_(e)}},t.prototype.onKeyUp_=function(){var e,t,n,r,i,o,a,s,l=null;if(this.map_&&this.hotKeyDown_){for(this.hotKeyDown_=!1,this.dragging_&&(this.boxDiv_.style.display="none",this.dragging_=!1,t=Math.min(this.startPt_.x,this.endPt_.x),n=Math.min(this.startPt_.y,this.endPt_.y),r=Math.abs(this.startPt_.x-this.endPt_.x),i=Math.abs(this.startPt_.y-this.endPt_.y),o=this.prjov_.getProjection(),a=o.fromContainerPixelToLatLng(new google.maps.Point(t,n+i)),s=o.fromContainerPixelToLatLng(new google.maps.Point(t+r,n)),l=new google.maps.LatLngBounds(a,s)),e=0;e<this.veilDiv_.length;e++)this.veilDiv_[e].style.display="none";
this.visualEnabled_&&(this.buttonDiv_.firstChild.style.left=-(2*this.visualSize_.width)+"px",this.buttonDiv_.title=this.visualTips_.off,this.buttonDiv_.style.display=""),google.maps.event.trigger(this,"deactivate",l)}},google.maps.Map.prototype.enableKeyDragZoom=function(e){this.dragZoom_=new t(this,e)},google.maps.Map.prototype.disableKeyDragZoom=function(){var e,t=this.dragZoom_;if(t){for(e=0;e<t.listeners_.length;++e)google.maps.event.removeListener(t.listeners_[e]);for(this.getDiv().removeChild(t.boxDiv_),e=0;e<t.veilDiv_.length;e++)this.getDiv().removeChild(t.veilDiv_[e]);t.visualEnabled_&&this.controls[t.visualPosition_].removeAt(t.controlIndex_),t.prjov_.setMap(null),this.dragZoom_=null}},google.maps.Map.prototype.keyDragZoomEnabled=function(){return null!==this.dragZoom_},google.maps.Map.prototype.getDragZoomObject=function(){return this.dragZoom_}}(),a(s,google.maps.OverlayView),s.getSharedCross=function(e){var t;return"undefined"==typeof s.getSharedCross.crossDiv&&(t=document.createElement("img"),t.style.cssText="position: absolute; z-index: 1000002; display: none;",t.style.marginLeft="-8px",t.style.marginTop="-9px",t.src=e,s.getSharedCross.crossDiv=t),s.getSharedCross.crossDiv},s.prototype.onAdd=function(){var e,t,n,r,i,o,a,l=this,u=!1,c=!1,d=20,p="url("+this.handCursorURL_+")",h=function(e){e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()},f=function(){l.marker_.setAnimation(null)};this.getPanes().overlayImage.appendChild(this.labelDiv_),this.getPanes().overlayMouseTarget.appendChild(this.eventDiv_),"undefined"==typeof s.getSharedCross.processed&&(this.getPanes().overlayImage.appendChild(this.crossDiv_),s.getSharedCross.processed=!0),this.listeners_=[google.maps.event.addDomListener(this.eventDiv_,"mouseover",function(e){(l.marker_.getDraggable()||l.marker_.getClickable())&&(this.style.cursor="pointer",google.maps.event.trigger(l.marker_,"mouseover",e))}),google.maps.event.addDomListener(this.eventDiv_,"mouseout",function(e){!l.marker_.getDraggable()&&!l.marker_.getClickable()||c||(this.style.cursor=l.marker_.getCursor(),google.maps.event.trigger(l.marker_,"mouseout",e))}),google.maps.event.addDomListener(this.eventDiv_,"mousedown",function(e){c=!1,l.marker_.getDraggable()&&(u=!0,this.style.cursor=p),(l.marker_.getDraggable()||l.marker_.getClickable())&&(google.maps.event.trigger(l.marker_,"mousedown",e),h(e))}),google.maps.event.addDomListener(document,"mouseup",function(t){var n;if(u&&(u=!1,l.eventDiv_.style.cursor="pointer",google.maps.event.trigger(l.marker_,"mouseup",t)),c){if(i){n=l.getProjection().fromLatLngToDivPixel(l.marker_.getPosition()),n.y+=d,l.marker_.setPosition(l.getProjection().fromDivPixelToLatLng(n));try{l.marker_.setAnimation(google.maps.Animation.BOUNCE),setTimeout(f,1406)}catch(o){}}l.crossDiv_.style.display="none",l.marker_.setZIndex(e),r=!0,c=!1,t.latLng=l.marker_.getPosition(),google.maps.event.trigger(l.marker_,"dragend",t)}}),google.maps.event.addListener(l.marker_.getMap(),"mousemove",function(r){var s;u&&(c?(r.latLng=new google.maps.LatLng(r.latLng.lat()-t,r.latLng.lng()-n),s=l.getProjection().fromLatLngToDivPixel(r.latLng),i&&(l.crossDiv_.style.left=s.x+"px",l.crossDiv_.style.top=s.y+"px",l.crossDiv_.style.display="",s.y-=d),l.marker_.setPosition(l.getProjection().fromDivPixelToLatLng(s)),i&&(l.eventDiv_.style.top=s.y+d+"px"),google.maps.event.trigger(l.marker_,"drag",r)):(t=r.latLng.lat()-l.marker_.getPosition().lat(),n=r.latLng.lng()-l.marker_.getPosition().lng(),e=l.marker_.getZIndex(),o=l.marker_.getPosition(),a=l.marker_.getMap().getCenter(),i=l.marker_.get("raiseOnDrag"),c=!0,l.marker_.setZIndex(1e6),r.latLng=l.marker_.getPosition(),google.maps.event.trigger(l.marker_,"dragstart",r)))}),google.maps.event.addDomListener(document,"keydown",function(e){c&&27===e.keyCode&&(i=!1,l.marker_.setPosition(o),l.marker_.getMap().setCenter(a),google.maps.event.trigger(document,"mouseup",e))}),google.maps.event.addDomListener(this.eventDiv_,"click",function(e){(l.marker_.getDraggable()||l.marker_.getClickable())&&(r?r=!1:(google.maps.event.trigger(l.marker_,"click",e),h(e)))}),google.maps.event.addDomListener(this.eventDiv_,"dblclick",function(e){(l.marker_.getDraggable()||l.marker_.getClickable())&&(google.maps.event.trigger(l.marker_,"dblclick",e),h(e))}),google.maps.event.addListener(this.marker_,"dragstart",function(){c||(i=this.get("raiseOnDrag"))}),google.maps.event.addListener(this.marker_,"drag",function(){c||i&&(l.setPosition(d),l.labelDiv_.style.zIndex=1e6+(this.get("labelInBackground")?-1:1))}),google.maps.event.addListener(this.marker_,"dragend",function(){c||i&&l.setPosition(0)}),google.maps.event.addListener(this.marker_,"position_changed",function(){l.setPosition()}),google.maps.event.addListener(this.marker_,"zindex_changed",function(){l.setZIndex()}),google.maps.event.addListener(this.marker_,"visible_changed",function(){l.setVisible()}),google.maps.event.addListener(this.marker_,"labelvisible_changed",function(){l.setVisible()}),google.maps.event.addListener(this.marker_,"title_changed",function(){l.setTitle()}),google.maps.event.addListener(this.marker_,"labelcontent_changed",function(){l.setContent()}),google.maps.event.addListener(this.marker_,"labelanchor_changed",function(){l.setAnchor()}),google.maps.event.addListener(this.marker_,"labelclass_changed",function(){l.setStyles()}),google.maps.event.addListener(this.marker_,"labelstyle_changed",function(){l.setStyles()})]},s.prototype.onRemove=function(){var e;for(this.labelDiv_.parentNode.removeChild(this.labelDiv_),this.eventDiv_.parentNode.removeChild(this.eventDiv_),e=0;e<this.listeners_.length;e++)google.maps.event.removeListener(this.listeners_[e])},s.prototype.draw=function(){this.setContent(),this.setTitle(),this.setStyles()},s.prototype.setContent=function(){var e=this.marker_.get("labelContent");"undefined"==typeof e.nodeType?(this.labelDiv_.innerHTML=e,this.eventDiv_.innerHTML=this.labelDiv_.innerHTML):(this.labelDiv_.innerHTML="",this.labelDiv_.appendChild(e),e=e.cloneNode(!0),this.eventDiv_.innerHTML="",this.eventDiv_.appendChild(e))},s.prototype.setTitle=function(){this.eventDiv_.title=this.marker_.getTitle()||""},s.prototype.setStyles=function(){var e,t;this.labelDiv_.className=this.marker_.get("labelClass"),this.eventDiv_.className=this.labelDiv_.className,this.labelDiv_.style.cssText="",this.eventDiv_.style.cssText="",t=this.marker_.get("labelStyle");for(e in t)t.hasOwnProperty(e)&&(this.labelDiv_.style[e]=t[e],this.eventDiv_.style[e]=t[e]);this.setMandatoryStyles()},s.prototype.setMandatoryStyles=function(){this.labelDiv_.style.position="absolute",this.labelDiv_.style.overflow="hidden","undefined"!=typeof this.labelDiv_.style.opacity&&""!==this.labelDiv_.style.opacity&&(this.labelDiv_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(opacity='+100*this.labelDiv_.style.opacity+')"',this.labelDiv_.style.filter="alpha(opacity="+100*this.labelDiv_.style.opacity+")"),this.eventDiv_.style.position=this.labelDiv_.style.position,this.eventDiv_.style.overflow=this.labelDiv_.style.overflow,this.eventDiv_.style.opacity=.01,this.eventDiv_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(opacity=1)"',this.eventDiv_.style.filter="alpha(opacity=1)",this.setAnchor(),this.setPosition(),this.setVisible()},s.prototype.setAnchor=function(){var e=this.marker_.get("labelAnchor");this.labelDiv_.style.marginLeft=-e.x+"px",this.labelDiv_.style.marginTop=-e.y+"px",this.eventDiv_.style.marginLeft=-e.x+"px",this.eventDiv_.style.marginTop=-e.y+"px"},s.prototype.setPosition=function(e){var t=this.getProjection().fromLatLngToDivPixel(this.marker_.getPosition());"undefined"==typeof e&&(e=0),this.labelDiv_.style.left=Math.round(t.x)+"px",this.labelDiv_.style.top=Math.round(t.y-e)+"px",this.eventDiv_.style.left=this.labelDiv_.style.left,this.eventDiv_.style.top=this.labelDiv_.style.top,this.setZIndex()},s.prototype.setZIndex=function(){var e=this.marker_.get("labelInBackground")?-1:1;"undefined"==typeof this.marker_.getZIndex()?(this.labelDiv_.style.zIndex=parseInt(this.labelDiv_.style.top,10)+e,this.eventDiv_.style.zIndex=this.labelDiv_.style.zIndex):(this.labelDiv_.style.zIndex=this.marker_.getZIndex()+e,this.eventDiv_.style.zIndex=this.labelDiv_.style.zIndex)},s.prototype.setVisible=function(){this.labelDiv_.style.display=this.marker_.get("labelVisible")&&this.marker_.getVisible()?"block":"none",this.eventDiv_.style.display=this.labelDiv_.style.display},a(l,google.maps.Marker),l.prototype.setMap=function(e){google.maps.Marker.prototype.setMap.apply(this,arguments),this.label.setMap(e)},u.prototype=new google.maps.OverlayView,e.RichMarker=u,u.prototype.getVisible=function(){return this.get("visible")},u.prototype.getVisible=u.prototype.getVisible,u.prototype.setVisible=function(e){this.set("visible",e)},u.prototype.setVisible=u.prototype.setVisible,u.prototype.visible_changed=function(){this.ready_&&(this.markerWrapper_.style.display=this.getVisible()?"":"none",this.draw())},u.prototype.visible_changed=u.prototype.visible_changed,u.prototype.setFlat=function(e){this.set("flat",!!e)},u.prototype.setFlat=u.prototype.setFlat,u.prototype.getFlat=function(){return this.get("flat")},u.prototype.getFlat=u.prototype.getFlat,u.prototype.getWidth=function(){return this.get("width")},u.prototype.getWidth=u.prototype.getWidth,u.prototype.getHeight=function(){return this.get("height")},u.prototype.getHeight=u.prototype.getHeight,u.prototype.setShadow=function(e){this.set("shadow",e),this.flat_changed()},u.prototype.setShadow=u.prototype.setShadow,u.prototype.getShadow=function(){return this.get("shadow")},u.prototype.getShadow=u.prototype.getShadow,u.prototype.flat_changed=function(){this.ready_&&(this.markerWrapper_.style.boxShadow=this.markerWrapper_.style.webkitBoxShadow=this.markerWrapper_.style.MozBoxShadow=this.getFlat()?"":this.getShadow())},u.prototype.flat_changed=u.prototype.flat_changed,u.prototype.setZIndex=function(e){this.set("zIndex",e)},u.prototype.setZIndex=u.prototype.setZIndex,u.prototype.getZIndex=function(){return this.get("zIndex")},u.prototype.getZIndex=u.prototype.getZIndex,u.prototype.zIndex_changed=function(){this.getZIndex()&&this.ready_&&(this.markerWrapper_.style.zIndex=this.getZIndex())},u.prototype.zIndex_changed=u.prototype.zIndex_changed,u.prototype.getDraggable=function(){return this.get("draggable")},u.prototype.getDraggable=u.prototype.getDraggable,u.prototype.setDraggable=function(e){this.set("draggable",!!e)},u.prototype.setDraggable=u.prototype.setDraggable,u.prototype.draggable_changed=function(){this.ready_&&(this.getDraggable()?this.addDragging_(this.markerWrapper_):this.removeDragListeners_())},u.prototype.draggable_changed=u.prototype.draggable_changed,u.prototype.getPosition=function(){return this.get("position")},u.prototype.getPosition=u.prototype.getPosition,u.prototype.setPosition=function(e){this.set("position",e)},u.prototype.setPosition=u.prototype.setPosition,u.prototype.position_changed=function(){this.draw()},u.prototype.position_changed=u.prototype.position_changed,u.prototype.getAnchor=function(){return this.get("anchor")},u.prototype.getAnchor=u.prototype.getAnchor,u.prototype.setAnchor=function(e){this.set("anchor",e)},u.prototype.setAnchor=u.prototype.setAnchor,u.prototype.anchor_changed=function(){this.draw()},u.prototype.anchor_changed=u.prototype.anchor_changed,u.prototype.htmlToDocumentFragment_=function(e){var t=document.createElement("DIV");if(t.innerHTML=e,1==t.childNodes.length)return t.removeChild(t.firstChild);for(var n=document.createDocumentFragment();t.firstChild;)n.appendChild(t.firstChild);return n},u.prototype.removeChildren_=function(e){if(e)for(var t;t=e.firstChild;)e.removeChild(t)},u.prototype.setContent=function(e){this.set("content",e)},u.prototype.setContent=u.prototype.setContent,u.prototype.getContent=function(){return this.get("content")},u.prototype.getContent=u.prototype.getContent,u.prototype.content_changed=function(){if(this.markerContent_){this.removeChildren_(this.markerContent_);var e=this.getContent();if(e){"string"==typeof e&&(e=e.replace(/^\s*([\S\s]*)\b\s*$/,"$1"),e=this.htmlToDocumentFragment_(e)),this.markerContent_.appendChild(e);for(var t,n=this,r=this.markerContent_.getElementsByTagName("IMG"),i=0;t=r[i];i++)google.maps.event.addDomListener(t,"mousedown",function(e){n.getDraggable()&&(e.preventDefault&&e.preventDefault(),e.returnValue=!1)}),google.maps.event.addDomListener(t,"load",function(){n.draw()});google.maps.event.trigger(this,"domready")}this.ready_&&this.draw()}},u.prototype.content_changed=u.prototype.content_changed,u.prototype.setCursor_=function(e){if(this.ready_){var t="";-1!==navigator.userAgent.indexOf("Gecko/")?("dragging"==e&&(t="-moz-grabbing"),"dragready"==e&&(t="-moz-grab"),"draggable"==e&&(t="pointer")):(("dragging"==e||"dragready"==e)&&(t="move"),"draggable"==e&&(t="pointer")),this.markerWrapper_.style.cursor!=t&&(this.markerWrapper_.style.cursor=t)}},u.prototype.startDrag=function(e){if(this.getDraggable()&&!this.dragging_){this.dragging_=!0;var t=this.getMap();this.mapDraggable_=t.get("draggable"),t.set("draggable",!1),this.mouseX_=e.clientX,this.mouseY_=e.clientY,this.setCursor_("dragready"),this.markerWrapper_.style.MozUserSelect="none",this.markerWrapper_.style.KhtmlUserSelect="none",this.markerWrapper_.style.WebkitUserSelect="none",this.markerWrapper_.unselectable="on",this.markerWrapper_.onselectstart=function(){return!1},this.addDraggingListeners_(),google.maps.event.trigger(this,"dragstart")}},u.prototype.stopDrag=function(){this.getDraggable()&&this.dragging_&&(this.dragging_=!1,this.getMap().set("draggable",this.mapDraggable_),this.mouseX_=this.mouseY_=this.mapDraggable_=null,this.markerWrapper_.style.MozUserSelect="",this.markerWrapper_.style.KhtmlUserSelect="",this.markerWrapper_.style.WebkitUserSelect="",this.markerWrapper_.unselectable="off",this.markerWrapper_.onselectstart=function(){},this.removeDraggingListeners_(),this.setCursor_("draggable"),google.maps.event.trigger(this,"dragend"),this.draw())},u.prototype.drag=function(e){if(!this.getDraggable()||!this.dragging_)return void this.stopDrag();var t=this.mouseX_-e.clientX,n=this.mouseY_-e.clientY;this.mouseX_=e.clientX,this.mouseY_=e.clientY;var r=parseInt(this.markerWrapper_.style.left,10)-t,i=parseInt(this.markerWrapper_.style.top,10)-n;this.markerWrapper_.style.left=r+"px",this.markerWrapper_.style.top=i+"px";var o=this.getOffset_(),a=new google.maps.Point(r-o.width,i-o.height),s=this.getProjection();this.setPosition(s.fromDivPixelToLatLng(a)),this.setCursor_("dragging"),google.maps.event.trigger(this,"drag")},u.prototype.removeDragListeners_=function(){this.draggableListener_&&(google.maps.event.removeListener(this.draggableListener_),delete this.draggableListener_),this.setCursor_("")},u.prototype.addDragging_=function(e){if(e){var t=this;this.draggableListener_=google.maps.event.addDomListener(e,"mousedown",function(e){t.startDrag(e)}),this.setCursor_("draggable")}},u.prototype.addDraggingListeners_=function(){var t=this;this.markerWrapper_.setCapture?(this.markerWrapper_.setCapture(!0),this.draggingListeners_=[google.maps.event.addDomListener(this.markerWrapper_,"mousemove",function(e){t.drag(e)},!0),google.maps.event.addDomListener(this.markerWrapper_,"mouseup",function(){t.stopDrag(),t.markerWrapper_.releaseCapture()},!0)]):this.draggingListeners_=[google.maps.event.addDomListener(e,"mousemove",function(e){t.drag(e)},!0),google.maps.event.addDomListener(e,"mouseup",function(){t.stopDrag()},!0)]},u.prototype.removeDraggingListeners_=function(){if(this.draggingListeners_){for(var e,t=0;e=this.draggingListeners_[t];t++)google.maps.event.removeListener(e);this.draggingListeners_.length=0}},u.prototype.getOffset_=function(){var e=this.getAnchor();if("object"==typeof e)return e;var t=new google.maps.Size(0,0);if(!this.markerContent_)return t;var n=this.markerContent_.offsetWidth,r=this.markerContent_.offsetHeight;switch(e){case c.TOP_LEFT:break;case c.TOP:t.width=-n/2;break;case c.TOP_RIGHT:t.width=-n;break;case c.LEFT:t.height=-r/2;break;case c.MIDDLE:t.width=-n/2,t.height=-r/2;break;case c.RIGHT:t.width=-n,t.height=-r/2;break;case c.BOTTOM_LEFT:t.height=-r;break;case c.BOTTOM:t.width=-n/2,t.height=-r;break;case c.BOTTOM_RIGHT:t.width=-n,t.height=-r}return t},u.prototype.onAdd=function(){if(this.markerWrapper_||(this.markerWrapper_=document.createElement("DIV"),this.markerWrapper_.style.position="absolute"),this.getZIndex()&&(this.markerWrapper_.style.zIndex=this.getZIndex()),this.markerWrapper_.style.display=this.getVisible()?"":"none",!this.markerContent_){this.markerContent_=document.createElement("DIV"),this.markerWrapper_.appendChild(this.markerContent_);var e=this;google.maps.event.addDomListener(this.markerContent_,"click",function(){google.maps.event.trigger(e,"click")}),google.maps.event.addDomListener(this.markerContent_,"mouseover",function(){google.maps.event.trigger(e,"mouseover")}),google.maps.event.addDomListener(this.markerContent_,"mouseout",function(){google.maps.event.trigger(e,"mouseout")})}this.ready_=!0,this.content_changed(),this.flat_changed(),this.draggable_changed();var t=this.getPanes();t&&t.overlayMouseTarget.appendChild(this.markerWrapper_),google.maps.event.trigger(this,"ready")},u.prototype.onAdd=u.prototype.onAdd,u.prototype.draw=function(){if(this.ready_&&!this.dragging_){var e=this.getProjection();if(e){var t=this.get("position"),n=e.fromLatLngToDivPixel(t),r=this.getOffset_();this.markerWrapper_.style.top=n.y+r.height+"px",this.markerWrapper_.style.left=n.x+r.width+"px";var i=this.markerContent_.offsetHeight,o=this.markerContent_.offsetWidth;o!=this.get("width")&&this.set("width",o),i!=this.get("height")&&this.set("height",i)}}},u.prototype.draw=u.prototype.draw,u.prototype.onRemove=function(){this.markerWrapper_&&this.markerWrapper_.parentNode&&this.markerWrapper_.parentNode.removeChild(this.markerWrapper_),this.removeDragListeners_()},u.prototype.onRemove=u.prototype.onRemove;var c={TOP_LEFT:1,TOP:2,TOP_RIGHT:3,LEFT:4,MIDDLE:5,RIGHT:6,BOTTOM_LEFT:7,BOTTOM:8,BOTTOM_RIGHT:9};e.RichMarkerPosition=c,e.InfoBox=o,e.Cluster=n,e.ClusterIcon=t,e.MarkerClusterer=i,e.MarkerLabel_=s,e.MarkerWithLabel=l,e.RichMarker=u}()})}}),function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,n,r){t.module("uiGmapgoogle-maps.wrapped").service("uiGmapDataStructures",function(){return{Graph:r(1).Graph,Queue:r(1).Queue}})},function(e,t,n){(function(){e.exports={Graph:n(2),Heap:n(3),LinkedList:n(4),Map:n(5),Queue:n(6),RedBlackTree:n(7),Trie:n(8)}}).call(this)},function(e){(function(){var t,n={}.hasOwnProperty;t=function(){function e(){this._nodes={},this.nodeSize=0,this.edgeSize=0}return e.prototype.addNode=function(e){return this._nodes[e]?void 0:(this.nodeSize++,this._nodes[e]={_outEdges:{},_inEdges:{}})},e.prototype.getNode=function(e){return this._nodes[e]},e.prototype.removeNode=function(e){var t,r,i,o,a;if(r=this._nodes[e]){o=r._outEdges;for(i in o)n.call(o,i)&&this.removeEdge(e,i);a=r._inEdges;for(t in a)n.call(a,t)&&this.removeEdge(t,e);return this.nodeSize--,delete this._nodes[e],r}},e.prototype.addEdge=function(e,t,n){var r,i,o;return null==n&&(n=1),!this.getEdge(e,t)&&(i=this._nodes[e],o=this._nodes[t],i&&o)?(r={weight:n},i._outEdges[t]=r,o._inEdges[e]=r,this.edgeSize++,r):void 0},e.prototype.getEdge=function(e,t){var n,r;return n=this._nodes[e],r=this._nodes[t],n&&r?n._outEdges[t]:void 0},e.prototype.removeEdge=function(e,t){var n,r,i;return r=this._nodes[e],i=this._nodes[t],(n=this.getEdge(e,t))?(delete r._outEdges[t],delete i._inEdges[e],this.edgeSize--,n):void 0},e.prototype.getInEdgesOf=function(e){var t,r,i,o;i=this._nodes[e],r=[],o=null!=i?i._inEdges:void 0;for(t in o)n.call(o,t)&&r.push(this.getEdge(t,e));return r},e.prototype.getOutEdgesOf=function(e){var t,r,i,o;t=this._nodes[e],r=[],o=null!=t?t._outEdges:void 0;for(i in o)n.call(o,i)&&r.push(this.getEdge(e,i));return r},e.prototype.getAllEdgesOf=function(e){var t,n,r,i,o,a,s;if(n=this.getInEdgesOf(e),r=this.getOutEdgesOf(e),0===n.length)return r;for(i=this.getEdge(e,e),t=o=0,a=n.length;a>=0?a>o:o>a;t=a>=0?++o:--o)if(n[t]===i){s=[n[n.length-1],n[t]],n[t]=s[0],n[n.length-1]=s[1],n.pop();break}return n.concat(r)},e.prototype.forEachNode=function(e){var t,r,i;i=this._nodes;for(t in i)n.call(i,t)&&(r=i[t],e(r,t))},e.prototype.forEachEdge=function(e){var t,r,i,o,a,s;a=this._nodes;for(r in a)if(n.call(a,r)){i=a[r],s=i._outEdges;for(o in s)n.call(s,o)&&(t=s[o],e(t))}},e}(),e.exports=t}).call(this)},function(e){(function(){var t,n,r,i;t=function(){function e(e){var t,n,r,i,o,a;for(null==e&&(e=[]),this._data=[void 0],r=0,o=e.length;o>r;r++)n=e[r],null!=n&&this._data.push(n);if(this._data.length>1)for(t=i=2,a=this._data.length;a>=2?a>i:i>a;t=a>=2?++i:--i)this._upHeap(t);this.size=this._data.length-1}return e.prototype.add=function(e){return null!=e?(this._data.push(e),this._upHeap(this._data.length-1),this.size++,e):void 0},e.prototype.removeMin=function(){var e;if(1!==this._data.length)return this.size--,2===this._data.length?this._data.pop():(e=this._data[1],this._data[1]=this._data.pop(),this._downHeap(),e)},e.prototype.peekMin=function(){return this._data[1]},e.prototype._upHeap=function(e){var t,n;for(t=this._data[e];this._data[e]<this._data[r(e)]&&e>1;)n=[this._data[r(e)],this._data[e]],this._data[e]=n[0],this._data[r(e)]=n[1],e=r(e)},e.prototype._downHeap=function(){var e,t,r;for(e=1;n(e<this._data.length)&&(t=n(e),t<this._data.length-1&&this._data[i(e)]<this._data[t]&&(t=i(e)),this._data[t]<this._data[e]);)r=[this._data[e],this._data[t]],this._data[t]=r[0],this._data[e]=r[1],e=t},e}(),r=function(e){return e>>1},n=function(e){return e<<1},i=function(e){return(e<<1)+1},e.exports=t}).call(this)},function(e){(function(){var t;t=function(){function e(e){var t,n,r;for(null==e&&(e=[]),this.head={prev:void 0,value:void 0,next:void 0},this.tail={prev:void 0,value:void 0,next:void 0},this.size=0,n=0,r=e.length;r>n;n++)t=e[n],this.add(t)}return e.prototype.at=function(e){var t,n,r,i,o;if(-this.size<=e&&e<this.size){if(e=this._adjust(e),2*e<this.size)for(t=this.head,n=r=1;e>=r;n=r+=1)t=t.next;else for(t=this.tail,n=i=1,o=this.size-e-1;o>=i;n=i+=1)t=t.prev;return t}},e.prototype.add=function(e,t){var n,r,i,o,a;return null==t&&(t=this.size),-this.size<=t&&t<=this.size?(r={value:e},t=this._adjust(t),0===this.size?this.head=r:0===t?(i=[r,this.head,r],this.head.prev=i[0],r.next=i[1],this.head=i[2]):(n=this.at(t-1),o=[n.next,r,r,n],r.next=o[0],null!=(a=n.next)?a.prev=o[1]:void 0,n.next=o[2],r.prev=o[3]),t===this.size&&(this.tail=r),this.size++,e):void 0},e.prototype.removeAt=function(e){var t,n,r;return null==e&&(e=this.size-1),-this.size<=e&&e<this.size&&0!==this.size?(e=this._adjust(e),1===this.size?(n=this.head.value,this.head.value=this.tail.value=void 0):0===e?(n=this.head.value,this.head=this.head.next,this.head.prev=void 0):(t=this.at(e),n=t.value,t.prev.next=t.next,null!=(r=t.next)&&(r.prev=t.prev),e===this.size-1&&(this.tail=t.prev)),this.size--,n):void 0},e.prototype.remove=function(e){var t;if(null!=e){for(t=this.head;t&&t.value!==e;)t=t.next;if(t)return 1===this.size?this.head.value=this.tail.value=void 0:t===this.head?(this.head=this.head.next,this.head.prev=void 0):t===this.tail?(this.tail=this.tail.prev,this.tail.next=void 0):(t.prev.next=t.next,t.next.prev=t.prev),this.size--,e}},e.prototype.indexOf=function(e,t){var n,r;if(null==t&&(t=0),null==this.head.value&&!this.head.next||t>=this.size)return-1;for(t=Math.max(0,this._adjust(t)),n=this.at(t),r=t;n&&n.value!==e;)n=n.next,r++;return r===this.size?-1:r},e.prototype._adjust=function(e){return 0>e?this.size+e:e},e}(),e.exports=t}).call(this)},function(e){(function(){var t,n,r,i,o={}.hasOwnProperty;n="_mapId_",t=function(){function e(t){var n,r;this._content={},this._itemId=0,this._id=e._newMapId(),this.size=0;for(n in t)o.call(t,n)&&(r=t[n],this.set(n,r))}return e._mapIdTracker=0,e._newMapId=function(){return this._mapIdTracker++},e.prototype.hash=function(e,t){var o,a;return null==t&&(t=!1),a=r(e),i(e)?(o=n+this._id,t&&!e[o]&&(e[o]=this._itemId++),o+"_"+e[o]):a+"_"+e},e.prototype.set=function(e,t){return this.has(e)||this.size++,this._content[this.hash(e,!0)]=[t,e],t},e.prototype.get=function(e){var t;return null!=(t=this._content[this.hash(e)])?t[0]:void 0},e.prototype.has=function(e){return this.hash(e)in this._content},e.prototype.delete=function(e){var t;return t=this.hash(e),t in this._content?(delete this._content[t],i(e)&&delete e[n+this._id],this.size--,!0):!1},e.prototype.forEach=function(e){var t,n,r;r=this._content;for(t in r)o.call(r,t)&&(n=r[t],e(n[1],n[0]))},e}(),i=function(e){var t,n,i,o,a;for(t=["Boolean","Number","String","Undefined","Null","RegExp","Function"],i=r(e),o=0,a=t.length;a>o;o++)if(n=t[o],i===n)return!1;return!0},r=function(e){return Object.prototype.toString.apply(e).match(/\[object (.+)\]/)[1]},e.exports=t}).call(this)},function(e){(function(){var t;t=function(){function e(e){null==e&&(e=[]),this._content=e,this._dequeueIndex=0,this.size=this._content.length}return e.prototype.enqueue=function(e){return this.size++,this._content.push(e),e},e.prototype.dequeue=function(){var e;if(0!==this.size)return this.size--,e=this._content[this._dequeueIndex],this._dequeueIndex++,2*this._dequeueIndex>this._content.length&&(this._content=this._content.slice(this._dequeueIndex),this._dequeueIndex=0),e},e.prototype.peek=function(){return this._content[this._dequeueIndex]},e}(),e.exports=t}).call(this)},function(e){(function(){var t,n,r,i,o,a,s,l,u,c,d,p,h,f,g;n=0,r=1,i=2,s=3,o=1,t=2,a=function(){function e(e){var t,n,r;for(null==e&&(e=[]),this._root,this.size=0,n=0,r=e.length;r>n;n++)t=e[n],null!=t&&this.add(t)}return e.prototype.add=function(e){var a,d,p,h;if(null!=e){if(this.size++,p={value:e,_color:o},this._root){if(d=l(this._root,function(t){return e===t.value?n:e<t.value?t._left?r:(p._parent=t,t._left=p,s):t._right?i:(p._parent=t,t._right=p,s)}),null!=d)return}else this._root=p;for(a=p;;){if(a===this._root){a._color=t;break}if(a._parent._color===t)break;{if((null!=(h=g(a))?h._color:void 0)!==o){!c(a)&&c(a._parent)?(this._rotateLeft(a._parent),a=a._left):c(a)&&!c(a._parent)&&(this._rotateRight(a._parent),a=a._right),a._parent._color=t,u(a)._color=o,c(a)?this._rotateRight(u(a)):this._rotateLeft(u(a));break}a._parent._color=t,g(a)._color=t,u(a)._color=o,a=u(a)}}return e}},e.prototype.has=function(e){var t;return t=l(this._root,function(t){return e===t.value?n:e<t.value?r:i}),t?!0:!1},e.prototype.peekMin=function(){var e;return null!=(e=h(this._root))?e.value:void 0},e.prototype.peekMax=function(){var e;return null!=(e=p(this._root))?e.value:void 0},e.prototype.remove=function(e){var t;return(t=l(this._root,function(t){return e===t.value?n:e<t.value?r:i}))?(this._removeNode(this._root,t),this.size--,e):void 0},e.prototype.removeMin=function(){var e,t;return(e=h(this._root))?(t=e.value,this._removeNode(this._root,e),t):void 0},e.prototype.removeMax=function(){var e,t;return(e=p(this._root))?(t=e.value,this._removeNode(this._root,e),t):void 0},e.prototype._removeNode=function(e,n){var r,i,a,s,l,u,p,g,m,v;if(n._left&&n._right&&(i=h(n._right),n.value=i.value,n=i),i=n._left||n._right,i||(i={color:t,_right:void 0,_left:void 0,isLeaf:!0}),i._parent=n._parent,null!=(a=n._parent)&&(a[d(n)]=i),n._color===t)if(i._color===o)i._color=t,i._parent||(this._root=i);else for(;;){if(!i._parent){this._root=i.isLeaf?void 0:i;break}if(r=f(i),(null!=r?r._color:void 0)===o&&(i._parent._color=o,r._color=t,c(i)?this._rotateLeft(i._parent):this._rotateRight(i._parent)),r=f(i),i._parent._color!==t||r&&(r._color!==t||r._left&&r._left._color!==t||r._right&&r._right._color!==t)){if(!(i._parent._color!==o||r&&(r._color!==t||r._left&&(null!=(s=r._left)?s._color:void 0)!==t||r._right&&(null!=(l=r._right)?l._color:void 0)!==t))){null!=r&&(r._color=o),i._parent._color=t;break}if((null!=r?r._color:void 0)===t){!c(i)||r._right&&r._right._color!==t||(null!=(u=r._left)?u._color:void 0)!==o?c(i)||r._left&&r._left._color!==t||(null!=(g=r._right)?g._color:void 0)!==o||(r._color=o,null!=(m=r._right)&&(m._color=t),this._rotateLeft(r)):(r._color=o,null!=(p=r._left)&&(p._color=t),this._rotateRight(r));break}r=f(i),r._color=i._parent._color,c(i)?(r._right._color=t,this._rotateRight(i._parent)):(r._left._color=t,this._rotateLeft(i._parent))}else null!=r&&(r._color=o),i.isLeaf&&(i._parent[d(i)]=void 0),i=i._parent}return i.isLeaf&&null!=(v=i._parent)?v[d(i)]=void 0:void 0},e.prototype._rotateLeft=function(e){var t,n;return null!=(t=e._parent)&&(t[d(e)]=e._right),e._right._parent=e._parent,e._parent=e._right,e._right=e._right._left,e._parent._left=e,null!=(n=e._right)&&(n._parent=e),null==e._parent._parent?this._root=e._parent:void 0},e.prototype._rotateRight=function(e){var t,n;return null!=(t=e._parent)&&(t[d(e)]=e._left),e._left._parent=e._parent,e._parent=e._left,e._left=e._left._right,e._parent._right=e,null!=(n=e._left)&&(n._parent=e),null==e._parent._parent?this._root=e._parent:void 0},e}(),c=function(e){return e===e._parent._left},d=function(e){return c(e)?"_left":"_right"},l=function(e,t){var o,a,l;for(a=e,l=void 0;a;){if(o=t(a),o===n){l=a;break}if(o===r)a=a._left;else if(o===i)a=a._right;else if(o===s)break}return l},h=function(e){return l(e,function(e){return e._left?r:n})},p=function(e){return l(e,function(e){return e._right?i:n})},u=function(e){var t;return null!=(t=e._parent)?t._parent:void 0},g=function(e){return u(e)?c(e._parent)?u(e)._right:u(e)._left:void 0},f=function(e){return c(e)?e._parent._right:e._parent._left},e.exports=a}).call(this)},function(e,t,n){(function(){var t,r,i,o,a={}.hasOwnProperty;t=n(6),i="end",r=function(){function e(e){var t,n,r;for(null==e&&(e=[]),this._root={},this.size=0,n=0,r=e.length;r>n;n++)t=e[n],this.add(t)}return e.prototype.add=function(e){var t,n,r,o;if(null!=e){for(this.size++,t=this._root,r=0,o=e.length;o>r;r++)n=e[r],null==t[n]&&(t[n]={}),t=t[n];return t[i]=!0,e}},e.prototype.has=function(e){var t,n,r,o;if(null==e)return!1;for(t=this._root,r=0,o=e.length;o>r;r++){if(n=e[r],null==t[n])return!1;t=t[n]}return t[i]?!0:!1},e.prototype.longestPrefixOf=function(e){var t,n,r,i,o;if(null==e)return"";for(t=this._root,r="",i=0,o=e.length;o>i&&(n=e[i],null!=t[n]);i++)r+=n,t=t[n];return r},e.prototype.wordsWithPrefix=function(e){var n,r,o,s,l,u,c,d,p,h;if(null==e)return[];for(null!=e||(e=""),c=[],r=this._root,d=0,p=e.length;p>d;d++)if(o=e[d],r=r[o],null==r)return[];for(l=new t,l.enqueue([r,""]);0!==l.size;){h=l.dequeue(),s=h[0],n=h[1],s[i]&&c.push(e+n);for(o in s)a.call(s,o)&&(u=s[o],l.enqueue([u,n+o]))}return c},e.prototype.remove=function(e){var t,n,r,a,s,l,u,c;if(null!=e){for(t=this._root,a=[],s=0,u=e.length;u>s;s++){if(r=e[s],null==t[r])return;t=t[r],a.push([r,t])}if(t[i]){if(this.size--,delete t[i],o(t,1))return e;for(n=l=c=a.length-1;(1>=c?1>=l:l>=1)&&!o(a[n][1],1);n=1>=c?++l:--l)delete a[n-1][1][a[n][0]];return o(this._root[a[0][0]],1)||delete this._root[a[0][0]],e}}},e}(),o=function(e,t){var n,r;if(0===t)return!0;r=0;for(n in e)if(a.call(e,n)&&(r++,r>=t))return!0;return!1},e.exports=r}).call(this)}]),t.module("uiGmapgoogle-maps.wrapped").service("uiGmapMarkerSpiderfier",["uiGmapGoogleMapApi",function(t){var n=this;return+function(){var t={}.hasOwnProperty,n=[].slice;this.OverlappingMarkerSpiderfier=function(){function r(e,n){var r,o,a,s,l,u;this.map=e,null==n&&(n={});for(o in n)t.call(n,o)&&(u=n[o],this[o]=u);for(this.projHelper=new this.constructor.ProjHelper(this.map),this.initMarkerArrays(),this.listeners={},l=["click","zoom_changed","maptypeid_changed"],a=0,s=l.length;s>a;a++)r=l[a],i.addListener(this.map,r,function(e){return function(){return e.unspiderfy()}}(this))}var i,o,a,s,l,u,c,d,p,h,f;for(d=r.prototype,p=[r,d],a=0,u=p.length;u>a;a++)f=p[a],f.VERSION="0.3.3";return o=void 0,i=void 0,c=void 0,h=2*Math.PI,d.keepSpiderfied=!1,d.markersWontHide=!1,d.markersWontMove=!1,d.nearbyDistance=20,d.circleSpiralSwitchover=9,d.circleFootSeparation=23,d.circleStartAngle=h/12,d.spiralFootSeparation=26,d.spiralLengthStart=11,d.spiralLengthFactor=4,d.spiderfiedZIndex=1e3,d.usualLegZIndex=10,d.highlightedLegZIndex=20,d.event="click",d.minZoomLevel=!1,d.legWeight=1.5,d.legColors={usual:{},highlighted:{}},l=d.legColors.usual,s=d.legColors.highlighted,r.initializeGoogleMaps=function(e){return o=e.maps,i=o.event,c=o.MapTypeId,l[c.HYBRID]=l[c.SATELLITE]="#fff",s[c.HYBRID]=s[c.SATELLITE]="#f00",l[c.TERRAIN]=l[c.ROADMAP]="#444",s[c.TERRAIN]=s[c.ROADMAP]="#f00",this.ProjHelper=function(e){return this.setMap(e)
},this.ProjHelper.prototype=new o.OverlayView,this.ProjHelper.prototype.draw=function(){}},d.initMarkerArrays=function(){return this.markers=[],this.markerListenerRefs=[]},d.addMarker=function(e){var t;return null!=e._oms?this:(e._oms=!0,t=[i.addListener(e,this.event,function(t){return function(n){return t.spiderListener(e,n)}}(this))],this.markersWontHide||t.push(i.addListener(e,"visible_changed",function(t){return function(){return t.markerChangeListener(e,!1)}}(this))),this.markersWontMove||t.push(i.addListener(e,"position_changed",function(t){return function(){return t.markerChangeListener(e,!0)}}(this))),this.markerListenerRefs.push(t),this.markers.push(e),this)},d.markerChangeListener=function(e,t){return null==e._omsData||!t&&e.getVisible()||null!=this.spiderfying||null!=this.unspiderfying?void 0:this.unspiderfy(t?e:null)},d.getMarkers=function(){return this.markers.slice(0)},d.removeMarker=function(e){var t,n,r,o,a;if(null!=e._omsData&&this.unspiderfy(),t=this.arrIndexOf(this.markers,e),0>t)return this;for(a=this.markerListenerRefs.splice(t,1)[0],n=0,r=a.length;r>n;n++)o=a[n],i.removeListener(o);return delete e._oms,this.markers.splice(t,1),this},d.clearMarkers=function(){var e,t,n,r,o,a,s,l,u;for(this.unspiderfy(),u=this.markers,e=t=0,n=u.length;n>t;e=++t){for(s=u[e],a=this.markerListenerRefs[e],l=0,r=a.length;r>l;l++)o=a[l],i.removeListener(o);delete s._oms}return this.initMarkerArrays(),this},d.addListener=function(e,t){var n;return(null!=(n=this.listeners)[e]?n[e]:n[e]=[]).push(t),this},d.removeListener=function(e,t){var n;return n=this.arrIndexOf(this.listeners[e],t),0>n||this.listeners[e].splice(n,1),this},d.clearListeners=function(e){return this.listeners[e]=[],this},d.trigger=function(){var e,t,r,i,o,a,s,l;for(t=arguments[0],e=2<=arguments.length?n.call(arguments,1):[],s=null!=(a=this.listeners[t])?a:[],l=[],i=0,o=s.length;o>i;i++)r=s[i],l.push(r.apply(null,e));return l},d.generatePtsCircle=function(e,t){var n,r,i,a,s,l,u,c;for(i=this.circleFootSeparation*(2+e),l=i/h,r=h/e,c=[],a=s=0,u=e;u>=0?u>s:s>u;a=u>=0?++s:--s)n=this.circleStartAngle+a*r,c.push(new o.Point(t.x+l*Math.cos(n),t.y+l*Math.sin(n)));return c},d.generatePtsSpiral=function(e,t){var n,r,i,a,s,l,u;for(a=this.spiralLengthStart,n=0,u=[],r=i=0,l=e;l>=0?l>i:i>l;r=l>=0?++i:--i)n+=this.spiralFootSeparation/a+5e-4*r,s=new o.Point(t.x+a*Math.cos(n),t.y+a*Math.sin(n)),a+=h*this.spiralLengthFactor/n,u.push(s);return u},d.spiderListener=function(t,n){var r,i,o,a,s,l,u,c,p,h,f,g,m;if(c=null!=t._omsData,c&&this.keepSpiderfied||("mouseover"===this.event?(r=this,i=function(){return r.unspiderfy()},e.clearTimeout(d.timeout),d.timeout=setTimeout(i,3e3)):this.unspiderfy()),c||this.map.getStreetView().getVisible()||"GoogleEarthAPI"===this.map.getMapTypeId())return this.trigger("click",t,n);for(h=[],f=[],p=this.nearbyDistance,g=p*p,u=this.llToPt(t.position),m=this.markers,o=0,a=m.length;a>o;o++)s=m[o],null!=s.map&&s.getVisible()&&(l=this.llToPt(s.position),this.ptDistanceSq(l,u)<g?h.push({marker:s,markerPt:l}):f.push(s));return 1===h.length?this.trigger("click",t,n):this.spiderfy(h,f)},d.markersNearMarker=function(e,t){var n,r,i,o,a,s,l,u,c,d,p;if(null==t&&(t=!1),null==this.projHelper.getProjection())throw"Must wait for 'idle' event on map before calling markersNearMarker";for(l=this.nearbyDistance,u=l*l,a=this.llToPt(e.position),s=[],c=this.markers,n=0,r=c.length;r>n&&(i=c[n],!(i!==e&&null!=i.map&&i.getVisible()&&(o=this.llToPt(null!=(d=null!=(p=i._omsData)?p.usualPosition:void 0)?d:i.position),this.ptDistanceSq(o,a)<u&&(s.push(i),t))));n++);return s},d.markersNearAnyOtherMarker=function(){var e,t,n,r,i,o,a,s,l,u,c,d,p,h,f,g,m,v,y,b,S;if(null==this.projHelper.getProjection())throw"Must wait for 'idle' event on map before calling markersNearAnyOtherMarker";for(f=this.nearbyDistance,g=f*f,p=function(){var e,t,n,r,i,o;for(n=this.markers,o=[],e=0,t=n.length;t>e;e++)s=n[e],o.push({pt:this.llToPt(null!=(r=null!=(i=s._omsData)?i.usualPosition:void 0)?r:s.position),willSpiderfy:!1});return o}.call(this),v=this.markers,t=r=0,i=v.length;i>r;t=++r)if(l=v[t],null!=l.map&&l.getVisible()&&(u=p[t],!u.willSpiderfy))for(y=this.markers,n=h=0,o=y.length;o>h;n=++h)if(c=y[n],n!==t&&null!=c.map&&c.getVisible()&&(d=p[n],(!(t>n)||d.willSpiderfy)&&this.ptDistanceSq(u.pt,d.pt)<g)){u.willSpiderfy=d.willSpiderfy=!0;break}for(b=this.markers,S=[],e=m=0,a=b.length;a>m;e=++m)s=b[e],p[e].willSpiderfy&&S.push(s);return S},d.makeHighlightListenerFuncs=function(e){return{highlight:function(t){return function(){return e._omsData.leg.setOptions({strokeColor:t.legColors.highlighted[t.map.mapTypeId],zIndex:t.highlightedLegZIndex})}}(this),unhighlight:function(t){return function(){return e._omsData.leg.setOptions({strokeColor:t.legColors.usual[t.map.mapTypeId],zIndex:t.usualLegZIndex})}}(this)}},d.spiderfy=function(e,t){var n,r,a,s,l,u,c,d,p,h,f;return this.minZoomLevel&&this.map.getZoom()<this.minZoomLevel?!1:(this.spiderfying=!0,h=e.length,n=this.ptAverage(function(){var t,n,r;for(r=[],t=0,n=e.length;n>t;t++)d=e[t],r.push(d.markerPt);return r}()),s=h>=this.circleSpiralSwitchover?this.generatePtsSpiral(h,n).reverse():this.generatePtsCircle(h,n),f=function(){var t,n,d;for(d=[],t=0,n=s.length;n>t;t++)a=s[t],r=this.ptToLl(a),p=this.minExtract(e,function(e){return function(t){return e.ptDistanceSq(t.markerPt,a)}}(this)),c=p.marker,u=new o.Polyline({map:this.map,path:[c.position,r],strokeColor:this.legColors.usual[this.map.mapTypeId],strokeWeight:this.legWeight,zIndex:this.usualLegZIndex}),c._omsData={usualPosition:c.position,leg:u},this.legColors.highlighted[this.map.mapTypeId]!==this.legColors.usual[this.map.mapTypeId]&&(l=this.makeHighlightListenerFuncs(c),c._omsData.hightlightListeners={highlight:i.addListener(c,"mouseover",l.highlight),unhighlight:i.addListener(c,"mouseout",l.unhighlight)}),c.setPosition(r),c.setZIndex(Math.round(this.spiderfiedZIndex+a.y)),d.push(c);return d}.call(this),delete this.spiderfying,this.spiderfied=!0,this.trigger("spiderfy",f,t))},d.unspiderfy=function(e){var t,n,r,o,a,s,l;if(null==e&&(e=null),null==this.spiderfied)return this;for(this.unspiderfying=!0,l=[],a=[],s=this.markers,t=0,n=s.length;n>t;t++)o=s[t],null!=o._omsData?(o._omsData.leg.setMap(null),o!==e&&o.setPosition(o._omsData.usualPosition),o.setZIndex(null),r=o._omsData.hightlightListeners,null!=r&&(i.removeListener(r.highlight),i.removeListener(r.unhighlight)),delete o._omsData,l.push(o)):a.push(o);return delete this.unspiderfying,delete this.spiderfied,this.trigger("unspiderfy",l,a),this},d.ptDistanceSq=function(e,t){var n,r;return n=e.x-t.x,r=e.y-t.y,n*n+r*r},d.ptAverage=function(e){var t,n,r,i,a,s;for(a=s=0,t=0,n=e.length;n>t;t++)i=e[t],a+=i.x,s+=i.y;return r=e.length,new o.Point(a/r,s/r)},d.llToPt=function(e){return this.projHelper.getProjection().fromLatLngToDivPixel(e)},d.ptToLl=function(e){return this.projHelper.getProjection().fromDivPixelToLatLng(e)},d.minExtract=function(e,t){var n,r,i,o,a,s,l;for(i=a=0,s=e.length;s>a;i=++a)o=e[i],l=t(o),("undefined"==typeof n||null===n||r>l)&&(r=l,n=i);return e.splice(n,1)[0]},d.arrIndexOf=function(e,t){var n,r,i,o;if(null!=e.indexOf)return e.indexOf(t);for(n=r=0,i=e.length;i>r;n=++r)if(o=e[n],o===t)return n;return-1},r}()}.apply(n),t.then(function(){n.OverlappingMarkerSpiderfier.initializeGoogleMaps(e.google)}),this.OverlappingMarkerSpiderfier}]),t.module("uiGmapgoogle-maps.extensions").service("uiGmapExtendMarkerClusterer",["uiGmapLodash","uiGmapPropMap",function(t,r){return{init:n.once(function(){(function(){var n={}.hasOwnProperty,i=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};e.NgMapCluster=function(e){function n(e){n.__super__.constructor.call(this,e),this.markers_=new r}return i(n,e),n.prototype.addMarker=function(e){var t,n;if(this.isMarkerAlreadyAdded_(e)){var r=this.markers_.get(e.key);if(r.getPosition().lat()==e.getPosition().lat()&&r.getPosition().lon()==e.getPosition().lon())return!1}if(this.center_){if(this.averageCenter_){var i=this.markers_.length+1,o=(this.center_.lat()*(i-1)+e.getPosition().lat())/i,a=(this.center_.lng()*(i-1)+e.getPosition().lng())/i;this.center_=new google.maps.LatLng(o,a),this.calculateBounds_()}}else this.center_=e.getPosition(),this.calculateBounds_();return e.isAdded=!0,this.markers_.push(e),t=this.markers_.length,n=this.markerClusterer_.getMaxZoom(),null!==n&&this.map_.getZoom()>n?e.getMap()!==this.map_&&e.setMap(this.map_):t<this.minClusterSize_?e.getMap()!==this.map_&&e.setMap(this.map_):t===this.minClusterSize_?this.markers_.each(function(e){e.setMap(null)}):e.setMap(null),!0},n.prototype.isMarkerAlreadyAdded_=function(e){return t.isNullOrUndefined(this.markers_.get(e.key))},n.prototype.getBounds=function(){var e=new google.maps.LatLngBounds(this.center_,this.center_);return this.getMarkers().each(function(t){e.extend(t.getPosition())}),e},n.prototype.remove=function(){this.clusterIcon_.setMap(null),this.markers_=new r,delete this.markers_},n}(Cluster),e.NgMapMarkerClusterer=function(e){function t(e,n,i){t.__super__.constructor.call(this,e,n,i),this.markers_=new r}return i(t,e),t.prototype.clearMarkers=function(){this.resetViewport_(!0),this.markers_=new r},t.prototype.removeMarker_=function(e){return this.markers_.get(e.key)?(e.setMap(null),this.markers_.remove(e.key),!0):!1},t.prototype.createClusters_=function(e){var t,n,r,i=this;if(this.ready_){0===e&&(google.maps.event.trigger(this,"clusteringbegin",this),"undefined"!=typeof this.timerRefStatic&&(clearTimeout(this.timerRefStatic),delete this.timerRefStatic)),r=this.getMap().getZoom()>3?new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625));var o=this.getExtendedBounds(r),a=Math.min(e+this.batchSize_,this.markers_.length),s=this.markers_.values();for(t=e;a>t;t++)n=s[t],!n.isAdded&&this.isMarkerInBounds_(n,o)&&(!this.ignoreHidden_||this.ignoreHidden_&&n.getVisible())&&this.addToClosestCluster_(n);if(a<this.markers_.length)this.timerRefStatic=setTimeout(function(){i.createClusters_(a)},0);else{for(t=0;t<this.clusters_.length;t++)this.clusters_[t].updateIcon_();delete this.timerRefStatic,google.maps.event.trigger(this,"clusteringend",this)}}},t.prototype.addToClosestCluster_=function(e){var t,n,r,i,o=4e4,a=null;for(t=0;t<this.clusters_.length;t++)r=this.clusters_[t],i=r.getCenter(),i&&(n=this.distanceBetweenPoints_(i,e.getPosition()),o>n&&(o=n,a=r));a&&a.isMarkerInClusterBounds(e)?a.addMarker(e):(r=new NgMapCluster(this),r.addMarker(e),this.clusters_.push(r))},t.prototype.redraw_=function(){this.createClusters_(0)},t.prototype.resetViewport_=function(e){var t;for(t=0;t<this.clusters_.length;t++)this.clusters_[t].remove();this.clusters_=[],this.markers_.each(function(t){t.isAdded=!1,e&&t.setMap(null)})},t.prototype.extend=function(e,t){return function(e){var t;for(t in e.prototype)"constructor"!==t&&(this.prototype[t]=e.prototype[t]);return this}.apply(e,[t])},ClusterIcon.prototype.show=function(){if(this.div_){var e="",t=this.backgroundPosition_.split(" "),n=parseInt(t[0].trim(),10),r=parseInt(t[1].trim(),10),i=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(i),e="<img src='"+this.url_+"' style='position: absolute; top: "+r+"px; left: "+n+"px; ",e+=this.cluster_.getMarkerClusterer().enableRetinaIcons_?"width: "+this.width_+"px;height: "+this.height_+"px;":"clip: rect("+-1*r+"px, "+(-1*n+this.width_)+"px, "+(-1*r+this.height_)+"px, "+-1*n+"px);",e+="'>",this.div_.innerHTML=e+"<div style='position: absolute;top: "+this.anchorText_[0]+"px;left: "+this.anchorText_[1]+"px;color: "+this.textColor_+";font-size: "+this.textSize_+"px;font-family: "+this.fontFamily_+";font-weight: "+this.fontWeight_+";font-style: "+this.fontStyle_+";text-decoration: "+this.textDecoration_+";text-align: center;width: "+this.width_+"px;line-height:"+this.height_+"px;'>"+this.sums_.text+"</div>",this.div_.title="undefined"==typeof this.sums_.title||""===this.sums_.title?this.cluster_.getMarkerClusterer().getTitle():this.sums_.title,this.div_.style.display=""}this.visible_=!0},t}(MarkerClusterer)}).call(this)})}}])}(window,angular,_),n("angular_google_maps",["angular","angular-simple-logger","lodash"],function(){}),n("webservices/inspirational/DestinationFinderDataService",["angular","lodash","util/LodashExtensions"],function(e,t,n){return e.module("sabreDevStudioWebServices").factory("DestinationFinderDataService",["$q","dateFormat","DestinationFinderWebService","selectedCountryConfigs","ErrorReportingService","businessMessagesErrorHandler",function(e,r,i,o,a,s){function l(e){var t={};t.origin=e.origin;var n=e.pointOfSaleCountry&&e.pointOfSaleCountry||o.pointOfSaleCountry.length>0&&o.pointOfSaleCountry;return n&&(t.pointofsalecountry=n),t.earliestdeparturedate=e.inspirationalSearchPolicy.earliestdeparturedate.format(r),t.latestdeparturedate=e.inspirationalSearchPolicy.latestdeparturedate.format(r),t.lengthofstay=e.inspirationalSearchPolicy.lengthOfStayDays.join(),t.topdestinations=e.inspirationalSearchPolicy.topdestinations,t.theme=e.theme,t}return{getPricesForDestinations:function(r){function o(e){var r=new Date(e.DepartureDateTime),i=new Date(e.ReturnDateTime),o=t.extend({},e,{departureDateTime:r,returnDateTime:i,lengthOfStay:n.dateDiffDays(r,i)});return delete o.DepartureDateTime,delete o.ReturnDateTime,o}function u(e,n){return t.extend({},n,{origin:e})}return e(function(e,n){var c=l(r);i.get(c).$promise.then(function(n){var r=n.OriginLocation;n.FareInfo=n.FareInfo.filter(function(e){return isFinite(e.LowestFare.Fare)}).map(t.partial(u,r)).map(o),e(n)},function(e){a.reportError("Could not get prices for destinations",r),s.handle(n,e)})})}}}])}),n("webservices/lookup/AirportLookupDataService",["angular","lodash","util/LodashExtensions","webservices/SabreDevStudioWebServicesModule"],function(e,t,n){return e.module("sabreDevStudioWebServices").factory("AirportLookupDataService",["$q","ShoppingAirportsAndCitiesLookupWebService","FareRangeAirportsAndCitiesLookupWebService","LowFareForecastAirportsAndCitiesLookupWebService","$localStorage","ErrorReportingService","businessMessagesErrorHandler","PromiseUtils","selectedCountryConfigs",function(e,r,i,o,a,s,l,u,c){function d(e,t){var n=t.AirportCode;p(e,t,n)}function p(e,t,n){e[n]||(e[n]={AirportName:t.AirportName,CityName:t.CityName,CountryCode:t.CountryCode,CountryName:t.CountryName})}function h(e){return e.OriginDestinationLocations.reduce(function(e,t){var n=t.OriginLocation;d(e,n);var r=t.DestinationLocation;return d(e,r),e},{})}function f(t,n,r,i){return void 0===r&&(r=c.pointOfSaleCountry),void 0===i&&(i=!1),e(function(e,o){if(a[t][r])return e(a[t][r]);var u={pointofsalecountry:r};n.get(u).$promise.then(function(n){var o=h(n);a[t][r]=o,i&&b(t,o),e(o)},function(e){s.reportError("Cannot get airports dictionary "+t+" for POS country "+r),l.handle(o,e)})})}function g(e){return void 0===e&&(e=c.pointOfSaleCountry),f($,r,e)}function m(e){return void 0===e&&(e=c.pointOfSaleCountry),f(k,i,e)}function v(e){return void 0===e&&(e=c.pointOfSaleCountry),f(M,o,e)}function y(){t.isUndefined(a[$])&&(a[$]={}),t.isUndefined(a[k])&&(a[k]={}),t.isUndefined(a[M])&&(a[M]={}),t.isUndefined(a[$][_])&&(a[$][_]={})}function b(e,n){var r=a[e][_];t.each(n,function(e,t){p(r,e,t)})}function S(){var n=a[$][_];return t.isEmpty(n)?e(function(e,t){g().then(e,t)}):e.when(n)}function D(){return e.when(a[k][_])}function w(){return e.when(a[M][_])}function A(t){return e(function(e,r){C(t).then(function(t){e(n.isDefined(t))},function(e){s.reportError("Cannot determine if airport dictionary contains airport"+e),l.handle(r,e)})})}function C(t){return e(function(e,n){g().then(function(n){e(n[t])},n)})}function x(n){return e(function(e,r){C(n).then(function(r){r=t.clone(r),e(t.extend(r,{airportCode:n}))},r)})}var _="SUM_OF_ALL_DICTIONARIES",$="shoppingAirportsDictionary",k="fareRangeAirportsDictionary",M="lowFareForecastAirportsDictionary";return y(),{getShoppingAirportsDictionary:u.addResolvedObjectCloning(g),getShoppingAirportsDictionaryForAllPoS:u.addResolvedObjectCloning(S),getFareRangeAirportsDictionary:u.addResolvedObjectCloning(m),getFareRangeAirportsDictionaryForAllPoS:u.addResolvedObjectCloning(D),getLowFareForecastAirportsDictionary:u.addResolvedObjectCloning(v),getLowFareForecastAirportsDictionaryForAllPoS:u.addResolvedObjectCloning(w),containsAirport:A,getAirportData:u.addResolvedObjectCloning(C.bind(this)),getAirportDataWithAirportCode:x}}]).factory("AirportsDictionaryFetchFnFactory",["AirportLookupDataService",function(e){return{selectAirportsDictionaryFetchFn:function(t,n){switch(void 0===n&&(n=!1),t){case"fareRange":return n?e.getFareRangeAirportsDictionary:e.getFareRangeAirportsDictionaryForAllPoS;case"lowFareForecast":return n?e.getLowFareForecastAirportsDictionary:e.getLowFareForecastAirportsDictionaryForAllPoS;default:return n?e.getShoppingAirportsDictionary:e.getShoppingAirportsDictionaryForAllPoS}}}}])}),n("webservices/common/PromiseUtils",["angular","lodash","webservices/SabreDevStudioWebServicesModule"],function(e,t){return e.module("sabreDevStudioWebServices").factory("PromiseUtils",["$q",function(e){return{addResolvedObjectCloning:function(n){return function(){var r=arguments;return e(function(e,i){n.apply(null,r).then(function(n){e(t.clone(n))},i)})}},rejectIfAnyRejected:function(e,t){var n=e.filter(function(e){return"fulfilled"!==e.state});if(n.length>0){var r=n.map(function(e){return e.reason}).join();return t(r)}}}}])}),n("webservices/inspirational/DestinationFinderSummaryDataService",["angular","lodash","datamodel/MonetaryAmount","webservices/inspirational/DestinationFinderDataService","webservices/lookup/AirportLookupDataService","webservices/common/PromiseUtils"],function(e,t,n){return e.module("sabreDevStudioWebServices").factory("DestinationFinderSummaryDataService",["$q","DestinationFinderDataService","AirportLookupDataService","PromiseUtils",function(e,r,i,o){function a(n){return e(function(e,i){r.getPricesForDestinations(n).then(function(r){var o=r.FareInfo,a=t.unique(o.map(function(e){return e.DestinationLocation}));l(a).then(function(i){var a={pricesForDestinationsGrouped:u(o,i),originForPricesForDestinations:r.OriginLocation};if(n.inspirationalSearchPolicy.maxOffersPerDestination){var l=t.partial(s,n.inspirationalSearchPolicy.maxOffersPerDestination);a.pricesForDestinationsGrouped=a.pricesForDestinationsGrouped.map(l)}e(a)},i)},i)})}function s(e,n){var r=n.offers.slice(0,e);return t.extend({},n,{offers:r})}function l(t){return e(function(n,r){e.mapSettled(t,i.getAirportDataWithAirportCode).then(function(e){o.rejectIfAnyRejected(e,r);var t=e.map(function(e){return e.value}).reduce(function(e,t){return t&&(e[t.airportCode]=t.CityName),e},{});n(t)})})}function u(e,n){return t.chain(e).groupBy(function(e){return n[e.DestinationLocation]||e.DestinationLocation}).pairs().sortBy(function(e){var t=e[1],n=t[0].DestinationRank;return n}).map(c).map(d).value()}function c(e){var t=e[0],n=e[1];return{destinationCity:t,destination:n[0].DestinationLocation,offers:n}}function d(e){var r=t.min(e.offers,function(e){return e.LowestFare.Fare});return t.extend(e,{lowestFare:new n(r.LowestFare.Fare,r.CurrencyCode)})}return{getOffersOrderedSummary:a}}])}),n("webservices/geo/GeoCodeDataService",["angular","lodash","util/LodashExtensions","webservices/SabreDevStudioWebServicesModule"],function(e,t,n){return e.module("sabreDevStudioWebServices").factory("GeoCodeDataServiceRequestFactory",function(){function e(e){return{GeoCodeRQ:{PlaceById:{Id:e,BrowseCategory:{name:"AIR"}}}}}return{buildRequest:function(t){return t.map(e)}}}).factory("GeoCodeDataService",["$q","GeoCodeWebService","GeoCodeDataServiceRequestFactory","ErrorReportingService","businessMessagesErrorHandler",function(e,r,i,o,a){function s(e){var t={};return e.Results.map(function(e){var n=e.GeoCodeRS.Place[0],r=n.Id;t[r]={latitude:n.latitude,longitude:n.longitude}}),t}function l(e){return t.chunk(e,f)}function u(e,n){return t.extend({},e,n)}function c(e,r){return e=e||[],t.unique(n.pushAll(e,r))}function d(t){var n=i.buildRequest(t);return e(function(e,t){r.sendRequest(n).then(function(t){var n=s(t);e(n)},function(e){a.handle(t,e)})})}function p(t){return e(function(n,r){var i=l(t),a=i.map(d),s=e.mergePromises(a,u,c);s.then(function(e){return n(e)}).catch(function(e){o.reportError("Cannot get geo coordinates for airports",e),r(e)})})}function h(t){return e(function(e,n){p([t]).then(function(n){e(n[t])},n)})}var f=10;return{getAllAirportsGeoCoordinatesDictionary:p,getAirportGeoCoordinates:h}}])}),n("webservices/geo/CachedGeoCodeDataService",["angular","lodash","util/LodashExtensions","webservices/SabreDevStudioWebServicesModule","webservices/geo/GeoCodeDataService"],function(e,t){return e.module("sabreDevStudioWebServices").factory("CachedGeoCodeDataService",["$q","GeoCodeDataService","$localStorage",function(e,n,r){function i(r){return e(function(e,i){var a=o(r);if(t.size(a)===t.size(r))return e(a);var l=t.difference(r,t.keys(a));n.getAllAirportsGeoCoordinatesDictionary(l).then(function(n){s(n);var r=t.extend({},a,n);return e(r)}).catch(i)})}function o(e){var n={};return t.each(e,function(e){var r=a(e);t.extend(n,r)}),n}function a(e){var t=r.airportsGeoCoordinates&&r.airportsGeoCoordinates[e];if(t){var n={};return n[e]={latitude:t[0],longitude:t[1]},n}}function s(e){t.each(e,function(e,t){l(t,e)})}function l(e,n){t.isUndefined(r.airportsGeoCoordinates)&&(r.airportsGeoCoordinates={}),r.airportsGeoCoordinates[e]=[n.latitude,n.longitude]}function u(t){return e(function(e,n){i([t]).then(function(n){e(n[t])},n)})}return{getAllAirportsGeoCoordinatesDictionary:i,getAirportGeoCoordinates:u}}])}),n("webservices/inspirational/DestinationFinderSummaryServiceGeoCoordsDecorator",["angular","lodash","webservices/inspirational/DestinationFinderSummaryDataService","webservices/geo/CachedGeoCodeDataService"],function(e,t){return e.module("sabreDevStudioWebServices").factory("DestinationFinderSummaryServiceGeoCoordsDecorator",["$q","DestinationFinderSummaryDataService","CachedGeoCodeDataService",function(e,n,r){function i(i){return e(function(e,a){n.getOffersOrderedSummary(i).then(function(n){var i=n.pricesForDestinationsGrouped.map(function(e){return e.destination});r.getAllAirportsGeoCoordinatesDictionary(i).then(function(r){var i=o(n.pricesForDestinationsGrouped,r),a=t.extend(n,{pricesForDestinationsGrouped:i});e(a)})},a)})}function o(e,n){return e.map(function(e){var r=n[e.destination];return t.extend({},e,{geoCoordinates:r})})}return{getOffersOrderedSummary:i}}])}),n("util/TiersPriceClassifier",["lodash"],function(e){return function(){var t;this.train=function(n){t=e.sortBy(n)},this.classifyIntoTier=function(n,r){var i=e.indexOf(t,n);if(-1===i)throw new Error("trying to classify unknown value "+n);var o=Math.round(e.size(t)/r),a=Math.floor(i/o)+1;return Math.min(a,r)}}}),n("webservices/inspirational/DestinationFinderSummaryServicePriceClassifierDecorator",["angular","lodash","webservices/inspirational/DestinationFinderSummaryServiceGeoCoordsDecorator","util/TiersPriceClassifier"],function(e,t,n,r){return e.module("sabreDevStudioWebServices").constant("priceTiers",3).factory("DestinationFinderSummaryServicePriceClassifierDecorator",["$q","DestinationFinderSummaryServiceGeoCoordsDecorator","priceTiers",function(e,n,i){function o(t){return e(function(e,r){n.getOffersOrderedSummary(t).then(function(t){e({pricesForDestinationsGrouped:a(t.pricesForDestinationsGrouped),originForPricesForDestinations:t.originForPricesForDestinations,priceTiersStatistics:s(t.pricesForDestinationsGrouped)})},r)})}function a(e){var n=e.map(function(e){return e.lowestFare.amount});l.train(n);var r=e.map(function(e){var n=l.classifyIntoTier(e.lowestFare.amount,i);return t.extend(e,{priceTier:n})});return r}function s(e){var n={tiersPricesFrom:{},tiersPriceCurrency:e[0].lowestFare.currency};return t.each(e,function(e){t.isUndefined(n.tiersPricesFrom[e.priceTier])&&(n.tiersPricesFrom[e.priceTier]=1/0),n.tiersPricesFrom[e.priceTier]=Math.min(e.lowestFare.amount,n.tiersPricesFrom[e.priceTier])}),n}var l=new r;return{getOffersOrderedSummary:o}}])}),n("webservices/inspirational/DestinationFinderCachedSummaryService",["angular","lodash"],function(e,t){return function(e){var n=t.memoize(e.getOffersOrderedSummary,JSON.stringify);return{getOffersOrderedSummary:function(e){return n(e)}}}}),n("util/GeoLocationService",["angular"],function(e){return e.module("baseServices").factory("GeoLocationService",["$q","$window","ErrorReportingService",function(e,t,n){function r(){var r=e.defer();return t.navigator.geolocation?(t.navigator.geolocation.getCurrentPosition(function(e){r.resolve(e.coords)},function(e){n.reportError("Error while getting geo location from the browser: "+e),r.reject(e)}),r.promise):(n.reportError("Unable to get geo location from the browser: Geolocation not supported"),r.reject("Geolocation not supported."),r.promise)}return{getCurrentPosition:r}}])}),n("webservices/geo/GeoSearchDataService",["angular","lodash","webservices/SabreDevStudioWebServicesModule","util/GeoLocationService"],function(e,t){return e.module("sabreDevStudioWebServices").factory("GeoSearchDataServiceRequestFactory",function(){return{buildRequest:function(e,t,n){var r=50;n=n||r;var i={GeoSearchRQ:{ForPlaces:{OfCategory:[{name:"AIR"}]},Around:{PlaceByLatLong:{latitude:e.latitude,longitude:e.longitude}}}};return t&&(i.GeoSearchRQ.ResultSetConfig={maxResults:t}),n&&(i.GeoSearchRQ.Around.distance=n),i}}}).factory("GeoSearchDataService",["$q","GeoSearchWebService","GeoSearchDataServiceRequestFactory","GeoLocationService","AirportLookupDataService","$localStorage","ErrorReportingService","businessMessagesErrorHandler",function(e,n,r,i,o,a,s,l){function u(e){return e.GeoSearchRS.Found.Place.map(function(e){return e.Id})}function c(t,n){return e(function(e,r){i.getCurrentPosition().then(function(i){h(i,t,n).then(e,r)},r)})}function d(t,n){return e(function(e,r){i.getCurrentPosition().then(function(i){p(i,t,n).then(e,r)},r)})}function p(t,n,r){return e(function(i,a){h(t,n,r).then(function(t){e.mapSettled(t,o.getAirportData).then(function(e){return i(t.filter(function(t,n){return e[n].value}))},a)},a)})}function h(i,o,a){return e(function(e,c){var d=f(i,o,a);if(d)return e(t.clone(d));var p=r.buildRequest(i,o,a);n.sendRequest(p).then(function(t){var n=u(t);g(i,o,a,n),e(n)},function(e){s.reportError("Cannot get closest airports",i),l.handle(c,e)})})}function f(e,n,r){var i=JSON.stringify([t.round(e.latitude,1),t.round(e.longitude,1),n,r]);return a.closestAirportsForGeo&&a.closestAirportsForGeo[i]}function g(e,n,r,i){t.isUndefined(a.closestAirportsForGeo)&&(a.closestAirportsForGeo={});var o=JSON.stringify([t.round(e.latitude,1),t.round(e.longitude,1),n,r]);a.closestAirportsForGeo[o]=i}return{getClosestAirport:t.partial(c,1),getClosestAirports:c,getClosestAirportsForGeo:h,getAPISupportedClosestAirport:t.partial(d,1),getAPISupportedClosestAirports:d,getAPISupportedClosestAirportsForGeo:p}}])}),n("webservices/geo/ClosestAirportGeoService",["angular","lodash","util/LodashExtensions","webservices/SabreDevStudioWebServicesModule","webservices/geo/GeoSearchDataService","webservices/lookup/AirportLookupDataService"],function(e,t,n){return e.module("sabreDevStudioWebServices").factory("ClosestAirportGeoService",["$q","GeoSearchDataService","AirportLookupDataService",function(e,t,r){function i(i){return e(function(o,a){var s=n.isDefined(i)?e.when(i):t.getAPISupportedClosestAirport(),l={airportCode:void 0,countryCode:void 0};s.then(function(e){return l.airportCode=e,r.getAirportData(e)},a).then(function(e){l.countryCode=e.CountryCode,o(l)},a)})}return{getClosestAirportData:i}}])}),n("widgets/inspirational/changeOriginSelect.drv",[],function(){function e(e,t){return{scope:{originPreset:"@?",onChange:"&"},templateUrl:"../widgets/view-templates/widgets/ChangeOriginSelect.tpl.html",link:function(n){var r=e.get()||n.originPreset;r&&(n.origin={},n.origin.airportCode=r),n.newOriginSelected=function(e){t.onOriginChange(e.airportCode),n.onChange&&n.onChange({airport:e})}}}}return e}),n("widgets/inspirational/InspirationalWidgets.mod",["angular","webservices/SabreDevStudioWebServicesModule","widgets/inspirational/ThemedDestinationFinderWidget.ctr","widgets/inspirational/TilesThemedDestinationFinderWidget.drv","widgets/inspirational/MapThemedDestinationFinderWidget.drv","util/CommonGenericFilters","widgets/inspirational/ThemedInspirationalSearchCriteriaBroadcastingService.srv","widgets/inspirational/ThemedInspirationalSearchCompleteBroadcastingService.srv","widgets/inspirational/TripOriginChangedBroadcastingService.srv","widgets/inspirational/TripOriginChangedLocalStorageService.srv","widgets/inspirational/TripOriginChangedCompositeService.srv","widgets/inspirational/TripOriginLocalStorageProvider.srv","widgets/inspirational/TravelThemesSelectionBar.drv","angular_google_maps","webservices/inspirational/DestinationFinderSummaryServicePriceClassifierDecorator","webservices/inspirational/DestinationFinderSummaryServiceGeoCoordsDecorator","webservices/inspirational/DestinationFinderCachedSummaryService","webservices/geo/ClosestAirportGeoService","widgets/inspirational/changeOriginSelect.drv"],function(e,t,n,r,i,o,a,s,l,u,c,d,p,h,f,g,m,v,y){return e.module("sdsWidgets.inspirationalWidgets",["sabreDevStudioWebServices","commonFilters","uiGmapgoogle-maps","ngStorage"]).config(["uiGmapGoogleMapApiProvider",function(e){e.configure({key:"AIzaSyBVxxTahaPICgkB26ddyLy_U-kN90V4pmE",v:"3"})}]).constant("newThemedInspirationalSearchCriteriaEvent","newThemedInspirationalSearchCriteriaEvent").constant("themedInspirationalSearchCompleteEvent","themedInspirationalSearchCompleteEvent").constant("tripOriginChangedEvent","tripOriginChangedEvent").service("ThemedInspirationalSearchCriteriaBroadcastingService",a).service("ThemedInspirationalSearchCompleteBroadcastingService",s).service("TripOriginChangedBroadcastingService",l).service("TripOriginChangedLocalStorageService",["$localStorage",u]).service("TripOriginChangedLocalStorageBroadcastService",["TripOriginChangedLocalStorageService","TripOriginChangedBroadcastingService",c]).service("TripOriginLocalStorageProvider",["$localStorage",d]).directive("travelThemesSelectionBar",p).factory("DestinationFinderSummaryDataServiceCached",["DestinationFinderSummaryDataService",m]).factory("DestinationFinderSummaryServicePriceClassifierDecoratorCached",["DestinationFinderSummaryServicePriceClassifierDecorator",m]).controller("TilesThemedDestinationFinderWidgetController",["$scope","ClosestAirportGeoService","CachedGeoCodeDataService","DestinationFinderSummaryDataServiceCached","ThemedInspirationalSearchCriteriaBroadcastingService","ThemedInspirationalSearchCompleteBroadcastingService","TripOriginChangedBroadcastingService",n]).controller("MapThemedDestinationFinderWidgetController",["$scope","ClosestAirportGeoService","CachedGeoCodeDataService","DestinationFinderSummaryServicePriceClassifierDecoratorCached","ThemedInspirationalSearchCriteriaBroadcastingService","ThemedInspirationalSearchCompleteBroadcastingService","TripOriginChangedBroadcastingService",n]).directive("tilesThemedDestinationFinder",r).directive("mapThemedDestinationFinder",i).directive("changeOriginSelect",["TripOriginLocalStorageProvider","TripOriginChangedLocalStorageBroadcastService",y])}),n("widgets/basicSearch/bfm.drv",["require","exports"],function(){var e=function(){function e(){this.templateUrl="../src/main/widgets/basicSearch/bfm.tpl.html"}return e.Factory=function(){var t=function(){return new e};return t},e}();return e}),n("widgets/basicSearch/basicSearch.mod",["require","exports","./bfm.drv","angular"],function(e,t,n,r){r.module("sdsWidgets.basicSearch",[]).directive("bfmSearchWidget",n.Factory())}),n("widgets/searchForm/timePickerPopup/timeFormat.drv",["require","exports","angular"],function(e,t,n){function r(e){return{restrict:"A",require:"ngModel",scope:{showMeridian:"="},link:function(t,r,i,o){var a=function(e){if(e){if(n.isDate(e)&&!isNaN(e.valueOf()))return o.$setValidity("time",!0),e;
if(n.isString(e)){var r=/^(0?[0-9]|1[0-2]):[0-5][0-9] ?[a|p]m$/i;if(t.showMeridian||(r=/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/),r.test(e)){o.$setValidity("time",!0);var i=new Date,a=e.split(":"),s=a[1].match(/[a|p]m/i);return s&&(a[1]=a[1].replace(/[a|p]m/i,""),"pm"===s[0].toLowerCase()&&(a[0]=a[0]+12)),i.setHours(Number(a[0]),Number(a[1])),i}return void o.$setValidity("time",!1)}return void o.$setValidity("time",!1)}return o.$setValidity("time",!0),null};o.$parsers.push(a);var s=function(n){a(n);var r=t.showMeridian?"hh:mm a":"HH:mm";return e("date")(n,r)};o.$formatters.push(s),t.$watch("showMeridian",function(){var e=o.$modelValue;e&&r.val(s(e))})}}}return r}),n("widgets/searchForm/timePickerPopup/timepickerPop.drv",["require","exports","angular"],function(e,t,n){function r(e,t){return{restrict:"E",transclude:!1,scope:{inputTime:"=",showMeridian:"=",minuteStep:"=",disabled:"="},controller:["$scope","$element",function(e){e.isOpen=!1,e.disabledInt=n.isUndefined(e.disabled)?!1:e.disabled,e.toggle=function(){e.isOpen?e.close():e.open()}}],link:function(r,i){var o={open:function(){t.closeAll(),r.isOpen=!0},close:function(){r.isOpen=!1}};t.addPicker(o),r.open=o.open,r.close=o.close,r.$watch("disabled",function(){r.disabledInt=n.isUndefined(r.disabled)?!1:r.disabled}),r.$watch("inputTime",function(){r.inputTime?i.removeClass("has-error"):i.addClass("has-error")}),i.bind("click",function(e){e.preventDefault(),e.stopPropagation()}),e.bind("click",function(){r.$apply(function(){r.isOpen=!1})})},templateUrl:"../src/main/widgets/searchForm/timePickerPopup/timePickerPop.tpl.html"}}return r}),n("widgets/searchForm/TravelDatesFlexibilitySelectionMode",["lodash","util/LodashExtensions"],function(e,t){function n(t){function n(t){t.forEach(function(t){if(!e.contains(r.allSelectableModes,t))throw new Error('The provided travel dates flexibility mode "'+t+'" is not recognized.')})}var r=this;n(t),this.selectableModes=t,this.activeMode=void 0}return n.prototype.isAnyModeActive=function(){return t.isDefined(this.activeMode)},n.prototype.isSelectableByEarliestDepartureLatestReturn=function(){return e.contains(this.selectableModes,"earliestDepartureLatestReturn.losDays")||e.contains(this.selectableModes,"earliestDepartureLatestReturn.daysOfWeekAtDestination")},n.prototype.isSelectableByAnyOf=function(t){var n=this;return t.split(",").map(e.trim).some(function(t){return e.contains(n.selectableModes,t)})},n.prototype.isSelectableBy=function(t){return e.contains(this.selectableModes,t)},n.prototype.isEarliestDepartureLatestReturnActive=function(){return"earliestDepartureLatestReturn.losDays"===this.activeMode||"earliestDepartureLatestReturn.daysOfWeekAtDestination"===this.activeMode},n.prototype.allSelectableModes=["plusMinusConstantDaysFlexibility","plusMinusVariableDaysFlexibility","earliestDepartureLatestReturn.losDays","earliestDepartureLatestReturn.daysOfWeekAtDestination"],n}),n("datamodel/search/alternateDates/PlusMinusDaysTravelDatesFlexibility",[],function(){function e(e){this.departureMinusDays=e.departureMinusDays,this.departurePlusDays=e.departurePlusDays,this.returnMinusDays=e.returnMinusDays,this.returnPlusDays=e.returnPlusDays}return e.prototype.buildConstantDaysFlexibility=function(t){return new e({departureMinusDays:t,departurePlusDays:t,returnMinusDays:t,returnPlusDays:t})},e}),n("widgets/searchForm/SearchForm.drv",["lodash","moment","widgets/searchForm/TravelDatesFlexibilitySelectionMode","datamodel/search/alternateDates/PlusMinusDaysTravelDatesFlexibility","widgets/WidgetGlobalCallbacks"],function(e,t,n,r,i){function o(o,a){return{templateUrl:"../widgets/view-templates/widgets/SearchFormWidget.tpl.html",controller:"SearchFormCtrl",scope:{selectableAirportsForThisPosOnly:"@",selectableAirportsDictionary:"@",newSearchCriteriaCallback:"&?",showDiversityOptions:"@?",originAirportCode:"@?"},link:function(s,l){function u(){s.fieldsToHide=l.attr("hide-fields")&&l.attr("hide-fields").split(",")||[]}function c(){s.optionalFieldsToShow=l.attr("show-optional-fields")&&l.attr("show-optional-fields").split(",")||[]}function d(){s.optionsPerDay=parseInt(l.attr("options-per-day"));var e=l.attr("set-checkboxes-as-checked")&&l.attr("set-checkboxes-as-checked").split(",")||[];e.forEach(function(e){s.generalSearchCriteria[e]=!0})}function p(){s.earliestTravelStart=o.now().startOf("day").toDate(),s.simpleTrip.DepartureDate=o.now().startOf("day").add(v,"days").toDate(),s.simpleTrip.EarliestDepartureDate=o.now().startOf("day").add(v,"days").toDate(),s.simpleTrip.ReturnDate=t(s.simpleTrip.DepartureDate).add(m,"days").toDate(),s.simpleTrip.LatestReturnDate=t(s.simpleTrip.EarliestDepartureDate).add(m,"days").toDate()}function h(){var e=!1,n=!1;s.onDepartureDateChange=function(){e||(s.simpleTrip.ReturnDate=t(s.simpleTrip.DepartureDate).add(m,"days").toDate())},s.onEarliestDepartureDateChange=function(){n||(s.simpleTrip.LatestReturnDate=t(s.simpleTrip.EarliestDepartureDate).add(m,"days").toDate())},s.onReturnDateChange=function(){e=!0},s.onLatestReturnDateChange=function(){n=!0}}function f(){var t=l.attr("show-date-flexibility-criteria")&&l.attr("show-date-flexibility-criteria").split(",").map(e.trim)||[];s.flexDatesMode=new n(t);var i=l.attr("preselect-date-flexibility-criterion");if(i&&(s.flexDatesMode.activeMode=i),s.flexDatesMode.isSelectableBy("plusMinusVariableDaysFlexibility")){var o=parseInt(l.attr("plus-minus-days-flexibility-max-days"));e.isFinite(o)&&(s.plusMinusDaysMaxDays=o);var a=3;s.advancedDateFlexibility=new r({departureMinusDays:a,departurePlusDays:a,returnMinusDays:a,returnPlusDays:a})}s.flexDatesMode.isSelectableByEarliestDepartureLatestReturn()&&(s.departureDaysOfWeek={selected:[]},s.returnDaysOfWeek={selected:[]},s.daysOfWeekAtDestination={selected:[]})}function g(){a(function(){s.loadDeferredElements=!0},1)}var m=14,v=14;s.optionalFields=["BagsRequested"],u(),c(),d(),f(),p(),h(),g(),i.linkComplete(s,l)}}}return o}),n("datamodel/search/SearchCriteria",["lodash","util/LodashExtensions","moment"],function(e,t,n){function r(){var e=this;this.legs=[],this.preferredAirlines=[],this.diversityModelOptions=void 0,this.additionalParameters={};var t=this.CabinEnum.Economy;Object.defineProperty(this,"preferredCabin",{enumerable:!0,get:function(){return t},set:function(n){switch(n){case"Economy":t=e.CabinEnum.Economy;break;case"PremiumEconomy":t=e.CabinEnum.PremiumEconomy;break;case"Business":t=e.CabinEnum.Business;break;case"First":t=e.CabinEnum.First;break;default:throw new Error("unrecognized cabin code: "+n)}}});var n;Object.defineProperty(this,"maxStops",{enumerable:!0,get:function(){return n},set:function(e){n=e}}),this.passengerSpecifications=[],Object.defineProperty(this,"returnAlternateDatesOnly",{enumerable:!0,writable:!0})}function i(e){for(var t=[],n=-e.minusDays;n<=e.plusDays;n++)0!==n&&t.push(n);return t}return r.prototype.addLeg=function(e){this.legs.push(e)},r.prototype.getLeg=function(e){return this.legs[e]},r.prototype.getFirstLeg=function(){return this.getLeg(0)},r.prototype.getSecondLeg=function(){return this.getLeg(1)},r.prototype.addPreferredAirline=function(e){this.preferredAirlines.push(e)},r.prototype.getPreferredAirlines=function(){return this.preferredAirlines},r.prototype.addPassenger=function(e,t){this.passengerSpecifications.push({passengerTypeCode:e,count:t})},r.prototype.getTotalPassengerCount=function(){return this.passengerSpecifications.reduce(function(e,t){return e+t.count},0)},r.prototype.isAnyLengthOfStayDefined=function(){return t.isDefined(this.lengthOfStay)||t.isDefined(this.earliestDepartureLatestReturnDatesFlexibility)},r.prototype.getLengthOfStay=function(){if(!this.isOneWayTravel()){if(t.isDefined(this.lengthOfStay))return this.lengthOfStay;var e=this.legs[0].departureDateTime,n=this.legs[1].departureDateTime;return e&&n?this.lengthOfStay||n.diff(e,"days"):void 0}},r.prototype.getMinMaxLengthOfStay=function(){return this.earliestDepartureLatestReturnDatesFlexibility&&this.earliestDepartureLatestReturnDatesFlexibility.minMaxLengthOfStay},r.prototype.getMinLengthOfStay=function(){return this.getMinMaxLengthOfStay()&&this.getMinMaxLengthOfStay().minDays},r.prototype.getMaxLengthOfStay=function(){return this.getMinMaxLengthOfStay()&&this.getMinMaxLengthOfStay().maxDays},r.prototype.toString=function(){return JSON.stringify(this)},r.prototype.getTripOrigin=function(){return this.getFirstLeg().origin},r.prototype.getTripDestination=function(){return this.getFirstLeg().destination},r.prototype.isRoundTripTravel=function(){return 2===this.legs.length&&this.getFirstLeg().origin===this.getSecondLeg().destination&&this.getFirstLeg().destination===this.getSecondLeg().origin},r.prototype.isOneWayTravel=function(){return 1===this.legs.length},r.prototype.TripTypeEnum=Object.freeze({OneWay:"OneWay",RoundTrip:"RoundTrip",MultiStop:"MultiStop"}),r.prototype.isEconomyCabinRequested=function(){return this.preferredCabin===this.CabinEnum.Economy},r.prototype.CabinEnum=Object.freeze({Economy:{name:"Economy",code:"Y"},PremiumEconomy:{name:"PremiumEconomy",code:"S"},Business:{name:"Business",code:"C"},First:{name:"First",code:"F"}}),r.prototype.cloneWithDatesAdjustedToOtherDepartureDate=function(t,n){var i=e.extend(Object.create(r.prototype),this),o=t.diff(this.getFirstLeg().departureDateTime,"days");return i.legs.forEach(function(e){e.addDaysToDepartureDate(o)}),n&&(i.legs[1].departureDateTime=n),i},r.prototype.cloneWithoutDateFlexibility=function(){var t=e.extend(Object.create(r.prototype),this);return t.dateFlexibilityDays=void 0,t.returnAlternateDatesOnly=void 0,t},r.prototype.isAlternateDatesRequest=function(){return this.isPlusMinusDaysDateFlexibilityRequest()||this.isEarliestDepartureLatestReturnDateFlexibilityRequest()},r.prototype.isPlusMinusDaysDateFlexibilityRequest=function(){return this.dateFlexibilityDays},r.prototype.hasAtLeastOnePlusMinusDayDefined=function(){return e.values(this.dateFlexibilityDays).some(function(e){return e>0})},r.prototype.getRequestedDepartureDates=function(){return this.earliestDepartureLatestReturnDatesFlexibility?this.generateDepartureAltDatesForEarliestDepartureLatestReturn(this.earliestDepartureLatestReturnDatesFlexibility.getEarliestDepartureDateTime(),this.earliestDepartureLatestReturnDatesFlexibility.getLatestReturnDateTime(),this.earliestDepartureLatestReturnDatesFlexibility.minMaxLengthOfStay.minDays):this.generateAlternateDates(this.getFirstLeg().departureDateTime,{minusDays:this.dateFlexibilityDays.departureMinusDays,plusDays:this.dateFlexibilityDays.departurePlusDays})},r.prototype.getRequestedReturnDates=function(){return this.earliestDepartureLatestReturnDatesFlexibility?this.generateReturnAltDatesForEarliestDepartureLatestReturn(this.earliestDepartureLatestReturnDatesFlexibility.getEarliestDepartureDateTime(),this.earliestDepartureLatestReturnDatesFlexibility.getLatestReturnDateTime(),this.earliestDepartureLatestReturnDatesFlexibility.minMaxLengthOfStay.minDays):this.generateAlternateDates(this.getSecondLeg().departureDateTime,{minusDays:this.dateFlexibilityDays.returnMinusDays,plusDays:this.dateFlexibilityDays.returnPlusDays})},r.prototype.generateDepartureAltDatesForEarliestDepartureLatestReturn=function(e,t,r){var i=t.clone().subtract(r,"days"),o=[];return n.range(e,i).by("days",function(e){o.push(e)}),o},r.prototype.generateReturnAltDatesForEarliestDepartureLatestReturn=function(e,t,r){var i=e.clone().add(r,"days"),o=[];return n.range(i,t).by("days",function(e){o.push(e)}),o},r.prototype.getRequestedLengthOfStayValues=function(){var t=this.getRequestedDepartureDates(),n=this.getRequestedReturnDates(),r=[];return t.forEach(function(e){n.forEach(function(t){var n=t.diff(e,"days");n>=0&&r.push(n)})}),e.uniq(r)},r.prototype.getTripDepartureDateTime=function(){return this.getFirstLeg().departureDateTime},r.prototype.getTripReturnDateTime=function(){return e.last(this.legs).departureDateTime},r.prototype.isEarliestDepartureLatestReturnDateFlexibilityRequest=function(){return t.isDefined(this.earliestDepartureLatestReturnDatesFlexibility)},r.prototype.getEarliestDepartureDateTime=function(){return this.earliestDepartureLatestReturnDatesFlexibility&&this.earliestDepartureLatestReturnDatesFlexibility.getEarliestDepartureDateTime()},r.prototype.getLatestReturnDateTime=function(){return this.earliestDepartureLatestReturnDatesFlexibility&&this.earliestDepartureLatestReturnDatesFlexibility.getLatestReturnDateTime()},r.prototype.hasAnyDepartureDaysOfWeekDefined=function(){return this.earliestDepartureLatestReturnDatesFlexibility&&e.contains(this.earliestDepartureLatestReturnDatesFlexibility.departureDaysOfWeek,!0)},r.prototype.getDepartureDaysOfWeek=function(){return this.hasAnyDepartureDaysOfWeekDefined()?this.earliestDepartureLatestReturnDatesFlexibility.departureDaysOfWeek:this.hasAnyDaysAtDestinationDefined()?this.dayIndexIntoWeekDaysArray(this.departureAndReturnDaysOfWeekIndexes().departureDayOfWeekIndex):void 0},r.prototype.hasAnyReturnDaysOfWeekDefined=function(){return this.earliestDepartureLatestReturnDatesFlexibility&&e.contains(this.earliestDepartureLatestReturnDatesFlexibility.returnDaysOfWeek,!0)},r.prototype.getReturnDaysOfWeek=function(){return this.hasAnyReturnDaysOfWeekDefined()?this.earliestDepartureLatestReturnDatesFlexibility.returnDaysOfWeek:this.hasAnyDaysAtDestinationDefined()?this.dayIndexIntoWeekDaysArray(this.departureAndReturnDaysOfWeekIndexes().returnDayOfWeekIndex):void 0},r.prototype.dayIndexIntoWeekDaysArray=function(e){for(var t=7,n=[],r=0;t>r;r++)n.push(!1);return n[e]=!0,n},r.prototype.hasAnyDaysAtDestinationDefined=function(){return this.earliestDepartureLatestReturnDatesFlexibility&&this.earliestDepartureLatestReturnDatesFlexibility.daysOfWeekAtDestination&&this.earliestDepartureLatestReturnDatesFlexibility.daysOfWeekAtDestination.hasAnyDaysAtDestinationDefined()},r.prototype.departureAndReturnDaysOfWeekIndexes=function(){return this.earliestDepartureLatestReturnDatesFlexibility.daysOfWeekAtDestination.departureAndReturnDaysOfWeekIndexes()},r.prototype.getDepartureDateFrom=function(){if(this.isPlusMinusDaysDateFlexibilityRequest())var e=this.legs[0].departureDateTime&&this.legs[0].departureDateTime.clone().subtract(this.dateFlexibilityDays.departureMinusDays,"days");return this.getEarliestDepartureDateTime()||e||this.legs[0].departureDateTime},r.prototype.getDepartureDateTo=function(){if(this.isPlusMinusDaysDateFlexibilityRequest())var e=this.legs[0].departureDateTime&&this.legs[0].departureDateTime.clone().add(this.dateFlexibilityDays.departurePlusDays,"days");var t=this.getLatestReturnDateTime()&&this.getLatestReturnDateTime().clone().subtract(this.getMinLengthOfStay(),"days");return t||e||this.legs[0].departureDateTime},r.prototype.getReturnDateFrom=function(){if(this.isPlusMinusDaysDateFlexibilityRequest())var e=this.legs[1].departureDateTime&&this.legs[1].departureDateTime.clone().subtract(this.dateFlexibilityDays.returnMinusDays,"days");var t=this.getEarliestDepartureDateTime()&&this.getEarliestDepartureDateTime().clone().add(this.getMinLengthOfStay(),"days");return t||e||this.legs[1].departureDateTime},r.prototype.getReturnDateTo=function(){if(this.isPlusMinusDaysDateFlexibilityRequest())var e=this.legs[1].departureDateTime&&this.legs[1].departureDateTime.clone().add(this.dateFlexibilityDays.returnPlusDays,"days");return this.getLatestReturnDateTime()||e||this.legs[1].departureDateTime},r.prototype.generateAlternateDates=function(t,n){if(!this.isAlternateDatesRequest())return t;var r=[],o=i(n);if(o.forEach(function(e){var n=t.clone().add(e,"days");r.push(n)}),!this.returnAlternateDatesOnly){var a=e.sortedIndex(r,t,function(e){return e.unix()});r.splice(a,0,t)}return r},r}),n("datamodel/search/SearchCriteriaLeg",["require","exports","lodash"],function(e,t,n){function r(e){function t(e){if(n.isUndefined(e)||0===e.length)throw new Error("airport or city code needed");if(!r.AIRPORT_CODE_REGEX.test(e))throw new Error("'"+e+"' is not a valid IATA airport or city code")}var r=this,i=e.origin.toUpperCase();t(i),this.origin=i;var o=e.destination.toUpperCase();t(o),this.destination=o;var a;Object.defineProperty(this,"departureDateTime",{enumerable:!0,get:function(){return a&&a.clone()},set:function(e){a=e&&e.clone()}}),this.departureDateTime=e.departureDateTime;var s;Object.defineProperty(this,"arrivalDateTime",{enumerable:!0,get:function(){return s&&s.clone()},set:function(e){e&&(s=e&&e.clone())}}),this.arrivalDateTime=e.arrivalDateTime}return r.prototype.addDaysToDepartureDate=function(e){this.departureDateTime=this.departureDateTime.add(e,"days")},r.prototype.AIRPORT_CODE_REGEX=/^[A-Z]{3}$/,r}),n("datamodel/search/alternateDates/DaysOfWeekAtDestination",["lodash"],function(e){function t(e){this.days=e}var n=7;return t.prototype.hasAnyDaysAtDestinationDefined=function(){return e.contains(this.days,!0)},t.prototype.lengthOfStaySpansOverNextWeek=function(){return e.first(this.days)&&e.last(this.days)},t.prototype.departureAndReturnDaysOfWeekIndexes=function(){var t,n;return this.lengthOfStaySpansOverNextWeek(this.days)?(n=e.indexOf(this.days,!0),t=e.indexOf(this.days,!0,n+1)):(t=e.indexOf(this.days,!0),n=e.lastIndexOf(this.days,!0)),{departureDayOfWeekIndex:t,returnDayOfWeekIndex:n}},t.prototype.lengthOfStay=function(){var e=this.departureAndReturnDaysOfWeekIndexes();return e.returnDayOfWeekIndex>=e.departureDayOfWeekIndex?e.returnDayOfWeekIndex-e.departureDayOfWeekIndex:n-(e.departureDayOfWeekIndex-e.returnDayOfWeekIndex)},t}),n("datamodel/search/alternateDates/EarliestDepartureLatestReturnTravelDatesFlexibility",[],function(){function e(e){this.earliestDepartureLatestReturnDates={earliestDepartureDateTime:e.earliestDepartureDateTime,latestReturnDateTime:e.latestReturnDateTime},this.minMaxLengthOfStay={minDays:e.minDays,maxDays:e.maxDays},this.departureDaysOfWeek=e.departureDaysOfWeek,this.returnDaysOfWeek=e.returnDaysOfWeek,this.daysOfWeekAtDestination=e.daysOfWeekAtDestination}return e.prototype.getEarliestDepartureDateTime=function(){return this.earliestDepartureLatestReturnDates.earliestDepartureDateTime},e.prototype.getLatestReturnDateTime=function(){return this.earliestDepartureLatestReturnDates.latestReturnDateTime},e}),n("datamodel/search/DiversityModelOptions",["require","exports","moment"],function(e,t,n){function r(){this.lowFareBucketMode=this.LowFareBucketModeEnum.OPTION,this.lowFareBucket=void 0,this.fareCutOff=void 0,this.priceWeight=this.PRICE_WEIGHT_DEFAULT_VALUE,this.travelTimeWeight=void 0,this.carrier={weight:void 0,onlineIndicator:!1,"default":{options:void 0},override:[]},this.operatingDuplicate={weight:void 0,preferredCarriers:{selected:[]}},this.inboundOutboundPairing={weight:void 0,duplicates:this.INBOUND_OUTBOUND_PAIRING_DUPLICATES_DEFAULT_VALUE},this.timeOfDay={weight:void 0,distributions:[]},this.numberOfStopsWeight=void 0}return r.prototype.PRICE_WEIGHT_DEFAULT_VALUE=10,r.prototype.INBOUND_OUTBOUND_PAIRING_DUPLICATES_DEFAULT_VALUE=1,r.prototype.TIME_RANGE_BEGIN="6:00",r.prototype.TIME_RANGE_END="12:00",r.prototype.TIME_RANGE_FORMAT="HH:mm",r.prototype.addCarrierOverriding=function(){this.carrier.override.push({code:{},options:void 0})},r.prototype.removeCarrierOverriding=function(){this.carrier.override.pop()},r.prototype.getDistributions=function(){return this.timeOfDay.distributions},r.prototype.addDistribution=function(){this.getDistributions().push({direction:void 0,endpoint:void 0,ranges:[{begin:n(this.TIME_RANGE_BEGIN,this.TIME_RANGE_FORMAT).toDate(),end:n(this.TIME_RANGE_END,this.TIME_RANGE_FORMAT).toDate(),options:void 0}]})},r.prototype.removeDistribution=function(){this.getDistributions().pop()},r.prototype.addRangeToDistribution=function(e){this.getDistributions()[e].ranges.push({begin:n(this.TIME_RANGE_BEGIN,this.TIME_RANGE_FORMAT).toDate(),end:n(this.TIME_RANGE_END,this.TIME_RANGE_FORMAT).toDate(),option:void 0})},r.prototype.removeLastRangeFromDistribution=function(e){this.getDistributions()[e].ranges.pop()},r.prototype.LowFareBucketModeEnum=Object.freeze({OPTION:0,FARE_CUT_OFF:1}),r.prototype.AvailableDirectionsEnum=Object.freeze({INBOUND:{id:1,description:"Inbound"},OUTBOUND:{id:2,description:"Outbound"},values:function(){return[this.INBOUND,this.OUTBOUND]}}),r.prototype.AvailableEndpointsEnum=Object.freeze({DEPARTURE:{id:1,description:"Departure"},ARRIVAL:{id:2,description:"Arrival"},values:function(){return[this.DEPARTURE,this.ARRIVAL]}}),r}),n("widgets/searchForm/SearchForm.ctrl",["lodash","util/LodashExtensions","moment","datamodel/search/SearchCriteria","datamodel/search/SearchCriteriaLeg","datamodel/search/alternateDates/DaysOfWeekAtDestination","datamodel/search/alternateDates/PlusMinusDaysTravelDatesFlexibility","datamodel/search/alternateDates/EarliestDepartureLatestReturnTravelDatesFlexibility","datamodel/search/DiversityModelOptions"],function(e,t,n,r,i,o,a,s,l){function u(u,c,d){function p(e){switch(e){case"oneWay":var t=new i({origin:u.simpleTrip.Origin.airportCode,destination:u.simpleTrip.Destination.airportCode,departureDateTime:n(u.simpleTrip.DepartureDate)});return[t];case"returnTrip":t=new i({origin:u.simpleTrip.Origin.airportCode,destination:u.simpleTrip.Destination.airportCode});var r=new i({origin:u.simpleTrip.Destination.airportCode,destination:u.simpleTrip.Origin.airportCode});return u.flexDatesMode.isEarliestDepartureLatestReturnActive()||(t.departureDateTime=n(u.simpleTrip.DepartureDate),r.departureDateTime=n(u.simpleTrip.ReturnDate)),[t,r];case"multiDestination":return u.multiDestinationLegs.map(function(e){var t=n(e.DepartureDate);return new i({origin:e.Origin.airportCode,destination:e.Destination.airportCode,departureDateTime:t})});default:throw new Error("Trip type: "+u.tripType+" not recognized")}}u.widgetId=c.next(),u.diversityModelOptions=new l,u.detailsVisibility={useDiversityModelOptions:!1},u.tripType="returnTrip",u.multiDestinationLegs=[{},{},{}],u.simpleTrip={},u.originAirportCode&&(u.simpleTrip.Origin={airportCode:u.originAirportCode},u.multiDestinationLegs[0].Origin={airportCode:u.originAirportCode});var h=1;u.generalSearchCriteria={ADTPaxCount:h},u.preferredAirlines={selected:[]},u.lengthsOfStay={selected:{}},u.addNextSearchCriteriaLeg=function(){u.multiDestinationLegs.push({})},u.removeLastSearchCriteriaLeg=function(){u.multiDestinationLegs.pop()},u.createNewSearchCriteria=function(){var e=new r,i=p(u.tripType);if(i.forEach(function(t){e.addLeg(t)}),"earliestDepartureLatestReturn.daysOfWeekAtDestination"===u.flexDatesMode.activeMode){var l=new o(u.daysOfWeekAtDestination.selected);e.earliestDepartureLatestReturnDatesFlexibility=new s({earliestDepartureDateTime:n(u.simpleTrip.EarliestDepartureDate),latestReturnDateTime:n(u.simpleTrip.LatestReturnDate),minDays:l.lengthOfStay(),maxDays:l.lengthOfStay(),daysOfWeekAtDestination:l})}if("earliestDepartureLatestReturn.losDays"===u.flexDatesMode.activeMode&&(e.earliestDepartureLatestReturnDatesFlexibility=new s({earliestDepartureDateTime:n(u.simpleTrip.EarliestDepartureDate),latestReturnDateTime:n(u.simpleTrip.LatestReturnDate),minDays:u.lengthsOfStay.selected.minDays,maxDays:u.lengthsOfStay.selected.maxDays,departureDaysOfWeek:u.departureDaysOfWeek.selected,returnDaysOfWeek:u.returnDaysOfWeek.selected})),"plusMinusConstantDaysFlexibility"===u.flexDatesMode.activeMode){var c=3;e.dateFlexibilityDays=a.prototype.buildConstantDaysFlexibility(c)}else"plusMinusVariableDaysFlexibility"===u.flexDatesMode.activeMode&&(e.dateFlexibilityDays=u.advancedDateFlexibility);e.addPassenger("ADT",u.generalSearchCriteria.ADTPaxCount),t.isDefined(u.generalSearchCriteria.bagsRequested)&&(e.bagsRequested=u.generalSearchCriteria.bagsRequested),u.generalSearchCriteria.DirectFlightsOnly&&(e.maxStops=0),u.generalSearchCriteria.preferredCabin&&(e.preferredCabin=u.generalSearchCriteria.preferredCabin),u.preferredAirlines.selected&&u.preferredAirlines.selected.forEach(function(t){return e.addPreferredAirline(t)}),u.optionsPerDay&&(e.optionsPerDay=u.optionsPerDay),u.detailsVisibility.useDiversityModelOptions&&(e.diversityModelOptions=u.diversityModelOptions),d.searchCriteria=e,d.broadcast(),t.isDefined(u.newSearchCriteriaCallback)&&u.newSearchCriteriaCallback({searchCriteria:e})},u.plusMinusConstantDateFlexibilityCheckboxClicked=function(){u.flexDatesMode.activeMode="plusMinusConstantDaysFlexibility"!==u.flexDatesMode.activeMode?"plusMinusConstantDaysFlexibility":void 0},u.isVisible=function(t){return e.contains(u.optionalFields,t)?e.contains(u.optionalFieldsToShow,t):!e.contains(u.fieldsToHide,t)},u.isAnyOfVisible=function(){return[].slice.call(arguments).some(u.isVisible)}}return u}),n("widgets/searchForm/searchForm.mod",["angular","widgets/searchForm/timePickerPopup/timeFormat.drv","widgets/searchForm/timePickerPopup/timepickerPop.drv","widgets/searchForm/SearchForm.drv","widgets/searchForm/SearchForm.ctrl"],function(e,t,n,r,i){e.module("sdsWidgets.searchForm",[]).factory("timepickerState",function(){var e=[];return{addPicker:function(t){e.push(t)},closeAll:function(){for(var t=0;t<e.length;t++)e[t].close()}}}).directive("timeFormat",["$filter",t]).directive("timepickerPop",["$document","timepickerState",n]).constant("newSearchCriteriaEvent","newSearchCriteria").controller("SearchFormCtrl",["$scope","WidgetIdGeneratorService","SearchCriteriaBroadcastingService",i]).directive("searchForm",["DateService","$timeout",r])}),n("services/ShoppingProfileService",["require","exports"],function(){var e=function(){function e(){this.shoppingProfiles=[{description:"InstaFlights Search (public cache)",shoppingProfileName:"INSTAFLIGHTS",displayable:!0,activeSearchWebService:"instaflights"},{description:"Meta (public cache with avail. filters)",shoppingProfileName:"META",displayable:!0,activeSearchWebService:"bfm"},{description:"BFM optimized (public cache with reprice 2nd wash and live fallback)",shoppingProfileName:"BFMOPTIMIZED",displayable:!0,activeSearchWebService:"bfm"},{description:"Diversity Swapper",shoppingProfileName:"DIVERSITYSWAPPER",displayable:!1,activeSearchWebService:"bfm"},{description:"Branded Fares",shoppingProfileName:"BRANDEDFARES",displayable:!1,activeSearchWebService:"bfm"}]}return e.prototype.getShoppingProfies=function(e){var t=this.shoppingProfiles;return void 0!==e&&(t=t.filter(function(t){return t.displayable===e})),t},e.prototype.enhanceSearchCriteriaProcessingShoppingProfile=function(e,t){var n=_.create(Object.getPrototypeOf(t),t);switch(e){case void 0:break;case"INSTAFLIGHTS":break;case"META":n.additionalParameters={ServiceTag:{Name:"META"}};break;case"BFMOPTIMIZED":n.additionalParameters={ServiceTag:{Name:"BFMOPTIMIZED"}};break;case"DIVERSITYSWAPPER":break;case"BRANDEDFARES":break;default:throw new Error("Unsuported shopping profile: "+e)}return n},e}();return e}),n("services/services.mod",["require","exports","angular","./ShoppingProfileService"],function(e,t,n,r){n.module("services",[]).service("ShoppingProfileService",r)}),n("webservices/Interceptors",["require","exports","lodash","angular"],function(e,t,n,r){function i(){function e(e,t){return n.startsWith(e,t)}return r.module("sabreDevStudioWebServices").factory("NetworkConnectivityErrorInterceptor",["$q","NetworkErrorReportingService","selectedCountryConfigs",function(t,r,i){function o(e){return e.indexOf(i.apiURL)>-1?"Sabre Dev Studio":e}var a=n.template("Unable to communicate with <%= endpoint %>"),s=n.template("Timeout calling <%= endpoint %>"),l=300;return{responseError:function(n){if(!e(n.config.url,i.apiURL))return t.reject(n);if(0!==n.status)return t.reject(n);var u={endpoint:o(n.config.url)};if(n.config.timeout&&n.config.timeoutClockStart){var c=Math.round(performance.now()-n.config.timeoutClockStart);if(c>l&&c>=n.config.timeout)return r.reportError(s(u)),t.reject(n)}return r.reportError(a(u)),t.reject(n)}}}]).factory("ResponseTimeLoggerHttpInterceptor",["$q","$log","selectedCountryConfigs",function(t,n,r){function i(t){if(e(t.url,r.apiURL)&&t.timeStart){var i=performance.now(),o=Math.round(i-t.timeStart);n.debug("http call time: "+o+" millis")}}return{request:function(t){return e(t.url,r.apiURL)&&(t.timeStart=performance.now()),t},response:function(e){return i(e.config),e},responseError:function(e){return i(e.config),t.reject(e)}}}]).constant("defaultTimeoutMillis",5e3).factory("AddTimeoutOnHttpCommunicationInterceptor",["defaultTimeoutMillis","selectedCountryConfigs",function(t,n){return{request:function(r){return e(r.url,n.apiURL)&&(r.timeout=r.timeout||t,r.timeoutClockStart=performance.now()),r}}}]).config(["$httpProvider",function(e){e.interceptors.push("ResponseTimeLoggerHttpInterceptor","NetworkConnectivityErrorInterceptor","AddTimeoutOnHttpCommunicationInterceptor")}])}return i}),function(){function e(e){return angular.isUndefined(e)||null===e}var t={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(e){var n=e.which;switch(n){case t.COMMAND:case t.SHIFT:case t.CTRL:case t.ALT:return!0}return e.metaKey||e.ctrlKey||e.altKey?!0:!1},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&123>=e},isVerticalMovement:function(e){return~[t.UP,t.DOWN].indexOf(e)},isHorizontalMovement:function(e){return~[t.LEFT,t.RIGHT,t.BACKSPACE,t.DELETE].indexOf(e)},toSeparator:function(e){var n={ENTER:"\n",TAB:"	",SPACE:" "}[e];return n?n:t[e]?void 0:e}};void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(e){return angular.element(this[0].querySelectorAll(e))}),void 0===angular.element.prototype.closest&&(angular.element.prototype.closest=function(e){for(var t=this[0],n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;t;){if(n.bind(t)(e))return t;t=t.parentElement}return!1});var n=0,r=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:!0,sortable:!1,placeholder:"",refreshDelay:1e3,closeOnSelect:!0,skipFocusser:!1,dropdownPosition:"auto",removeSelected:!0,resetSearchInput:!0,generateId:function(){return n++},appendToBody:!1,spinnerEnabled:!1,spinnerClass:"glyphicon glyphicon-refresh ui-select-spin",backspaceReset:!0}).service("uiSelectMinErr",function(){var e=angular.$$minErr("ui.select");return function(){var t=e.apply(this,arguments),n=t.message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(n)}}).directive("uisTranscludeAppend",function(){return{link:function(e,t,n,r,i){i(e,function(e){t.append(e)})}}}).filter("highlight",function(){function e(e){return(""+e).replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n){return n&&t?(""+t).replace(new RegExp(e(n),"gi"),'<span class="ui-select-highlight">$&</span>'):t}}).factory("uisOffset",["$document","$window",function(e,t){return function(n){var r=n[0].getBoundingClientRect();return{width:r.width||n.prop("offsetWidth"),height:r.height||n.prop("offsetHeight"),top:r.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:r.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}}}]);r.factory("$$uisDebounce",["$timeout",function(e){return function(t,n){var r;return function(){var i=this,o=Array.prototype.slice.call(arguments);r&&e.cancel(r),r=e(function(){t.apply(i,o)
},n)}}}]),r.directive("uiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr","$compile","$window",function(e,t,n,r,i){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){t.addClass("ui-select-choices");var n=t.parent().attr("theme")||e.theme;return n+"/choices.tpl.html"},compile:function(r,o){if(!o.repeat)throw n("repeat","Expected 'repeat' expression.");var a=o.groupBy,s=o.groupFilter;if(a){var l=r.querySelectorAll(".ui-select-choices-group");if(1!==l.length)throw n("rows","Expected 1 .ui-select-choices-group but got '{0}'.",l.length);l.attr("ng-repeat",t.getGroupNgRepeatExpression())}var u=t.parse(o.repeat),c=r.querySelectorAll(".ui-select-choices-row");if(1!==c.length)throw n("rows","Expected 1 .ui-select-choices-row but got '{0}'.",c.length);c.attr("ng-repeat",u.repeatExpression(a)).attr("ng-if","$select.open");var d=r.querySelectorAll(".ui-select-choices-row-inner");if(1!==d.length)throw n("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",d.length);d.attr("uis-transclude-append","");var p=i.document.addEventListener?c:d;return p.attr("ng-click","$select.select("+u.itemName+",$select.skipFocusser,$event)"),function(t,n,i,o){o.parseRepeatAttr(i.repeat,a,s),o.disableChoiceExpression=i.uiDisableChoice,o.onHighlightCallback=i.onHighlight,o.minimumInputLength=parseInt(i.minimumInputLength)||0,o.dropdownPosition=i.position?i.position.toLowerCase():e.dropdownPosition,t.$watch("$select.search",function(e){e&&!o.open&&o.multiple&&o.activate(!1,!0),o.activeIndex=o.tagging.isActivated?-1:0,!i.minimumInputLength||o.search.length>=i.minimumInputLength?o.refresh(i.refresh):o.items=[]}),i.$observe("refreshDelay",function(){var n=t.$eval(i.refreshDelay);o.refreshDelay=void 0!==n?n:e.refreshDelay}),t.$watch("$select.open",function(e){e?(r.attr("role","listbox"),o.refresh(i.refresh)):n.removeAttr("role")})}}}}]),r.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","$$uisDebounce","uisRepeatParser","uiSelectMinErr","uiSelectConfig","$parse","$injector","$window",function(n,r,i,o,a,s,l,u,c,d,p){function h(e,t,n){if(e.findIndex)return e.findIndex(t,n);for(var r,i=Object(e),o=i.length>>>0,a=0;o>a;a++)if(r=i[a],t.call(n,r,a,i))return a;return-1}function f(){D.resetSearchInput&&(D.search=w,D.selected&&D.items.length&&!D.multiple&&(D.activeIndex=h(D.items,function(e){return angular.equals(this,e)},D.selected)))}function g(e,t){var n,r,i=[];for(n=0;n<t.length;n++)for(r=0;r<e.length;r++)e[r].name==[t[n]]&&i.push(e[r]);return i}function m(e,t){var n=x.indexOf(e);t&&-1===n&&x.push(e),!t&&n>-1&&x.splice(n,1)}function v(e){return x.indexOf(e)>-1}function y(e){function t(e,t){var n=r.indexOf(e);t&&-1===n&&r.push(e),!t&&n>-1&&r.splice(n,1)}function n(e){return r.indexOf(e)>-1}if(e){var r=[];D.isLocked=function(e,r){var i=!1,o=D.selected[r];return o&&(e?(i=!!e.$eval(D.lockChoiceExpression),t(o,i)):i=n(o)),i}}}function b(e){var n=!0;switch(e){case t.DOWN:if(!D.open&&D.multiple)D.activate(!1,!0);else if(D.activeIndex<D.items.length-1)for(var r=++D.activeIndex;v(D.items[r])&&r<D.items.length;)D.activeIndex=++r;break;case t.UP:var i=0===D.search.length&&D.tagging.isActivated?-1:0;if(!D.open&&D.multiple)D.activate(!1,!0);else if(D.activeIndex>i)for(var o=--D.activeIndex;v(D.items[o])&&o>i;)D.activeIndex=--o;break;case t.TAB:(!D.multiple||D.open)&&D.select(D.items[D.activeIndex],!0);break;case t.ENTER:D.open&&(D.tagging.isActivated||D.activeIndex>=0)?D.select(D.items[D.activeIndex],D.skipFocusser):D.activate(!1,!0);break;case t.ESC:D.close();break;default:n=!1}return n}function S(){var e=r.querySelectorAll(".ui-select-choices-content"),t=e.querySelectorAll(".ui-select-choices-row");if(t.length<1)throw l("choices","Expected multiple .ui-select-choices-row but got '{0}'.",t.length);if(!(D.activeIndex<0)){var n=t[D.activeIndex],i=n.offsetTop+n.clientHeight-e[0].scrollTop,o=e[0].offsetHeight;i>o?e[0].scrollTop+=i-o:i<n.clientHeight&&(D.isGrouped&&0===D.activeIndex?e[0].scrollTop=0:e[0].scrollTop-=n.clientHeight-i)}}var D=this,w="";if(D.placeholder=u.placeholder,D.searchEnabled=u.searchEnabled,D.sortable=u.sortable,D.refreshDelay=u.refreshDelay,D.paste=u.paste,D.resetSearchInput=u.resetSearchInput,D.refreshing=!1,D.spinnerEnabled=u.spinnerEnabled,D.spinnerClass=u.spinnerClass,D.removeSelected=u.removeSelected,D.closeOnSelect=!0,D.skipFocusser=!1,D.search=w,D.activeIndex=0,D.items=[],D.open=!1,D.focus=!1,D.disabled=!1,D.selected=void 0,D.dropdownPosition="auto",D.focusser=void 0,D.multiple=void 0,D.disableChoiceExpression=void 0,D.tagging={isActivated:!1,fct:void 0},D.taggingTokens={isActivated:!1,tokens:void 0},D.lockChoiceExpression=void 0,D.clickTriggeredSelect=!1,D.$filter=o,D.$element=r,D.$animate=function(){try{return d.get("$animate")}catch(e){return null}}(),D.searchInput=r.querySelectorAll("input.ui-select-search"),1!==D.searchInput.length)throw l("searchInput","Expected 1 input.ui-select-search but got '{0}'.",D.searchInput.length);D.isEmpty=function(){return e(D.selected)||""===D.selected||D.multiple&&0===D.selected.length},D.activate=function(e,t){if(D.disabled||D.open)D.open&&!D.searchEnabled&&D.close();else{t||f(),n.$broadcast("uis:activate"),D.open=!0,D.activeIndex=D.activeIndex>=D.items.length?0:D.activeIndex,-1===D.activeIndex&&D.taggingLabel!==!1&&(D.activeIndex=0);var o=r.querySelectorAll(".ui-select-choices-content"),a=r.querySelectorAll(".ui-select-search");if(D.$animate&&D.$animate.on&&D.$animate.enabled(o[0])){var s=function(t,n){"start"===n&&0===D.items.length?(D.$animate.off("removeClass",a[0],s),i(function(){D.focusSearchInput(e)})):"close"===n&&(D.$animate.off("enter",o[0],s),i(function(){D.focusSearchInput(e)}))};D.items.length>0?D.$animate.on("enter",o[0],s):D.$animate.on("removeClass",a[0],s)}else i(function(){D.focusSearchInput(e),!D.tagging.isActivated&&D.items.length>1&&S()})}},D.focusSearchInput=function(e){D.search=e||D.search,D.searchInput[0].focus()},D.findGroupByName=function(e){return D.groups&&D.groups.filter(function(t){return t.name===e})[0]},D.parseRepeatAttr=function(e,t,r){function i(e){var i=n.$eval(t);if(D.groups=[],angular.forEach(e,function(e){var t=angular.isFunction(i)?i(e):e[i],n=D.findGroupByName(t);n?n.items.push(e):D.groups.push({name:t,items:[e]})}),r){var o=n.$eval(r);angular.isFunction(o)?D.groups=o(D.groups):angular.isArray(o)&&(D.groups=g(D.groups,o))}D.items=[],D.groups.forEach(function(e){D.items=D.items.concat(e.items)})}function o(e){D.items=e||[]}D.setItemsFn=t?i:o,D.parserResult=s.parse(e),D.isGrouped=!!t,D.itemProperty=D.parserResult.itemName;var a=D.parserResult.source,u=function(){var e=a(n);n.$uisSource=Object.keys(e).map(function(t){var n={};return n[D.parserResult.keyName]=t,n.value=e[t],n})};D.parserResult.keyName&&(u(),D.parserResult.source=c("$uisSource"+D.parserResult.filters),n.$watch(a,function(e,t){e!==t&&u()},!0)),D.refreshItems=function(e){e=e||D.parserResult.source(n);var t=D.selected;if(D.isEmpty()||angular.isArray(t)&&!t.length||!D.multiple||!D.removeSelected)D.setItemsFn(e);else if(void 0!==e&&null!==e){var r=e.filter(function(e){return angular.isArray(t)?t.every(function(t){return!angular.equals(e,t)}):!angular.equals(e,t)});D.setItemsFn(r)}("auto"===D.dropdownPosition||"up"===D.dropdownPosition)&&n.calculateDropdownPos(),n.$broadcast("uis:refresh")},n.$watchCollection(D.parserResult.source,function(e){if(void 0===e||null===e)D.items=[];else{if(!angular.isArray(e))throw l("items","Expected an array but got '{0}'.",e);D.refreshItems(e),angular.isDefined(D.ngModel.$modelValue)&&(D.ngModel.$modelValue=null)}})};var A;D.refresh=function(e){void 0!==e&&(A&&i.cancel(A),A=i(function(){if(n.$select.search.length>=n.$select.minimumInputLength){var t=n.$eval(e);t&&angular.isFunction(t.then)&&!D.refreshing&&(D.refreshing=!0,t.finally(function(){D.refreshing=!1}))}},D.refreshDelay))},D.isActive=function(e){if(!D.open)return!1;var t=D.items.indexOf(e[D.itemProperty]),n=t==D.activeIndex;return!n||0>t?!1:(n&&!angular.isUndefined(D.onHighlightCallback)&&e.$eval(D.onHighlightCallback),n)};var C=function(e){return D.selected&&angular.isArray(D.selected)&&D.selected.filter(function(t){return angular.equals(t,e)}).length>0},x=[];D.isDisabled=function(e){if(D.open){var t=e[D.itemProperty],n=D.items.indexOf(t),r=!1;if(n>=0&&(angular.isDefined(D.disableChoiceExpression)||D.multiple)){if(t.isTag)return!1;D.multiple&&(r=C(t)),!r&&angular.isDefined(D.disableChoiceExpression)&&(r=!!e.$eval(D.disableChoiceExpression)),m(t,r)}return r}},D.select=function(t,r,i){if(e(t)||!v(t)){if(!D.items&&!D.search&&!D.tagging.isActivated)return;if(!t||!v(t)){if(D.clickTriggeredSelect=!1,i&&("click"===i.type||"touchend"===i.type)&&t&&(D.clickTriggeredSelect=!0),D.tagging.isActivated&&D.clickTriggeredSelect===!1){if(D.taggingLabel===!1)if(D.activeIndex<0){if(void 0===t&&(t=void 0!==D.tagging.fct?D.tagging.fct(D.search):D.search),!t||angular.equals(D.items[0],t))return}else t=D.items[D.activeIndex];else if(0===D.activeIndex){if(void 0===t)return;if(void 0!==D.tagging.fct&&"string"==typeof t){if(t=D.tagging.fct(t),!t)return}else"string"==typeof t&&(t=t.replace(D.taggingLabel,"").trim())}if(C(t))return void D.close(r)}f(),n.$broadcast("uis:select",t),D.closeOnSelect&&D.close(r)}}},D.close=function(e){D.open&&(D.ngModel&&D.ngModel.$setTouched&&D.ngModel.$setTouched(),D.open=!1,f(),n.$broadcast("uis:close",e))},D.setFocus=function(){D.focus||D.focusInput[0].focus()},D.clear=function(e){D.select(null),e.stopPropagation(),i(function(){D.focusser[0].focus()},0,!1)},D.toggle=function(e){D.open?(D.close(),e.preventDefault(),e.stopPropagation()):D.activate()},D.isLocked=function(){return!1},n.$watch(function(){return angular.isDefined(D.lockChoiceExpression)&&""!==D.lockChoiceExpression},y);var _=null,$=!1;D.sizeSearchInput=function(){var e=D.searchInput[0],t=D.$element[0],r=function(){return t.clientWidth*!!e.offsetParent},o=function(t){if(0===t)return!1;var n=t-e.offsetLeft;return 50>n&&(n=t),D.searchInput.css("width",n+"px"),!0};D.searchInput.css("width","10px"),i(function(){null!==_||o(r())||(_=n.$watch(function(){$||($=!0,n.$$postDigest(function(){$=!1,o(r())&&(_(),_=null)}))},angular.noop))})},D.searchInput.on("keydown",function(e){var r=e.which;~[t.ENTER,t.ESC].indexOf(r)&&(e.preventDefault(),e.stopPropagation()),n.$apply(function(){var n=!1;if((D.items.length>0||D.tagging.isActivated)&&(b(r)||D.searchEnabled||(e.preventDefault(),e.stopPropagation()),D.taggingTokens.isActivated)){for(var o=0;o<D.taggingTokens.tokens.length;o++)D.taggingTokens.tokens[o]===t.MAP[e.keyCode]&&D.search.length>0&&(n=!0);n&&i(function(){D.searchInput.triggerHandler("tagged");var n=D.search.replace(t.MAP[e.keyCode],"").trim();D.tagging.fct&&(n=D.tagging.fct(n)),n&&D.select(n,!0)})}}),t.isVerticalMovement(r)&&D.items.length>0&&S(),(r===t.ENTER||r===t.ESC)&&(e.preventDefault(),e.stopPropagation())}),D.searchInput.on("paste",function(e){var n;if(n=window.clipboardData&&window.clipboardData.getData?window.clipboardData.getData("Text"):(e.originalEvent||e).clipboardData.getData("text/plain"),n=D.search+n,n&&n.length>0)if(D.taggingTokens.isActivated){for(var r=[],i=0;i<D.taggingTokens.tokens.length;i++){var o=t.toSeparator(D.taggingTokens.tokens[i])||D.taggingTokens.tokens[i];if(n.indexOf(o)>-1){r=n.split(o);break}}0===r.length&&(r=[n]);var a=D.search;angular.forEach(r,function(e){var t=D.tagging.fct?D.tagging.fct(e):e;t&&D.select(t,!0)}),D.search=a||w,e.preventDefault(),e.stopPropagation()}else D.paste&&(D.paste(n),D.search=w,e.preventDefault(),e.stopPropagation())}),D.searchInput.on("tagged",function(){i(function(){f()})});var k=a(function(){D.sizeSearchInput()},50);angular.element(p).bind("resize",k),n.$on("$destroy",function(){D.searchInput.off("keyup keydown tagged blur paste"),angular.element(p).off("resize",k)}),n.$watch("$select.activeIndex",function(e){e&&r.find("input").attr("aria-activedescendant","ui-select-choices-row-"+D.generatedId+"-"+e)}),n.$watch("$select.open",function(e){e||r.find("input").removeAttr("aria-activedescendant")})}]),r.directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function(e,t,n,r,i,o,a){return{restrict:"EA",templateUrl:function(e,n){var r=n.theme||t.theme;return r+(angular.isDefined(n.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:!0,transclude:!0,require:["uiSelect","^ngModel"],scope:!0,controller:"uiSelectCtrl",controllerAs:"$select",compile:function(i,s){var l=/{(.*)}\s*{(.*)}/.exec(s.ngClass);if(l){var u="{"+l[1]+", "+l[2]+"}";s.ngClass=u,i.attr("ng-class",u)}return angular.isDefined(s.multiple)?i.append("<ui-select-multiple/>").removeAttr("multiple"):i.append("<ui-select-single/>"),s.inputId&&(i.querySelectorAll("input.ui-select-search")[0].id=s.inputId),function(i,s,l,u,c){function d(e){if(f.open){var t=!1;if(t=window.jQuery?window.jQuery.contains(s[0],e.target):s[0].contains(e.target),!t&&!f.clickTriggeredSelect){var n;if(f.skipFocusser)n=!0;else{var r=["input","button","textarea","select"],o=angular.element(e.target).controller("uiSelect");n=o&&o!==f,n||(n=~r.indexOf(e.target.tagName.toLowerCase()))}f.close(n),i.$digest()}f.clickTriggeredSelect=!1}}function p(){var t=r(s);v=angular.element('<div class="ui-select-placeholder"></div>'),v[0].style.width=t.width+"px",v[0].style.height=t.height+"px",s.after(v),y=s[0].style.width,e.find("body").append(s),s[0].style.position="absolute",s[0].style.left=t.left+"px",s[0].style.top=t.top+"px",s[0].style.width=t.width+"px"}function h(){null!==v&&(v.replaceWith(s),v=null,s[0].style.position="",s[0].style.left="",s[0].style.top="",s[0].style.width=y,f.setFocus())}var f=u[0],g=u[1];f.generatedId=t.generateId(),f.baseTitle=l.title||"Select box",f.focusserTitle=f.baseTitle+" focus",f.focusserId="focusser-"+f.generatedId,f.closeOnSelect=function(){return angular.isDefined(l.closeOnSelect)?o(l.closeOnSelect)():t.closeOnSelect}(),i.$watch("skipFocusser",function(){var e=i.$eval(l.skipFocusser);f.skipFocusser=void 0!==e?e:t.skipFocusser}),f.onSelectCallback=o(l.onSelect),f.onRemoveCallback=o(l.onRemove),f.ngModel=g,f.choiceGrouped=function(e){return f.isGrouped&&e&&e.name},l.tabindex&&l.$observe("tabindex",function(e){f.focusInput.attr("tabindex",e),s.removeAttr("tabindex")}),i.$watch(function(){return i.$eval(l.searchEnabled)},function(e){f.searchEnabled=void 0!==e?e:t.searchEnabled}),i.$watch("sortable",function(){var e=i.$eval(l.sortable);f.sortable=void 0!==e?e:t.sortable}),l.$observe("backspaceReset",function(){var e=i.$eval(l.backspaceReset);f.backspaceReset=void 0!==e?e:!0}),l.$observe("limit",function(){f.limit=angular.isDefined(l.limit)?parseInt(l.limit,10):void 0}),i.$watch("removeSelected",function(){var e=i.$eval(l.removeSelected);f.removeSelected=void 0!==e?e:t.removeSelected}),l.$observe("disabled",function(){f.disabled=void 0!==l.disabled?l.disabled:!1}),l.$observe("resetSearchInput",function(){var e=i.$eval(l.resetSearchInput);f.resetSearchInput=void 0!==e?e:!0}),l.$observe("paste",function(){f.paste=i.$eval(l.paste)}),l.$observe("tagging",function(){if(void 0!==l.tagging){var e=i.$eval(l.tagging);f.tagging={isActivated:!0,fct:e!==!0?e:void 0}}else f.tagging={isActivated:!1,fct:void 0}}),l.$observe("taggingLabel",function(){void 0!==l.tagging&&(f.taggingLabel="false"===l.taggingLabel?!1:void 0!==l.taggingLabel?l.taggingLabel:"(new)")}),l.$observe("taggingTokens",function(){if(void 0!==l.tagging){var e=void 0!==l.taggingTokens?l.taggingTokens.split("|"):[",","ENTER"];f.taggingTokens={isActivated:!0,tokens:e}}}),l.$observe("spinnerEnabled",function(){var e=i.$eval(l.spinnerEnabled);f.spinnerEnabled=void 0!==e?e:t.spinnerEnabled}),l.$observe("spinnerClass",function(){var e=l.spinnerClass;f.spinnerClass=void 0!==e?l.spinnerClass:t.spinnerClass}),angular.isDefined(l.autofocus)&&a(function(){f.setFocus()}),angular.isDefined(l.focusOn)&&i.$on(l.focusOn,function(){a(function(){f.setFocus()})}),e.on("click",d),i.$on("$destroy",function(){e.off("click",d)}),c(i,function(e){var t=angular.element("<div>").append(e),r=t.querySelectorAll(".ui-select-match");if(r.removeAttr("ui-select-match"),r.removeAttr("data-ui-select-match"),1!==r.length)throw n("transcluded","Expected 1 .ui-select-match but got '{0}'.",r.length);s.querySelectorAll(".ui-select-match").replaceWith(r);var i=t.querySelectorAll(".ui-select-choices");if(i.removeAttr("ui-select-choices"),i.removeAttr("data-ui-select-choices"),1!==i.length)throw n("transcluded","Expected 1 .ui-select-choices but got '{0}'.",i.length);s.querySelectorAll(".ui-select-choices").replaceWith(i);var o=t.querySelectorAll(".ui-select-no-choice");o.removeAttr("ui-select-no-choice"),o.removeAttr("data-ui-select-no-choice"),1==o.length&&s.querySelectorAll(".ui-select-no-choice").replaceWith(o)});var m=i.$eval(l.appendToBody);(void 0!==m?m:t.appendToBody)&&(i.$watch("$select.open",function(e){e?p():h()}),i.$on("$destroy",function(){h()}));var v=null,y="",b=null,S="direction-up";i.$watch("$select.open",function(){("auto"===f.dropdownPosition||"up"===f.dropdownPosition)&&i.calculateDropdownPos()});var D=function(e,t){e=e||r(s),t=t||r(b),b[0].style.position="absolute",b[0].style.top=-1*t.height+"px",s.addClass(S)},w=function(e,t){s.removeClass(S),e=e||r(s),t=t||r(b),b[0].style.position="",b[0].style.top=""},A=function(){a(function(){if("up"===f.dropdownPosition)D();else{s.removeClass(S);var t=r(s),n=r(b),i=e[0].documentElement.scrollTop||e[0].body.scrollTop;t.top+t.height+n.height>i+e[0].documentElement.clientHeight?D(t,n):w(t,n)}b[0].style.opacity=1})},C=!1;i.calculateDropdownPos=function(){if(f.open){if(b=angular.element(s).querySelectorAll(".ui-select-dropdown"),0===b.length)return;if(""!==f.search||C||(b[0].style.opacity=0,C=!0),!r(b).height&&f.$animate&&f.$animate.on&&f.$animate.enabled(b)){var e=!0;f.$animate.on("enter",b,function(t,n){"close"===n&&e&&(A(),e=!1)})}else A()}else{if(null===b||0===b.length)return;b[0].style.opacity=0,b[0].style.position="",b[0].style.top="",s.removeClass(S)}}}}}}]),r.directive("uiSelectMatch",["uiSelectConfig",function(e){function t(e,t){return e[0].hasAttribute(t)?e.attr(t):e[0].hasAttribute("data-"+t)?e.attr("data-"+t):e[0].hasAttribute("x-"+t)?e.attr("x-"+t):void 0}return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(n){n.addClass("ui-select-match");var r=n.parent(),i=t(r,"theme")||e.theme,o=angular.isDefined(t(r,"multiple"));return i+(o?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(t,n,r,i){function o(e){i.allowClear=angular.isDefined(e)?""===e?!0:"true"===e.toLowerCase():!1}i.lockChoiceExpression=r.uiLockChoice,r.$observe("placeholder",function(t){i.placeholder=void 0!==t?t:e.placeholder}),r.$observe("allowClear",o),o(r.allowClear),i.multiple&&i.sizeSearchInput()}}}]),r.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(n,r){return{restrict:"EA",require:["^uiSelect","^ngModel"],controller:["$scope","$timeout",function(e,t){var n,r=this,i=e.$select;angular.isUndefined(i.selected)&&(i.selected=[]),e.$evalAsync(function(){n=e.ngModel}),r.activeMatchIndex=-1,r.updateModel=function(){n.$setViewValue(Date.now()),r.refreshComponent()},r.refreshComponent=function(){i.refreshItems&&i.refreshItems(),i.sizeSearchInput&&i.sizeSearchInput()},r.removeChoice=function(n){if(i.isLocked(null,n))return!1;var o=i.selected[n],a={};return a[i.parserResult.itemName]=o,i.selected.splice(n,1),r.activeMatchIndex=-1,i.sizeSearchInput(),t(function(){i.onRemoveCallback(e,{$item:o,$model:i.parserResult.modelMapper(e,a)})}),r.updateModel(),!0},r.getPlaceholder=function(){return i.selected&&i.selected.length?void 0:i.placeholder}}],controllerAs:"$selectMultiple",link:function(i,o,a,s){function l(e){return angular.isNumber(e.selectionStart)?e.selectionStart:e.value.length}function u(e){function n(){switch(e){case t.LEFT:return~f.activeMatchIndex?c:a;case t.RIGHT:return~f.activeMatchIndex&&s!==a?u:(p.activate(),!1);case t.BACKSPACE:return~f.activeMatchIndex?f.removeChoice(s)?c:s:a;case t.DELETE:return~f.activeMatchIndex?(f.removeChoice(f.activeMatchIndex),s):!1}}var r=l(p.searchInput[0]),i=p.selected.length,o=0,a=i-1,s=f.activeMatchIndex,u=f.activeMatchIndex+1,c=f.activeMatchIndex-1,d=s;return r>0||p.search.length&&e==t.RIGHT?!1:(p.close(),d=n(),f.activeMatchIndex=p.selected.length&&d!==!1?Math.min(a,Math.max(o,d)):-1,!0)}function c(e){if(void 0===e||void 0===p.search)return!1;var t=e.filter(function(e){return void 0===p.search.toUpperCase()||void 0===e?!1:e.toUpperCase()===p.search.toUpperCase()}).length>0;return t}function d(e,t){var n=-1;if(angular.isArray(e))for(var r=angular.copy(e),i=0;i<r.length;i++)if(void 0===p.tagging.fct)r[i]+" "+p.taggingLabel===t&&(n=i);else{var o=r[i];angular.isObject(o)&&(o.isTag=!0),angular.equals(o,t)&&(n=i)}return n}var p=s[0],h=i.ngModel=s[1],f=i.$selectMultiple;p.multiple=!0,p.focusInput=p.searchInput,h.$isEmpty=function(e){return!e||0===e.length},h.$parsers.unshift(function(){for(var e,t={},n=[],r=p.selected.length-1;r>=0;r--)t={},t[p.parserResult.itemName]=p.selected[r],e=p.parserResult.modelMapper(i,t),n.unshift(e);return n}),h.$formatters.unshift(function(e){var t,n=p.parserResult&&p.parserResult.source(i,{$select:{search:""}}),r={};if(!n)return e;var o=[],a=function(e,n){if(e&&e.length){for(var a=e.length-1;a>=0;a--){if(r[p.parserResult.itemName]=e[a],t=p.parserResult.modelMapper(i,r),p.parserResult.trackByExp){var s=/(\w*)\./.exec(p.parserResult.trackByExp),l=/\.([^\s]+)/.exec(p.parserResult.trackByExp);if(s&&s.length>0&&s[1]==p.parserResult.itemName&&l&&l.length>0&&t[l[1]]==n[l[1]])return o.unshift(e[a]),!0}if(angular.equals(t,n))return o.unshift(e[a]),!0}return!1}};if(!e)return o;for(var s=e.length-1;s>=0;s--)a(p.selected,e[s])||a(n,e[s])||o.unshift(e[s]);return o}),i.$watchCollection(function(){return h.$modelValue},function(e,t){t!=e&&(angular.isDefined(h.$modelValue)&&(h.$modelValue=null),f.refreshComponent())}),h.$render=function(){if(!angular.isArray(h.$viewValue)){if(!e(h.$viewValue))throw n("multiarr","Expected model value to be array but got '{0}'",h.$viewValue);h.$viewValue=[]}p.selected=h.$viewValue,f.refreshComponent(),i.$evalAsync()},i.$on("uis:select",function(e,t){if(!(p.selected.length>=p.limit)){p.selected.push(t);var n={};n[p.parserResult.itemName]=t,r(function(){p.onSelectCallback(i,{$item:t,$model:p.parserResult.modelMapper(i,n)})}),f.updateModel()}}),i.$on("uis:activate",function(){f.activeMatchIndex=-1}),i.$watch("$select.disabled",function(e,t){t&&!e&&p.sizeSearchInput()}),p.searchInput.on("keydown",function(e){var n=e.which;i.$apply(function(){var r=!1;t.isHorizontalMovement(n)&&(r=u(n)),r&&n!=t.TAB&&(e.preventDefault(),e.stopPropagation())})}),p.searchInput.on("keyup",function(e){if(t.isVerticalMovement(e.which)||i.$evalAsync(function(){p.activeIndex=p.taggingLabel===!1?-1:0}),p.tagging.isActivated&&p.search.length>0){if(e.which===t.TAB||t.isControl(e)||t.isFunctionKey(e)||e.which===t.ESC||t.isVerticalMovement(e.which))return;if(p.activeIndex=p.taggingLabel===!1?-1:0,p.taggingLabel===!1)return;var n,r,o,a,s=angular.copy(p.items),l=angular.copy(p.items),u=!1,h=-1;if(void 0!==p.tagging.fct){if(o=p.$filter("filter")(s,{isTag:!0}),o.length>0&&(a=o[0]),s.length>0&&a&&(u=!0,s=s.slice(1,s.length),l=l.slice(1,l.length)),n=p.tagging.fct(p.search),l.some(function(e){return angular.equals(e,n)})||p.selected.some(function(e){return angular.equals(e,n)}))return void i.$evalAsync(function(){p.activeIndex=0,p.items=s});n&&(n.isTag=!0)}else{if(o=p.$filter("filter")(s,function(e){return e.match(p.taggingLabel)}),o.length>0&&(a=o[0]),r=s[0],void 0!==r&&s.length>0&&a&&(u=!0,s=s.slice(1,s.length),l=l.slice(1,l.length)),n=p.search+" "+p.taggingLabel,d(p.selected,p.search)>-1)return;if(c(l.concat(p.selected)))return void(u&&(s=l,i.$evalAsync(function(){p.activeIndex=0,p.items=s})));if(c(l))return void(u&&(p.items=l.slice(1,l.length)))}u&&(h=d(p.selected,n)),h>-1?s=s.slice(h+1,s.length-1):(s=[],n&&s.push(n),s=s.concat(l)),i.$evalAsync(function(){if(p.activeIndex=0,p.items=s,p.isGrouped){var e=n?s.slice(1):s;p.setItemsFn(e),n&&(p.items.unshift(n),p.groups.unshift({name:"",items:[n],tagging:!0}))}})}}),p.searchInput.on("blur",function(){r(function(){f.activeMatchIndex=-1})})}}}]),r.directive("uiSelectNoChoice",["uiSelectConfig",function(e){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){t.addClass("ui-select-no-choice");var n=t.parent().attr("theme")||e.theme;return n+"/no-choice.tpl.html"}}}]),r.directive("uiSelectSingle",["$timeout","$compile",function(n,r){return{restrict:"EA",require:["^uiSelect","^ngModel"],link:function(i,o,a,s){var l=s[0],u=s[1];u.$parsers.unshift(function(t){if(e(t))return t;var n,r={};return r[l.parserResult.itemName]=t,n=l.parserResult.modelMapper(i,r)}),u.$formatters.unshift(function(t){if(e(t))return t;var n,r=l.parserResult&&l.parserResult.source(i,{$select:{search:""}}),o={};if(r){var a=function(e){return o[l.parserResult.itemName]=e,n=l.parserResult.modelMapper(i,o),n===t};if(l.selected&&a(l.selected))return l.selected;for(var s=r.length-1;s>=0;s--)if(a(r[s]))return r[s]}return t}),i.$watch("$select.selected",function(e){u.$viewValue!==e&&u.$setViewValue(e)}),u.$render=function(){l.selected=u.$viewValue},i.$on("uis:select",function(t,r){l.selected=r;var o={};o[l.parserResult.itemName]=r,n(function(){l.onSelectCallback(i,{$item:r,$model:e(r)?r:l.parserResult.modelMapper(i,o)})})}),i.$on("uis:close",function(e,t){n(function(){l.focusser.prop("disabled",!1),t||l.focusser[0].focus()},0,!1)}),i.$on("uis:activate",function(){c.prop("disabled",!0)});var c=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");r(c)(i),l.focusser=c,l.focusInput=c,o.parent().append(c),c.bind("focus",function(){i.$evalAsync(function(){l.focus=!0})}),c.bind("blur",function(){i.$evalAsync(function(){l.focus=!1})}),c.bind("keydown",function(e){return e.which===t.BACKSPACE&&l.backspaceReset!==!1?(e.preventDefault(),e.stopPropagation(),l.select(void 0),void i.$apply()):void(e.which===t.TAB||t.isControl(e)||t.isFunctionKey(e)||e.which===t.ESC||((e.which==t.DOWN||e.which==t.UP||e.which==t.ENTER||e.which==t.SPACE)&&(e.preventDefault(),e.stopPropagation(),l.activate()),i.$digest()))}),c.bind("keyup input",function(e){e.which===t.TAB||t.isControl(e)||t.isFunctionKey(e)||e.which===t.ESC||e.which==t.ENTER||e.which===t.BACKSPACE||(l.activate(c.val()),c.val(""),i.$digest())})}}}]),r.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function(e,t,n){return{require:["^^uiSelect","^ngModel"],link:function(t,r,i,o){if(null===t[i.uiSelectSort])throw n("sort","Expected a list to sort");var a=o[0],s=o[1],l=angular.extend({axis:"horizontal"},t.$eval(i.uiSelectSortOptions)),u=l.axis,c="dragging",d="dropping",p="dropping-before",h="dropping-after";t.$watch(function(){return a.sortable},function(e){e?r.attr("draggable",!0):r.removeAttr("draggable")}),r.on("dragstart",function(e){r.addClass(c),(e.dataTransfer||e.originalEvent.dataTransfer).setData("text",t.$index.toString())}),r.on("dragend",function(){m(c)});var f,g=function(e,t){this.splice(t,0,this.splice(e,1)[0])},m=function(e){angular.forEach(a.$element.querySelectorAll("."+e),function(t){angular.element(t).removeClass(e)})},v=function(e){e.preventDefault();var t="vertical"===u?e.offsetY||e.layerY||(e.originalEvent?e.originalEvent.offsetY:0):e.offsetX||e.layerX||(e.originalEvent?e.originalEvent.offsetX:0);t<this["vertical"===u?"offsetHeight":"offsetWidth"]/2?(m(h),r.addClass(p)):(m(p),r.addClass(h))},y=function(t){t.preventDefault();var n=parseInt((t.dataTransfer||t.originalEvent.dataTransfer).getData("text"),10);e.cancel(f),f=e(function(){b(n)},20)},b=function(e){var n=t.$eval(i.uiSelectSort),o=n[e],a=null;a=r.hasClass(p)?e<t.$index?t.$index-1:t.$index:e<t.$index?t.$index:t.$index+1,g.apply(n,[e,a]),s.$setViewValue(Date.now()),t.$apply(function(){t.$emit("uiSelectSort:change",{array:n,item:o,from:e,to:a})}),m(d),m(p),m(h),r.off("drop",y)};r.on("dragenter",function(){r.hasClass(c)||(r.addClass(d),r.on("dragover",v),r.on("drop",y))}),r.on("dragleave",function(e){e.target==r&&(m(d),m(p),m(h),r.off("dragover",v),r.off("drop",y))})}}}]),r.directive("uisOpenClose",["$parse","$timeout",function(e,t){return{restrict:"A",require:"uiSelect",link:function(n,r,i,o){o.onOpenCloseCallback=e(i.uisOpenClose),n.$watch("$select.open",function(e,r){e!==r&&t(function(){o.onOpenCloseCallback(n,{isOpen:e})})})}}}]),r.service("uisRepeatParser",["uiSelectMinErr","$parse",function(e,t){var n=this;n.parse=function(n){var r;if(r=n.match(/^\s*(?:([\s\S]+?)\s+as\s+)?(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(\s*[\s\S]+?)?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),!r)throw e("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",n);var i=r[5],o="";if(r[3]){i=r[5].replace(/(^\()|(\)$)/g,"");var a=r[5].match(/^\s*(?:[\s\S]+?)(?:[^\|]|\|\|)+([\s\S]*)\s*$/);a&&a[1].trim()&&(o=a[1],i=i.replace(o,""))}return{itemName:r[4]||r[2],keyName:r[3],source:t(i),filters:o,trackByExp:r[6],modelMapper:t(r[1]||r[4]||r[2]),repeatExpression:function(e){var t=this.itemName+" in "+(e?"$group.items":"$select.items");return this.trackByExp&&(t+=" track by "+this.trackByExp),t}}},n.getGroupNgRepeatExpression=function(){return"$group in $select.groups track by $group.name"}}])}(),angular.module("ui.select").run(["$templateCache",function(e){e.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu" ng-show="$select.open && $select.items.length > 0"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><span class="ui-select-choices-row-inner"></span></div></li></ul>'),e.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected track by $index"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>'),e.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open && $select.searchEnabled" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty() && ($select.disabled !== true)" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>'),e.put("bootstrap/no-choice.tpl.html",'<ul class="ui-select-no-choice dropdown-menu" ng-show="$select.items.length == 0"><li ng-transclude=""></li></ul>'),e.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-expanded="{{$select.open}}" aria-label="{{$select.baseTitle}}" ng-class="{\'spinner\': $select.refreshing}" ondrop="return false;"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'),e.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><span ng-show="$select.open && $select.refreshing && $select.spinnerEnabled" class="ui-select-refreshing {{$select.spinnerClass}}"></span> <input type="search" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" class="form-control ui-select-search" ng-class="{ \'ui-select-search-hidden\' : !$select.searchEnabled }" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.open"><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'),e.put("select2/choices.tpl.html",'<ul tabindex="-1" class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>'),e.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected track by $index" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>'),e.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>'),e.put("select2/no-choice.tpl.html",'<div class="ui-select-no-choice dropdown" ng-show="$select.items.length == 0"><div class="dropdown-content"><div data-selectable="" ng-transclude=""></div></div></div>'),e.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"></li></ul><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open || $select.items.length === 0}"><div class="ui-select-choices"></div></div></div>'),e.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="search-container" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled, \'select2-search\':$select.searchEnabled}"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" ng-class="{\'select2-active\': $select.refreshing}" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div></div>'),e.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices ui-select-dropdown selectize-dropdown" ng-class="{\'single\': !$select.multiple, \'multi\': $select.multiple}"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>'),e.put("selectize/match-multiple.tpl.html",'<div class="ui-select-match" data-value="" ng-repeat="$item in $select.selected track by $index" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'active\':$selectMultiple.activeMatchIndex === $index}" ui-select-sort="$select.selected"><span class="ui-select-match-item" ng-class="{\'select-locked\':$select.isLocked(this, $index)}"><span uis-transclude-append=""></span> <span class="remove ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&times;</span></span></div>'),e.put("selectize/match.tpl.html",'<div ng-hide="$select.searchEnabled && ($select.open || $select.isEmpty())" class="ui-select-match"><span ng-show="!$select.searchEnabled && ($select.isEmpty() || $select.open)" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty() || $select.open" ng-transclude=""></span></div>'),e.put("selectize/no-choice.tpl.html",'<div class="ui-select-no-choice selectize-dropdown" ng-show="$select.items.length == 0"><div class="selectize-dropdown-content"><div data-selectable="" ng-transclude=""></div></div></div>'),e.put("selectize/select-multiple.tpl.html",'<div class="ui-select-container selectize-control multi plugin-remove_button" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" class="ui-select-search" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled}" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-model="$select.search" ng-disabled="$select.disabled" aria-expanded="{{$select.open}}" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'),e.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled}" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.isEmpty() && !$select.open" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>')
}]),n("angular-ui-select",["angular"],function(){}),function(e,t){function n(){function n(e,t){var n,r={},i=e.split(",");for(n=0;n<i.length;n++)r[t?l(i[n]):i[n]]=!0;return r}function r(t,n){null===t||void 0===t?t="":"string"!=typeof t&&(t=""+t),S.innerHTML=t;var r=5;do{if(0===r)throw h("uinput","Failed to sanitize html because the input is unstable");r--,e.document.documentMode&&v(S),t=S.innerHTML,S.innerHTML=t}while(t!==S.innerHTML);for(var i=S.firstChild;i;){switch(i.nodeType){case 1:n.start(i.nodeName.toLowerCase(),f(i.attributes));break;case 3:n.chars(i.textContent)}var o;if(!(o=i.firstChild)&&(1===i.nodeType&&n.end(i.nodeName.toLowerCase()),o=y("nextSibling",i),!o))for(;null==o&&(i=y("parentNode",i),i!==S);)o=y("nextSibling",i),1===i.nodeType&&n.end(i.nodeName.toLowerCase());i=o}for(;i=S.firstChild;)S.removeChild(i)}function f(e){for(var t={},n=0,r=e.length;r>n;n++){var i=e[n];t[i.name]=i.value}return t}function g(e){return e.replace(/&/g,"&amp;").replace(D,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(w,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function m(e,t){var n=!1,r=i(e,e.push);return{start:function(e,i){e=l(e),!n&&T[e]&&(n=e),n||F[e]!==!0||(r("<"),r(e),a(i,function(n,i){var o=l(i),a="img"===e&&"src"===o||"background"===o;L[o]!==!0||O[o]===!0&&!t(n,a)||(r(" "),r(i),r('="'),r(g(n)),r('"'))}),r(">"))},end:function(e){e=l(e),n||F[e]!==!0||A[e]===!0||(r("</"),r(e),r(">")),e==n&&(n=!1)},chars:function(e){n||r(g(e))}}}function v(t){for(;t;){if(t.nodeType===e.Node.ELEMENT_NODE)for(var n=t.attributes,r=0,i=n.length;i>r;r++){var o=n[r],a=o.name.toLowerCase();("xmlns:ns1"===a||0===a.lastIndexOf("ns1:",0))&&(t.removeAttributeNode(o),r--,i--)}var s=t.firstChild;s&&v(s),t=y("nextSibling",t)}}function y(e,t){var n=t[e];if(n&&c.call(t,n))throw h("elclob","Failed to sanitize html because the element is clobbered: {0}",t.outerHTML||t.outerText);return n}var b=!1;this.$get=["$$sanitizeUri",function(e){return b&&o(F,M),function(t){var n=[];return d(t,p(n,function(t,n){return!/^unsafe:/.test(e(t,n))})),n.join("")}}],this.enableSvg=function(e){return s(e)?(b=e,this):b},i=t.bind,o=t.extend,a=t.forEach,s=t.isDefined,l=t.lowercase,u=t.noop,d=r,p=m,c=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))};var S,D=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,w=/([^#-~ |!])/g,A=n("area,br,col,hr,img,wbr"),C=n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),x=n("rp,rt"),_=o({},x,C),$=o({},C,n("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),k=o({},x,n("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),M=n("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),T=n("script,style"),F=o({},A,$,k,_),O=n("background,cite,href,longdesc,src,xlink:href"),P=n("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),E=n("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),L=o({},O,E,P);!function(e){var t;if(!e.document||!e.document.implementation)throw h("noinert","Can't create an inert html document");t=e.document.implementation.createHTMLDocument("inert");var n=t.documentElement||t.getDocumentElement(),r=n.getElementsByTagName("body");if(1===r.length)S=r[0];else{var i=t.createElement("html");S=t.createElement("body"),i.appendChild(S),t.appendChild(i)}}(e)}function r(e){var t=[],n=p(t,u);return n.chars(e),t.join("")}var i,o,a,s,l,u,c,d,p,h=t.$$minErr("$sanitize");t.module("ngSanitize",[]).provider("$sanitize",n).info({angularVersion:"1.6.4"}),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,i=/^mailto:/i,o=t.$$minErr("linky"),a=t.isDefined,s=t.isFunction,l=t.isObject,u=t.isString;return function(t,c,d){function p(e){e&&b.push(r(e))}function h(e,t){var n,r=v(e);b.push("<a ");for(n in r)b.push(n+'="'+r[n]+'" ');!a(c)||"target"in r||b.push('target="',c,'" '),b.push('href="',e.replace(/"/g,"&quot;"),'">'),p(t),b.push("</a>")}if(null==t||""===t)return t;if(!u(t))throw o("notstring","Expected string but received: {0}",t);for(var f,g,m,v=s(d)?d:l(d)?function(){return d}:function(){return{}},y=t,b=[];f=y.match(n);)g=f[0],f[2]||f[4]||(g=(f[3]?"http://":"mailto:")+g),m=f.index,p(y.substr(0,m)),h(g,f[0].replace(i,"")),y=y.substring(m+f[0].length);return p(y),e(b.join(""))}}])}(window,window.angular),n("angular-sanitize",["angular"],function(){}),n("webservices/lookup/AirlineLookupDataService",["angular","lodash","webservices/SabreDevStudioWebServicesModule"],function(e,t){return e.module("sabreDevStudioWebServices").factory("AirlineLookupDataService",["$q","AirlineLookupWebService","$localStorage","ErrorReportingService","businessMessagesErrorHandler",function(e,n,r,i,o){return{getAirlineAndAirlineCodesList:function(){return e(function(e,a){return r.airlineAndAirlineCodesList?e(t.clone(r.airlineAndAirlineCodesList)):void n.get().$promise.then(function(n){var i=n.AirlineInfo.map(function(e){return{AirlineCode:e.AirlineCode,AirlineName:e.AlternativeBusinessName}});r.airlineAndAirlineCodesList=i,e(t.clone(i))},function(e){i.reportError("Cannot get airlines and airline codes dictionary"),o.handle(a,e)})})},getAirlinesDictionary:function(){function a(e){var t={};return e.AirlineInfo.forEach(function(e){t[e.AirlineCode]=e.AlternativeBusinessName}),t}return e(function(e,s){return r.airlinesDictionary?e(t.clone(r.airlinesDictionary)):void n.get().$promise.then(function(n){var i=a(n);r.airlinesDictionary=i,e(t.clone(i))},function(e){i.reportError("Cannot get airlines dictionary"),o.handle(s,e)})})}}}])}),n("webservices/lookup/EquipmentLookupDataService",["angular","lodash","webservices/SabreDevStudioWebServicesModule"],function(e,t){return e.module("sabreDevStudioWebServices").factory("EquipmentLookupDataService",["$q","EquipmentLookupWebService","$localStorage","ErrorReportingService","businessMessagesErrorHandler",function(e,n,r,i,o){function a(e){var t={};return e.AircraftInfo.forEach(function(e){t[e.AircraftCode]=e.AircraftName}),t}return{getAircraftDictionary:function(){return e(function(e,s){return r.aircraftDictionary?e(t.clone(r.aircraftDictionary)):void n.get().$promise.then(function(n){var i=a(n);r.aircraftDictionary=i,e(t.clone(i))},function(e){i.reportError("Cannot get aircraft dictionary"),o.handle(s,e)})})}}}])}),n("webservices/lookup/PointOfSaleCountryLookupDataService",["angular","lodash","webservices/SabreDevStudioWebServicesModule"],function(e,t){return e.module("sabreDevStudioWebServices").factory("PointOfSaleCountryLookupDataService",["PointOfSaleCountryLookupWebService","$q","$localStorage","ErrorReportingService","businessMessagesErrorHandler",function(e,n,r,i,o){function a(e){return e.Countries.map(function(e){return{countryCode:e.CountryCode,countryName:e.CountryName}})}return{getPointOfSaleCountries:function(){return n(function(n,s){return r.pointOfSaleCountries?n(t.clone(r.pointOfSaleCountries)):void e.get().$promise.then(function(e){var i=a(e);r.pointOfSaleCountries=i,n(t.clone(i))},function(e){i.reportError("Cannot get point of sales dictionary"),o.handle(s,e)})})}}}])}),n("util/LookupFilters",["angular","lodash","webservices/lookup/AirlineLookupDataService","webservices/lookup/AirportLookupDataService","webservices/lookup/EquipmentLookupDataService","webservices/lookup/PointOfSaleCountryLookupDataService"],function(e,t){function n(e){var t=null,n=!1,r=function(r){if(null===t)return n||(n=!0,e.then(function(e){t=e})),r;var i=t[r];return i?i:r};return r.$stateful=!0,r}function r(e,r){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];if(t.isUndefined(i[e])&&(i[e]={}),t.isUndefined(i[e][o.join()])){var s=r.apply(null,o);i[e][o.join()]=n(s)}return i[e][o.join()]}var i={};return e.module("sDSLookups",["sabreDevStudioWebServices"]).filter("airlineFullName",["AirlineLookupDataService",function(e){return n(e.getAirlinesDictionary())}]).filter("cityFullName",["AirportLookupDataService",function(e){var t=n(e.getShoppingAirportsDictionary()),r=function(e){var n=t(e);return n&&n.CityName?n.CityName:n};return r.$stateful=!0,r}]).filter("cityAndAirportFullName",["AirportLookupDataService",function(e){var n=r("AirportLookupDataService.getShoppingAirportsDictionaryForAllPoS",e.getShoppingAirportsDictionaryForAllPoS),i=function(i,o){var a=r("AirportLookupDataService.getShoppingAirportsDictionary",e.getShoppingAirportsDictionary,o),s=a(i);if(s===i){var l=n(i);if(l===i)return l;s=l}return s.AirportName===s.CityName||t.includes(s.AirportName.toUpperCase(),s.CityName.toUpperCase())?s.AirportName:s.AirportName+", "+s.CityName};return i.$stateful=!0,i}]).filter("cityAndAirportFullNameNoAirportWord",["$filter",function(e){return function(t){var n=e("cityAndAirportFullName");return n(t).replace("Airport","")}}]).filter("airportCountry",["AirportLookupDataService",function(e){var t=n(e.getShoppingAirportsDictionary()),r=function(e){var n=t(e);return n===e?n:n.CountryName};return r.$stateful=t.$stateful,r}]).filter("aircraftName",["EquipmentLookupDataService",function(e){return n(e.getAircraftDictionary())}])}),n("datamodel/search/SearchCriteriaFactory",["lodash","util/LodashExtensions","moment","datamodel/search/SearchCriteria","datamodel/search/SearchCriteriaLeg","datamodel/search/alternateDates/PlusMinusDaysTravelDatesFlexibility"],function(e,t,n,r,i,o){function a(t){var n=new r,i=t&&t.searchCriteriaOptions||1;return n.addPassenger("ADT",i),t&&t.preferredCabin&&(n.preferredCabin=t.preferredCabin),t&&!e.isEmpty(t.preferredAirlines)&&(n.preferredAirlines=t.preferredAirlines),n}function s(e,t,r,o,s){var l=n(r,n.ISO_8601),u=n(o,n.ISO_8601),c=new i({origin:e,destination:t,departureDateTime:l,returnDateTime:u}),d=new i({origin:t,destination:e,departureDateTime:u,returnDateTime:l}),p=a(s);return p.addLeg(c),p.addLeg(d),p}function l(e,t,r,o){var s=n(r,n.ISO_8601),l=new i({origin:e,destination:t,departureDateTime:s}),u=a(o);return u.addLeg(l),u}function u(e,t,n,r,i,a){var l=s(e,t,n,r,a);return l.dateFlexibilityDays=o.prototype.buildConstantDaysFlexibility(i),l}function c(e){var t=7,o=new r;return e.forEach(function(e,r){var a=n().add(r*t,"days"),s=a.clone().add(t,"days"),l=new i({origin:e.origin,destination:e.destination,departureDateTime:a,returnDateTime:s});o.addLeg(l)}),o.addPassenger("ADT",1),o}return{buildRoundTripTravelSearchCriteria:s,buildOneWayTravelSearchCriteria:l,buildRoundTripTravelSearchCriteriaWithDateFlexibility:u,buildMultidestinationSearchCriteria:c}}),n("util/SerializationServices",["angular","lodash","moment","datamodel/Itinerary","datamodel/Leg","datamodel/Segment","datamodel/ItineraryPricingInfo","datamodel/SegmentBaggageAllowance","datamodel/search/SearchCriteriaFactory"],function(e,t,n,r,i,o,a,s,l){return e.module("SDSWidgets.SerializationServices",[]).factory("ItinerarySerializer",function(){function e(e){return e.map(function(e){var t=new i;return t.segments=l(e.segments),t.duration=e.duration,t.hasAirportChangeAtDeparture=e.hasAirportChangeAtDeparture,t.hasAirportChangeAtArrival=e.hasAirportChangeAtArrival,t.build(),t})}function l(e){return e.map(function(e){return e.departureDateTime=n(new Date(e.departureDateTime)),e.arrivalDateTime=n(new Date(e.arrivalDateTime)),new o(e)})}function u(e){var n=new a;return n=t.extend(n,e),n.baggageAllowance=new s(e.baggageAllowance.legSegmentBaggageAllowance),n}return{deserialize:function(t){var n=new r;return n.legs=e(t.legs),n.itineraryPricingInfo=u(t.itineraryPricingInfo),n.pricingSource=t.pricingSource,n.id=t.id,n.build(),n}}}).factory("SearchCriteriaSerializer",function(){return{deserialize:function(e){var n={totalPassengerCount:e.totalPassengerCount,preferredCabin:e.preferredCabin,preferredAirlines:e.preferredAirlines};return e.altDatesPlusMinus?l.buildRoundTripTravelSearchCriteriaWithDateFlexibility(e.origin,e.destination,e.outboundDepartureDateTime,e.inboundDepartureDateTime,e.altDatesPlusMinus,n):t.isUndefined(e.inboundDepartureDateTime)?l.buildOneWayTravelSearchCriteria(e.origin,e.destination,e.outboundDepartureDateTime,n):l.buildRoundTripTravelSearchCriteria(e.origin,e.destination,e.outboundDepartureDateTime,e.inboundDepartureDateTime,n)},serialize:function(e){var t=e.getFirstLeg(),n={origin:t.origin,destination:t.destination,outboundDepartureDateTime:t.departureDateTime.format(),totalPassengerCount:e.getTotalPassengerCount(),preferredCabin:e.preferredCabin.name,preferredAirlines:e.getPreferredAirlines()};return e.isRoundTripTravel()&&(n.inboundDepartureDateTime=e.getSecondLeg().departureDateTime.format()),e.isPlusMinusDaysDateFlexibilityRequest()&&(n.dateFlexibilityDays=e.dateFlexibilityDays),n}}})}),angular.module("dcbImgFallback",[]).directive("fallbackSrc",function(){var e="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QBoRXhpZgAATU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAAExAAIAAAASAAAATgAAAAAAAABgAAAAAQAAAGAAAAABUGFpbnQuTkVUIHYzLjUuMTEA/9sAQwAEAgMDAwIEAwMDBAQEBAUJBgUFBQULCAgGCQ0LDQ0NCwwMDhAUEQ4PEw8MDBIYEhMVFhcXFw4RGRsZFhoUFhcW/9sAQwEEBAQFBQUKBgYKFg8MDxYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYW/8AAEQgB9AH0AwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A+ggKcBQBRQAUAZpQKUUAFOAxRSgUAIBThQBTqAAClAoApwFACU4CilAoAQCnYoxTsUAJilpcUtACYpaXFLQAmKXFLiloAbilxTsUuKAG0YNOowaAExS4FLilxQA2inYooAbRg07BpcGgBmDRg0/FGKAGYNFPxSYNADaKdg0UANxSYp+BSYoAbikwafikoAbikxT6TFADMUYp2KMUAR4oxT8UmKAGYpMU/FJigCPFJin4pMUAMpCKfSEUAMIppFSEU2gBhFIRTyKaRQAykIp9NoAaRmm08ikNADaQilooAbiilxRQAtKBSAZpwoABTqKUCgAApwFAFKKAACnAUU4CgBAKUClApQKAClApaUCgBMU7FGKdigBMUuKUClxQAmKXFLiloATFLS4paAG4NLinYpcUANpcUtLigBuKXAp2KKAG0YNOooATFGKWigBMUYpaKAExRilooATBpMGnUUANowKdRigBmKTBp+KMUAMxSYp9JigBlGKdijFADMUmKdiigBmKTFPxSYoAjxSYp+KTFADKQin00igBpFNxTyKQigCMikIp5FIRQAwim08ikNAEZGKQin00jFADTTaeRSEUANooooAdTqAMUoFAABTgKAKUUAAFOopwoAAKUCgCnAUAAFLQBTqADGKUClApQKAEApwFFOAoATFLRinAUAJilpcUuKAExS0uKWgBMUuKKKACijBpcUAJRTqMGgBMGjFOxRigBuKXAp2BRigBuBRgU6igBuBSYp9GBQAzFGKfgUmKAGYNFPxSYoAbRTsUmKAEpMUtFADcUYp1GKAI8UYp+KTFAEeKMU7FJigBmKQin0hFADKaRipCKaaAGEUhFPIpCKAI6aRUlNNADCKQjNPIppFADCKbUhFNNAEZGKQinn0ptADaKXFFACgU4CgU4UAAp1ApwFAAKUChRTgKAAClAzQBmnAUAFOFAFOAoAQClApQKWgApQKUClAoAQCnYop2KAExS0UUAFFLiloATFLS4paAExS4pcUuKAG0uKXBpcUANxS4FOxRigBtFOowaAG0U7BowaAG0U7BowaAG4oxTqMCgBmKTBp+KMUAMpMU+kxQAzBoxTsUYoAZikp+KSgBtGKXFJQA0ikxT6QigBlNIqTFNIoAaRTaeRSUARkUhFPIpCKAGEZptPIpCKAIzSEU+mmgBjCmkU8jFIwoAYRmmmnsKawoAZRTqKAHAUqihRTgKABR3pyikApwoAUClAoFOoAKcBQKcBQAAYpQKAKWgApwFFOAxQAgFOAoApaACiilAoAAKWgCnUAJilxS4paAExS4pcUuKAExS0uKWgBuDS4p2KMUAJgUU6igBuDS4pcGlwaAG4oxTsUYoAbijBp2KTBoAbg0U7BooAbgUmKfikxQAzFGKdg0YoAZikxT8UlADMUmKfikoAZikxTyKQigCOinUhFACYzTadRQAwimkU8jFIRQAymkYp5FJQAwimkU8jFIRQAwjNNNPYU0igBh9KaakIppoAjPFNIqQ02gBmKKWigBwp1ApVoAUU4UiinKKAFHFOApFFOUUACinAUgFOoAKdQBTgMUAAGKUCgCloAKKAM07FAAKUClAxSgUAJinUAU7FACYpaXFLQAYoxTsUUAJilpcUtADcGlxTsUYoATFGDTqMGgBMGjFOxRigBuKMU7FGKAG4oxTsUYoAZg0U/FJg0ANxSYp+KTFADKKdg0YoAZikp+KSgBmKSn4pKAIyKQin4pCKAGU0ipKaRigBhFJTyKQigBtNIxTqKAGEU0inkYpCKAGU008ikoAjIxSMKeaaaAGMKawp5ppFADGFNanmmmgBtFLiigBRThQKcKAAU4UCnCgAFOFApwoAKcBSKKcooAAKcooApaACgDNFOHpQAU4UClAoAAKcBQBSgZoAAKcBRinAUAIBS0YzTsUAJilpcUtACYpaXFLigBMUuKXFLigBuKXFLg0uKAG4pcCnYoxQA3AowKdRQA3ApMU+jAoAZijBp2KMUAMpMU/FGKAI8UYp+KTFADMUmKfikxQBHiinYpMUAMxSEU+kIoAYRTSKkIptADCKaRTzSEUAMIzTaeRSEUANppp1FAEZFIwp9NNADSKaacaRhQAw0009qa1ADDTTT29aa1ADKKdiigBVpy0lOoAVactIKcKAFWlFFOFAAKcKBThQAUUUq0AKKcBikUU5RQAAU4ChRSgZoAUClAoAp1ABSgUAUoFAAKcBRTgKAEApaUCloATFLilxS4oATFLS4pcUAJijFOxS4oAbiinUYNADaKdg0YNADaKdg0YNADcCkxT8UmKAGYNGKfikoAZikp+KSgBmKTFPxSEUAR4pCKeRSEUAMptSEZptADCKQinEYpCKAGEU01IRTaAIyKRhT6aaAGMKSnGmmgANNNOpGoAYabT2prUAMNNNPamtQAw0009qa1ADKKdRQAq05aSnCgBVpy0gp1ACrTlpKcKAFWloooAVaUUU4UAApwoFOFAAKcPSgU4CgApQKFFKBQAoFKKBTgKAClApQKUCgAApaAKdQAmKXFLilxQAYoxTsUYoATFLilxS0ANwaXBpaKAExRilooATFJg06igBtGKdRigBmKSn4pKAGYpKfikoAZikxT8UhFAEZFIRTzTSKAGEUhp5FNIoAZTSMVIaaaAGEUhFOpGFADDTTT2pretADDTae1NagBlFK1JQA00009qa1ADKaae1IaAIzTTUjUxqAGUU6igBVpy0gp1ACrTlpKcKAFWnLSU6gApVpKdQAq05aQU4UAKtOX1pBThQAq0o5opwoABTqBThQAU4CkApwFAABTgKAKUDNAABTqKcBQAgFLilApaADFFFFABRS4paAG4NLinYNGKAG4oxTsUYoAbijBp2KMUAMop2DRigBtFLikoATFJTqKAGEU0inkUhFADCKaakIzTaAGEU0inkU0jFADGFIRTiKRhQAwim09qa3rQAw001IaaaAIzTTUhppoAjNNNSNTWoAbTTTqRqAGU2ntTWoAYaaae1NagBlFOxRQALT1pq09elAAKetNWnrQAq0tA6UUAKtOWkFOFACrTlpBThQA5actNFOoAVactJTqAFWnLSU4UAKopQKKdQACnUCnCgAFKBQBS0AFFFOAoAQClxSgUuKAExS4p2KMUAJijFOxS4FADcCjAp1FADcCkxT6MUAMxSU/FJQAzFJT8UlADCKSnEUhFACUhFLRQAwikIp5FNYUAMNNp7CmtQAymmntSNQBGaaakamtQBHSNTmpDQAxqYakNNNAEZppp7U1qAGUUrUlADTTTT2prUAMpppx60jUAMooPWigB1Opq9acOtADqcKRactAC0L1opVoActOWkXpTh0oAVactIKcKAFWnLSU4UAKtOWkpwoAVactIKcKAFWnLSCnCgBVpyikFOoAKKKcKACnAUAUoFAABS4pQKWgAxRinYoxQAmKWnYooAbRg07BpcGgBlGKdg0UAMxSU/FJQAzFJTyKQigCMikIp9NIxQAwikp7CmsKAEppp1BoAjNNNSGmmgCM001IaaaAIzTTUhpjUAMNNp7U1qAGNTTT2prUAMNNp7U1qAGGm09qYetAA3SmNT6bQAxqa1PNNoAbRRRQAq05aRelOXpQAq09elNHSnUAFOFNFOHWgB1OHWkWnLQAq9aetNWnLQAq9aetNWnLQA5actIOlOFACrTlpBThQA5acKaKcKAHCiiigBVpy0gpwoAVRTgKQU4UAAFOFApwoAAKMUoFKBQAYowadijBoATFGKdijFADcGkp+KTFADMUlPxSUAMIpCKeRTWFADCKbTyKQigCM001IaaaAIzRTjTaAEamtT6aaAGNTGqQ0xqAGGmmntTWoAZTTT2pjdaAG00049aa3WgBpprdKcetNNADGprU8009KAG0jdaWkagBh602ntTW60AMNFK1FAC04U2nUAOp1NHWnUAKvWnLTVpy0AOWnr0pq9KcKAHDpTqbTqAHCnU0dacvWgBwpy9aRactADlpy01aevSgBVpy0gp1ABSrSU6gBVp600U4UAOFOFNFOWgBwrUt9GlkgSUTIN6hgCDxkVlrXU27FNHjdeqwAj/vmgDN/sOX/nun5Gl/sSX/AJ7p+RqMaxdntH/3zS/2vd+kf/fNAEn9iy/89k/I0f2LL/z2T8jTP7WuvSP/AL5pf7Vu/SP/AL5oAf8A2NJ/z2X8jR/Y0n/PZPyNN/tW6/6Z/wDfNH9q3X/TP/vmgB39iy/89l/I0n9jS/8APZPyNN/tW6/6Z/8AfNJ/at16R/8AfNADv7Fl/wCeyfkaP7El/wCe6fkab/a136R/980n9r3fpH/3zQA7+w5v+e6fkaralpr2cAlaRWDNtwB7H/CrVnqlzLdxxsI9rMAcLVjxR/yD0/66j+RoA55qa1PppoAY1NanmmmgCNqaae1NagBKa3WnUjUAMNNNPamtQAw009KcetNNADW6UxqfTT0oAY1NanN0pG6UAMamt1pzU1qAGHrTae1MPWgBtDdKKDQAxqa1PbpTGoASiiigApy9aaOtPXrQA5aWkWloAVaevSmr0pwoAdTqbTh1oAcvWnDrSLTl60AOXrTlpq05aAHLT16U1elOHSgBw6U6m04daAHDrTqRetLQADrT1601actADlpy01aeOlACrT1ptOoAcK6aP/kCL/17j/0GuZHWumj/AOQKv/XuP/QaAOdFOFItKKAFAp2DU+mQ+feIhHyg5b6Crus2fW4iH++B/OgDLxS4FOxRQAzFLDG0syxKOWOBSkVPpTqmoRlvUj8xQBqWun20SAGNZG7swz+lQ6lpkUkTPAmyQDOB0b2xWhSOwRCzHAUZJoA5rTf+QhD/ANdB/OtTxR/yD0/66j+RrNsTnU4jjrIP51peKP8AkHr/ANdR/I0AYDU1qe3SmNQAw9aaae1NagBlNPSnN1ppoAbQelFFADW6UxqeelNbpQAxqa3WnNTWoAYetNp7daYetADT0ptOptADW6Uxqeaa3SgBjU1qc1NagBjdaKVqSgBtNbpTjTT0oAbRRRQAL1p60xetPWgBy0tItLQA5elOpq9KdQA6nL1ptOXrQA9actNWnLQA5actNWnLQA9elOpq9KdQA6nL1ptOXrQA9aWkWloAVactNWnLQA9elOpq9KdQA6nL1po609aAHLXSx/8AIFX/AK9x/wCg1zS10sf/ACBV/wCvcf8AoNAHPLTlpF6U6MFmCgZJOBQBr+HodsLTEcscD6Vo9eDTLaMQ26RD+EYp9AGPqVp5Em9B+7Y8e3tVWuglRZIyjjIPWsW8haCUoeR/CfUUAQMKa1Oanx280kLSIhKqMk0ATW+qTRKFdRIB0J61FfX81yuw4VPRe/1qu1MbrQBLp3/IQh/3xWp4m/48E/66j+RrM0//AJCEP++P51p+Jv8AjwT/AK6j+RoAwDTW6U4009KAGNTWpzU1qAGtTG609qY3WgBtFFFADaa3SnGmt0oAY1NanNTWoAa1MbrT2pjdaAG02nU2gBtNbpTqa3SgBjU1qc1NagBrUlK1JQA2m06m0ANooooAF609aZTl60APWlpFpaAHL0p1MXpTx0oAdTl602nDrQA9actNXrSr1oAetOWmrTloAevSnUxaeOlADqcvWm04UAPWlpq9adQAq05aavWnLQA9elOFMWnr0oAdTh1po6U6gB610sf/ACBV/wCvcf8AoNcyK6aP/kCr/wBe4/8AQaAOeWr+gw+ZebyPljGfx7f59qzxW/oMPlWIcj5pDn8O3+fegC7RRRQAVFeQLcQlG6/wn0NS0UAZlnpzFt1xwAeFB61pKoVdqgADoBS0UAYesWvkXG5R+7fp7H0qjXTXcK3Fu0T9+h9D61zdxG0MrRuMMpwaAH6d/wAhCH/fFanib/jwT/rqP5GsrTf+QhD/ANdB/OtTxR/yD0/66j+RoAwTTW6UrU1qAGtTWpzU1utADWph6049abQA2iiigBtNbpTj0pjUANamtTmprUANamN1pzdaaaAG02nU2gBtNbpTj0prdKAGNTWpzU1qAGtSUN1ooAbTacaa3SgBtFFFABTh1ptOoAevWlpo606gBVp69KYtOWgB46U6mr0pw6UAOHWnCm06gBy9aetMpw60APWnLTV605aAHr0pwpi05aAH06mr0pwoAKcOtNpwoAetOWmCnUAPWnLTKcKAHrXTx/8AIDX/AK9x/wCg1y4rqIudEXH/AD7j/wBBoAwLOMz3CRD+I4rqFUKoVRgKMAVy0IuI33xrIrDoQDU/2i//AOek/wCtAHR0VzouL7/npN+tL599/wA9Jv1oA6Giue8++/56TfrR59//AM9Jv1oA6Giue8++/wCek360faL7/npN+tAHQ1n69aebD56D54xz7is37Rf/APPSb9aabi//AOek/wCtADdN/wCQjD/10H861PFH/IPT/rqP5GszTo5BqEJMbf6wZ+WtPxV/yD0/66j+RoA58000401qAGmm0rU1qAENNPSlamtQAlDdKKRqAGtTWpzUw9aAEamN1pxptADTTacelNbpQA09KaelK1NbpQAjdKY1OamtQA1qa3WnN1ph60ANPWiig9KAGnpTW6U5ulMagBKKKKAAU4dKYvSnLQA+nU1elOHSgAXrT1plOFAD1py0wdaetAD16U4dKYtOWgB46U4UxactAD6cKYtPFADh1p60wU4UAPWnLTKdQA6lWkooAetOWmU4UAPWnKaYKcDQA9TXQWeqWcdnFG0jbljUH5T1ArngaUGgDpf7Wsf+erf98Gl/tay/56N/3ya5oGnZoA6P+1bL/no3/fJo/tWy/wCejf8AfJrnc0uaAOi/tSz/AOejf98mj+1LP/no3/fJrncmjJoA6L+1LP8A56N/3yaT+1bL/no3/fJrnqM0AdD/AGrZf89G/wC+TSf2tY/89G/75Nc7mgmgDov7Wsf+ejf98GqOvX9tc2axwuSwkBOVI4wf8ayc00mgAJpppSaaxoAQ000rGmtQAhptK1JQAU005qY1ACU00rU1qAEPSmNTmprUANamtSt1ppoARqa1LTT1oARutMPWnU00ANpppx6U1ulADaRulLSNQA1qa1ObrTD1oAKKa3WigBVpy0wdadQA9actMHWnrQAtOHSm0q0APFOFMWnLQA8U5etNFOFADqcOtNpwoActPWmCnCgB605aYKdQA9actMp1AD1pabTqAFU0oNNpVNADwadTAaUGgCQGlBplOBoAeDS5pmaXNAD80uaZmjNAD80ZpuRRmgB2aTNJkUmaAFzRmm5ozQAE0hNJmkJoACaQmgmm0ABNNNBNNJoAKKKRjQAhpppWprUAIaaaVqa1ACGmmlamtQAhpp6UrU1qAEpp6UrU1qAEbpTGpzUxqAEamtSmm0AFNPWnU00ANNNpx6U00ANooooABTqYtOWgB4pwpi05aAH0Ui0tADh1py00U4UAPWnLTBThQA9actMp1AD1py0wU4UAPWnLTBTgaAHrTlpgpwNADwaUGmA05TQA+ikBpaAFBpwNMpQaAH5p2ajBp2aAH5pc0zNLmgB2TS5pmaXNADs0ZpuaM0AOzRmm5oyaAFzSZpM0maAFzSE0maTNACk00mjNNJoAUmkoooADTSaKaTQAU2gmkY0AJTaVjTWNACGmmlamtQAlNpWprUAIabStTWoAQ000rU1qAEPSm0rUlACNTWpW6000AI1Nalpp60AITRSUUAApwpq04UAOpwpopy0AOFOpopwoAVactMpwoAetOWmCnCgB605aYKcKAHCnCmilWgB4pwNMU05TQA8GnA0xTSg0ASA04GowadQA8GnA0wGlBoAfRTQadmgAzTs02igB2aXNMzS5oAfRk03NGTQA/NGaZk0ZNAD8mkyabk0ZoAdmkzSZpM0ALmkzSUUAFFFITQAuabQTTSaAAmkJoJppNAAxpCaCabQAE00mimk0ABppoNNNABTTStTWoAQ02lamtQAhptK1NagBKKKRqAENNbpStTWoAQ000rU1qAEopCaKAEWnrTBThQA9aUU0U6gBwp60wU4UAOpVpBRQA9acppgpwNADgacKYppymgB4p1MU05TQA8U4Go6dQA8GnKaYDSg0ASA0oNMBpQaAJAaUGmUuaAH5p2ajzTs0APzS0zNLmgB1FNyaXNAC0UZFFABmjNFFABRRRQAUUZFJmgBaM03NJmgBc0maTNJmgBaaTRSE0ABNITQTTaACmk0E0hNAATTWNBNITQAjGkNFNNAAaaaCaaaAA000E0jGgBDTaVqSgApppWprUAIabStTWoASm0rU1qAEopM0UAC05aYKcKAHrTlpgpwoAcKcKaKVaAHg06mLTlNAC04U2lU0APpwqMGnA0ASA04GowadQA9TSg00GlBoAfTgajBpwNADwaUGmg0oNAD6UGmZp2aAHZp2ajzTs0APzS5qPNLmgB+aXNMzS5oAfmjNMzS5FADs0Z96bkUZFADs0ZFNyKTNADs0ZpuaTJoAdSZpM0maAFzSZpM0maAFpCaSkJoAUmm0E00mgBSaaTQTSE0ABNNopCaAEJpGNDGmk0ADGmsaUmmk0AIxpCaCabQAUGimk0ABppoNNNABTaVqa1ACU00rU1qAEopM0UAIKcKYtOWgB4pwpi05aAHinUxTTlNADxThUYNOBoAkBopop1ACqacpplOBoAeDSg0wGnA0APBpwNRg06gB4NLTQaUGgB4NKDTKXNAD807NR5p2aAHZp2ajzS5oAfmlzTM0uaAH5oyabmjNAD80ZpuTRmgB2aM03NGaAHZozTc0ZoAdmkzTcmjNADs0mabmjNAC5pM0maTNAC5pM0maTNAC5puaM03NACk0lGabmgAJpCaCaaTQAE0hNBNNoACaaTQTSMaAEJoopCaABjTWNKTTSaAEY0hoppNAAaaaDTTQAGmmg000AFFITRQAlOFMU05TQA+nUxTSg0ASCnA1GDTgaAJAaVTTKdQA8GlBpimnA0APopoNOoAcDSg0ynA0AOBp1MBpQaAJAaUGmA0uaAH5p2ajzTs0AOpc03NLmgB2aXNMpc0APpc0zNGTQBJmimZpcigB2TS5NMzRk0APzRmmZNGTQA/NJk03JoyaAHZozTc0ZFAC5pMmkzSZoAdmkzSZpM0ALSZpKTNAC0maTNJmgBc00mjNNzQApNITSE0hNAATTSaCaQmgAJpKKCaAAmmk0U0mgAJptBNIxoAGNNY0pNNJoARjTWpSaaaAEY0jUU00AFFNooAAacDUYNOFAEgNKppgpwNAD1NOU0wGnA0AOBpwNMBpymgB9KDTAadQA8GlBpgNOBoAfRTQadQAoNKDTaAaAJM0oNMpQaAH5p2ajzTs0APzS5qPNOzQA7NLmmZpc0APoyabmjJoAfmjNNzS5FADs0ZpuaKAHZozTaKAHZozTaKAHZFJmkzSZoAdmkpM0mTQA6kzSZpM0ALmkzSUmaAFzSZpKTNAC5ppNGaQmgAJpCaCabQAE0UUhNACk02gmmk0ABNITQTSE0ABNNJoptABTSaCaQmgBCaaTSsaaxoAGNNY0MaQmgBM0UlFACKacppgNKDQA8GnA0xTTgaAH04VGDTgaAJAaVTTKcDQA8GlBpgNOBoAfSg0wGnUAOBp1MBpQaAJAaKaDS5oAWlzSUUAOzTs1HmnZoAdmlzTM0uaAH5pc0ylzQA/NGTTc0ZoAfmjNNyaM0APyKM0zNLkUAOzRmm5FGRQA7NGabkUZoAdkUmabmjNADsmkpuTRmgB2aTNNzSZoAdmkzSZpM0ALmkzSUmaAFzSZpKKACijNNJoAUmkJpCaQmgAJppNFITQApNNoJptAATTSaCaQmgAJprGgmkJoACaaTRTSaACm0E00mgAopM0UAJThTFNKKAJAaUGmU4GgB6mnA0wGlBoAeDTqYDSg0ASA0oNMBpQaAHg04GmA0uaAJAaM03NKDQA8GlBplKDQA/NLmmZpc0APopuaXNAC0uaSigB2aXNMoyaAH5pc0zNLkUAOyaXJpmaMmgB+aM03NGaAHZozTc0ZoAdmjNNzRmgB2aMmm5NJk0AOozTc0ZoAXNJmkzSUAOzSZpKKACiikzQAtJmkzSZoAXNNzRmm5oAUmkozTSaAFJpCaQmkJoAKaTQTSE0ABNNJoJpCaAAmm0U0mgAJpCaGNNJoAGNNY0pNNoAKKbmigABpVNMpwNADgadTAaUGgCQGnA1HTgaAHg0oNMBpwNAD804GowacDQA8GlzTAaUGgCQGlBpmaXNAD80uaZmlzQA+lzTM07NADqXNMpc0APzS5pmaXNAD80UzNLmgB1FJk0ZoAWijIozQAZNLk0lFAC5ozSUUALmkyaKKADJooozQAUUmaM0ALRTcmjNAC5pMmkzSZoAdmkzSZpM0ALmkzSUmaAFpM0lJmgBc03NGabmgBSaQmkzSZoACaQmkJpCaAFJptBNNJoACaQmgmmk0ABNITQTTaACmk0pNNY0AGaKSigAopFNLQA4GlBplOBoAcDTs0wGloAkBpQaYDSg0APzTgajBp1ADwaXNMBpQaAJM0uaZmlzQA/NLmmZpc0APzTs1HmlzQA/NLmmZpc0APoyabmlzQA7NLmmZpaAHZNLmmUuTQA7NLkUzNGaAH5ozTcijIoAdmjNNzRmgB2aM03NGRQA7NGRTcikzQA7NGTTc0mTQA7NGabRmgBc0lJmkyaAHZpM0maTNAC0maSkzQAtJmkzSZoAXNNzRmm5oAUmkozTc0AKTTSaCaQmgAppNFNJoAUmkJpCaSgApCaQmkJoACaSiigAoptFAAtKtFFAC0UUUAOpVoooAWnUUUAKtLRRQA6lWiigBacKKKACnUUUAFOoooAKcKKKACjJoooAdRRRQAZpc0UUALRRRQAUUUUAFFFFABRRRQAUUUUABpuTRRQAUUUUAITSUUUAFITRRQAlI1FFACUjUUUAJSMaKKAEptFFACNSUUUANpGoooASmmiigBGpKKKACm0UUAITRRRQB//Z";return{restrict:"A",link:function(t,n,r){var i=function(){n.off("error",i);var t=r.fallbackSrc||e;n[0].src!==t&&(n[0].src=t)};n.on("error",i)}}}).directive("loadingSrc",function(){var e="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QBoRXhpZgAATU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAAExAAIAAAASAAAATgAAAAAAAABgAAAAAQAAAGAAAAABUGFpbnQuTkVUIHYzLjUuMTEA/9sAQwAEAgMDAwIEAwMDBAQEBAUJBgUFBQULCAgGCQ0LDQ0NCwwMDhAUEQ4PEw8MDBIYEhMVFhcXFw4RGRsZFhoUFhcW/9sAQwEEBAQFBQUKBgYKFg8MDxYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYW/8AAEQgB9AH0AwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A+ggKcBQBRQAUAZpQKUUAFOAxRSgUAIBThQBTqAAClAoApwFACU4CilAoAQCnYoxTsUAJilpcUtACYpaXFLQAmKXFLiloAbilxTsUuKAG0YNOowaAExS4FLilxQA2inYooAbRg07BpcGgBmDRg0/FGKAGYNFPxSYNADaKdg0UANxSYp+BSYoAbikwafikoAbikxT6TFADMUYp2KMUAR4oxT8UmKAGYpMU/FJigCPFJin4pMUAMpCKfSEUAMIppFSEU2gBhFIRTyKaRQAykIp9NoAaRmm08ikNADaQilooAbiilxRQAtKBSAZpwoABTqKUCgAApwFAFKKAACnAUU4CgBAKUClApQKAClApaUCgBMU7FGKdigBMUuKUClxQAmKXFLiloATFLS4paAG4NLinYpcUANpcUtLigBuKXAp2KKAG0YNOooATFGKWigBMUYpaKAExRilooATBpMGnUUANowKdRigBmKTBp+KMUAMxSYp9JigBlGKdijFADMUmKdiigBmKTFPxSYoAjxSYp+KTFADKQin00igBpFNxTyKQigCMikIp5FIRQAwim08ikNAEZGKQin00jFADTTaeRSEUANooooAdTqAMUoFAABTgKAKUUAAFOopwoAAKUCgCnAUAAFLQBTqADGKUClApQKAEApwFFOAoATFLRinAUAJilpcUuKAExS0uKWgBMUuKKKACijBpcUAJRTqMGgBMGjFOxRigBuKXAp2BRigBuBRgU6igBuBSYp9GBQAzFGKfgUmKAGYNFPxSYoAbRTsUmKAEpMUtFADcUYp1GKAI8UYp+KTFAEeKMU7FJigBmKQin0hFADKaRipCKaaAGEUhFPIpCKAI6aRUlNNADCKQjNPIppFADCKbUhFNNAEZGKQinn0ptADaKXFFACgU4CgU4UAAp1ApwFAAKUChRTgKAAClAzQBmnAUAFOFAFOAoAQClApQKWgApQKUClAoAQCnYop2KAExS0UUAFFLiloATFLS4paAExS4pcUuKAG0uKXBpcUANxS4FOxRigBtFOowaAG0U7BowaAG0U7BowaAG4oxTqMCgBmKTBp+KMUAMpMU+kxQAzBoxTsUYoAZikp+KSgBtGKXFJQA0ikxT6QigBlNIqTFNIoAaRTaeRSUARkUhFPIpCKAGEZptPIpCKAIzSEU+mmgBjCmkU8jFIwoAYRmmmnsKawoAZRTqKAHAUqihRTgKABR3pyikApwoAUClAoFOoAKcBQKcBQAAYpQKAKWgApwFFOAxQAgFOAoApaACiilAoAAKWgCnUAJilxS4paAExS4pcUuKAExS0uKWgBuDS4p2KMUAJgUU6igBuDS4pcGlwaAG4oxTsUYoAbijBp2KTBoAbg0U7BooAbgUmKfikxQAzFGKdg0YoAZikxT8UlADMUmKfikoAZikxTyKQigCOinUhFACYzTadRQAwimkU8jFIRQAymkYp5FJQAwimkU8jFIRQAwjNNNPYU0igBh9KaakIppoAjPFNIqQ02gBmKKWigBwp1ApVoAUU4UiinKKAFHFOApFFOUUACinAUgFOoAKdQBTgMUAAGKUCgCloAKKAM07FAAKUClAxSgUAJinUAU7FACYpaXFLQAYoxTsUUAJilpcUtADcGlxTsUYoATFGDTqMGgBMGjFOxRigBuKMU7FGKAG4oxTsUYoAZg0U/FJg0ANxSYp+KTFADKKdg0YoAZikp+KSgBmKSn4pKAIyKQin4pCKAGU0ipKaRigBhFJTyKQigBtNIxTqKAGEU0inkYpCKAGU008ikoAjIxSMKeaaaAGMKawp5ppFADGFNanmmmgBtFLiigBRThQKcKAAU4UCnCgAFOFApwoAKcBSKKcooAAKcooApaACgDNFOHpQAU4UClAoAAKcBQBSgZoAAKcBRinAUAIBS0YzTsUAJilpcUtACYpaXFLigBMUuKXFLigBuKXFLg0uKAG4pcCnYoxQA3AowKdRQA3ApMU+jAoAZijBp2KMUAMpMU/FGKAI8UYp+KTFADMUmKfikxQBHiinYpMUAMxSEU+kIoAYRTSKkIptADCKaRTzSEUAMIzTaeRSEUANppp1FAEZFIwp9NNADSKaacaRhQAw0009qa1ADDTTT29aa1ADKKdiigBVpy0lOoAVactIKcKAFWlFFOFAAKcKBThQAUUUq0AKKcBikUU5RQAAU4ChRSgZoAUClAoAp1ABSgUAUoFAAKcBRTgKAEApaUCloATFLilxS4oATFLS4pcUAJijFOxS4oAbiinUYNADaKdg0YNADaKdg0YNADcCkxT8UmKAGYNGKfikoAZikp+KSgBmKTFPxSEUAR4pCKeRSEUAMptSEZptADCKQinEYpCKAGEU01IRTaAIyKRhT6aaAGMKSnGmmgANNNOpGoAYabT2prUAMNNNPamtQAw0009qa1ADKKdRQAq05aSnCgBVpy0gp1ACrTlpKcKAFWloooAVaUUU4UAApwoFOFAAKcPSgU4CgApQKFFKBQAoFKKBTgKAClApQKUCgAApaAKdQAmKXFLilxQAYoxTsUYoATFLilxS0ANwaXBpaKAExRilooATFJg06igBtGKdRigBmKSn4pKAGYpKfikoAZikxT8UhFAEZFIRTzTSKAGEUhp5FNIoAZTSMVIaaaAGEUhFOpGFADDTTT2pretADDTae1NagBlFK1JQA00009qa1ADKaae1IaAIzTTUjUxqAGUU6igBVpy0gp1ACrTlpKcKAFWnLSU6gApVpKdQAq05aQU4UAKtOX1pBThQAq0o5opwoABTqBThQAU4CkApwFAABTgKAKUDNAABTqKcBQAgFLilApaADFFFFABRS4paAG4NLinYNGKAG4oxTsUYoAbijBp2KMUAMop2DRigBtFLikoATFJTqKAGEU0inkUhFADCKaakIzTaAGEU0inkU0jFADGFIRTiKRhQAwim09qa3rQAw001IaaaAIzTTUhppoAjNNNSNTWoAbTTTqRqAGU2ntTWoAYaaae1NagBlFOxRQALT1pq09elAAKetNWnrQAq0tA6UUAKtOWkFOFACrTlpBThQA5actNFOoAVactJTqAFWnLSU4UAKopQKKdQACnUCnCgAFKBQBS0AFFFOAoAQClxSgUuKAExS4p2KMUAJijFOxS4FADcCjAp1FADcCkxT6MUAMxSU/FJQAzFJT8UlADCKSnEUhFACUhFLRQAwikIp5FNYUAMNNp7CmtQAymmntSNQBGaaakamtQBHSNTmpDQAxqYakNNNAEZppp7U1qAGUUrUlADTTTT2prUAMpppx60jUAMooPWigB1Opq9acOtADqcKRactAC0L1opVoActOWkXpTh0oAVactIKcKAFWnLSU4UAKtOWkpwoAVactIKcKAFWnLSCnCgBVpyikFOoAKKKcKACnAUAUoFAABS4pQKWgAxRinYoxQAmKWnYooAbRg07BpcGgBlGKdg0UAMxSU/FJQAzFJTyKQigCMikIp9NIxQAwikp7CmsKAEppp1BoAjNNNSGmmgCM001IaaaAIzTTUhpjUAMNNp7U1qAGNTTT2prUAMNNp7U1qAGGm09qYetAA3SmNT6bQAxqa1PNNoAbRRRQAq05aRelOXpQAq09elNHSnUAFOFNFOHWgB1OHWkWnLQAq9aetNWnLQAq9aetNWnLQA5actIOlOFACrTlpBThQA5acKaKcKAHCiiigBVpy0gpwoAVRTgKQU4UAAFOFApwoAAKMUoFKBQAYowadijBoATFGKdijFADcGkp+KTFADMUlPxSUAMIpCKeRTWFADCKbTyKQigCM001IaaaAIzRTjTaAEamtT6aaAGNTGqQ0xqAGGmmntTWoAZTTT2pjdaAG00049aa3WgBpprdKcetNNADGprU8009KAG0jdaWkagBh602ntTW60AMNFK1FAC04U2nUAOp1NHWnUAKvWnLTVpy0AOWnr0pq9KcKAHDpTqbTqAHCnU0dacvWgBwpy9aRactADlpy01aevSgBVpy0gp1ABSrSU6gBVp600U4UAOFOFNFOWgBwrUt9GlkgSUTIN6hgCDxkVlrXU27FNHjdeqwAj/vmgDN/sOX/nun5Gl/sSX/AJ7p+RqMaxdntH/3zS/2vd+kf/fNAEn9iy/89k/I0f2LL/z2T8jTP7WuvSP/AL5pf7Vu/SP/AL5oAf8A2NJ/z2X8jR/Y0n/PZPyNN/tW6/6Z/wDfNH9qXXon/fNADv7Fl/57L+RpP7Gl/wCeyfkab/at1/0z/wC+aT+1br0j/wC+aAHf2LL/AM9k/I0f2JL/AM90/I03+1rv0j/75pP7Xu/SP/vmgB39hzf890/I1W1LTXs4BK0isGbbgD2P+FWrPVLmW7jjYR7WYA4WrHij/kHp/wBdR/I0Ac81Nan000AMamtTzTTQBG1NNPamtQAlNbrTqRqAGGmmntTWoAYaaelOPWmmgBrdKY1Ppp6UAMamtTm6UjdKAGNTW605qa1ADD1ptPamHrQA2hulFBoAY1Nant0pjUAJRRRQAU5etNHWnr1oActLSLS0AKtPXpTV6U4UAOp1Npw60AOXrTh1pFpy9aAHL1py01actADlp69KavSnDpQA4dKdTacOtADh1p1IvWloAB1p69aatOWgBy05aatPHSgBVp602nUAOFdNH/yBF/69x/6DXMjrXTR/8gVf+vcf+g0Ac6KcKRaUUAOjQuwVQST0ArVs9LULvuT/AMBB/mafpsEdna/aZ/vEZ+g9PrVK9vJbliM7U7KP60AaIn0+3O1TGp/2Rn9RThf2bceYPxU1i4ooA2pLOzuEyqrz/ElZeoWElv8AMPnj/vDt9aZBLJC++Jip7jsa2bG5S7hOQNw4dTQBzp4pGq9q1p9nmyg/dv8Ad9vaqVAEmm/8hCH/AK6D+danij/kHp/11H8jWZpv/IQh/wCug/nWn4o/5B6/9dR/I0AYDU1qe3SmNQAw9aaae1NagBlNPSnN1ppoAbQelFFADW6UxqeelNbpQAxqa3WnNTWoAYetNp7daYetADT0ptOptADW6Uxqeaa3SgBjU1qc1NagBjdaKVqSgBtNbpTjTT0oAbRRRQAL1p60xetPWgBy0tItLQA5elOpq9KdQA6nL1ptOXrQA9actNWnLQA5actNWnLQA9elOpq9KdQA6nL1ptOXrQA9aWkWloAVactNWnLQA9elOpq9KdQA6nL1po609aAHLXSx/wDIFX/r3H/oNc0tdLH/AMgVf+vcf+g0Ac8tWdLi868RD0zk/QVXXpV/w7/x/H/cP9KAJNdnLXAhB+VOv1qkKddktdSE/wB8/wA6bQA4CiilJoAawqSymMF0smeM4b6VG1NagDd1OITWTrjJA3L9RXOnrXT253W6HPVR/Kuak4kIHrQA/Tv+QhD/AL4rU8Tf8eCf9dR/I1maf/yEIf8AfH860/E3/Hgn/XUfyNAGAaa3SnGmnpQAxqa1OamtQA1qY3WntTG60ANooooAbTW6U401ulADGprU5qa1ADWpjdae1MbrQA2m06m0ANprdKdTW6UAMamtTmprUANakpWpKAG02nU2gBtFFFAAvWnrTKcvWgB60tItLQA5elOpi9KeOlADqcvWm04daAHrTlpq9aVetAD1py01actAD16U6mLTx0oAdTl602nCgB60tNXrTqAFWnLTV605aAHr0pwpi09elADqcOtNHSnUAPWulj/5Aq/9e4/9BrmRXTR/8gVf+vcf+g0Ac8tXdEkEeoLno2VqiKepKsGBwQcg0AWdSj8u+kX1bI/HmolNX7oC+s1uY/8AWRjDrWeDQA8GjNNzRmgBSaaaM0sal2wOB1J9BQBILi4S38tZWCt29qrU+ZgW+Xp0A9qYaAJdO/5CEP8AvitTxN/x4J/11H8jWVpv/IQh/wCug/nWp4o/5B6f9dR/I0AYJprdKVqa1ADWprU5qa3WgBrUw9acetNoAbRRRQA2mt0px6UxqAGtTWpzU1qAGtTG605utNNADabTqbQA2mt0px6U1ulADGprU5qa1ADWpKG60UANptONNbpQA2iiigApw602nUAPXrS00dadQAq09elMWnLQA8dKdTV6U4dKAHDrThTadQA5etPWmU4daAHrTlpq9actAD16U4UxactAD6dTV6U4UAFOHWm04UAPWnLTBTqAHrTlplOFAD1rp4/+QGv/AF7j/wBBrlxXURc6IuP+fcf+g0Ac4tOBo8qX/nm//fJpfLl/55v/AN8mgCWzuJLaXfGfqD0NXGjtr354HEMp6o3Q/SqAjk/55t/3zR5cn/PNv++aAJ5rW5iOGhb6gZH6UwRyngRsf+AmnRyXkYwjTADtzStPfN1eb9aAD7M6jdOwiX/a+9+VMmlXb5cQ2p3z1b60xklJyUc/gaTy5P8Anm3/AHzQA2mk08xy/wDPNv8AvmkMcv8Azzf/AL5NAEmm/wDIRh/66D+danij/kHp/wBdR/I1mabHINQhJjYfOO1afir/AJB6f9dR/I0Ac+aaacaa1ADTTaVqa1ACGmnpStTWoAShulFI1ADWprU5qYetACNTG60402gBpptOPSmt0oAaelNPSlamt0oARulManNTWoAa1NbrTm60w9aAGnrRRQelADT0prdKc3SmNQAlFFFAAKcOlMXpTloAfTqavSnDpQAL1p60ynCgB605aYOtPWgB69KcOlMWnLQA8dKcKYtOWgB9OFMWnigBw609aYKcKAHrTlplOoAdSrSUUAPWnLTKcKAHrTlNMFOBoAeproLPVLOOzijaRtyxqD8p6gVzwNKDQB0v9rWP/PVv++DS/wBrWX/PRv8Avk1zQNOzQB0f9q2X/PRv++TR/atl/wA9G/75Nc7mlzQB0X9qWf8Az0b/AL5NH9qWf/PRv++TXO5NGTQB0X9qWf8Az0b/AL5NJ/atl/z0b/vk1z1GaAOh/tWy/wCejf8AfJpP7Wsf+ejf98mudzQTQB0X9rWP/PRv++DVHXr+2ubNY4XJYSAnKkcYP+NZOaaTQAE000pNNY0AIaaaVjTWoAQ02lakoAKaac1MagBKaaVqa1ACHpTGpzU1qAGtTWpW6000AI1Nalpp60AI3WmHrTqaaAG00049Ka3SgBtI3SlpGoAa1NanN1ph60AFFNbrRQAq05aYOtOoAetOWmDrT1oAWnDpTaVaAHinCmLTloAeKcvWminCgB1OHWm04UAOWnrTBThQA9actMFOoAetOWmU6gB60tNp1ACqaUGm0qmgB4NOpgNKDQBIDSg0ynA0APBpc0zNLmgB+aXNMzRmgB+aM03IozQA7NJmkyKTNAC5ozTc0ZoACaQmkzSE0ABNITQTTaAAmmmgmmk0AFFFIxoAQ000rU1qAENNNK1NagBDTTStTWoAQ009KVqa1ACU09KVqa1ACN0pjU5qY1ACNTWpTTaACmnrTqaaAGmm049KaaAG0UUUAAp1MWnLQA8U4UxactAD6KRaWgBw605aaKcKAHrTlpgpwoAetOWmU6gB605aYKcKAHrTlpgpwNAD1py0wU4GgB4NKDTAacpoAfRSA0tACg04GmUoNAD807NRg07NAD80uaZmlzQA7Jpc0zNLmgB2aM03NGaAHZozTc0ZNAC5pM0maTNAC5pCaTNJmgBSaaTRmmk0AKTSUUUABppNFNJoAKbQTSMaAEptKxprGgBDTTStTWoASm0rU1qAENNpWprUAIaaaVqa1ACHpTaVqSgBGprUrdaaaAEamtS009aAEJopKKAAU4U1acKAHU4U0U5aAHCnU0U4UAKtOWmU4UAPWnLTBThQA9actMFOFADhThTRSrQA8U4GmKacpoAeDTgaYppQaAJAacDUYNOoAeDTgaYDSg0APopoNOzQAZp2abRQA7NLmmZpc0APoyabmjJoAfmjNMyaMmgB+TSZNNyaM0AOzSZpM0maAFzSZpKKACiikJoAXNNoJppNAATSE0E00mgAY0hNBNNoACaaTRTSaAA000GmmgApppWprUAIabStTWoAQ02lamtQAlFFI1ACGmt0pWprUAIaaaVqa1ACUUhNFACLT1pgpwoAetKKaKdQA4U9aYKcKAHUq0gooAetOU0wU4GgBwNOFMU05TQA8U6mKacpoAeKcDUdOoAeDTlNMBpQaAJAaUGmA0oNAEgNKDTKXNAD807NR5p2aAH5paZmlzQA6im5NLmgBaKMiigAzRmiigAooooAKKMikzQAtGabmkzQAuaTNJmkzQAtNJopCaAAmkJoJptABTSaCaQmgAJprGgmkJoARjSGimmgANNNBNNNAAaaaCaRjQAhptK1JQAU00rU1qAENNpWprUAJTaVqa1ACUUmaKABactMFOFAD1py0wU4UAOFOFNFKtADwadTFpymgBacKbSqaAH04VGDTgaAJAacDUYNOoAeppQaaDSg0APpwNRg04GgB4NKDTQaUGgB9KDTM07NADs07NR5p2aAH5pc1HmlzQA/NLmmZpc0APzRmmZpcigB2aM+9NyKMigB2aMim5FJmgB2aM03NJk0AOpM0maTNAC5pM0maTNAC0hNJSE0AKTTaCaaTQApNNJoJpCaAAmm0UhNACE0jGhjTSaABjTWNKTTSaAEY0hNBNNoAKDRTSaAA000GmmgAptK1NagBKaaVqa1ACUUmaKAEFOFMWnLQA8U4UxactADxTqYppymgB4pwqMGnA0ASA0U0U6gBVNOU0ynA0APBpQaYDTgaAHg04GowadQA8GlpoNKDQA8GlBplLmgB+admo807NADs07NR5pc0APzS5pmaXNAD80ZNNzRmgB+aM03JozQA7NGabmjNADs0ZpuaM0AOzSZpuTRmgB2aTNNzRmgBc0maTNJmgBc0maTNJmgBc03NGabmgBSaSjNNzQAE0hNBNNJoACaQmgmm0ABNNJoJpGNACE0UUhNAAxprGlJppNACMaQ0U0mgANNNBppoADTTQaaaACikJooASnCmKacpoAfTqYppQaAJBTgajBpwNAEgNKpplOoAeDSg0xTTgaAH0U0GnUAOBpQaZTgaAHA06mA0oNAEgNKDTAaXNAD807NR5p2aAHUuabmlzQA7NLmmUuaAH0uaZmjJoAkzRTM0uRQA7JpcmmZoyaAH5ozTMmjJoAfmkyabk0ZNADs0ZpuaMigBc0mTSZpM0AOzSZpM0maAFpM0lJmgBaTNJmkzQAuaaTRmm5oAUmkJpCaQmgAJppNBNITQAE0lFBNAATTSaKaTQAE02gmkY0ADGmsaUmmk0AIxprUpNNNACMaRqKaaACim0UAANOBqMGnCgCQGlU0wU4GgB6mnKaYDTgaAHA04GmA05TQA+lBpgNOoAeDSg0wGnA0APopoNOoAUGlBptANAEmaUGmUoNAD807NR5p2aAH5pc1HmnZoAdmlzTM0uaAH0ZNNzRk0APzRmm5pcigB2aM03NFADs0ZptFADs0ZptFADsikzSZpM0AOzSUmaTJoAdSZpM0maAFzSZpKTNAC5pM0lJmgBc00mjNITQAE0hNBNNoACaKKQmgBSabQTTSaAAmkJoJpCaAAmmk0U2gAppNBNITQAhNNJpWNNY0ADGmsaGNITQAmaKSigBFNOU0wGlBoAeDTgaYppwNAD6cKjBpwNAEgNKpplOBoAeDSg0wGnA0APpQaYDTqAHA06mA0oNAEgNFNBpc0ALS5pKKAHZp2ajzTs0AOzS5pmaXNAD80uaZS5oAfmjJpuaM0APzRmm5NGaAH5FGaZmlyKAHZozTcijIoAdmjNNyKM0AOyKTNNzRmgB2TSU3JozQA7NJmm5pM0AOzSZpM0maAFzSZpKTNAC5pM0lFABRRmmk0AKTSE0hNITQAE00mikJoAUmm0E02gAJppNBNITQAE01jQTSE0ABNNJoppNABTaCaaTQAUUmaKAEpwpimlFAEgNKDTKcDQA9TTgaYDSg0APBp1MBpQaAJAaUGmA0oNADwacDTAaXNAEgNGabmlBoAeDSg0ylBoAfmlzTM0uaAH0U3NLmgBaXNJRQA7NLmmUZNAD80uaZmlyKAHZNLk0zNGTQA/NGabmjNADs0ZpuaM0AOzRmm5ozQA7NGTTcmkyaAHUZpuaM0ALmkzSZpKAHZpM0lFABRRSZoAWkzSZpM0ALmm5ozTc0AKTSUZppNACk0hNITSE0AFNJoJpCaAAmmk0E0hNAATTaKaTQAE0hNDGmk0ADGmsaUmm0AFFNzRQAA0qmmU4GgBwNOpgNKDQBIDTgajpwNADwaUGmA04GgB+acDUYNOBoAeDS5pgNKDQBIDSg0zNLmgB+aXNMzS5oAfS5pmadmgB1LmmUuaAH5pc0zNLmgB+aKZmlzQA6ikyaM0ALRRkUZoAMmlyaSigBc0ZpKKAFzSZNFFABk0UUZoAKKTNGaAFopuTRmgBc0mTSZpM0AOzSZpM0maAFzSZpKTNAC0maSkzQAuabmjNNzQApNITSZpM0ABNITSE0hNACk02gmmk0ABNITQTTSaAAmkJoJptABTSaUmmsaADNFJRQAUUimloAcDSg0ynA0AOBp2aYDS0ASA0oNMBpQaAH5pwNRg06gB4NLmmA0oNAEmaXNMzS5oAfmlzTM0uaAH5p2ajzS5oAfmlzTM0uaAH0ZNNzS5oAdmlzTM0tADsmlzTKXJoAdmlyKZmjNAD80ZpuRRkUAOzRmm5ozQA7NGabmjIoAdmjIpuRSZoAdmjJpuaTJoAdmjNNozQAuaSkzSZNADs0maTNJmgBaTNJSZoAWkzSZpM0ALmm5ozTc0AKTSUZpuaAFJppNBNITQAU0mimk0AKTSE0hNJQAUhNITSE0ABNJRRQAUU2igAWlWiigBaKKKAHUq0UUALTqKKAFWloooAdSrRRQAtOFFFABTqKKACnUUUAFOFFFABRk0UUAOooooAM0uaKKAFooooAKKKKACiiigAooooAKKKKAA03JoooAKKKKAEJpKKKACkJoooASkaiigBKRqKKAEpGNFFACU2iigBGpKKKAG0jUUUAJTTRRQAjUlFFABTaKKAEJooooA//2Q==",t=function(t,n,r){n[0].src=r.loadingSrc||e;
var i=new Image;i.src=t.imgSrc,i.onload=function(){i.onload=null,n[0].src!==i.src&&(n[0].src=i.src)}};return{restrict:"A",compile:function(e,n){return n.imgSrc=n.ngSrc,delete n.ngSrc,t}}}),n("angular-img-fallback",["angular"],function(){}),function(){var e=1===angular.version.major&&0===angular.version.minor;angular.module("ui-rangeSlider",[]).directive("rangeSlider",["$document","$filter","$log",function(t,n,r){var i=".rangeSlider",o={disabled:!1,orientation:"horizontal",step:0,decimalPlaces:0,showValues:!0,preventEqualMinMax:!1,attachHandleValues:!1},a=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup",over:"pointerdown",out:"mouseout"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp",over:"MSPointerDown",out:"mouseout"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend",over:"mouseover touchstart",out:"mouseout"},s=a.start+i,l=a.move+i,u=a.end+i,c=a.over+i,d=a.out+i,p=function(e){try{return[e.clientX||e.originalEvent.clientX||e.originalEvent.touches[0].clientX,e.clientY||e.originalEvent.clientY||e.originalEvent.touches[0].clientY]}catch(t){return["x","y"]}},h=function(e){return 0>e?0:e>100?100:e},f=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},g={disabled:"=?",min:"=",max:"=",modelMin:"=?",modelMax:"=?",onHandleDown:"&",onHandleUp:"&",orientation:"@",step:"@",decimalPlaces:"@",filter:"@",filterOptions:"@",showValues:"@",pinHandle:"@",preventEqualMinMax:"@",attachHandleValues:"@",getterSetter:"@"};e&&(g.disabled="=",g.modelMin="=",g.modelMax="=");var m=function(e,t){for(var n=[],r=0;r<e.length;r++)t(e[r])&&n.push(e[r]);return n},v=function(e,t){return angular.element(m(e.find("div"),function(e){return angular.element(e).hasClass(t)}))};return{restrict:"A",replace:!0,template:['<div class="ngrs-range-slider">','<div class="ngrs-runner">','<div class="ngrs-handle ngrs-handle-min"><i></i></div>','<div class="ngrs-handle ngrs-handle-max"><i></i></div>','<div class="ngrs-join"></div>',"</div>",'<div class="ngrs-value-runner">','<div class="ngrs-value ngrs-value-min" ng-show="showValues"><div>{{filteredModelMin}}</div></div>','<div class="ngrs-value ngrs-value-max" ng-show="showValues"><div>{{filteredModelMax}}</div></div>',"</div>","</div>"].join(""),scope:g,link:function(e,a,g){function m(t){return e.getterSetter?arguments.length?e.modelMin(t):e.modelMin():arguments.length?e.modelMin=t:e.modelMin}function y(t){return e.getterSetter?arguments.length?e.modelMax(t):e.modelMax():arguments.length?e.modelMax=t:e.modelMax}function b(e){"min"===e?(angular.element(k[0]).css("display","none"),angular.element(k[1]).css("display","block")):"max"===e?(angular.element(k[0]).css("display","block"),angular.element(k[1]).css("display","none")):(angular.element(k[0]).css("display","block"),angular.element(k[1]).css("display","block"))}function S(e){e?_.addClass("ngrs-disabled"):_.removeClass("ngrs-disabled")}function D(){e.min>e.max&&C("min must be less than or equal to max"),angular.isDefined(e.min)&&angular.isDefined(e.max)&&(f(e.min)||C("min must be a number"),f(e.max)||C("max must be a number"),L=e.max-e.min,E=[e.min,e.max],w())}function w(){if(m()>y()&&(x("modelMin must be less than or equal to modelMax"),m(y())),(angular.isDefined(m())||"min"===e.pinHandle)&&(angular.isDefined(y())||"max"===e.pinHandle)){f(m())||("min"!==e.pinHandle&&x("modelMin must be a number"),m(e.min)),f(y())||("max"!==e.pinHandle&&x("modelMax must be a number"),y(e.max));var t,r,i=h((m()-e.min)/L*100),o=h((y()-e.min)/L*100);if(e.attachHandleValues&&(t=i,r=o),m(Math.max(e.min,m())),y(Math.min(e.max,y())),e.filter&&e.filterOptions)e.filteredModelMin=n(e.filter)(m(),e.filterOptions),e.filteredModelMax=n(e.filter)(y(),e.filterOptions);else if(e.filter){var a,s,l=e.filter.split(":"),u=e.filter.split(":")[0],c=l.slice().slice(1);c=c.map(function(e){return f(e)?+e:'"'==e[0]&&'"'==e[e.length-1]||"'"==e[0]&&"'"==e[e.length-1]?e.slice(1,-1):void 0}),a=c.slice(),s=c.slice(),a.unshift(m()),s.unshift(y()),e.filteredModelMin=n(u).apply(null,a),e.filteredModelMax=n(u).apply(null,s)}else e.filteredModelMin=m(),e.filteredModelMax=y();e.min===e.max&&m()==y()?(angular.element(k[0]).css(F,"0%"),angular.element(k[1]).css(F,"100%"),e.attachHandleValues&&(angular.element(M[0]).css(F,"0%"),angular.element(M[1]).css(F,"100%")),angular.element(T).css(F,"0%").css(O,"0%")):(angular.element(k[0]).css(F,i+"%"),angular.element(k[1]).css(F,o+"%"),e.attachHandleValues&&(angular.element(M[0]).css(F,t+"%"),angular.element(M[1]).css(F,r+"%"),angular.element(M[1]).css(O,"auto")),angular.element(T).css(F,i+"%").css(O,100-o+"%"),i>95&&angular.element(k[0]).css("z-index",3))}}function A(n){var r=k[n];r.bind(s+"X",function(o){var a=(0===n?"ngrs-handle-min":"ngrs-handle-max")+"-down",s=(0===n?m():y())-e.min,c=s/L*100,d=p(o),f=d,g=!1;angular.isFunction(e.onHandleDown)&&e.onHandleDown(),$.bind("selectstart"+i,function(){return!1}),e.disabled||(I=!0,r.addClass("ngrs-down"),_.addClass("ngrs-focus "+a),$.addClass("ngrs-touching"),t.bind(l,function(t){t.preventDefault();var i,o,a=p(t),s=e.step/L*100,l=((0===n?y():m())-e.min)/L*100;"x"!==a[0]&&(a[0]-=d[0],a[1]-=d[1],i=[f[0]!==a[0],f[1]!==a[1]],o=c+100*a[P]/(P?_[0].offsetHeight:_[0].offsetWidth),o=h(o),e.preventEqualMinMax&&(0===s&&(s=1/L*100),0===n?l-=s:1===n&&(l+=s)),0===n?o=o>l?l:o:1===n&&(o=l>o?l:o),e.step>0&&100>o&&o>0&&(o=Math.round(o/s)*s),o>95&&0===n?r.css("z-index",3):r.css("z-index",""),i[P]&&o!=g&&(0===n?m(parseFloat(parseFloat(o*L/100+e.min).toFixed(e.decimalPlaces))):1===n&&y(parseFloat(parseFloat(o*L/100+e.min).toFixed(e.decimalPlaces))),e.$apply(),g=o),f=a)}).bind(u,function(){angular.isFunction(e.onHandleUp)&&e.onHandleUp(),t.off(l),t.off(u),$.removeClass("ngrs-touching"),I=!1,r.removeClass("ngrs-down"),r.removeClass("ngrs-over"),_.removeClass("ngrs-focus "+a)}))}).on(c,function(){r.addClass("ngrs-over")}).on(d,function(){I||r.removeClass("ngrs-over")})}function C(t){throw e.disabled=!0,new Error("RangeSlider: "+t)}function x(e){r.warn(e)}var _=angular.element(a),$=angular.element(t).find("body"),k=[v(a,"ngrs-handle-min"),v(a,"ngrs-handle-max")],M=[v(a,"ngrs-value-min"),v(a,"ngrs-value-max")],T=v(a,"ngrs-join"),F="left",O="right",P=0,E=[0,0],L=0,I=!1;e.filteredModelMin=m(),e.filteredModelMax=y(),g.$observe("disabled",function(t){angular.isDefined(t)||(e.disabled=o.disabled),e.$watch("disabled",S)}),g.$observe("orientation",function(t){angular.isDefined(t)||(e.orientation=o.orientation);for(var n,r=e.orientation.split(" "),i=0,a=r.length;a>i;i++)r[i]="ngrs-"+r[i];n=r.join(" "),_.addClass(n),("vertical"===e.orientation||"vertical left"===e.orientation||"vertical right"===e.orientation)&&(F="top",O="bottom",P=1)}),g.$observe("step",function(t){angular.isDefined(t)||(e.step=o.step)}),g.$observe("decimalPlaces",function(t){angular.isDefined(t)||(e.decimalPlaces=o.decimalPlaces)}),g.$observe("showValues",function(t){e.showValues=angular.isDefined(t)?"false"===t?!1:!0:o.showValues}),g.$observe("pinHandle",function(t){e.pinHandle=angular.isDefined(t)&&("min"===t||"max"===t)?t:null,e.$watch("pinHandle",b)}),g.$observe("preventEqualMinMax",function(t){e.preventEqualMinMax=angular.isDefined(t)?"false"===t?!1:!0:o.preventEqualMinMax}),g.$observe("attachHandleValues",function(t){angular.isDefined(t)?"true"===t||""===t?(e.attachHandleValues=!0,v(a,"ngrs-value-runner").addClass("ngrs-attached-handles")):e.attachHandleValues=!1:e.attachHandleValues=o.attachHandleValues}),e.$watch("min",D),e.$watch("max",D),e.$watch(function(){return m()},w),e.$watch(function(){return y()},w),e.$on("$destroy",function(){_.off(i),$.off(i),t.off(i);for(var e=0,n=k.length;n>e;e++)k[e].off(i),k[e].off(i+"X")}),_.bind("selectstart"+i,function(){return!1}).bind("click",function(e){e.stopPropagation()}),A(0),A(1)}}}]),window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}()}(),n("angular-rangeslider",["angular"],function(){}),angular.module("isoCurrency.common",[]).factory("iso4217",function(){var e={AFN:{text:"Afghani",fraction:2,symbol:""},EUR:{text:"Euro",fraction:2,symbol:""},ALL:{text:"Lek",fraction:2,symbol:"Lek"},DZD:{text:"Algerian Dinar",fraction:2,symbol:"."},USD:{text:"US Dollar",fraction:2,symbol:"$"},AOA:{text:"Kwanza",fraction:2,symbol:"Kz"},XCD:{text:"East Caribbean Dollar",fraction:2,symbol:"$"},ARS:{text:"Argentine Peso",fraction:2,symbol:"$"},AMD:{text:"Armenian Dram",fraction:2,symbol:!1},AWG:{text:"Aruban Florin",fraction:2,symbol:""},AUD:{text:"Australian Dollar",fraction:2,symbol:"$"},AZN:{text:"Azerbaijani Manat",fraction:2,symbol:""},BSD:{text:"Bahamian Dollar",fraction:2,symbol:"$"},BHD:{text:"Bahraini Dinar",fraction:3,symbol:"BD"},BDT:{text:"Taka",fraction:2,symbol:""},BBD:{text:"Barbados Dollar",fraction:2,symbol:"$"},BYR:{text:"Belarusian Ruble",fraction:0,symbol:"p."},BZD:{text:"Belize Dollar",fraction:2,symbol:"BZ$"},XOF:{text:"CFA Franc BCEAO",fraction:0,symbol:"CFA"},BMD:{text:"Bermudian Dollar",fraction:2,symbol:"$"},BTN:{text:"Ngultrum",fraction:2,symbol:"Nu"},INR:{text:"Indian Rupee",fraction:2,symbol:""},BOB:{text:"Boliviano",fraction:2,symbol:"$b"},BOV:{text:"Mvdol",fraction:2,symbol:"$b"},BAM:{text:"Convertible Mark",fraction:2,symbol:"KM"},BWP:{text:"Pula",fraction:2,symbol:"P"},NOK:{text:"Norwegian Krone",fraction:2,symbol:"kr"},BRL:{text:"Brazilian Real",fraction:2,symbol:"R$"},BND:{text:"Brunei Dollar",fraction:2,symbol:"$"},BGN:{text:"Bulgarian Lev",fraction:2,symbol:""},BIF:{text:"Burundian Franc",fraction:0,symbol:"BIF"},KHR:{text:"Riel",fraction:2,symbol:""},XAF:{text:"CFA Franc BEAC",fraction:0,symbol:!1},CAD:{text:"Canadian Dollar",fraction:2,symbol:"$"},CVE:{text:"Cabo Verde Escudo",fraction:2,symbol:"$"},KYD:{text:"Cayman Islands Dollar",fraction:2,symbol:"$"},CLF:{text:"Unidad de Fomento",fraction:4,symbol:!1},CLP:{text:"Chilean Peso",fraction:0,symbol:"$"},CNY:{text:"Yuan Renminbi",fraction:2,symbol:""},COP:{text:"Colombian Peso",fraction:2,symbol:"$"},COU:{text:"Unidad de Valor Real",fraction:2,symbol:!1},KMF:{text:"Comoro Franc",fraction:0,symbol:!1},CDF:{text:"Congolese Franc",fraction:2,symbol:!1},NZD:{text:"New Zealand Dollar",fraction:2,symbol:"$"},CRC:{text:"Costa Rican Colon",fraction:2,symbol:""},HRK:{text:"Croatian Kuna",fraction:2,symbol:"kn"},CUC:{text:"Peso Convertible",fraction:2,symbol:!1},CUP:{text:"Cuban Peso",fraction:2,symbol:""},ANG:{text:"Netherlands Antillean Guilder",fraction:2,symbol:""},CZK:{text:"Czech Koruna",fraction:2,symbol:"K"},DKK:{text:"Danish Krone",fraction:2,symbol:"kr"},DJF:{text:"Djibouti Franc",fraction:0,symbol:!1},DOP:{text:"Dominican Peso",fraction:2,symbol:"RD$"},EGP:{text:"Egyptian Pound",fraction:2,symbol:""},SVC:{text:"El Salvador Colon",fraction:2,symbol:"$"},ERN:{text:"Nakfa",fraction:2,symbol:!1},ETB:{text:"Ethiopian Birr",fraction:2,symbol:!1},FKP:{text:"Falkland Islands Pound",fraction:2,symbol:""},FJD:{text:"Fiji Dollar",fraction:2,symbol:"$"},XPF:{text:"CFP Franc",fraction:0,symbol:!1},GMD:{text:"Dalasi",fraction:2,symbol:!1},GEL:{text:"Lari",fraction:2,symbol:!1},GHS:{text:"Ghan Cedi",fraction:2,symbol:!1},GIP:{text:"Gibraltar Pound",fraction:2,symbol:""},GTQ:{text:"Quetzal",fraction:2,symbol:"Q"},GBP:{text:"Pound Sterling",fraction:2,symbol:""},GNF:{text:"Guinean Franc",fraction:0,symbol:!1},GYD:{text:"Guyanese Dollar",fraction:2,symbol:"$"},HTG:{text:"Gourde",fraction:2,symbol:!1},HNL:{text:"Lempira",fraction:2,symbol:"L"},HKD:{text:"Hong Kong Dollar",fraction:2,symbol:"$"},HUF:{text:"Forint",fraction:2,symbol:"Ft"},ISK:{text:"Iceland Krona",fraction:0,symbol:"kr"},IDR:{text:"Rupiah",fraction:2,symbol:"Rp"},XDR:{text:"SDR (Special Drawing Right)",fraction:0,symbol:!1},IRR:{text:"Iranian Rial",fraction:2,symbol:""},IQD:{text:"Iraqi Dinar",fraction:3,symbol:!1},ILS:{text:"New Israeli Sheqel",fraction:2,symbol:""},JMD:{text:"Jamaican Dollar",fraction:2,symbol:"J$"},JPY:{text:"Yen",fraction:0,symbol:""},JOD:{text:"Jordanian Dinar",fraction:3,symbol:!1},KZT:{text:"Tenge",fraction:2,symbol:""},KES:{text:"Kenyan Shilling",fraction:2,symbol:!1},KPW:{text:"North Korean Won",fraction:2,symbol:""},KRW:{text:"Won",fraction:0,symbol:""},KWD:{text:"Kuwaiti Dinar",fraction:3,symbol:!1},KGS:{text:"Som",fraction:2,symbol:"som"},LAK:{text:"Kip",fraction:2,symbol:""},LBP:{text:"Lebanese Pound",fraction:2,symbol:""},LSL:{text:"Loti",fraction:2,symbol:!1},ZAR:{text:"South African Rand",fraction:2,symbol:"R"},LRD:{text:"Liberian Dollar",fraction:2,symbol:"$"},LYD:{text:"Libyan Dinar",fraction:3,symbol:!1},CHF:{text:"Swiss Franc",fraction:2,symbol:"CHF"},LTL:{text:"Lithuanian Litas",fraction:2,symbol:"Lt"},MOP:{text:"Pataca",fraction:2,symbol:!1},MKD:{text:"Denar",fraction:2,symbol:""},MGA:{text:"Malagasy riary",fraction:2,symbol:!1},MWK:{text:"Kwacha",fraction:2,symbol:!1},MYR:{text:"Malaysian Ringgit",fraction:2,symbol:"RM"},MVR:{text:"Rufiyaa",fraction:2,symbol:!1},MRO:{text:"Ouguiya",fraction:2,symbol:!1},MUR:{text:"Mauritius Rupee",fraction:2,symbol:""},XUA:{text:"ADB Unit of account",fraction:0,symbol:!1},MXN:{text:"Mexican Peso",fraction:2,symbol:"$"},MXV:{text:"Mexican Unidad de Inversion (UDI)",fraction:2,symbol:!1},MDL:{text:"Moldovan Leu",fraction:2,symbol:!1},MNT:{text:"Tugrik",fraction:2,symbol:""},MAD:{text:"Moroccan Dirham",fraction:2,symbol:!1},MZN:{text:"Mozambique Metical",fraction:2,symbol:"MT"},MMK:{text:"Kyat",fraction:2,symbol:!1},NAD:{text:"Namibian Dollar",fraction:2,symbol:"$"},NPR:{text:"Nepalese Rupee",fraction:2,symbol:""},NIO:{text:"Cordob Oro",fraction:2,symbol:"C$"},NGN:{text:"Naira",fraction:2,symbol:""},OMR:{text:"Rial Omani",fraction:3,symbol:""},PKR:{text:"Pakistan Rupee",fraction:2,symbol:""},PAB:{text:"Balboa",fraction:2,symbol:"B/."},PGK:{text:"Kina",fraction:2,symbol:"K"},PYG:{text:"Guarani",fraction:0,symbol:"Gs"},PEN:{text:"Nuevo Sol",fraction:2,symbol:"S/."},PHP:{text:"Philippine Peso",fraction:2,symbol:""},PLN:{text:"Zloty",fraction:2,symbol:"z"},QAR:{text:"Qatari Rial",fraction:2,symbol:""},RON:{text:"New Romanian Leu",fraction:2,symbol:"lei"},RUB:{text:"Russian Ruble",fraction:2,symbol:""},RWF:{text:"Rwandan Franc",fraction:0,symbol:"R"},SHP:{text:"Saint Helena Pound",fraction:2,symbol:""},WST:{text:"Tala",fraction:2,symbol:"$"},STD:{text:"Dobra",fraction:2,symbol:!1},SAR:{text:"Saudi Riyal",fraction:2,symbol:""},RSD:{text:"Serbian Dinar",fraction:2,symbol:"."},SCR:{text:"Seychelles Rupee",fraction:2,symbol:""},SLL:{text:"Leone",fraction:2,symbol:"Le"},SGD:{text:"Singapore Dollar",fraction:2,symbol:"$"},XSU:{text:"Sucre",fraction:0,symbol:!1},SBD:{text:"Solomon Islands Dollar",fraction:2,symbol:"$"},SOS:{text:"Somali Shilling",fraction:2,symbol:"S"},SSP:{text:"South Sudanese Pound",fraction:2,symbol:!1},LKR:{text:"Sri Lankan Rupee",fraction:2,symbol:""},SDG:{text:"Sudanese Pound",fraction:2,symbol:!1},SRD:{text:"Surinam Dollar",fraction:2,symbol:"$"},SZL:{text:"Lilangeni",fraction:2,symbol:!1},SEK:{text:"Swedish Krona",fraction:2,symbol:"kr"},CHE:{text:"WIR Euro",fraction:2,symbol:!1},CHW:{text:"WIR Franc",fraction:2,symbol:!1},SYP:{text:"Syrian Pound",fraction:2,symbol:""},TWD:{text:"New Taiwan Dollar",fraction:2,symbol:"NT$"},TJS:{text:"Somoni",fraction:2,symbol:!1},TZS:{text:"Tanzanian Shilling",fraction:2,symbol:!1},THB:{text:"Baht",fraction:2,symbol:""},TOP:{text:"Paanga",fraction:2,symbol:!1},TTD:{text:"Trinidad and Tobago Dollar",fraction:2,symbol:"TT$"},TND:{text:"Tunisian Dinar",fraction:3,symbol:!1},TRY:{text:"Turkish Lira",fraction:2,symbol:""},TMT:{text:"Turkmenistan New Manat",fraction:2,symbol:!1},UGX:{text:"Ugandan Shilling",fraction:0,symbol:!1},UAH:{text:"Hryvnia",fraction:2,symbol:""},AED:{text:"UAE Dirham",fraction:2,symbol:!1},USN:{text:"US Dollar (Next day)",fraction:2,symbol:!1},UYI:{text:"Uruguay Peso en Unidades Indexadas (URUIURUI)",fraction:0,symbol:!1},UYU:{text:"Peso Uruguayo",fraction:2,symbol:"$U"},UZS:{text:"Uzbekistan Sum",fraction:2,symbol:"som"},VUV:{text:"Vatu",fraction:0,symbol:!1},VEF:{text:"Bolivar",fraction:2,symbol:"Bs"},VND:{text:"Dong",fraction:0,symbol:""},YER:{text:"Yemeni Rial",fraction:2,symbol:""},ZMW:{text:"Zambian Kwacha",fraction:2,symbol:!1},ZWL:{text:"Zimbabwe Dollar",fraction:2,symbol:"$"}};return{getCurrencyByCode:function(t){return t&&"string"==typeof t?e[t.toUpperCase()]:void 0},getCurrencies:function(){return e}}}),angular.module("isoCurrency",["isoCurrency.common"]).filter("isoCurrency",["$filter","iso4217",function(e,t){return function(n,r,i){var o=t.getCurrencyByCode(r);if(!o)return n;var a=void 0===i?o.fraction:i;return e("currency")(n,o.symbol||r+" ",a)}}]),n("angular_iso_currency",["angular"],function(){}),function(e,t){function n(e){return t.lowercase(e.nodeName||e[0]&&e[0].nodeName)}function r(e,n){var r=!1,i=!1;this.ngClickOverrideEnabled=function(o){return t.isDefined(o)?(o&&!i&&(i=!0,a.$$moduleName="ngTouch",n.directive("ngClick",a),e.decorator("ngClickDirective",["$delegate",function(e){if(r)e.shift();else for(var t=e.length-1;t>=0;){if("ngTouch"===e[t].$$moduleName){e.splice(t,1);break}t--}return e}])),r=o,this):r},this.$get=function(){return{ngClickOverrideEnabled:function(){return r}}}}function i(e,n,r){o.directive(e,["$parse","$swipe",function(i,o){var a=75,s=.3,l=30;return function(u,c,d){function p(e){if(!h)return!1;var t=Math.abs(e.y-h.y),r=(e.x-h.x)*n;return f&&a>t&&r>0&&r>l&&s>t/r}var h,f,g=i(d[e]),m=["touch"];t.isDefined(d.ngSwipeDisableMouse)||m.push("mouse"),o.bind(c,{start:function(e){h=e,f=!0},cancel:function(){f=!1},end:function(e,t){p(e)&&u.$apply(function(){c.triggerHandler(r),g(u,{$event:t})})}},m)}}])}var o=t.module("ngTouch",[]);o.info({angularVersion:"1.6.4"}),o.provider("$touch",r),r.$inject=["$provide","$compileProvider"],o.factory("$swipe",[function(){function e(e){var t=e.originalEvent||e,n=t.touches&&t.touches.length?t.touches:[t],r=t.changedTouches&&t.changedTouches[0]||n[0];return{x:r.clientX,y:r.clientY}}function n(e,n){var r=[];return t.forEach(e,function(e){var t=i[e][n];t&&r.push(t)}),r.join(" ")}var r=10,i={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"},pointer:{start:"pointerdown",move:"pointermove",end:"pointerup",cancel:"pointercancel"}};return{bind:function(t,i,o){var a,s,l,u,c=!1;o=o||["mouse","touch","pointer"],t.on(n(o,"start"),function(t){l=e(t),c=!0,a=0,s=0,u=l,i.start&&i.start(l,t)});var d=n(o,"cancel");d&&t.on(d,function(e){c=!1,i.cancel&&i.cancel(e)}),t.on(n(o,"move"),function(t){if(c&&l){var n=e(t);if(a+=Math.abs(n.x-u.x),s+=Math.abs(n.y-u.y),u=n,!(r>a&&r>s))return s>a?(c=!1,void(i.cancel&&i.cancel(t))):(t.preventDefault(),void(i.move&&i.move(n,t)))}}),t.on(n(o,"end"),function(t){c&&(c=!1,i.end&&i.end(e(t),t))})}}}]);var a=["$parse","$timeout","$rootElement",function(e,r,i){function o(e,t,n,r){return Math.abs(e-n)<m&&Math.abs(t-r)<m}function a(e,t,n){for(var r=0;r<e.length;r+=2)if(o(e[r],e[r+1],t,n))return e.splice(r,r+2),!0;return!1}function s(e){if(!(Date.now()-c>g)){var t=e.touches&&e.touches.length?e.touches:[e],r=t[0].clientX,i=t[0].clientY;1>r&&1>i||p&&p[0]===r&&p[1]===i||(p&&(p=null),"label"===n(e.target)&&(p=[r,i]),a(d,r,i)||(e.stopPropagation(),e.preventDefault(),e.target&&e.target.blur&&e.target.blur()))}}function l(e){var t=e.touches&&e.touches.length?e.touches:[e],n=t[0].clientX,i=t[0].clientY;d.push(n,i),r(function(){for(var e=0;e<d.length;e+=2)if(d[e]===n&&d[e+1]===i)return void d.splice(e,e+2)},g,!1)}function u(e,t){d||(i[0].addEventListener("click",s,!0),i[0].addEventListener("touchstart",l,!0),d=[]),c=Date.now(),a(d,e,t)}var c,d,p,h=750,f=12,g=2500,m=25,v="ng-click-active";return function(n,r,i){function o(){p=!1,r.removeClass(v)}var a,s,l,c,d=e(i.ngClick),p=!1;r.on("touchstart",function(e){p=!0,a=e.target?e.target:e.srcElement,3===a.nodeType&&(a=a.parentNode),r.addClass(v),s=Date.now();var t=e.originalEvent||e,n=t.touches&&t.touches.length?t.touches:[t],i=n[0];l=i.clientX,c=i.clientY}),r.on("touchcancel",function(){o()}),r.on("touchend",function(e){var n=Date.now()-s,d=e.originalEvent||e,g=d.changedTouches&&d.changedTouches.length?d.changedTouches:d.touches&&d.touches.length?d.touches:[d],m=g[0],v=m.clientX,y=m.clientY,b=Math.sqrt(Math.pow(v-l,2)+Math.pow(y-c,2));p&&h>n&&f>b&&(u(v,y),a&&a.blur(),t.isDefined(i.disabled)&&i.disabled!==!1||r.triggerHandler("click",[e])),o()}),r.onclick=function(){},r.on("click",function(e,t){n.$apply(function(){d(n,{$event:t||e})})}),r.on("mousedown",function(){r.addClass(v)}),r.on("mousemove mouseup",function(){r.removeClass(v)})}}];i("ngSwipeLeft",-1,"swipeleft"),i("ngSwipeRight",1,"swiperight")}(window,window.angular),n("angular-touch",["angular"],function(){}),function(e,t,n){var r=t.module("nsPopover",[]),i=t.element,o=t.isDefined,a=[],s=0;r.provider("nsPopover",function(){var e={template:"",theme:"ns-popover-list-theme",plain:"false",trigger:"click",triggerPrevent:!0,angularEvent:"",scopeEvent:"",container:"body",placement:"bottom|left",timeout:1.5,hideOnInsideClick:!1,hideOnOutsideClick:!0,hideOnButtonClick:!0,mouseRelative:"",popupDelay:0};this.setDefaults=function(n){t.extend(e,n)},this.$get=function(){return{getDefaults:function(){return e}}}}),r.directive("nsPopover",["nsPopover","$rootScope","$timeout","$templateCache","$q","$http","$compile","$document","$parse",function(r,l,u,c,d,p,h,f,g){return{restrict:"A",scope:!0,link:function(m,v,y){function b(e,t,n,r,i){var o,a,s=D(e[0]),l=function(){return"center"===n?Math.round(r.left+r.width/2-s.width/2):"right"===n?r.right-s.width:r.left},u=function(){return"center"===n?Math.round(r.top+r.height/2-s.height/2):"bottom"===n?r.bottom-s.height:r.top};"top"===t?(o=r.top-s.height,a=l()):"right"===t?(o=u(),a=r.right):"bottom"===t?(o=r.bottom,a=l()):"left"===t&&(o=u(),a=r.left-s.width),e.css("top",o.toString()+"px").css("left",a.toString()+"px"),i&&("top"===t||"bottom"===t?(a=r.left+r.width/2-a,i.css("left",a.toString()+"px")):(o=r.top+r.height/2-o,i.css("top",o.toString()+"px")))}function S(e,t,n,r){var i={bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width};return t&&(i.left=r.pageX,i.right=r.pageX,i.width=0),n&&(i.top=r.pageY,i.bottom=r.pageY,i.height=0),i}function D(t){var n=e,r=document.documentElement||document.body.parentNode||document.body,i=o(n.pageXOffset)?n.pageXOffset:r.scrollLeft,a=o(n.pageYOffset)?n.pageYOffset:r.scrollTop,s=t.getBoundingClientRect();return i||a?{bottom:s.bottom+a,left:s.left+i,right:s.right+i,top:s.top+a,height:s.height,width:s.width}:s}function w(e){if(e&&0!==e.length){var t=(""+e).toLowerCase();e="true"==t}else e=!1;return e}function A(e,n){return e?t.isString(e)&&n?e:c.get(e)||p.get(e,{cache:!0}):""}function C(){L.isOpen&&T.hide(0)}function x(e){function n(e){if(e.id===r)return!0;var i=t.element(e).parent()[0];return i?i.id===r?!0:n(i):!1}if(L.isOpen&&e.target!==v[0]){var r=L[0].id;n(e.target)||T.hide(0)}}function _(){L.isOpen&&T.hide(0)}var $=r.getDefaults(),k={template:y.nsPopoverTemplate||$.template,theme:y.nsPopoverTheme||$.theme,plain:w(y.nsPopoverPlain||$.plain),trigger:y.nsPopoverTrigger||$.trigger,triggerPrevent:y.nsPopoverTriggerPrevent||$.triggerPrevent,angularEvent:y.nsPopoverAngularEvent||$.angularEvent,scopeEvent:y.nsPopoverScopeEvent||$.scopeEvent,container:y.nsPopoverContainer||$.container,placement:y.nsPopoverPlacement||$.placement,timeout:y.nsPopoverTimeout||$.timeout,hideOnInsideClick:w(y.nsPopoverHideOnInsideClick||$.hideOnInsideClick),hideOnOutsideClick:w(y.nsPopoverHideOnOutsideClick||$.hideOnOutsideClick),hideOnButtonClick:w(y.nsPopoverHideOnButtonClick||$.hideOnButtonClick),mouseRelative:y.nsPopoverMouseRelative,popupDelay:y.nsPopoverPopupDelay||$.popupDelay,group:y.nsPopoverGroup};k.mouseRelative&&(k.mouseRelativeX=-1!==k.mouseRelative.indexOf("x"),k.mouseRelativeY=-1!==k.mouseRelative.indexOf("y"));var M={id_:n,display:function(e,t){g(y.nsPopover)(m)!==!1&&(u.cancel(M.id_),o(e)||(e=0),k.group&&l.$broadcast("ns:popover:hide",k.group),M.id_=u(function(){L.isOpen=!0,L.css("display","block");var e=D(v[0]);k.mouseRelative&&(e=S(e,k.mouseRelativeX,k.mouseRelativeY,t)),b(L,P,E,e,O),k.hideOnInsideClick&&L.on("click",C),k.hideOnOutsideClick&&f.on("click",x),k.hideOnButtonClick&&v.on("click",_)},1e3*e))},cancel:function(){u.cancel(M.id_)}},T={id_:n,hide:function(e){u.cancel(T.id_),"-1"!==e&&(o(e)||(e=1.5),T.id_=u(function(){L.off("click",C),f.off("click",x),v.off("click",_),L.isOpen=!1,M.cancel(),L.css("display","none")},1e3*e))},cancel:function(){u.cancel(T.id_)}},F=f.find(k.container);F.length||(F=f.find("body"));var O,P,E;s+=1;var L=i('<div id="nspopover-'+s+'"></div>');a.push(L);var I=k.placement.match(/^(top|bottom|left|right)$|((top|bottom)\|(center|left|right)+)|((left|right)\|(center|top|bottom)+)/);if(!I)throw new Error('"'+k.placement+'" is not a valid placement or has a invalid combination of placements.');P=I[6]||I[3]||I[1],E=I[7]||I[4]||I[2]||"center",d.when(A(k.template,k.plain)).then(function(e){e=t.isString(e)?e:e.data&&t.isString(e.data)?e.data:"",L.html(e),k.theme&&L.addClass(k.theme),L.addClass("ns-popover-"+P+"-placement").addClass("ns-popover-"+E+"-align"),h(L)(m),m.$on("$destroy",function(){L.remove()}),m.hidePopover=function(){T.hide(0)},m.$on("ns:popover:hide",function(e,t){k.group===t&&m.hidePopover()}),L.css("position","absolute").css("display","none"),O=L[0].querySelectorAll(".triangle"),O.length&&(O=i(O)),F.append(L)}),k.angularEvent?l.$on(k.angularEvent,function(){T.cancel(),M.display(k.popupDelay)}):k.scopeEvent?m.$on(k.scopeEvent,function(){T.cancel(),M.display(L,k.popupDelay)}):v.on(k.trigger,function(e){!1!==k.triggerPrevent&&e.preventDefault(),T.cancel(),M.display(k.popupDelay,e)}),v.on("mouseout",function(){T.hide(k.timeout)}).on("mouseover",function(){T.cancel()}),L.on("mouseout",function(){T.hide(k.timeout)}).on("mouseover",function(){T.cancel()})}}}])}(window,window.angular),n("nsPopover",["angular"],function(){}),function(e,t){"function"==typeof n&&n.amd?n("WidgetsFilterPanel",t):"object"==typeof exports?module.exports=t():e.WidgetsFilterPanel=t()}(this,function(){var e,t,n;return function(r){function i(e,t){return D.call(e,t)}function o(e,t){var n,r,i,o,a,s,l,u,c,d,p,h,f=t&&t.split("/"),g=b.map,m=g&&g["*"]||{};if(e){for(e=e.split("/"),a=e.length-1,b.nodeIdCompat&&A.test(e[a])&&(e[a]=e[a].replace(A,"")),"."===e[0].charAt(0)&&f&&(h=f.slice(0,f.length-1),e=h.concat(e)),c=0;c<e.length;c++)if(p=e[c],"."===p)e.splice(c,1),c-=1;else if(".."===p){if(0===c||1===c&&".."===e[2]||".."===e[c-1])continue;c>0&&(e.splice(c-1,2),c-=2)}e=e.join("/")}if((f||m)&&g){for(n=e.split("/"),c=n.length;c>0;c-=1){if(r=n.slice(0,c).join("/"),f)for(d=f.length;d>0;d-=1)if(i=g[f.slice(0,d).join("/")],i&&(i=i[r])){o=i,s=c;break}if(o)break;!l&&m&&m[r]&&(l=m[r],u=c)}!o&&l&&(o=l,s=u),o&&(n.splice(0,s,o),e=n.join("/"))}return e}function a(e,t){return function(){var n=w.call(arguments,0);return"string"!=typeof n[0]&&1===n.length&&n.push(null),f.apply(r,n.concat([e,t]))}}function s(e){return function(t){return o(t,e)}}function l(e){return function(t){v[e]=t}}function u(e){if(i(y,e)){var t=y[e];delete y[e],S[e]=!0,h.apply(r,t)}if(!i(v,e)&&!i(S,e))throw new Error("No "+e);return v[e]}function c(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function d(e){return e?c(e):[]}function p(e){return function(){return b&&b.config&&b.config[e]||{}}}var h,f,g,m,v={},y={},b={},S={},D=Object.prototype.hasOwnProperty,w=[].slice,A=/\.js$/;g=function(e,t){var n,r=c(e),i=r[0],a=t[1];return e=r[1],i&&(i=o(i,a),n=u(i)),i?e=n&&n.normalize?n.normalize(e,s(a)):o(e,a):(e=o(e,a),r=c(e),i=r[0],e=r[1],i&&(n=u(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},m={require:function(e){return a(e)},exports:function(e){var t=v[e];return"undefined"!=typeof t?t:v[e]={}},module:function(e){return{id:e,uri:"",exports:v[e],config:p(e)}}},h=function(e,t,n,o){var s,c,p,h,f,b,D,w=[],A=typeof n;if(o=o||e,b=d(o),"undefined"===A||"function"===A){for(t=!t.length&&n.length?["require","exports","module"]:t,f=0;f<t.length;f+=1)if(h=g(t[f],b),c=h.f,"require"===c)w[f]=m.require(e);else if("exports"===c)w[f]=m.exports(e),D=!0;else if("module"===c)s=w[f]=m.module(e);else if(i(v,c)||i(y,c)||i(S,c))w[f]=u(c);else{if(!h.p)throw new Error(e+" missing "+c);h.p.load(h.n,a(o,!0),l(c),{}),w[f]=v[c]}p=n?n.apply(v[e],w):void 0,e&&(s&&s.exports!==r&&s.exports!==v[e]?v[e]=s.exports:p===r&&D||(v[e]=p))}else e&&(v[e]=n)},e=t=f=function(e,t,n,i,o){if("string"==typeof e)return m[e]?m[e](t):u(g(e,d(t)).f);if(!e.splice){if(b=e,b.deps&&f(b.deps,b.callback),!t)return;t.splice?(e=t,t=n,n=null):e=r}return t=t||function(){},"function"==typeof n&&(n=i,i=o),i?h(r,e,t,n):setTimeout(function(){h(r,e,t,n)},4),f},f.config=function(e){return f(e)},e._defined=v,n=function(e,t,n){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),i(v,e)||i(y,e)||(y[e]=[e,t,n])},n.amd={jQuery:!0}}(),n("../../node_modules/almond/almond",function(){}),n("angular",[],function(){"use strict";return angular}),n("templates.mod",["angular"],function(e){e.module("WidgetsFilterPanel.templates",[]).run(["$templateCache",function(e){e.put("../app/src/filterPanel/filterPanel.tpl.html",'<div class="SDSResponsiveElement panel panel-default" ng-show=isAnyDataToDisplayAvailable()><div class="panel-heading text-center SDS-responsive-panel-heading"><h4 class=panel-title>Filter options</h4></div><div class="panel-body SDS-responsive-panel-body"><ng-transclude></ng-transclude></div><div class="panel-footer text-center"><a href="" ng-click=resetAllFilters()>Reset all filters</a></div></div>'),e.put("../app/src/filterPanel/valuesFilter.tpl.html","<div ng-show=filterInstance.filterInitialized class=SDSValuesFilter><div class=\"panel panel-default\"><div class=\"panel-heading SDS-responsive-panel-heading\"><div ng-click=\"filterContentCollapsed =! filterContentCollapsed\"><span ng-if=filterContentCollapsed class=\"glyphicon glyphicon-collapse-up\"></span> <span ng-if=!filterContentCollapsed class=\"glyphicon glyphicon-collapse-down\"></span> {{::filterInstance.label}}</div></div><div class=\"panel-body SDS-responsive-panel-body\" ng-hide=filterContentCollapsed><div ng-if=\"filterType === 'discrete' || filterType === 'discreteListAllRequired' || filterType === 'discreteListAnyRequired'\"><div class=checkbox ng-repeat=\"i in filterInstance.selectableValues\"><label class=SDSDiscreteFilterValueLabel for={{filterPanelId}}_{{::filterInstance.filterablePropertyName}}_{{i.propertyValue}}><input type=checkbox id={{filterPanelId}}_{{::filterInstance.filterablePropertyName}}_{{i.propertyValue}} checked ng-model=i.permitted ng-change=permittedValuesChanged()> <span>{{i.propertyValue | applyFilter:valuesDisplayFilter:valuesDisplayFilterOptions}} ({{i.count}})</span> <span class=pull-right ng-hide=hidePriceFrom>{{i.minPrice | applyFilter:currencyFilter:i.currency:0}}</span></label></div></div><div ng-if=\"filterType === 'boolean'\"><div class=checkbox><label for={{filterPanelId}}_{{::filterInstance.filterablePropertyName}}><input type=checkbox id={{filterPanelId}}_{{::filterInstance.filterablePropertyName}} ng-checked=filterInstance.isRequired ng-model=filterInstance.isRequired ng-change=permittedValuesChanged()> {{::filterInstance.label}}</label></div></div><div ng-if=\"filterType === 'range' || filterType === 'rangeDateTime' || filterType === 'rangeMonetaryAmount'\" class=SDSRangeFilter><span class=top-left><span ng-if=\"filterType === 'range' || filterType === 'rangeDateTime'\">{{filterInstance.minConstraint | applyFilter:valuesDisplayFilter:valuesDisplayFilterOptions}} </span><span ng-if=\"filterType === 'rangeMonetaryAmount'\">{{filterInstance.minConstraint.amount | applyFilter:currencyFilter:filterInstance.minConstraint.currency}} </span></span><span class=pull-right><span ng-if=\"filterType === 'range' || filterType === 'rangeDateTime'\">{{filterInstance.maxConstraint | applyFilter:valuesDisplayFilter:valuesDisplayFilterOptions}} </span><span ng-if=\"filterType === 'rangeMonetaryAmount'\">{{filterInstance.maxConstraint.amount | applyFilter:currencyFilter:filterInstance.maxConstraint.currency}}</span></span><div ng-if=\"filterType === 'range' || filterType === 'rangeDateTime'\" id={{filterPanelId}}_{{::filterInstance.filterablePropertyName}} range-slider min=filterInstance.minConstraint max=filterInstance.maxConstraint model-min=filterInstance.min model-max=filterInstance.max prevent-equal-min-max=true show-values=true attach-handle-values=true ng-attr-pin-handle=\"{{canFilterOnlyOnMaxValue && 'min' || canFilterOnlyOnMinValue && 'max' || undefined}}\" filter={{valuesDisplayFilter}} filter-options={{valuesDisplayFilterOptions}} on-handle-up=permittedValuesChanged()></div><div ng-if=\"filterType === 'rangeMonetaryAmount'\" id={{filterPanelId}}_{{::filterInstance.filterablePropertyName}} range-slider min=filterInstance.minConstraint.amount max=filterInstance.maxConstraint.amount model-min=filterInstance.min.amount model-max=filterInstance.max.amount prevent-equal-min-max=true show-values=true attach-handle-values=true ng-attr-pin-handle=\"{{canFilterOnlyOnMaxValue && 'min' || canFilterOnlyOnMinValue && 'max' || undefined}}\" filter={{currencyFilter}} filter-options={{filterInstance.minConstraint.currency}} decimal-places=2 on-handle-up=permittedValuesChanged()></div></div></div></div></div>")
}])}),function(){var e=1===angular.version.major&&0===angular.version.minor;angular.module("ui-rangeSlider",[]).directive("rangeSlider",["$document","$filter","$log",function(t,n,r){var i=".rangeSlider",o={disabled:!1,orientation:"horizontal",step:0,decimalPlaces:0,showValues:!0,preventEqualMinMax:!1,attachHandleValues:!1},a=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup",over:"pointerdown",out:"mouseout"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp",over:"MSPointerDown",out:"mouseout"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend",over:"mouseover touchstart",out:"mouseout"},s=a.start+i,l=a.move+i,u=a.end+i,c=a.over+i,d=a.out+i,p=function(e){try{return[e.clientX||e.originalEvent.clientX||e.originalEvent.touches[0].clientX,e.clientY||e.originalEvent.clientY||e.originalEvent.touches[0].clientY]}catch(t){return["x","y"]}},h=function(e){return 0>e?0:e>100?100:e},f=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},g={disabled:"=?",min:"=",max:"=",modelMin:"=?",modelMax:"=?",onHandleDown:"&",onHandleUp:"&",orientation:"@",step:"@",decimalPlaces:"@",filter:"@",filterOptions:"@",showValues:"@",pinHandle:"@",preventEqualMinMax:"@",attachHandleValues:"@",getterSetter:"@"};e&&(g.disabled="=",g.modelMin="=",g.modelMax="=");var m=function(e,t){for(var n=[],r=0;r<e.length;r++)t(e[r])&&n.push(e[r]);return n},v=function(e,t){return angular.element(m(e.find("div"),function(e){return angular.element(e).hasClass(t)}))};return{restrict:"A",replace:!0,template:['<div class="ngrs-range-slider">','<div class="ngrs-runner">','<div class="ngrs-handle ngrs-handle-min"><i></i></div>','<div class="ngrs-handle ngrs-handle-max"><i></i></div>','<div class="ngrs-join"></div>',"</div>",'<div class="ngrs-value-runner">','<div class="ngrs-value ngrs-value-min" ng-show="showValues"><div>{{filteredModelMin}}</div></div>','<div class="ngrs-value ngrs-value-max" ng-show="showValues"><div>{{filteredModelMax}}</div></div>',"</div>","</div>"].join(""),scope:g,link:function(e,a,g){function m(t){return e.getterSetter?arguments.length?e.modelMin(t):e.modelMin():arguments.length?e.modelMin=t:e.modelMin}function y(t){return e.getterSetter?arguments.length?e.modelMax(t):e.modelMax():arguments.length?e.modelMax=t:e.modelMax}function b(e){"min"===e?(angular.element(k[0]).css("display","none"),angular.element(k[1]).css("display","block")):"max"===e?(angular.element(k[0]).css("display","block"),angular.element(k[1]).css("display","none")):(angular.element(k[0]).css("display","block"),angular.element(k[1]).css("display","block"))}function S(e){e?_.addClass("ngrs-disabled"):_.removeClass("ngrs-disabled")}function D(){e.min>e.max&&C("min must be less than or equal to max"),angular.isDefined(e.min)&&angular.isDefined(e.max)&&(f(e.min)||C("min must be a number"),f(e.max)||C("max must be a number"),L=e.max-e.min,E=[e.min,e.max],w())}function w(){if(m()>y()&&(x("modelMin must be less than or equal to modelMax"),m(y())),(angular.isDefined(m())||"min"===e.pinHandle)&&(angular.isDefined(y())||"max"===e.pinHandle)){f(m())||("min"!==e.pinHandle&&x("modelMin must be a number"),m(e.min)),f(y())||("max"!==e.pinHandle&&x("modelMax must be a number"),y(e.max));var t,r,i=h((m()-e.min)/L*100),o=h((y()-e.min)/L*100);if(e.attachHandleValues&&(t=i,r=o),m(Math.max(e.min,m())),y(Math.min(e.max,y())),e.filter&&e.filterOptions)e.filteredModelMin=n(e.filter)(m(),e.filterOptions),e.filteredModelMax=n(e.filter)(y(),e.filterOptions);else if(e.filter){var a,s,l=e.filter.split(":"),u=e.filter.split(":")[0],c=l.slice().slice(1);c=c.map(function(e){return f(e)?+e:'"'==e[0]&&'"'==e[e.length-1]||"'"==e[0]&&"'"==e[e.length-1]?e.slice(1,-1):void 0}),a=c.slice(),s=c.slice(),a.unshift(m()),s.unshift(y()),e.filteredModelMin=n(u).apply(null,a),e.filteredModelMax=n(u).apply(null,s)}else e.filteredModelMin=m(),e.filteredModelMax=y();e.min===e.max&&m()==y()?(angular.element(k[0]).css(F,"0%"),angular.element(k[1]).css(F,"100%"),e.attachHandleValues&&(angular.element(M[0]).css(F,"0%"),angular.element(M[1]).css(F,"100%")),angular.element(T).css(F,"0%").css(O,"0%")):(angular.element(k[0]).css(F,i+"%"),angular.element(k[1]).css(F,o+"%"),e.attachHandleValues&&(angular.element(M[0]).css(F,t+"%"),angular.element(M[1]).css(F,r+"%"),angular.element(M[1]).css(O,"auto")),angular.element(T).css(F,i+"%").css(O,100-o+"%"),i>95&&angular.element(k[0]).css("z-index",3))}}function A(n){var r=k[n];r.bind(s+"X",function(o){var a=(0===n?"ngrs-handle-min":"ngrs-handle-max")+"-down",s=(0===n?m():y())-e.min,c=s/L*100,d=p(o),f=d,g=!1;angular.isFunction(e.onHandleDown)&&e.onHandleDown(),$.bind("selectstart"+i,function(){return!1}),e.disabled||(I=!0,r.addClass("ngrs-down"),_.addClass("ngrs-focus "+a),$.addClass("ngrs-touching"),t.bind(l,function(t){t.preventDefault();var i,o,a=p(t),s=e.step/L*100,l=((0===n?y():m())-e.min)/L*100;"x"!==a[0]&&(a[0]-=d[0],a[1]-=d[1],i=[f[0]!==a[0],f[1]!==a[1]],o=c+100*a[P]/(P?_[0].offsetHeight:_[0].offsetWidth),o=h(o),e.preventEqualMinMax&&(0===s&&(s=1/L*100),0===n?l-=s:1===n&&(l+=s)),0===n?o=o>l?l:o:1===n&&(o=l>o?l:o),e.step>0&&100>o&&o>0&&(o=Math.round(o/s)*s),o>95&&0===n?r.css("z-index",3):r.css("z-index",""),i[P]&&o!=g&&(0===n?m(parseFloat(parseFloat(o*L/100+e.min).toFixed(e.decimalPlaces))):1===n&&y(parseFloat(parseFloat(o*L/100+e.min).toFixed(e.decimalPlaces))),e.$apply(),g=o),f=a)}).bind(u,function(){angular.isFunction(e.onHandleUp)&&e.onHandleUp(),t.off(l),t.off(u),$.removeClass("ngrs-touching"),I=!1,r.removeClass("ngrs-down"),r.removeClass("ngrs-over"),_.removeClass("ngrs-focus "+a)}))}).on(c,function(){r.addClass("ngrs-over")}).on(d,function(){I||r.removeClass("ngrs-over")})}function C(t){throw e.disabled=!0,new Error("RangeSlider: "+t)}function x(e){r.warn(e)}var _=angular.element(a),$=angular.element(t).find("body"),k=[v(a,"ngrs-handle-min"),v(a,"ngrs-handle-max")],M=[v(a,"ngrs-value-min"),v(a,"ngrs-value-max")],T=v(a,"ngrs-join"),F="left",O="right",P=0,E=[0,0],L=0,I=!1;e.filteredModelMin=m(),e.filteredModelMax=y(),g.$observe("disabled",function(t){angular.isDefined(t)||(e.disabled=o.disabled),e.$watch("disabled",S)}),g.$observe("orientation",function(t){angular.isDefined(t)||(e.orientation=o.orientation);for(var n,r=e.orientation.split(" "),i=0,a=r.length;a>i;i++)r[i]="ngrs-"+r[i];n=r.join(" "),_.addClass(n),("vertical"===e.orientation||"vertical left"===e.orientation||"vertical right"===e.orientation)&&(F="top",O="bottom",P=1)}),g.$observe("step",function(t){angular.isDefined(t)||(e.step=o.step)}),g.$observe("decimalPlaces",function(t){angular.isDefined(t)||(e.decimalPlaces=o.decimalPlaces)}),g.$observe("showValues",function(t){e.showValues=angular.isDefined(t)?"false"===t?!1:!0:o.showValues}),g.$observe("pinHandle",function(t){e.pinHandle=angular.isDefined(t)&&("min"===t||"max"===t)?t:null,e.$watch("pinHandle",b)}),g.$observe("preventEqualMinMax",function(t){e.preventEqualMinMax=angular.isDefined(t)?"false"===t?!1:!0:o.preventEqualMinMax}),g.$observe("attachHandleValues",function(t){angular.isDefined(t)?"true"===t||""===t?(e.attachHandleValues=!0,v(a,"ngrs-value-runner").addClass("ngrs-attached-handles")):e.attachHandleValues=!1:e.attachHandleValues=o.attachHandleValues}),e.$watch("min",D),e.$watch("max",D),e.$watch(function(){return m()},w),e.$watch(function(){return y()},w),e.$on("$destroy",function(){_.off(i),$.off(i),t.off(i);for(var e=0,n=k.length;n>e;e++)k[e].off(i),k[e].off(i+"X")}),_.bind("selectstart"+i,function(){return!1}).bind("click",function(e){e.stopPropagation()}),A(0),A(1)}}}]),window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}()}(),n("angular_rangeslider",["angular"],function(){}),function(){function e(e,t){return e.set(t[0],t[1]),e}function t(e,t){return e.add(t),e}function r(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function i(e,t,n,r){for(var i=-1,o=e?e.length:0;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function o(e,t){for(var n=-1,r=e?e.length:0;++n<r&&t(e[n],n,e)!==!1;);return e}function a(e,t){for(var n=e?e.length:0;n--&&t(e[n],n,e)!==!1;);return e}function s(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(!t(e[n],n,e))return!1;return!0}function l(e,t){for(var n=-1,r=e?e.length:0,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function u(e,t){var n=e?e.length:0;return!!n&&y(e,t,0)>-1}function c(e,t,n){for(var r=-1,i=e?e.length:0;++r<i;)if(n(t,e[r]))return!0;return!1}function d(e,t){for(var n=-1,r=e?e.length:0,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function p(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function h(e,t,n,r){var i=-1,o=e?e.length:0;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function f(e,t,n,r){var i=e?e.length:0;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function g(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(t(e[n],n,e))return!0;return!1}function m(e,t,n){var r;return n(e,function(e,n,i){return t(e,n,i)?(r=n,!1):void 0}),r}function v(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function y(e,t,n){if(t!==t)return v(e,S,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function b(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function S(e){return e!==e}function D(e,t){var n=e?e.length:0;return n?_(e,t)/n:Dt}function w(e){return function(t){return null==t?H:t[e]}}function A(e){return function(t){return null==e?H:e[t]}}function C(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function x(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function _(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);o!==H&&(n=n===H?o:n+o)}return n}function $(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function k(e,t){return d(t,function(t){return[t,e[t]]})}function M(e){return function(t){return e(t)}}function T(e,t){return d(t,function(t){return e[t]})}function F(e,t){return e.has(t)}function O(e,t){for(var n=-1,r=e.length;++n<r&&y(t,e[n],0)>-1;);return n}function P(e,t){for(var n=e.length;n--&&y(t,e[n],0)>-1;);return n}function E(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&r++;return r}function L(e){return"\\"+Or[e]}function I(e,t){return null==e?H:e[t]}function R(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function N(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function W(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function B(e,t){return function(n){return e(t(n))}}function U(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];(a===t||a===J)&&(e[n]=J,o[i++]=n)}return o}function G(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function q(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function j(e){if(!e||!Ar.test(e))return e.length;for(var t=Dr.lastIndex=0;Dr.test(e);)t++;return t}function z(e){return e.match(Dr)}function K(n){function A(e){if(Rl(e)&&!Bp(e)&&!(e instanceof Nn)){if(e instanceof Rn)return e;if(zc.call(e,"__wrapped__"))return Pa(e)}return new Rn(e)}function In(){}function Rn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=H}function Nn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=wt,this.__views__=[]}function Wn(){var e=new Nn(this.__wrapped__);return e.__actions__=xo(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=xo(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=xo(this.__views__),e}function Bn(){if(this.__filtered__){var e=new Nn(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Un(){var e=this.__wrapped__.value(),t=this.__dir__,n=Bp(e),r=0>t,i=n?e.length:0,o=la(0,i,this.__views__),a=o.start,s=o.end,l=s-a,u=r?s:a-1,c=this.__iteratees__,d=c.length,p=0,h=vd(l,this.__takeCount__);if(!n||Y>i||i==l&&h==l)return oo(e,this.__actions__);var f=[];e:for(;l--&&h>p;){u+=t;for(var g=-1,m=e[u];++g<d;){var v=c[g],y=v.iteratee,b=v.type,S=y(m);if(b==mt)m=S;else if(!S){if(b==gt)continue e;break e}}f[p++]=m}return f}function Gn(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function qn(){this.__data__=kd?kd(null):{}}function jn(e){return this.has(e)&&delete this.__data__[e]}function zn(e){var t=this.__data__;if(kd){var n=t[e];return n===Z?H:n}return zc.call(t,e)?t[e]:H}function Kn(e){var t=this.__data__;return kd?t[e]!==H:zc.call(t,e)}function Hn(e,t){var n=this.__data__;return n[e]=kd&&t===H?Z:t,this}function Vn(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Yn(){this.__data__=[]}function Qn(e){var t=this.__data__,n=Dr(t,e);if(0>n)return!1;var r=t.length-1;return n==r?t.pop():id.call(t,n,1),!0}function Zn(e){var t=this.__data__,n=Dr(t,e);return 0>n?H:t[n][1]}function Jn(e){return Dr(this.__data__,e)>-1}function Xn(e,t){var n=this.__data__,r=Dr(n,e);return 0>r?n.push([e,t]):n[r][1]=t,this}function er(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function tr(){this.__data__={hash:new Gn,map:new(Cd||Vn),string:new Gn}}function nr(e){return oa(this,e).delete(e)}function rr(e){return oa(this,e).get(e)}function ir(e){return oa(this,e).has(e)}function or(e,t){return oa(this,e).set(e,t),this}function ar(e){var t=-1,n=e?e.length:0;for(this.__data__=new er;++t<n;)this.add(e[t])}function sr(e){return this.__data__.set(e,Z),this}function lr(e){return this.__data__.has(e)}function ur(e){this.__data__=new Vn(e)}function cr(){this.__data__=new Vn}function dr(e){return this.__data__.delete(e)}function pr(e){return this.__data__.get(e)}function hr(e){return this.__data__.has(e)}function fr(e,t){var n=this.__data__;if(n instanceof Vn){var r=n.__data__;if(!Cd||r.length<Y-1)return r.push([e,t]),this;n=this.__data__=new er(r)}return n.set(e,t),this}function gr(e,t){var n=Bp(e)||Hl(e)||Al(e)?$(e.length,String):[],r=n.length,i=!!r;for(var o in e)!t&&!zc.call(e,o)||i&&("length"==o||ma(o,r))||n.push(o);return n}function mr(e,t,n,r){return e===H||wl(e,Bc[n])&&!zc.call(r,n)?t:e}function vr(e,t,n){(n!==H&&!wl(e[t],n)||"number"==typeof t&&n===H&&!(t in e))&&(e[t]=n)}function yr(e,t,n){var r=e[t];zc.call(e,t)&&wl(r,n)&&(n!==H||t in e)||(e[t]=n)}function Dr(e,t){for(var n=e.length;n--;)if(wl(e[n][0],t))return n;return-1}function Mr(e,t,n,r){return Ud(e,function(e,i,o){t(r,e,n(e),o)}),r}function Tr(e,t){return e&&_o(t,yu(t),e)}function Fr(e,t){for(var n=-1,r=null==e,i=t.length,o=Ec(i);++n<i;)o[n]=r?H:gu(e,t[n]);return o}function Or(e,t,n){return e===e&&(n!==H&&(e=n>=e?e:n),t!==H&&(e=e>=t?e:t)),e}function Lr(e,t,n,r,i,a,s){var l;if(r&&(l=a?r(e,i,a,s):r(e)),l!==H)return l;if(!Il(e))return e;var u=Bp(e);if(u){if(l=da(e),!t)return xo(e,l)}else{var c=Zd(e),d=c==Ft||c==Ot;if(Gp(e))return ho(e,t);if(c==Lt||c==_t||d&&!a){if(R(e))return a?e:{};if(l=pa(d?{}:e),!t)return $o(e,Tr(l,e))}else{if(!kr[c])return a?e:{};l=ha(e,c,Lr,t)}}s||(s=new ur);var p=s.get(e);if(p)return p;if(s.set(e,l),!u)var h=n?ea(e):yu(e);return o(h||e,function(i,o){h&&(o=i,i=e[o]),yr(l,o,Lr(i,t,n,r,o,e,s))}),l}function Ir(e){var t=yu(e);return function(n){return Nr(n,e,t)}}function Nr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Object(e);r--;){var i=n[r],o=t[i],a=e[i];if(a===H&&!(i in e)||!o(a))return!1}return!0}function Wr(e){return Il(e)?nd(e):{}}function Ur(e,t,n){if("function"!=typeof e)throw new Nc(Q);return ep(function(){e.apply(H,n)},t)}function Gr(e,t,n,r){var i=-1,o=u,a=!0,s=e.length,l=[],p=t.length;if(!s)return l;n&&(t=d(t,M(n))),r?(o=c,a=!1):t.length>=Y&&(o=F,a=!1,t=new ar(t));e:for(;++i<s;){var h=e[i],f=n?n(h):h;if(h=r||0!==h?h:0,a&&f===f){for(var g=p;g--;)if(t[g]===f)continue e;l.push(h)}else o(t,f,r)||l.push(h)}return l}function Xr(e,t){var n=!0;return Ud(e,function(e,r,i){return n=!!t(e,r,i)}),n}function ei(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(s===H?a===a&&!Vl(a):n(a,s)))var s=a,l=o}return l}function ti(e,t,n,r){var i=e.length;for(n=eu(n),0>n&&(n=-n>i?0:i+n),r=r===H||r>i?i:eu(r),0>r&&(r+=i),r=n>r?0:tu(r);r>n;)e[n++]=t;return e}function ni(e,t){var n=[];return Ud(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function ri(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=ga),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?ri(s,t-1,n,r,i):p(i,s):r||(i[i.length]=s)}return i}function ii(e,t){return e&&qd(e,t,yu)}function oi(e,t){return e&&jd(e,t,yu)}function ai(e,t){return l(t,function(t){return Pl(e[t])})}function si(e,t){t=ya(t,e)?[t]:co(t);for(var n=0,r=t.length;null!=e&&r>n;)e=e[Ta(t[n++])];return n&&n==r?e:H}function li(e,t,n){var r=t(e);return Bp(e)?r:p(r,n(e))}function ui(e){return Vc.call(e)}function ci(e,t){return e>t}function di(e,t){return null!=e&&zc.call(e,t)}function pi(e,t){return null!=e&&t in Object(e)}function hi(e,t,n){return e>=vd(t,n)&&e<md(t,n)}function fi(e,t,n){for(var r=n?c:u,i=e[0].length,o=e.length,a=o,s=Ec(o),l=1/0,p=[];a--;){var h=e[a];a&&t&&(h=d(h,M(t))),l=vd(h.length,l),s[a]=!n&&(t||i>=120&&h.length>=120)?new ar(a&&h):H}h=e[0];var f=-1,g=s[0];e:for(;++f<i&&p.length<l;){var m=h[f],v=t?t(m):m;if(m=n||0!==m?m:0,!(g?F(g,v):r(p,v,n))){for(a=o;--a;){var y=s[a];if(!(y?F(y,v):r(e[a],v,n)))continue e}g&&g.push(v),p.push(m)}}return p}function gi(e,t,n,r){return ii(e,function(e,i,o){t(r,n(e),i,o)}),r}function mi(e,t,n){ya(t,e)||(t=co(t),e=ka(e,t),t=Ja(t));var i=null==e?e:e[Ta(t)];return null==i?H:r(i,e,n)}function vi(e){return Rl(e)&&Vc.call(e)==qt}function yi(e){return Rl(e)&&Vc.call(e)==Mt}function bi(e,t,n,r,i){return e===t?!0:null==e||null==t||!Il(e)&&!Rl(t)?e!==e&&t!==t:Si(e,t,bi,n,r,i)}function Si(e,t,n,r,i,o){var a=Bp(e),s=Bp(t),l=$t,u=$t;a||(l=Zd(e),l=l==_t?Lt:l),s||(u=Zd(t),u=u==_t?Lt:u);var c=l==Lt&&!R(e),d=u==Lt&&!R(t),p=l==u;if(p&&!c)return o||(o=new ur),a||Hp(e)?Zo(e,t,n,r,i,o):Jo(e,t,l,n,r,i,o);if(!(i&ct)){var h=c&&zc.call(e,"__wrapped__"),f=d&&zc.call(t,"__wrapped__");if(h||f){var g=h?e.value():e,m=f?t.value():t;return o||(o=new ur),n(g,m,r,i,o)}}return p?(o||(o=new ur),Xo(e,t,n,r,i,o)):!1}function Di(e){return Rl(e)&&Zd(e)==Pt}function wi(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){s=n[i];var l=s[0],u=e[l],c=s[1];if(a&&s[2]){if(u===H&&!(l in e))return!1}else{var d=new ur;if(r)var p=r(u,c,l,e,t,d);if(!(p===H?bi(c,u,r,ut|ct,d):p))return!1}}return!0}function Ai(e){if(!Il(e)||Da(e))return!1;var t=Pl(e)||R(e)?Qc:Tn;return t.test(Fa(e))}function Ci(e){return Il(e)&&Vc.call(e)==Rt}function xi(e){return Rl(e)&&Zd(e)==Nt}function _i(e){return Rl(e)&&Ll(e.length)&&!!$r[Vc.call(e)]}function $i(e){return"function"==typeof e?e:null==e?lc:"object"==typeof e?Bp(e)?Pi(e[0],e[1]):Oi(e):mc(e)}function ki(e){if(!wa(e))return gd(e);var t=[];for(var n in Object(e))zc.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Mi(e){if(!Il(e))return $a(e);var t=wa(e),n=[];for(var r in e)("constructor"!=r||!t&&zc.call(e,r))&&n.push(r);return n}function Ti(e,t){return t>e}function Fi(e,t){var n=-1,r=Cl(e)?Ec(e.length):[];return Ud(e,function(e,i,o){r[++n]=t(e,i,o)}),r}function Oi(e){var t=aa(e);return 1==t.length&&t[0][2]?Ca(t[0][0],t[0][1]):function(n){return n===e||wi(n,e,t)}}function Pi(e,t){return ya(e)&&Aa(t)?Ca(Ta(e),t):function(n){var r=gu(n,e);return r===H&&r===t?vu(n,e):bi(t,r,H,ut|ct)}}function Ei(e,t,n,r,i){if(e!==t){if(!Bp(t)&&!Hp(t))var a=Mi(t);o(a||t,function(o,s){if(a&&(s=o,o=t[s]),Il(o))i||(i=new ur),Li(e,t,s,n,Ei,r,i);else{var l=r?r(e[s],o,s+"",e,t,i):H;l===H&&(l=o),vr(e,s,l)}})}}function Li(e,t,n,r,i,o,a){var s=e[n],l=t[n],u=a.get(l);if(u)return void vr(e,n,u);var c=o?o(s,l,n+"",e,t,a):H,d=c===H;d&&(c=l,Bp(l)||Hp(l)?Bp(s)?c=s:xl(s)?c=xo(s):(d=!1,c=Lr(l,!0)):zl(l)||Al(l)?Al(s)?c=ru(s):!Il(s)||r&&Pl(s)?(d=!1,c=Lr(l,!0)):c=s:d=!1),d&&(a.set(l,c),i(c,l,r,o,a),a.delete(l)),vr(e,n,c)}function Ii(e,t){var n=e.length;if(n)return t+=0>t?n:0,ma(t,n)?e[t]:H}function Ri(e,t,n){var r=-1;t=d(t.length?t:[lc],M(ia()));var i=Fi(e,function(e){var n=d(t,function(t){return t(e)});return{criteria:n,index:++r,value:e}});return x(i,function(e,t){return wo(e,t,n)})}function Ni(e,t){return e=Object(e),Wi(e,t,function(t,n){return n in e})}function Wi(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=e[a];n(s,a)&&(o[a]=s)}return o}function Bi(e){return function(t){return si(t,e)}}function Ui(e,t,n,r){var i=r?b:y,o=-1,a=t.length,s=e;for(e===t&&(t=xo(t)),n&&(s=d(e,M(n)));++o<a;)for(var l=0,u=t[o],c=n?n(u):u;(l=i(s,c,l,r))>-1;)s!==e&&id.call(s,l,1),id.call(e,l,1);return e}function Gi(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;if(ma(i))id.call(e,i,1);else if(ya(i,e))delete e[Ta(i)];else{var a=co(i),s=ka(e,a);null!=s&&delete s[Ta(Ja(a))]}}}return e}function qi(e,t){return e+cd(bd()*(t-e+1))}function ji(e,t,n,r){for(var i=-1,o=md(ud((t-e)/(n||1)),0),a=Ec(o);o--;)a[r?o:++i]=e,e+=n;return a}function zi(e,t){var n="";if(!e||1>t||t>bt)return n;do t%2&&(n+=e),t=cd(t/2),t&&(e+=e);while(t);return n}function Ki(e,t){return t=md(t===H?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=md(n.length-t,0),a=Ec(o);++i<o;)a[i]=n[t+i];i=-1;for(var s=Ec(t+1);++i<t;)s[i]=n[i];return s[t]=a,r(e,this,s)}}function Hi(e,t,n,r){if(!Il(e))return e;t=ya(t,e)?[t]:co(t);for(var i=-1,o=t.length,a=o-1,s=e;null!=s&&++i<o;){var l=Ta(t[i]),u=n;if(i!=a){var c=s[l];u=r?r(c,l,s):H,u===H&&(u=Il(c)?c:ma(t[i+1])?[]:{})}yr(s,l,u),s=s[l]}return e}function Vi(e,t,n){var r=-1,i=e.length;0>t&&(t=-t>i?0:i+t),n=n>i?i:n,0>n&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Ec(i);++r<i;)o[r]=e[r+t];return o}function Yi(e,t){var n;return Ud(e,function(e,r,i){return n=t(e,r,i),!n}),!!n}function Qi(e,t,n){var r=0,i=e?e.length:r;if("number"==typeof t&&t===t&&Ct>=i){for(;i>r;){var o=r+i>>>1,a=e[o];null!==a&&!Vl(a)&&(n?t>=a:t>a)?r=o+1:i=o}return i}return Zi(e,t,lc,n)}function Zi(e,t,n,r){t=n(t);for(var i=0,o=e?e.length:0,a=t!==t,s=null===t,l=Vl(t),u=t===H;o>i;){var c=cd((i+o)/2),d=n(e[c]),p=d!==H,h=null===d,f=d===d,g=Vl(d);if(a)var m=r||f;else m=u?f&&(r||p):s?f&&p&&(r||!h):l?f&&p&&!h&&(r||!g):h||g?!1:r?t>=d:t>d;m?i=c+1:o=c}return vd(o,At)}function Ji(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!wl(s,l)){var l=s;o[i++]=0===a?0:a}}return o}function Xi(e){return"number"==typeof e?e:Vl(e)?Dt:+e}function eo(e){if("string"==typeof e)return e;if(Vl(e))return Bd?Bd.call(e):"";var t=e+"";return"0"==t&&1/e==-yt?"-0":t}function to(e,t,n){var r=-1,i=u,o=e.length,a=!0,s=[],l=s;if(n)a=!1,i=c;else if(o>=Y){var d=t?null:Hd(e);if(d)return G(d);a=!1,i=F,l=new ar}else l=t?[]:s;e:for(;++r<o;){var p=e[r],h=t?t(p):p;if(p=n||0!==p?p:0,a&&h===h){for(var f=l.length;f--;)if(l[f]===h)continue e;t&&l.push(h),s.push(p)}else i(l,h,n)||(l!==s&&l.push(h),s.push(p))}return s}function no(e,t){t=ya(t,e)?[t]:co(t),e=ka(e,t);var n=Ta(Ja(t));return!(null!=e&&zc.call(e,n))||delete e[n]}function ro(e,t,n,r){return Hi(e,t,n(si(e,t)),r)}function io(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Vi(e,r?0:o,r?o+1:i):Vi(e,r?o+1:0,r?i:o)}function oo(e,t){var n=e;return n instanceof Nn&&(n=n.value()),h(t,function(e,t){return t.func.apply(t.thisArg,p([e],t.args))},n)}function ao(e,t,n){for(var r=-1,i=e.length;++r<i;)var o=o?p(Gr(o,e[r],t,n),Gr(e[r],o,t,n)):e[r];return o&&o.length?to(o,t,n):[]}function so(e,t,n){for(var r=-1,i=e.length,o=t.length,a={};++r<i;){var s=o>r?t[r]:H;n(a,e[r],s)}return a}function lo(e){return xl(e)?e:[]}function uo(e){return"function"==typeof e?e:lc}function co(e){return Bp(e)?e:np(e)}function po(e,t,n){var r=e.length;return n=n===H?r:n,!t&&n>=r?e:Vi(e,t,n)}function ho(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}function fo(e){var t=new e.constructor(e.byteLength);return new Xc(t).set(new Xc(e)),t}function go(e,t){var n=t?fo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function mo(t,n,r){var i=n?r(W(t),!0):W(t);return h(i,e,new t.constructor)}function vo(e){var t=new e.constructor(e.source,_n.exec(e));return t.lastIndex=e.lastIndex,t}function yo(e,n,r){var i=n?r(G(e),!0):G(e);return h(i,t,new e.constructor)}function bo(e){return Wd?Object(Wd.call(e)):{}}function So(e,t){var n=t?fo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Do(e,t){if(e!==t){var n=e!==H,r=null===e,i=e===e,o=Vl(e),a=t!==H,s=null===t,l=t===t,u=Vl(t);if(!s&&!u&&!o&&e>t||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t>e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}function wo(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var l=Do(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*("desc"==u?-1:1)}}return e.index-t.index}function Ao(e,t,n,r){for(var i=-1,o=e.length,a=n.length,s=-1,l=t.length,u=md(o-a,0),c=Ec(l+u),d=!r;++s<l;)c[s]=t[s];for(;++i<a;)(d||o>i)&&(c[n[i]]=e[i]);for(;u--;)c[s++]=e[i++];return c}function Co(e,t,n,r){for(var i=-1,o=e.length,a=-1,s=n.length,l=-1,u=t.length,c=md(o-s,0),d=Ec(c+u),p=!r;++i<c;)d[i]=e[i];for(var h=i;++l<u;)d[h+l]=t[l];for(;++a<s;)(p||o>i)&&(d[h+n[a]]=e[i++]);return d}function xo(e,t){var n=-1,r=e.length;for(t||(t=Ec(r));++n<r;)t[n]=e[n];return t}function _o(e,t,n,r){n||(n={});for(var i=-1,o=t.length;++i<o;){var a=t[i],s=r?r(n[a],e[a],a,n,e):H;yr(n,a,s===H?e[a]:s)}return n}function $o(e,t){return _o(e,Yd(e),t)}function ko(e,t){return function(n,r){var o=Bp(n)?i:Mr,a=t?t():{};return o(n,e,ia(r,2),a)}}function Mo(e){return Ki(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:H,a=i>2?n[2]:H;for(o=e.length>3&&"function"==typeof o?(i--,o):H,a&&va(n[0],n[1],a)&&(o=3>i?H:o,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t})}function To(e,t){return function(n,r){if(null==n)return n;if(!Cl(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Object(n);(t?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}function Fo(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(n(o[l],l,o)===!1)break}return t}}function Oo(e,t,n){function r(){var t=this&&this!==Rr&&this instanceof r?o:e;return t.apply(i?n:this,arguments)}var i=t&X,o=Lo(e);return r}function Po(e){return function(t){t=ou(t);var n=Ar.test(t)?z(t):H,r=n?n[0]:t.charAt(0),i=n?po(n,1).join(""):t.slice(1);return r[e]()+i}}function Eo(e){return function(t){return h(rc(Ru(t).replace(br,"")),e,"")}}function Lo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Wr(e.prototype),r=e.apply(n,t);return Il(r)?r:n}}function Io(e,t,n){function i(){for(var a=arguments.length,s=Ec(a),l=a,u=ra(i);l--;)s[l]=arguments[l];var c=3>a&&s[0]!==u&&s[a-1]!==u?[]:U(s,u);if(a-=c.length,n>a)return Ho(e,t,Wo,i.placeholder,H,s,c,H,H,n-a);var d=this&&this!==Rr&&this instanceof i?o:e;return r(d,this,s)}var o=Lo(e);return i}function Ro(e){return function(t,n,r){var i=Object(t);if(!Cl(t)){var o=ia(n,3);t=yu(t),n=function(e){return o(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:H}}function No(e){return Ki(function(t){t=ri(t,1);var n=t.length,r=n,i=Rn.prototype.thru;for(e&&t.reverse();r--;){var o=t[r];if("function"!=typeof o)throw new Nc(Q);if(i&&!a&&"wrapper"==na(o))var a=new Rn([],!0)}for(r=a?r:n;++r<n;){o=t[r];var s=na(o),l="wrapper"==s?Vd(o):H;a=l&&Sa(l[0])&&l[1]==(at|nt|it|st)&&!l[4].length&&1==l[9]?a[na(l[0])].apply(a,l[3]):1==o.length&&Sa(o)?a[s]():a.thru(o)}return function(){var e=arguments,r=e[0];if(a&&1==e.length&&Bp(r)&&r.length>=Y)return a.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}})}function Wo(e,t,n,r,i,o,a,s,l,u){function c(){for(var v=arguments.length,y=Ec(v),b=v;b--;)y[b]=arguments[b];if(f)var S=ra(c),D=E(y,S);if(r&&(y=Ao(y,r,i,f)),o&&(y=Co(y,o,a,f)),v-=D,f&&u>v){var w=U(y,S);return Ho(e,t,Wo,c.placeholder,n,y,w,s,l,u-v)}var A=p?n:this,C=h?A[e]:e;return v=y.length,s?y=Ma(y,s):g&&v>1&&y.reverse(),d&&v>l&&(y.length=l),this&&this!==Rr&&this instanceof c&&(C=m||Lo(C)),C.apply(A,y)}var d=t&at,p=t&X,h=t&et,f=t&(nt|rt),g=t&lt,m=h?H:Lo(e);return c}function Bo(e,t){return function(n,r){return gi(n,e,t(r),{})}}function Uo(e,t){return function(n,r){var i;if(n===H&&r===H)return t;if(n!==H&&(i=n),r!==H){if(i===H)return r;"string"==typeof n||"string"==typeof r?(n=eo(n),r=eo(r)):(n=Xi(n),r=Xi(r)),i=e(n,r)}return i}}function Go(e){return Ki(function(t){return t=1==t.length&&Bp(t[0])?d(t[0],M(ia())):d(ri(t,1),M(ia())),Ki(function(n){var i=this;return e(t,function(e){return r(e,i,n)})})})}function qo(e,t){t=t===H?" ":eo(t);var n=t.length;if(2>n)return n?zi(t,e):t;var r=zi(t,ud(e/j(t)));return Ar.test(t)?po(z(r),0,e).join(""):r.slice(0,e)}function jo(e,t,n,i){function o(){for(var t=-1,l=arguments.length,u=-1,c=i.length,d=Ec(c+l),p=this&&this!==Rr&&this instanceof o?s:e;++u<c;)d[u]=i[u];for(;l--;)d[u++]=arguments[++t];return r(p,a?n:this,d)}var a=t&X,s=Lo(e);return o}function zo(e){return function(t,n,r){return r&&"number"!=typeof r&&va(t,n,r)&&(n=r=H),t=Xl(t),n===H?(n=t,t=0):n=Xl(n),r=r===H?n>t?1:-1:Xl(r),ji(t,n,r,e)}}function Ko(e){return function(t,n){return("string"!=typeof t||"string"!=typeof n)&&(t=nu(t),n=nu(n)),e(t,n)}}function Ho(e,t,n,r,i,o,a,s,l,u){var c=t&nt,d=c?a:H,p=c?H:a,h=c?o:H,f=c?H:o;t|=c?it:ot,t&=~(c?ot:it),t&tt||(t&=~(X|et));var g=[e,t,i,h,d,f,p,s,l,u],m=n.apply(H,g);return Sa(e)&&Xd(m,g),m.placeholder=r,tp(m,e,t)}function Vo(e){var t=Ic[e];return function(e,n){if(e=nu(e),n=vd(eu(n),292)){var r=(ou(e)+"e").split("e"),i=t(r[0]+"e"+(+r[1]+n));return r=(ou(i)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return t(e)}}function Yo(e){return function(t){var n=Zd(t);return n==Pt?W(t):n==Nt?q(t):k(t,e(t))}}function Qo(e,t,n,r,i,o,a,s){var l=t&et;if(!l&&"function"!=typeof e)throw new Nc(Q);var u=r?r.length:0;if(u||(t&=~(it|ot),r=i=H),a=a===H?a:md(eu(a),0),s=s===H?s:eu(s),u-=i?i.length:0,t&ot){var c=r,d=i;r=i=H}var p=l?H:Vd(e),h=[e,t,n,r,i,c,d,o,a,s];if(p&&xa(h,p),e=h[0],t=h[1],n=h[2],r=h[3],i=h[4],s=h[9]=null==h[9]?l?0:e.length:md(h[9]-u,0),!s&&t&(nt|rt)&&(t&=~(nt|rt)),t&&t!=X)f=t==nt||t==rt?Io(e,t,s):t!=it&&t!=(X|it)||i.length?Wo.apply(H,h):jo(e,t,n,r);else var f=Oo(e,t,n);var g=p?zd:Xd;return tp(g(f,h),e,t)}function Zo(e,t,n,r,i,o){var a=i&ct,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(e);if(u&&o.get(t))return u==t;var c=-1,d=!0,p=i&ut?new ar:H;for(o.set(e,t),o.set(t,e);++c<s;){var h=e[c],f=t[c];if(r)var m=a?r(f,h,c,t,e,o):r(h,f,c,e,t,o);if(m!==H){if(m)continue;d=!1;break}if(p){if(!g(t,function(e,t){return p.has(t)||h!==e&&!n(h,e,r,i,o)?void 0:p.add(t)})){d=!1;break}}else if(h!==f&&!n(h,f,r,i,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function Jo(e,t,n,r,i,o,a){switch(n){case jt:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case qt:return e.byteLength==t.byteLength&&r(new Xc(e),new Xc(t))?!0:!1;case kt:case Mt:case Et:return wl(+e,+t);case Tt:return e.name==t.name&&e.message==t.message;case Rt:case Wt:return e==t+"";case Pt:var s=W;case Nt:var l=o&ct;if(s||(s=G),e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;o|=ut,a.set(e,t);var c=Zo(s(e),s(t),r,i,o,a);return a.delete(e),c;case Bt:if(Wd)return Wd.call(e)==Wd.call(t)}return!1}function Xo(e,t,n,r,i,o){var a=i&ct,s=yu(e),l=s.length,u=yu(t),c=u.length;if(l!=c&&!a)return!1;for(var d=l;d--;){var p=s[d];if(!(a?p in t:zc.call(t,p)))return!1}var h=o.get(e);if(h&&o.get(t))return h==t;var f=!0;o.set(e,t),o.set(t,e);for(var g=a;++d<l;){p=s[d];var m=e[p],v=t[p];if(r)var y=a?r(v,m,p,t,e,o):r(m,v,p,e,t,o);if(!(y===H?m===v||n(m,v,r,i,o):y)){f=!1;break}g||(g="constructor"==p)}if(f&&!g){var b=e.constructor,S=t.constructor;
b!=S&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof S&&S instanceof S)&&(f=!1)}return o.delete(e),o.delete(t),f}function ea(e){return li(e,yu,Yd)}function ta(e){return li(e,bu,Qd)}function na(e){for(var t=e.name+"",n=Od[t],r=zc.call(Od,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function ra(e){var t=zc.call(A,"placeholder")?A:e;return t.placeholder}function ia(){var e=A.iteratee||uc;return e=e===uc?$i:e,arguments.length?e(arguments[0],arguments[1]):e}function oa(e,t){var n=e.__data__;return ba(t)?n["string"==typeof t?"string":"hash"]:n.map}function aa(e){for(var t=yu(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Aa(i)]}return t}function sa(e,t){var n=I(e,t);return Ai(n)?n:H}function la(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=vd(t,e+a);break;case"takeRight":e=md(e,t-a)}}return{start:e,end:t}}function ua(e){var t=e.match(Dn);return t?t[1].split(wn):[]}function ca(e,t,n){t=ya(t,e)?[t]:co(t);for(var r,i=-1,o=t.length;++i<o;){var a=Ta(t[i]);if(!(r=null!=e&&n(e,a)))break;e=e[a]}if(r)return r;var o=e?e.length:0;return!!o&&Ll(o)&&ma(a,o)&&(Bp(e)||Hl(e)||Al(e))}function da(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&zc.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function pa(e){return"function"!=typeof e.constructor||wa(e)?{}:Wr(ed(e))}function ha(e,t,n,r){var i=e.constructor;switch(t){case qt:return fo(e);case kt:case Mt:return new i(+e);case jt:return go(e,r);case zt:case Kt:case Ht:case Vt:case Yt:case Qt:case Zt:case Jt:case Xt:return So(e,r);case Pt:return mo(e,r,n);case Et:case Wt:return new i(e);case Rt:return vo(e);case Nt:return yo(e,r,n);case Bt:return bo(e)}}function fa(e,t){var n=t.length,r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Sn,"{\n/* [wrapped with "+t+"] */\n")}function ga(e){return Bp(e)||Al(e)||!!(od&&e&&e[od])}function ma(e,t){return t=null==t?bt:t,!!t&&("number"==typeof e||On.test(e))&&e>-1&&e%1==0&&t>e}function va(e,t,n){if(!Il(n))return!1;var r=typeof t;return("number"==r?Cl(n)&&ma(t,n.length):"string"==r&&t in n)?wl(n[t],e):!1}function ya(e,t){if(Bp(e))return!1;var n=typeof e;return"number"==n||"symbol"==n||"boolean"==n||null==e||Vl(e)?!0:pn.test(e)||!dn.test(e)||null!=t&&e in Object(t)}function ba(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function Sa(e){var t=na(e),n=A[t];if("function"!=typeof n||!(t in Nn.prototype))return!1;if(e===n)return!0;var r=Vd(n);return!!r&&e===r[0]}function Da(e){return!!qc&&qc in e}function wa(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||Bc;return e===n}function Aa(e){return e===e&&!Il(e)}function Ca(e,t){return function(n){return null==n?!1:n[e]===t&&(t!==H||e in Object(n))}}function xa(e,t){var n=e[1],r=t[1],i=n|r,o=(X|et|at)>i,a=r==at&&n==nt||r==at&&n==st&&e[7].length<=t[8]||r==(at|st)&&t[7].length<=t[8]&&n==nt;if(!o&&!a)return e;r&X&&(e[2]=t[2],i|=n&X?0:tt);var s=t[3];if(s){var l=e[3];e[3]=l?Ao(l,s,t[4]):s,e[4]=l?U(e[3],J):t[4]}return s=t[5],s&&(l=e[5],e[5]=l?Co(l,s,t[6]):s,e[6]=l?U(e[5],J):t[6]),s=t[7],s&&(e[7]=s),r&at&&(e[8]=null==e[8]?t[8]:vd(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function _a(e,t,n,r,i,o){return Il(e)&&Il(t)&&(o.set(t,e),Ei(e,t,H,_a,o),o.delete(t)),e}function $a(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}function ka(e,t){return 1==t.length?e:si(e,Vi(t,0,-1))}function Ma(e,t){for(var n=e.length,r=vd(t.length,n),i=xo(e);r--;){var o=t[r];e[r]=ma(o,n)?i[o]:H}return e}function Ta(e){if("string"==typeof e||Vl(e))return e;var t=e+"";return"0"==t&&1/e==-yt?"-0":t}function Fa(e){if(null!=e){try{return jc.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Oa(e,t){return o(xt,function(n){var r="_."+n[0];t&n[1]&&!u(e,r)&&e.push(r)}),e.sort()}function Pa(e){if(e instanceof Nn)return e.clone();var t=new Rn(e.__wrapped__,e.__chain__);return t.__actions__=xo(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Ea(e,t,n){t=(n?va(e,t,n):t===H)?1:md(eu(t),0);var r=e?e.length:0;if(!r||1>t)return[];for(var i=0,o=0,a=Ec(ud(r/t));r>i;)a[o++]=Vi(e,i,i+=t);return a}function La(e){for(var t=-1,n=e?e.length:0,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i}function Ia(){for(var e=arguments.length,t=Ec(e?e-1:0),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return e?p(Bp(n)?xo(n):[n],ri(t,1)):[]}function Ra(e,t,n){var r=e?e.length:0;return r?(t=n||t===H?1:eu(t),Vi(e,0>t?0:t,r)):[]}function Na(e,t,n){var r=e?e.length:0;return r?(t=n||t===H?1:eu(t),t=r-t,Vi(e,0,0>t?0:t)):[]}function Wa(e,t){return e&&e.length?io(e,ia(t,3),!0,!0):[]}function Ba(e,t){return e&&e.length?io(e,ia(t,3),!0):[]}function Ua(e,t,n,r){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&va(e,t,n)&&(n=0,r=i),ti(e,t,n,r)):[]}function Ga(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=null==n?0:eu(n);return 0>i&&(i=md(r+i,0)),v(e,ia(t,3),i)}function qa(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=r-1;return n!==H&&(i=eu(n),i=0>n?md(r+i,0):vd(i,r-1)),v(e,ia(t,3),i,!0)}function ja(e){var t=e?e.length:0;return t?ri(e,1):[]}function za(e){var t=e?e.length:0;return t?ri(e,yt):[]}function Ka(e,t){var n=e?e.length:0;return n?(t=t===H?1:eu(t),ri(e,t)):[]}function Ha(e){for(var t=-1,n=e?e.length:0,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r}function Va(e){return e&&e.length?e[0]:H}function Ya(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=null==n?0:eu(n);return 0>i&&(i=md(r+i,0)),y(e,t,i)}function Qa(e){var t=e?e.length:0;return t?Vi(e,0,-1):[]}function Za(e,t){return e?fd.call(e,t):""}function Ja(e){var t=e?e.length:0;return t?e[t-1]:H}function Xa(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=r;if(n!==H&&(i=eu(n),i=(0>i?md(r+i,0):vd(i,r-1))+1),t!==t)return v(e,S,i-1,!0);for(;i--;)if(e[i]===t)return i;return-1}function es(e,t){return e&&e.length?Ii(e,eu(t)):H}function ts(e,t){return e&&e.length&&t&&t.length?Ui(e,t):e}function ns(e,t,n){return e&&e.length&&t&&t.length?Ui(e,t,ia(n,2)):e}function rs(e,t,n){return e&&e.length&&t&&t.length?Ui(e,t,H,n):e}function is(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=ia(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Gi(e,i),n}function os(e){return e?Dd.call(e):e}function as(e,t,n){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&va(e,t,n)?(t=0,n=r):(t=null==t?0:eu(t),n=n===H?r:eu(n)),Vi(e,t,n)):[]}function ss(e,t){return Qi(e,t)}function ls(e,t,n){return Zi(e,t,ia(n,2))}function us(e,t){var n=e?e.length:0;if(n){var r=Qi(e,t);if(n>r&&wl(e[r],t))return r}return-1}function cs(e,t){return Qi(e,t,!0)}function ds(e,t,n){return Zi(e,t,ia(n,2),!0)}function ps(e,t){var n=e?e.length:0;if(n){var r=Qi(e,t,!0)-1;if(wl(e[r],t))return r}return-1}function hs(e){return e&&e.length?Ji(e):[]}function fs(e,t){return e&&e.length?Ji(e,ia(t,2)):[]}function gs(e){var t=e?e.length:0;return t?Vi(e,1,t):[]}function ms(e,t,n){return e&&e.length?(t=n||t===H?1:eu(t),Vi(e,0,0>t?0:t)):[]}function vs(e,t,n){var r=e?e.length:0;return r?(t=n||t===H?1:eu(t),t=r-t,Vi(e,0>t?0:t,r)):[]}function ys(e,t){return e&&e.length?io(e,ia(t,3),!1,!0):[]}function bs(e,t){return e&&e.length?io(e,ia(t,3)):[]}function Ss(e){return e&&e.length?to(e):[]}function Ds(e,t){return e&&e.length?to(e,ia(t,2)):[]}function ws(e,t){return e&&e.length?to(e,H,t):[]}function As(e){if(!e||!e.length)return[];var t=0;return e=l(e,function(e){return xl(e)?(t=md(e.length,t),!0):void 0}),$(t,function(t){return d(e,w(t))})}function Cs(e,t){if(!e||!e.length)return[];var n=As(e);return null==t?n:d(n,function(e){return r(t,H,e)})}function xs(e,t){return so(e||[],t||[],yr)}function _s(e,t){return so(e||[],t||[],Hi)}function $s(e){var t=A(e);return t.__chain__=!0,t}function ks(e,t){return t(e),e}function Ms(e,t){return t(e)}function Ts(){return $s(this)}function Fs(){return new Rn(this.value(),this.__chain__)}function Os(){this.__values__===H&&(this.__values__=Jl(this.value()));var e=this.__index__>=this.__values__.length,t=e?H:this.__values__[this.__index__++];return{done:e,value:t}}function Ps(){return this}function Es(e){for(var t,n=this;n instanceof In;){var r=Pa(n);r.__index__=0,r.__values__=H,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t}function Ls(){var e=this.__wrapped__;if(e instanceof Nn){var t=e;return this.__actions__.length&&(t=new Nn(this)),t=t.reverse(),t.__actions__.push({func:Ms,args:[os],thisArg:H}),new Rn(t,this.__chain__)}return this.thru(os)}function Is(){return oo(this.__wrapped__,this.__actions__)}function Rs(e,t,n){var r=Bp(e)?s:Xr;return n&&va(e,t,n)&&(t=H),r(e,ia(t,3))}function Ns(e,t){var n=Bp(e)?l:ni;return n(e,ia(t,3))}function Ws(e,t){return ri(zs(e,t),1)}function Bs(e,t){return ri(zs(e,t),yt)}function Us(e,t,n){return n=n===H?1:eu(n),ri(zs(e,t),n)}function Gs(e,t){var n=Bp(e)?o:Ud;return n(e,ia(t,3))}function qs(e,t){var n=Bp(e)?a:Gd;return n(e,ia(t,3))}function js(e,t,n,r){e=Cl(e)?e:Fu(e),n=n&&!r?eu(n):0;var i=e.length;return 0>n&&(n=md(i+n,0)),Hl(e)?i>=n&&e.indexOf(t,n)>-1:!!i&&y(e,t,n)>-1}function zs(e,t){var n=Bp(e)?d:Fi;return n(e,ia(t,3))}function Ks(e,t,n,r){return null==e?[]:(Bp(t)||(t=null==t?[]:[t]),n=r?H:n,Bp(n)||(n=null==n?[]:[n]),Ri(e,t,n))}function Hs(e,t,n){var r=Bp(e)?h:C,i=arguments.length<3;return r(e,ia(t,4),n,i,Ud)}function Vs(e,t,n){var r=Bp(e)?f:C,i=arguments.length<3;return r(e,ia(t,4),n,i,Gd)}function Ys(e,t){var n=Bp(e)?l:ni;return n(e,ul(ia(t,3)))}function Qs(e){var t=Cl(e)?e:Fu(e),n=t.length;return n>0?t[qi(0,n-1)]:H}function Zs(e,t,n){var r=-1,i=Jl(e),o=i.length,a=o-1;for(t=(n?va(e,t,n):t===H)?1:Or(eu(t),0,o);++r<t;){var s=qi(r,a),l=i[s];i[s]=i[r],i[r]=l}return i.length=t,i}function Js(e){return Zs(e,wt)}function Xs(e){if(null==e)return 0;if(Cl(e)){var t=e.length;return t&&Hl(e)?j(e):t}if(Rl(e)){var n=Zd(e);if(n==Pt||n==Nt)return e.size}return ki(e).length}function el(e,t,n){var r=Bp(e)?g:Yi;return n&&va(e,t,n)&&(t=H),r(e,ia(t,3))}function tl(e,t){if("function"!=typeof t)throw new Nc(Q);return e=eu(e),function(){return--e<1?t.apply(this,arguments):void 0}}function nl(e,t,n){return t=n?H:t,t=e&&null==t?e.length:t,Qo(e,at,H,H,H,H,t)}function rl(e,t){var n;if("function"!=typeof t)throw new Nc(Q);return e=eu(e),function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=H),n}}function il(e,t,n){t=n?H:t;var r=Qo(e,nt,H,H,H,H,H,t);return r.placeholder=il.placeholder,r}function ol(e,t,n){t=n?H:t;var r=Qo(e,rt,H,H,H,H,H,t);return r.placeholder=ol.placeholder,r}function al(e,t,n){function r(t){var n=p,r=h;return p=h=H,y=t,g=e.apply(r,n)}function i(e){return y=e,m=ep(s,t),b?r(e):g}function o(e){var n=e-v,r=e-y,i=t-n;return S?vd(i,f-r):i}function a(e){var n=e-v,r=e-y;return v===H||n>=t||0>n||S&&r>=f}function s(){var e=Mp();return a(e)?l(e):void(m=ep(s,o(e)))}function l(e){return m=H,D&&p?r(e):(p=h=H,g)}function u(){m!==H&&Kd(m),y=0,p=v=h=m=H}function c(){return m===H?g:l(Mp())}function d(){var e=Mp(),n=a(e);if(p=arguments,h=this,v=e,n){if(m===H)return i(v);if(S)return m=ep(s,t),r(v)}return m===H&&(m=ep(s,t)),g}var p,h,f,g,m,v,y=0,b=!1,S=!1,D=!0;if("function"!=typeof e)throw new Nc(Q);return t=nu(t)||0,Il(n)&&(b=!!n.leading,S="maxWait"in n,f=S?md(nu(n.maxWait)||0,t):f,D="trailing"in n?!!n.trailing:D),d.cancel=u,d.flush=c,d}function sl(e){return Qo(e,lt)}function ll(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new Nc(Q);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(ll.Cache||er),n}function ul(e){if("function"!=typeof e)throw new Nc(Q);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function cl(e){return rl(2,e)}function dl(e,t){if("function"!=typeof e)throw new Nc(Q);return t=t===H?t:eu(t),Ki(e,t)}function pl(e,t){if("function"!=typeof e)throw new Nc(Q);return t=t===H?0:md(eu(t),0),Ki(function(n){var i=n[t],o=po(n,0,t);return i&&p(o,i),r(e,this,o)})}function hl(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Nc(Q);return Il(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),al(e,t,{leading:r,maxWait:t,trailing:i})}function fl(e){return nl(e,1)}function gl(e,t){return t=null==t?lc:t,Lp(t,e)}function ml(){if(!arguments.length)return[];var e=arguments[0];return Bp(e)?e:[e]}function vl(e){return Lr(e,!1,!0)}function yl(e,t){return Lr(e,!1,!0,t)}function bl(e){return Lr(e,!0,!0)}function Sl(e,t){return Lr(e,!0,!0,t)}function Dl(e,t){return null==t||Nr(e,t,yu(t))}function wl(e,t){return e===t||e!==e&&t!==t}function Al(e){return xl(e)&&zc.call(e,"callee")&&(!rd.call(e,"callee")||Vc.call(e)==_t)}function Cl(e){return null!=e&&Ll(e.length)&&!Pl(e)}function xl(e){return Rl(e)&&Cl(e)}function _l(e){return e===!0||e===!1||Rl(e)&&Vc.call(e)==kt}function $l(e){return!!e&&1===e.nodeType&&Rl(e)&&!zl(e)}function kl(e){if(Cl(e)&&(Bp(e)||Hl(e)||Pl(e.splice)||Al(e)||Gp(e)))return!e.length;if(Rl(e)){var t=Zd(e);if(t==Pt||t==Nt)return!e.size}var n=wa(e);for(var r in e)if(zc.call(e,r)&&(!n||"constructor"!=r))return!1;return!(Fd&&gd(e).length)}function Ml(e,t){return bi(e,t)}function Tl(e,t,n){n="function"==typeof n?n:H;var r=n?n(e,t):H;return r===H?bi(e,t,n):!!r}function Fl(e){return Rl(e)?Vc.call(e)==Tt||"string"==typeof e.message&&"string"==typeof e.name:!1}function Ol(e){return"number"==typeof e&&hd(e)}function Pl(e){var t=Il(e)?Vc.call(e):"";return t==Ft||t==Ot}function El(e){return"number"==typeof e&&e==eu(e)}function Ll(e){return"number"==typeof e&&e>-1&&e%1==0&&bt>=e}function Il(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Rl(e){return!!e&&"object"==typeof e}function Nl(e,t){return e===t||wi(e,t,aa(t))}function Wl(e,t,n){return n="function"==typeof n?n:H,wi(e,t,aa(t),n)}function Bl(e){return jl(e)&&e!=+e}function Ul(e){if(Jd(e))throw new Lc("This method is not supported with core-js. Try https://github.com/es-shims.");return Ai(e)}function Gl(e){return null===e}function ql(e){return null==e}function jl(e){return"number"==typeof e||Rl(e)&&Vc.call(e)==Et}function zl(e){if(!Rl(e)||Vc.call(e)!=Lt||R(e))return!1;var t=ed(e);if(null===t)return!0;var n=zc.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&jc.call(n)==Hc}function Kl(e){return El(e)&&e>=-bt&&bt>=e}function Hl(e){return"string"==typeof e||!Bp(e)&&Rl(e)&&Vc.call(e)==Wt}function Vl(e){return"symbol"==typeof e||Rl(e)&&Vc.call(e)==Bt}function Yl(e){return e===H}function Ql(e){return Rl(e)&&Zd(e)==Ut}function Zl(e){return Rl(e)&&Vc.call(e)==Gt}function Jl(e){if(!e)return[];if(Cl(e))return Hl(e)?z(e):xo(e);if(td&&e[td])return N(e[td]());var t=Zd(e),n=t==Pt?W:t==Nt?G:Fu;return n(e)}function Xl(e){if(!e)return 0===e?e:0;if(e=nu(e),e===yt||e===-yt){var t=0>e?-1:1;return t*St}return e===e?e:0}function eu(e){var t=Xl(e),n=t%1;return t===t?n?t-n:t:0}function tu(e){return e?Or(eu(e),0,wt):0}function nu(e){if("number"==typeof e)return e;if(Vl(e))return Dt;if(Il(e)){var t=Pl(e.valueOf)?e.valueOf():e;e=Il(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(vn,"");var n=Mn.test(e);return n||Fn.test(e)?Er(e.slice(2),n?2:8):kn.test(e)?Dt:+e}function ru(e){return _o(e,bu(e))}function iu(e){return Or(eu(e),-bt,bt)}function ou(e){return null==e?"":eo(e)}function au(e,t){var n=Wr(e);return t?Tr(n,t):n}function su(e,t){return m(e,ia(t,3),ii)}function lu(e,t){return m(e,ia(t,3),oi)}function uu(e,t){return null==e?e:qd(e,ia(t,3),bu)}function cu(e,t){return null==e?e:jd(e,ia(t,3),bu)}function du(e,t){return e&&ii(e,ia(t,3))}function pu(e,t){return e&&oi(e,ia(t,3))}function hu(e){return null==e?[]:ai(e,yu(e))}function fu(e){return null==e?[]:ai(e,bu(e))}function gu(e,t,n){var r=null==e?H:si(e,t);return r===H?n:r}function mu(e,t){return null!=e&&ca(e,t,di)}function vu(e,t){return null!=e&&ca(e,t,pi)}function yu(e){return Cl(e)?gr(e):ki(e)}function bu(e){return Cl(e)?gr(e,!0):Mi(e)}function Su(e,t){var n={};return t=ia(t,3),ii(e,function(e,r,i){n[t(e,r,i)]=e}),n}function Du(e,t){var n={};return t=ia(t,3),ii(e,function(e,r,i){n[r]=t(e,r,i)}),n}function wu(e,t){return Au(e,ul(ia(t)))}function Au(e,t){return null==e?{}:Wi(e,ta(e),ia(t))}function Cu(e,t,n){t=ya(t,e)?[t]:co(t);var r=-1,i=t.length;for(i||(e=H,i=1);++r<i;){var o=null==e?H:e[Ta(t[r])];o===H&&(r=i,o=n),e=Pl(o)?o.call(e):o}return e}function xu(e,t,n){return null==e?e:Hi(e,t,n)}function _u(e,t,n,r){return r="function"==typeof r?r:H,null==e?e:Hi(e,t,n,r)}function $u(e,t,n){var r=Bp(e)||Hp(e);if(t=ia(t,4),null==n)if(r||Il(e)){var i=e.constructor;n=r?Bp(e)?new i:[]:Pl(i)?Wr(ed(e)):{}}else n={};return(r?o:ii)(e,function(e,r,i){return t(n,e,r,i)}),n}function ku(e,t){return null==e?!0:no(e,t)}function Mu(e,t,n){return null==e?e:ro(e,t,uo(n))}function Tu(e,t,n,r){return r="function"==typeof r?r:H,null==e?e:ro(e,t,uo(n),r)}function Fu(e){return e?T(e,yu(e)):[]}function Ou(e){return null==e?[]:T(e,bu(e))}function Pu(e,t,n){return n===H&&(n=t,t=H),n!==H&&(n=nu(n),n=n===n?n:0),t!==H&&(t=nu(t),t=t===t?t:0),Or(nu(e),t,n)}function Eu(e,t,n){return t=Xl(t),n===H?(n=t,t=0):n=Xl(n),e=nu(e),hi(e,t,n)}function Lu(e,t,n){if(n&&"boolean"!=typeof n&&va(e,t,n)&&(t=n=H),n===H&&("boolean"==typeof t?(n=t,t=H):"boolean"==typeof e&&(n=e,e=H)),e===H&&t===H?(e=0,t=1):(e=Xl(e),t===H?(t=e,e=0):t=Xl(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=bd();return vd(e+i*(t-e+Pr("1e-"+((i+"").length-1))),t)}return qi(e,t)}function Iu(e){return bh(ou(e).toLowerCase())}function Ru(e){return e=ou(e),e&&e.replace(Pn,Yr).replace(Sr,"")}function Nu(e,t,n){e=ou(e),t=eo(t);var r=e.length;n=n===H?r:Or(eu(n),0,r);var i=n;return n-=t.length,n>=0&&e.slice(n,i)==t}function Wu(e){return e=ou(e),e&&sn.test(e)?e.replace(on,Qr):e}function Bu(e){return e=ou(e),e&&mn.test(e)?e.replace(gn,"\\$&"):e}function Uu(e,t,n){e=ou(e),t=eu(t);var r=t?j(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return qo(cd(i),n)+e+qo(ud(i),n)}function Gu(e,t,n){e=ou(e),t=eu(t);var r=t?j(e):0;return t&&t>r?e+qo(t-r,n):e}function qu(e,t,n){e=ou(e),t=eu(t);var r=t?j(e):0;return t&&t>r?qo(t-r,n)+e:e}function ju(e,t,n){return n||null==t?t=0:t&&(t=+t),e=ou(e).replace(vn,""),yd(e,t||($n.test(e)?16:10))}function zu(e,t,n){return t=(n?va(e,t,n):t===H)?1:eu(t),zi(ou(e),t)}function Ku(){var e=arguments,t=ou(e[0]);return e.length<3?t:Sd.call(t,e[1],e[2])}function Hu(e,t,n){return n&&"number"!=typeof n&&va(e,t,n)&&(t=n=H),(n=n===H?wt:n>>>0)?(e=ou(e),e&&("string"==typeof t||null!=t&&!zp(t))&&(t=eo(t),""==t&&Ar.test(e))?po(z(e),0,n):wd.call(e,t,n)):[]}function Vu(e,t,n){return e=ou(e),n=Or(eu(n),0,e.length),t=eo(t),e.slice(n,n+t.length)==t}function Yu(e,t,n){var r=A.templateSettings;n&&va(e,t,n)&&(t=H),e=ou(e),t=Jp({},t,r,mr);var i,o,a=Jp({},t.imports,r.imports,mr),s=yu(a),l=T(a,s),u=0,c=t.interpolate||En,d="__p += '",p=Rc((t.escape||En).source+"|"+c.source+"|"+(c===cn?xn:En).source+"|"+(t.evaluate||En).source+"|$","g"),h="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++_r+"]")+"\n";e.replace(p,function(t,n,r,a,s,l){return r||(r=a),d+=e.slice(u,l).replace(Ln,L),n&&(i=!0,d+="' +\n__e("+n+") +\n'"),s&&(o=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=l+t.length,t}),d+="';\n";var f=t.variable;f||(d="with (obj) {\n"+d+"\n}\n"),d=(o?d.replace(en,""):d).replace(tn,"$1").replace(nn,"$1;"),d="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=Sh(function(){return Function(s,h+"return "+d).apply(H,l)});if(g.source=d,Fl(g))throw g;return g}function Qu(e){return ou(e).toLowerCase()}function Zu(e){return ou(e).toUpperCase()}function Ju(e,t,n){if(e=ou(e),e&&(n||t===H))return e.replace(vn,"");if(!e||!(t=eo(t)))return e;var r=z(e),i=z(t),o=O(r,i),a=P(r,i)+1;return po(r,o,a).join("")}function Xu(e,t,n){if(e=ou(e),e&&(n||t===H))return e.replace(bn,"");if(!e||!(t=eo(t)))return e;var r=z(e),i=P(r,z(t))+1;return po(r,0,i).join("")}function ec(e,t,n){if(e=ou(e),e&&(n||t===H))return e.replace(yn,"");if(!e||!(t=eo(t)))return e;var r=z(e),i=O(r,z(t));return po(r,i).join("")}function tc(e,t){var n=dt,r=pt;if(Il(t)){var i="separator"in t?t.separator:i;n="length"in t?eu(t.length):n,r="omission"in t?eo(t.omission):r}e=ou(e);var o=e.length;if(Ar.test(e)){var a=z(e);o=a.length}if(n>=o)return e;var s=n-j(r);if(1>s)return r;var l=a?po(a,0,s).join(""):e.slice(0,s);if(i===H)return l+r;if(a&&(s+=l.length-s),zp(i)){if(e.slice(s).search(i)){var u,c=l;for(i.global||(i=Rc(i.source,ou(_n.exec(i))+"g")),i.lastIndex=0;u=i.exec(c);)var d=u.index;l=l.slice(0,d===H?s:d)}}else if(e.indexOf(eo(i),s)!=s){var p=l.lastIndexOf(i);p>-1&&(l=l.slice(0,p))}return l+r}function nc(e){return e=ou(e),e&&an.test(e)?e.replace(rn,Zr):e}function rc(e,t,n){return e=ou(e),t=n?H:t,t===H&&(t=Cr.test(e)?wr:An),e.match(t)||[]}function ic(e){var t=e?e.length:0,n=ia();return e=t?d(e,function(e){if("function"!=typeof e[1])throw new Nc(Q);return[n(e[0]),e[1]]}):[],Ki(function(n){for(var i=-1;++i<t;){var o=e[i];if(r(o[0],this,n))return r(o[1],this,n)}})}function oc(e){return Ir(Lr(e,!0))}function ac(e){return function(){return e}}function sc(e,t){return null==e||e!==e?t:e}function lc(e){return e}function uc(e){return $i("function"==typeof e?e:Lr(e,!0))}function cc(e){return Oi(Lr(e,!0))}function dc(e,t){return Pi(e,Lr(t,!0))}function pc(e,t,n){var r=yu(t),i=ai(t,r);null!=n||Il(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=ai(t,yu(t)));var a=!(Il(n)&&"chain"in n&&!n.chain),s=Pl(e);return o(i,function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__),i=n.__actions__=xo(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,p([this.value()],arguments))})}),e}function hc(){return Rr._===this&&(Rr._=Yc),this}function fc(){}function gc(e){return e=eu(e),Ki(function(t){return Ii(t,e)})}function mc(e){return ya(e)?w(Ta(e)):Bi(e)}function vc(e){return function(t){return null==e?H:si(e,t)}}function yc(){return[]}function bc(){return!1}function Sc(){return{}}function Dc(){return""}function wc(){return!0}function Ac(e,t){if(e=eu(e),1>e||e>bt)return[];var n=wt,r=vd(e,wt);t=ia(t),e-=wt;for(var i=$(r,t);++n<e;)t(n);return i}function Cc(e){return Bp(e)?d(e,Ta):Vl(e)?[e]:xo(np(e))}function xc(e){var t=++Kc;return ou(e)+t}function _c(e){return e&&e.length?ei(e,lc,ci):H}function $c(e,t){return e&&e.length?ei(e,ia(t,2),ci):H}function kc(e){return D(e,lc)}function Mc(e,t){return D(e,ia(t,2))}function Tc(e){return e&&e.length?ei(e,lc,Ti):H}function Fc(e,t){return e&&e.length?ei(e,ia(t,2),Ti):H}function Oc(e){return e&&e.length?_(e,lc):0}function Pc(e,t){return e&&e.length?_(e,ia(t,2)):0}n=n?Jr.defaults({},n,Jr.pick(Rr,xr)):Rr;var Ec=n.Array,Lc=n.Error,Ic=n.Math,Rc=n.RegExp,Nc=n.TypeError,Wc=n.Array.prototype,Bc=n.Object.prototype,Uc=n.String.prototype,Gc=n["__core-js_shared__"],qc=function(){var e=/[^.]+$/.exec(Gc&&Gc.keys&&Gc.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),jc=n.Function.prototype.toString,zc=Bc.hasOwnProperty,Kc=0,Hc=jc.call(Object),Vc=Bc.toString,Yc=Rr._,Qc=Rc("^"+jc.call(zc).replace(gn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Zc=Br?n.Buffer:H,Jc=n.Symbol,Xc=n.Uint8Array,ed=B(Object.getPrototypeOf,Object),td=Jc?Jc.iterator:H,nd=n.Object.create,rd=Bc.propertyIsEnumerable,id=Wc.splice,od=Jc?Jc.isConcatSpreadable:H,ad=n.clearTimeout!==Rr.clearTimeout&&n.clearTimeout,sd=n.Date&&n.Date.now!==Rr.Date.now&&n.Date.now,ld=n.setTimeout!==Rr.setTimeout&&n.setTimeout,ud=Ic.ceil,cd=Ic.floor,dd=Object.getOwnPropertySymbols,pd=Zc?Zc.isBuffer:H,hd=n.isFinite,fd=Wc.join,gd=B(Object.keys,Object),md=Ic.max,vd=Ic.min,yd=n.parseInt,bd=Ic.random,Sd=Uc.replace,Dd=Wc.reverse,wd=Uc.split,Ad=sa(n,"DataView"),Cd=sa(n,"Map"),xd=sa(n,"Promise"),_d=sa(n,"Set"),$d=sa(n,"WeakMap"),kd=sa(n.Object,"create"),Md=function(){var e=sa(n.Object,"defineProperty"),t=sa.name;return t&&t.length>2?e:H}(),Td=$d&&new $d,Fd=!rd.call({valueOf:1},"valueOf"),Od={},Pd=Fa(Ad),Ed=Fa(Cd),Ld=Fa(xd),Id=Fa(_d),Rd=Fa($d),Nd=Jc?Jc.prototype:H,Wd=Nd?Nd.valueOf:H,Bd=Nd?Nd.toString:H;A.templateSettings={escape:ln,evaluate:un,interpolate:cn,variable:"",imports:{_:A}},A.prototype=In.prototype,A.prototype.constructor=A,Rn.prototype=Wr(In.prototype),Rn.prototype.constructor=Rn,Nn.prototype=Wr(In.prototype),Nn.prototype.constructor=Nn,Gn.prototype.clear=qn,Gn.prototype.delete=jn,Gn.prototype.get=zn,Gn.prototype.has=Kn,Gn.prototype.set=Hn,Vn.prototype.clear=Yn,Vn.prototype.delete=Qn,Vn.prototype.get=Zn,Vn.prototype.has=Jn,Vn.prototype.set=Xn,er.prototype.clear=tr,er.prototype.delete=nr,er.prototype.get=rr,er.prototype.has=ir,er.prototype.set=or,ar.prototype.add=ar.prototype.push=sr,ar.prototype.has=lr,ur.prototype.clear=cr,ur.prototype.delete=dr,ur.prototype.get=pr,ur.prototype.has=hr,ur.prototype.set=fr;var Ud=To(ii),Gd=To(oi,!0),qd=Fo(),jd=Fo(!0),zd=Td?function(e,t){return Td.set(e,t),e}:lc,Kd=ad||function(e){return Rr.clearTimeout(e)},Hd=_d&&1/G(new _d([,-0]))[1]==yt?function(e){return new _d(e)}:fc,Vd=Td?function(e){return Td.get(e)}:fc,Yd=dd?B(dd,Object):yc,Qd=dd?function(e){for(var t=[];e;)p(t,Yd(e)),e=ed(e);return t}:yc,Zd=ui;(Ad&&Zd(new Ad(new ArrayBuffer(1)))!=jt||Cd&&Zd(new Cd)!=Pt||xd&&Zd(xd.resolve())!=It||_d&&Zd(new _d)!=Nt||$d&&Zd(new $d)!=Ut)&&(Zd=function(e){var t=Vc.call(e),n=t==Lt?e.constructor:H,r=n?Fa(n):H;if(r)switch(r){case Pd:return jt;case Ed:return Pt;case Ld:return It;case Id:return Nt;case Rd:return Ut}return t});var Jd=Gc?Pl:bc,Xd=function(){var e=0,t=0;return function(n,r){var i=Mp(),o=ft-(i-t);if(t=i,o>0){if(++e>=ht)return n}else e=0;return zd(n,r)}}(),ep=ld||function(e,t){return Rr.setTimeout(e,t)},tp=Md?function(e,t,n){var r=t+"";return Md(e,"toString",{configurable:!0,enumerable:!1,value:ac(fa(r,Oa(ua(r),n)))})}:lc,np=ll(function(e){e=ou(e);var t=[];return hn.test(e)&&t.push(""),e.replace(fn,function(e,n,r,i){t.push(r?i.replace(Cn,"$1"):n||e)}),t}),rp=Ki(function(e,t){return xl(e)?Gr(e,ri(t,1,xl,!0)):[]}),ip=Ki(function(e,t){var n=Ja(t);return xl(n)&&(n=H),xl(e)?Gr(e,ri(t,1,xl,!0),ia(n,2)):[]}),op=Ki(function(e,t){var n=Ja(t);return xl(n)&&(n=H),xl(e)?Gr(e,ri(t,1,xl,!0),H,n):[]}),ap=Ki(function(e){var t=d(e,lo);return t.length&&t[0]===e[0]?fi(t):[]}),sp=Ki(function(e){var t=Ja(e),n=d(e,lo);return t===Ja(n)?t=H:n.pop(),n.length&&n[0]===e[0]?fi(n,ia(t,2)):[]}),lp=Ki(function(e){var t=Ja(e),n=d(e,lo);return t===Ja(n)?t=H:n.pop(),n.length&&n[0]===e[0]?fi(n,H,t):[]}),up=Ki(ts),cp=Ki(function(e,t){t=ri(t,1);var n=e?e.length:0,r=Fr(e,t);return Gi(e,d(t,function(e){return ma(e,n)?+e:e}).sort(Do)),r}),dp=Ki(function(e){return to(ri(e,1,xl,!0))}),pp=Ki(function(e){var t=Ja(e);return xl(t)&&(t=H),to(ri(e,1,xl,!0),ia(t,2))}),hp=Ki(function(e){var t=Ja(e);return xl(t)&&(t=H),to(ri(e,1,xl,!0),H,t)}),fp=Ki(function(e,t){return xl(e)?Gr(e,t):[]}),gp=Ki(function(e){return ao(l(e,xl))}),mp=Ki(function(e){var t=Ja(e);return xl(t)&&(t=H),ao(l(e,xl),ia(t,2))}),vp=Ki(function(e){var t=Ja(e);return xl(t)&&(t=H),ao(l(e,xl),H,t)}),yp=Ki(As),bp=Ki(function(e){var t=e.length,n=t>1?e[t-1]:H;return n="function"==typeof n?(e.pop(),n):H,Cs(e,n)}),Sp=Ki(function(e){e=ri(e,1);var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return Fr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Nn&&ma(n)?(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:Ms,args:[i],thisArg:H}),new Rn(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(H),e})):this.thru(i)}),Dp=ko(function(e,t,n){zc.call(e,n)?++e[n]:e[n]=1}),wp=Ro(Ga),Ap=Ro(qa),Cp=ko(function(e,t,n){zc.call(e,n)?e[n].push(t):e[n]=[t]}),xp=Ki(function(e,t,n){var i=-1,o="function"==typeof t,a=ya(t),s=Cl(e)?Ec(e.length):[];return Ud(e,function(e){var l=o?t:a&&null!=e?e[t]:H;s[++i]=l?r(l,e,n):mi(e,t,n)}),s}),_p=ko(function(e,t,n){e[n]=t}),$p=ko(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),kp=Ki(function(e,t){if(null==e)return[];var n=t.length;return n>1&&va(e,t[0],t[1])?t=[]:n>2&&va(t[0],t[1],t[2])&&(t=[t[0]]),Ri(e,ri(t,1),[])}),Mp=sd||function(){return Rr.Date.now()},Tp=Ki(function(e,t,n){var r=X;if(n.length){var i=U(n,ra(Tp));r|=it}return Qo(e,r,t,n,i)}),Fp=Ki(function(e,t,n){var r=X|et;if(n.length){var i=U(n,ra(Fp));r|=it}return Qo(t,r,e,n,i)}),Op=Ki(function(e,t){return Ur(e,1,t)}),Pp=Ki(function(e,t,n){return Ur(e,nu(t)||0,n)});ll.Cache=er;var Ep=Ki(function(e,t){t=1==t.length&&Bp(t[0])?d(t[0],M(ia())):d(ri(t,1),M(ia()));var n=t.length;return Ki(function(i){for(var o=-1,a=vd(i.length,n);++o<a;)i[o]=t[o].call(this,i[o]);return r(e,this,i)})}),Lp=Ki(function(e,t){var n=U(t,ra(Lp));return Qo(e,it,H,t,n)}),Ip=Ki(function(e,t){var n=U(t,ra(Ip));return Qo(e,ot,H,t,n)}),Rp=Ki(function(e,t){return Qo(e,st,H,H,H,ri(t,1))}),Np=Ko(ci),Wp=Ko(function(e,t){return e>=t}),Bp=Ec.isArray,Up=qr?M(qr):vi,Gp=pd||bc,qp=jr?M(jr):yi,jp=zr?M(zr):Di,zp=Kr?M(Kr):Ci,Kp=Hr?M(Hr):xi,Hp=Vr?M(Vr):_i,Vp=Ko(Ti),Yp=Ko(function(e,t){return t>=e}),Qp=Mo(function(e,t){if(Fd||wa(t)||Cl(t))return void _o(t,yu(t),e);for(var n in t)zc.call(t,n)&&yr(e,n,t[n])}),Zp=Mo(function(e,t){_o(t,bu(t),e)}),Jp=Mo(function(e,t,n,r){_o(t,bu(t),e,r)}),Xp=Mo(function(e,t,n,r){_o(t,yu(t),e,r)}),eh=Ki(function(e,t){return Fr(e,ri(t,1))}),th=Ki(function(e){return e.push(H,mr),r(Jp,H,e)}),nh=Ki(function(e){return e.push(H,_a),r(sh,H,e)}),rh=Bo(function(e,t,n){e[t]=n},ac(lc)),ih=Bo(function(e,t,n){zc.call(e,t)?e[t].push(n):e[t]=[n]},ia),oh=Ki(mi),ah=Mo(function(e,t,n){Ei(e,t,n)}),sh=Mo(function(e,t,n,r){Ei(e,t,n,r)}),lh=Ki(function(e,t){return null==e?{}:(t=d(ri(t,1),Ta),Ni(e,Gr(ta(e),t)))}),uh=Ki(function(e,t){return null==e?{}:Ni(e,d(ri(t,1),Ta))}),ch=Yo(yu),dh=Yo(bu),ph=Eo(function(e,t,n){return t=t.toLowerCase(),e+(n?Iu(t):t)}),hh=Eo(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),fh=Eo(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),gh=Po("toLowerCase"),mh=Eo(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),vh=Eo(function(e,t,n){return e+(n?" ":"")+bh(t)}),yh=Eo(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),bh=Po("toUpperCase"),Sh=Ki(function(e,t){try{return r(e,H,t)}catch(n){return Fl(n)?n:new Lc(n)}}),Dh=Ki(function(e,t){return o(ri(t,1),function(t){t=Ta(t),e[t]=Tp(e[t],e)}),e}),wh=No(),Ah=No(!0),Ch=Ki(function(e,t){return function(n){return mi(n,e,t)}}),xh=Ki(function(e,t){return function(n){return mi(e,n,t)}}),_h=Go(d),$h=Go(s),kh=Go(g),Mh=zo(),Th=zo(!0),Fh=Uo(function(e,t){return e+t},0),Oh=Vo("ceil"),Ph=Uo(function(e,t){return e/t},1),Eh=Vo("floor"),Lh=Uo(function(e,t){return e*t},1),Ih=Vo("round"),Rh=Uo(function(e,t){return e-t},0);return A.after=tl,A.ary=nl,A.assign=Qp,A.assignIn=Zp,A.assignInWith=Jp,A.assignWith=Xp,A.at=eh,A.before=rl,A.bind=Tp,A.bindAll=Dh,A.bindKey=Fp,A.castArray=ml,A.chain=$s,A.chunk=Ea,A.compact=La,A.concat=Ia,A.cond=ic,A.conforms=oc,A.constant=ac,A.countBy=Dp,A.create=au,A.curry=il,A.curryRight=ol,A.debounce=al,A.defaults=th,A.defaultsDeep=nh,A.defer=Op,A.delay=Pp,A.difference=rp,A.differenceBy=ip,A.differenceWith=op,A.drop=Ra,A.dropRight=Na,A.dropRightWhile=Wa,A.dropWhile=Ba,A.fill=Ua,A.filter=Ns,A.flatMap=Ws,A.flatMapDeep=Bs,A.flatMapDepth=Us,A.flatten=ja,A.flattenDeep=za,A.flattenDepth=Ka,A.flip=sl,A.flow=wh,A.flowRight=Ah,A.fromPairs=Ha,A.functions=hu,A.functionsIn=fu,A.groupBy=Cp,A.initial=Qa,A.intersection=ap,A.intersectionBy=sp,A.intersectionWith=lp,A.invert=rh,A.invertBy=ih,A.invokeMap=xp,A.iteratee=uc,A.keyBy=_p,A.keys=yu,A.keysIn=bu,A.map=zs,A.mapKeys=Su,A.mapValues=Du,A.matches=cc,A.matchesProperty=dc,A.memoize=ll,A.merge=ah,A.mergeWith=sh,A.method=Ch,A.methodOf=xh,A.mixin=pc,A.negate=ul,A.nthArg=gc,A.omit=lh,A.omitBy=wu,A.once=cl,A.orderBy=Ks,A.over=_h,A.overArgs=Ep,A.overEvery=$h,A.overSome=kh,A.partial=Lp,A.partialRight=Ip,A.partition=$p,A.pick=uh,A.pickBy=Au,A.property=mc,A.propertyOf=vc,A.pull=up,A.pullAll=ts,A.pullAllBy=ns,A.pullAllWith=rs,A.pullAt=cp,A.range=Mh,A.rangeRight=Th,A.rearg=Rp,A.reject=Ys,A.remove=is,A.rest=dl,A.reverse=os,A.sampleSize=Zs,A.set=xu,A.setWith=_u,A.shuffle=Js,A.slice=as,A.sortBy=kp,A.sortedUniq=hs,A.sortedUniqBy=fs,A.split=Hu,A.spread=pl,A.tail=gs,A.take=ms,A.takeRight=vs,A.takeRightWhile=ys,A.takeWhile=bs,A.tap=ks,A.throttle=hl,A.thru=Ms,A.toArray=Jl,A.toPairs=ch,A.toPairsIn=dh,A.toPath=Cc,A.toPlainObject=ru,A.transform=$u,A.unary=fl,A.union=dp,A.unionBy=pp,A.unionWith=hp,A.uniq=Ss,A.uniqBy=Ds,A.uniqWith=ws,A.unset=ku,A.unzip=As,A.unzipWith=Cs,A.update=Mu,A.updateWith=Tu,A.values=Fu,A.valuesIn=Ou,A.without=fp,A.words=rc,A.wrap=gl,A.xor=gp,A.xorBy=mp,A.xorWith=vp,A.zip=yp,A.zipObject=xs,A.zipObjectDeep=_s,A.zipWith=bp,A.entries=ch,A.entriesIn=dh,A.extend=Zp,A.extendWith=Jp,pc(A,A),A.add=Fh,A.attempt=Sh,A.camelCase=ph,A.capitalize=Iu,A.ceil=Oh,A.clamp=Pu,A.clone=vl,A.cloneDeep=bl,A.cloneDeepWith=Sl,A.cloneWith=yl,A.conformsTo=Dl,A.deburr=Ru,A.defaultTo=sc,A.divide=Ph,A.endsWith=Nu,A.eq=wl,A.escape=Wu,A.escapeRegExp=Bu,A.every=Rs,A.find=wp,A.findIndex=Ga,A.findKey=su,A.findLast=Ap,A.findLastIndex=qa,A.findLastKey=lu,A.floor=Eh,A.forEach=Gs,A.forEachRight=qs,A.forIn=uu,A.forInRight=cu,A.forOwn=du,A.forOwnRight=pu,A.get=gu,A.gt=Np,A.gte=Wp,A.has=mu,A.hasIn=vu,A.head=Va,A.identity=lc,A.includes=js,A.indexOf=Ya,A.inRange=Eu,A.invoke=oh,A.isArguments=Al,A.isArray=Bp,A.isArrayBuffer=Up,A.isArrayLike=Cl,A.isArrayLikeObject=xl,A.isBoolean=_l,A.isBuffer=Gp,A.isDate=qp,A.isElement=$l,A.isEmpty=kl,A.isEqual=Ml,A.isEqualWith=Tl,A.isError=Fl,A.isFinite=Ol,A.isFunction=Pl,A.isInteger=El,A.isLength=Ll,A.isMap=jp,A.isMatch=Nl,A.isMatchWith=Wl,A.isNaN=Bl,A.isNative=Ul,A.isNil=ql,A.isNull=Gl,A.isNumber=jl,A.isObject=Il,A.isObjectLike=Rl,A.isPlainObject=zl,A.isRegExp=zp,A.isSafeInteger=Kl,A.isSet=Kp,A.isString=Hl,A.isSymbol=Vl,A.isTypedArray=Hp,A.isUndefined=Yl,A.isWeakMap=Ql,A.isWeakSet=Zl,A.join=Za,A.kebabCase=hh,A.last=Ja,A.lastIndexOf=Xa,A.lowerCase=fh,A.lowerFirst=gh,A.lt=Vp,A.lte=Yp,A.max=_c,A.maxBy=$c,A.mean=kc,A.meanBy=Mc,A.min=Tc,A.minBy=Fc,A.stubArray=yc,A.stubFalse=bc,A.stubObject=Sc,A.stubString=Dc,A.stubTrue=wc,A.multiply=Lh,A.nth=es,A.noConflict=hc,A.noop=fc,A.now=Mp,A.pad=Uu,A.padEnd=Gu,A.padStart=qu,A.parseInt=ju,A.random=Lu,A.reduce=Hs,A.reduceRight=Vs,A.repeat=zu,A.replace=Ku,A.result=Cu,A.round=Ih,A.runInContext=K,A.sample=Qs,A.size=Xs,A.snakeCase=mh,A.some=el,A.sortedIndex=ss,A.sortedIndexBy=ls,A.sortedIndexOf=us,A.sortedLastIndex=cs,A.sortedLastIndexBy=ds,A.sortedLastIndexOf=ps,A.startCase=vh,A.startsWith=Vu,A.subtract=Rh,A.sum=Oc,A.sumBy=Pc,A.template=Yu,A.times=Ac,A.toFinite=Xl,A.toInteger=eu,A.toLength=tu,A.toLower=Qu,A.toNumber=nu,A.toSafeInteger=iu,A.toString=ou,A.toUpper=Zu,A.trim=Ju,A.trimEnd=Xu,A.trimStart=ec,A.truncate=tc,A.unescape=nc,A.uniqueId=xc,A.upperCase=yh,A.upperFirst=bh,A.each=Gs,A.eachRight=qs,A.first=Va,pc(A,function(){var e={};
return ii(A,function(t,n){zc.call(A.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),A.VERSION=V,o(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){A[e].placeholder=A}),o(["drop","take"],function(e,t){Nn.prototype[e]=function(n){var r=this.__filtered__;if(r&&!t)return new Nn(this);n=n===H?1:md(eu(n),0);var i=this.clone();return r?i.__takeCount__=vd(n,i.__takeCount__):i.__views__.push({size:vd(n,wt),type:e+(i.__dir__<0?"Right":"")}),i},Nn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),o(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==gt||n==vt;Nn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ia(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),o(["head","last"],function(e,t){var n="take"+(t?"Right":"");Nn.prototype[e]=function(){return this[n](1).value()[0]}}),o(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");Nn.prototype[e]=function(){return this.__filtered__?new Nn(this):this[n](1)}}),Nn.prototype.compact=function(){return this.filter(lc)},Nn.prototype.find=function(e){return this.filter(e).head()},Nn.prototype.findLast=function(e){return this.reverse().find(e)},Nn.prototype.invokeMap=Ki(function(e,t){return"function"==typeof e?new Nn(this):this.map(function(n){return mi(n,e,t)})}),Nn.prototype.reject=function(e){return this.filter(ul(ia(e)))},Nn.prototype.slice=function(e,t){e=eu(e);var n=this;return n.__filtered__&&(e>0||0>t)?new Nn(n):(0>e?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==H&&(t=eu(t),n=0>t?n.dropRight(-t):n.take(t-e)),n)},Nn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Nn.prototype.toArray=function(){return this.take(wt)},ii(Nn.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=A[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);i&&(A.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,s=t instanceof Nn,l=a[0],u=s||Bp(t),c=function(e){var t=i.apply(A,p([e],a));return r&&d?t[0]:t};u&&n&&"function"==typeof l&&1!=l.length&&(s=u=!1);var d=this.__chain__,h=!!this.__actions__.length,f=o&&!d,g=s&&!h;if(!o&&u){t=g?t:new Nn(this);var m=e.apply(t,a);return m.__actions__.push({func:Ms,args:[c],thisArg:H}),new Rn(m,d)}return f&&g?e.apply(this,a):(m=this.thru(c),f?r?m.value()[0]:m.value():m)})}),o(["pop","push","shift","sort","splice","unshift"],function(e){var t=Wc[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);A.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Bp(i)?i:[],e)}return this[n](function(n){return t.apply(Bp(n)?n:[],e)})}}),ii(Nn.prototype,function(e,t){var n=A[t];if(n){var r=n.name+"",i=Od[r]||(Od[r]=[]);i.push({name:t,func:n})}}),Od[Wo(H,et).name]=[{name:"wrapper",func:H}],Nn.prototype.clone=Wn,Nn.prototype.reverse=Bn,Nn.prototype.value=Un,A.prototype.at=Sp,A.prototype.chain=Ts,A.prototype.commit=Fs,A.prototype.next=Os,A.prototype.plant=Es,A.prototype.reverse=Ls,A.prototype.toJSON=A.prototype.valueOf=A.prototype.value=Is,A.prototype.first=A.prototype.head,td&&(A.prototype[td]=Ps),A}var H,V="4.14.2",Y=200,Q="Expected a function",Z="__lodash_hash_undefined__",J="__lodash_placeholder__",X=1,et=2,tt=4,nt=8,rt=16,it=32,ot=64,at=128,st=256,lt=512,ut=1,ct=2,dt=30,pt="...",ht=150,ft=16,gt=1,mt=2,vt=3,yt=1/0,bt=9007199254740991,St=1.7976931348623157e308,Dt=0/0,wt=4294967295,At=wt-1,Ct=wt>>>1,xt=[["ary",at],["bind",X],["bindKey",et],["curry",nt],["curryRight",rt],["flip",lt],["partial",it],["partialRight",ot],["rearg",st]],_t="[object Arguments]",$t="[object Array]",kt="[object Boolean]",Mt="[object Date]",Tt="[object Error]",Ft="[object Function]",Ot="[object GeneratorFunction]",Pt="[object Map]",Et="[object Number]",Lt="[object Object]",It="[object Promise]",Rt="[object RegExp]",Nt="[object Set]",Wt="[object String]",Bt="[object Symbol]",Ut="[object WeakMap]",Gt="[object WeakSet]",qt="[object ArrayBuffer]",jt="[object DataView]",zt="[object Float32Array]",Kt="[object Float64Array]",Ht="[object Int8Array]",Vt="[object Int16Array]",Yt="[object Int32Array]",Qt="[object Uint8Array]",Zt="[object Uint8ClampedArray]",Jt="[object Uint16Array]",Xt="[object Uint32Array]",en=/\b__p \+= '';/g,tn=/\b(__p \+=) '' \+/g,nn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,rn=/&(?:amp|lt|gt|quot|#39|#96);/g,on=/[&<>"'`]/g,an=RegExp(rn.source),sn=RegExp(on.source),ln=/<%-([\s\S]+?)%>/g,un=/<%([\s\S]+?)%>/g,cn=/<%=([\s\S]+?)%>/g,dn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,pn=/^\w*$/,hn=/^\./,fn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,gn=/[\\^$.*+?()[\]{}|]/g,mn=RegExp(gn.source),vn=/^\s+|\s+$/g,yn=/^\s+/,bn=/\s+$/,Sn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Dn=/\{\n\/\* \[wrapped with (.+)\] \*/,wn=/,? & /,An=/[a-zA-Z0-9]+/g,Cn=/\\(\\)?/g,xn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,_n=/\w*$/,$n=/^0x/i,kn=/^[-+]0x[0-9a-f]+$/i,Mn=/^0b[01]+$/i,Tn=/^\[object .+?Constructor\]$/,Fn=/^0o[0-7]+$/i,On=/^(?:0|[1-9]\d*)$/,Pn=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,En=/($^)/,Ln=/['\n\r\u2028\u2029\\]/g,In="\\ud800-\\udfff",Rn="\\u0300-\\u036f\\ufe20-\\ufe23",Nn="\\u20d0-\\u20f0",Wn="\\u2700-\\u27bf",Bn="a-z\\xdf-\\xf6\\xf8-\\xff",Un="\\xac\\xb1\\xd7\\xf7",Gn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",qn="\\u2000-\\u206f",jn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",zn="A-Z\\xc0-\\xd6\\xd8-\\xde",Kn="\\ufe0e\\ufe0f",Hn=Un+Gn+qn+jn,Vn="[']",Yn="["+In+"]",Qn="["+Hn+"]",Zn="["+Rn+Nn+"]",Jn="\\d+",Xn="["+Wn+"]",er="["+Bn+"]",tr="[^"+In+Hn+Jn+Wn+Bn+zn+"]",nr="\\ud83c[\\udffb-\\udfff]",rr="(?:"+Zn+"|"+nr+")",ir="[^"+In+"]",or="(?:\\ud83c[\\udde6-\\uddff]){2}",ar="[\\ud800-\\udbff][\\udc00-\\udfff]",sr="["+zn+"]",lr="\\u200d",ur="(?:"+er+"|"+tr+")",cr="(?:"+sr+"|"+tr+")",dr="(?:"+Vn+"(?:d|ll|m|re|s|t|ve))?",pr="(?:"+Vn+"(?:D|LL|M|RE|S|T|VE))?",hr=rr+"?",fr="["+Kn+"]?",gr="(?:"+lr+"(?:"+[ir,or,ar].join("|")+")"+fr+hr+")*",mr=fr+hr+gr,vr="(?:"+[Xn,or,ar].join("|")+")"+mr,yr="(?:"+[ir+Zn+"?",Zn,or,ar,Yn].join("|")+")",br=RegExp(Vn,"g"),Sr=RegExp(Zn,"g"),Dr=RegExp(nr+"(?="+nr+")|"+yr+mr,"g"),wr=RegExp([sr+"?"+er+"+"+dr+"(?="+[Qn,sr,"$"].join("|")+")",cr+"+"+pr+"(?="+[Qn,sr+ur,"$"].join("|")+")",sr+"?"+ur+"+"+dr,sr+"+"+pr,Jn,vr].join("|"),"g"),Ar=RegExp("["+lr+In+Rn+Nn+Kn+"]"),Cr=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,xr=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],_r=-1,$r={};$r[zt]=$r[Kt]=$r[Ht]=$r[Vt]=$r[Yt]=$r[Qt]=$r[Zt]=$r[Jt]=$r[Xt]=!0,$r[_t]=$r[$t]=$r[qt]=$r[kt]=$r[jt]=$r[Mt]=$r[Tt]=$r[Ft]=$r[Pt]=$r[Et]=$r[Lt]=$r[Rt]=$r[Nt]=$r[Wt]=$r[Ut]=!1;var kr={};kr[_t]=kr[$t]=kr[qt]=kr[jt]=kr[kt]=kr[Mt]=kr[zt]=kr[Kt]=kr[Ht]=kr[Vt]=kr[Yt]=kr[Pt]=kr[Et]=kr[Lt]=kr[Rt]=kr[Nt]=kr[Wt]=kr[Bt]=kr[Qt]=kr[Zt]=kr[Jt]=kr[Xt]=!0,kr[Tt]=kr[Ft]=kr[Ut]=!1;var Mr={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},Tr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Fr={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Or={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Pr=parseFloat,Er=parseInt,Lr="object"==typeof global&&global&&global.Object===Object&&global,Ir="object"==typeof self&&self&&self.Object===Object&&self,Rr=Lr||Ir||Function("return this")(),Nr="object"==typeof exports&&exports&&!exports.nodeType&&exports,Wr=Nr&&"object"==typeof module&&module&&!module.nodeType&&module,Br=Wr&&Wr.exports===Nr,Ur=Br&&Lr.process,Gr=function(){try{return Ur&&Ur.binding("util")}catch(e){}}(),qr=Gr&&Gr.isArrayBuffer,jr=Gr&&Gr.isDate,zr=Gr&&Gr.isMap,Kr=Gr&&Gr.isRegExp,Hr=Gr&&Gr.isSet,Vr=Gr&&Gr.isTypedArray,Yr=A(Mr),Qr=A(Tr),Zr=A(Fr),Jr=K();"function"==typeof n&&"object"==typeof n.amd&&n.amd?(Rr._=Jr,n("lodash",[],function(){return Jr})):Wr?((Wr.exports=Jr)._=Jr,Nr._=Jr):Rr._=Jr}.call(this),n("messaging/filteringCriteriaChangedNotification.srv",["lodash"],function(e){return function(){var t={};return{registerListener:function(n,r){e.isUndefined(t[r])&&(t[r]=[]),t[r].push(n)},notify:function(n,r){e.isUndefined(t[r])||t[r].forEach(function(e){e(n)})},clearAllListeners:function(n){e.isUndefined(t[n])||(t[n]=[])}}}}),n("messaging/statisticsGatheringRequestsRegistry.srv",["lodash"],function(e){return function(){var t={};return{register:function(n,r){e.isUndefined(t[r])&&(t[r]=[]),t[r].push(n)},getAll:function(n){return e.isUndefined(t[n])?[]:t[n]}}}}),n("messaging/statisticsBroadcast.srv",[],function(){return function(e,t){return{statistics:{},broadcast:function(){e.$broadcast(t)}}}}),n("messaging/messaging.mod",["angular","messaging/filteringCriteriaChangedNotification.srv","messaging/statisticsGatheringRequestsRegistry.srv","messaging/statisticsBroadcast.srv"],function(e,t,n,r){return e.module("WidgetsFilterPanel.messaging",[]).constant("resetAllFiltersEvent","resetAllFiltersEvent").constant("statisticsUpdateNotification","statisticsUpdateNotification").factory("FilteringCriteriaChangedNotificationService",t).factory("StatisticsGatheringRequestsRegistryService",n).service("StatisticsBroadcastingService",["$rootScope","statisticsUpdateNotification",r])}),n("filterPanel/filterPanel.ctr",["lodash"],function(e){return function(t,n,r){var i,o={};this.notifyOnStatisticsUpdate=function(){i=!0},this.updateFilteringFunction=function(r,i){o[r]=i;var a=function(t){return e.values(o).every(function(e){return e(t)})};n.notify(a,t.ownerId)},this.getOwnerId=function(){return t.ownerId},t.resetAllFilters=function(){t.$broadcast(r)},t.isAnyDataToDisplayAvailable=function(){return i}}}),function(e,t){"function"==typeof n&&n.amd?n("ResizeSensor",t):"object"==typeof exports?module.exports=t():e.ResizeSensor=t()}(this,function(){function e(e,t){var n=Object.prototype.toString.call(e),r="[object Array]"===n||"[object NodeList]"===n||"[object HTMLCollection]"===n||"undefined"!=typeof jQuery&&e instanceof jQuery||"undefined"!=typeof Elements&&e instanceof Elements,i=0,o=e.length;if(r)for(;o>i;i++)t(e[i]);else t(e)}var t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)},n=function(r,i){function o(){var e=[];this.add=function(t){e.push(t)};var t,n;this.call=function(){for(t=0,n=e.length;n>t;t++)e[t].call()},this.remove=function(r){var i=[];for(t=0,n=e.length;n>t;t++)e[t]!==r&&i.push(e[t]);e=i},this.length=function(){return e.length}}function a(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle?window.getComputedStyle(e,null).getPropertyValue(t):e.style[t]}function s(e,n){if(e.resizedAttached){if(e.resizedAttached)return void e.resizedAttached.add(n)}else e.resizedAttached=new o,e.resizedAttached.add(n);e.resizeSensor=document.createElement("div"),e.resizeSensor.className="resize-sensor";var r="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;",i="position: absolute; left: 0; top: 0; transition: 0s;";e.resizeSensor.style.cssText=r,e.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+r+'"><div style="'+i+'"></div></div><div class="resize-sensor-shrink" style="'+r+'"><div style="'+i+' width: 200%; height: 200%"></div></div>',e.appendChild(e.resizeSensor),"static"==a(e,"position")&&(e.style.position="relative");var s=e.resizeSensor.childNodes[0],l=s.childNodes[0],u=e.resizeSensor.childNodes[1],c=function(){l.style.width=1e5+"px",l.style.height=1e5+"px",s.scrollLeft=1e5,s.scrollTop=1e5,u.scrollLeft=1e5,u.scrollTop=1e5};c();var d=!1,p=function(){e.resizedAttached&&(d&&(e.resizedAttached.call(),d=!1),t(p))};t(p);var h,f,g,m,v=function(){((g=e.offsetWidth)!=h||(m=e.offsetHeight)!=f)&&(d=!0,h=g,f=m),c()},y=function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n)};y(s,"scroll",v),y(u,"scroll",v)}e(r,function(e){s(e,i)}),this.detach=function(e){n.detach(r,e)}};return n.detach=function(t,n){e(t,function(e){e.resizedAttached&&"function"==typeof n&&(e.resizedAttached.remove(n),e.resizedAttached.length())||e.resizeSensor&&(e.removeChild(e.resizeSensor),delete e.resizeSensor,delete e.resizedAttached)})},n}),function(e,r){"function"==typeof n&&n.amd?n("elementQuery",["ResizeSensor"],r):"object"==typeof exports?module.exports=r(t("./ResizeSensor.js")):e.ElementQueries=r(e.ResizeSensor)}(this,function(e){var t=function(){function n(e){e||(e=document.documentElement);var t=window.getComputedStyle(e,null).fontSize;return parseFloat(t)||16}function r(e,t){var r=t.split(/\d/),i=r[r.length-1];switch(t=parseFloat(t),i){case"px":return t;case"em":return t*n(e);case"rem":return t*n();case"vw":return t*document.documentElement.clientWidth/100;case"vh":return t*document.documentElement.clientHeight/100;case"vmin":case"vmax":var o=document.documentElement.clientWidth/100,a=document.documentElement.clientHeight/100,s=Math["vmin"===i?"min":"max"];return t*s(o,a);default:return t}}function i(e){this.element=e,this.options={};var t,n,i,o,a,s,l,u=0,c=0;this.addOption=function(e){var t=[e.mode,e.property,e.value].join(",");this.options[t]=e};var d=["min-width","min-height","max-width","max-height"];this.call=function(){u=this.element.offsetWidth,c=this.element.offsetHeight,a={};for(t in this.options)this.options.hasOwnProperty(t)&&(n=this.options[t],i=r(this.element,n.value),o="width"==n.property?u:c,l=n.mode+"-"+n.property,s="","min"==n.mode&&o>=i&&(s+=n.value),"max"==n.mode&&i>=o&&(s+=n.value),a[l]||(a[l]=""),s&&-1===(" "+a[l]+" ").indexOf(" "+s+" ")&&(a[l]+=" "+s));for(var e in d)d.hasOwnProperty(e)&&(a[d[e]]?this.element.setAttribute(d[e],a[d[e]].substr(1)):this.element.removeAttribute(d[e]))}}function o(t,n){t.elementQueriesSetupInformation?t.elementQueriesSetupInformation.addOption(n):(t.elementQueriesSetupInformation=new i(t),t.elementQueriesSetupInformation.addOption(n),t.elementQueriesSensor=new e(t,function(){t.elementQueriesSetupInformation.call()})),t.elementQueriesSetupInformation.call(),h&&f.indexOf(t)<0&&f.push(t)}function a(e,t,n,r){"undefined"==typeof g[t]&&(g[t]={}),"undefined"==typeof g[t][n]&&(g[t][n]={}),"undefined"==typeof g[t][n][r]?g[t][n][r]=e:g[t][n][r]+=","+e}function s(){var e;if(document.querySelectorAll&&(e=document.querySelectorAll.bind(document)),e||"undefined"==typeof $$||(e=$$),e||"undefined"==typeof jQuery||(e=jQuery),!e)throw"No document.querySelectorAll, jQuery or Mootools's $$ found.";return e}function l(){var e=s();for(var t in g)if(g.hasOwnProperty(t))for(var n in g[t])if(g[t].hasOwnProperty(n))for(var r in g[t][n])if(g[t][n].hasOwnProperty(r))for(var i=e(g[t][n][r]),a=0,l=i.length;l>a;a++)o(i[a],{mode:t,property:n,value:r})}function u(t){function n(){var e,n=!1;for(e in r)r.hasOwnProperty(e)&&i[e].minWidth&&t.offsetWidth>i[e].minWidth&&(n=e);if(n||(n=a),s!=n)if(l[n])r[s].style.display="none",r[n].style.display="block",s=n;else{var u=new Image;u.onload=function(){r[n].src=o[n],r[s].style.display="none",r[n].style.display="block",l[n]=!0,s=n},u.src=o[n]}else r[n].src=o[n]}var r=[],i=[],o=[],a=0,s=-1,l=[];for(var u in t.children)if(t.children.hasOwnProperty(u)&&t.children[u].tagName&&"img"===t.children[u].tagName.toLowerCase()){r.push(t.children[u]);var c=t.children[u].getAttribute("min-width")||t.children[u].getAttribute("data-min-width"),d=t.children[u].getAttribute("data-src")||t.children[u].getAttribute("url");o.push(d);var p={minWidth:c};i.push(p),c?t.children[u].style.display="none":(a=r.length-1,t.children[u].style.display="block")}s=a,t.resizeSensor=new e(t,n),n(),h&&f.push(t)}function c(){for(var e=s(),t=e("[data-responsive-image],[responsive-image]"),n=0,r=t.length;r>n;n++)u(t[n])}function d(e){var t,n;for(e=e.replace(/'/g,'"');null!==(t=m.exec(e));)for(n=t[1]+t[3],attrs=t[2];null!==(attrMatch=v.exec(attrs));)a(n,attrMatch[1],attrMatch[2],attrMatch[3])}function p(e){var t="";if(e)if("string"==typeof e)e=e.toLowerCase(),(-1!==e.indexOf("min-width")||-1!==e.indexOf("max-width"))&&d(e);else for(var n=0,r=e.length;r>n;n++)1===e[n].type?(t=e[n].selectorText||e[n].cssText,-1!==t.indexOf("min-height")||-1!==t.indexOf("max-height")?d(t):(-1!==t.indexOf("min-width")||-1!==t.indexOf("max-width"))&&d(t)):4===e[n].type&&p(e[n].cssRules||e[n].rules)}var h=!1,f=[],g={},m=/,?[\s\t]*([^,\n]*?)((?:\[[\s\t]*?(?:min|max)-(?:width|height)[\s\t]*?[~$\^]?=[\s\t]*?"[^"]*?"[\s\t]*?])+)([^,\n\s\{]*)/gim,v=/\[[\s\t]*?(min|max)-(width|height)[\s\t]*?[~$\^]?=[\s\t]*?"([^"]*?)"[\s\t]*?]/gim,y=!1;this.init=function(e){h="undefined"==typeof e?!1:e;for(var t=0,n=document.styleSheets.length;n>t;t++)try{p(document.styleSheets[t].cssRules||document.styleSheets[t].rules||document.styleSheets[t].cssText)}catch(r){if("SecurityError"!==r.name)throw r}if(!y){var i=document.createElement("style");i.type="text/css",i.innerHTML="[responsive-image] > img, [data-responsive-image] {overflow: hidden; padding: 0; } [responsive-image] > img, [data-responsive-image] > img { width: 100%;}",document.getElementsByTagName("head")[0].appendChild(i),y=!0}l(),c()},this.update=function(e){this.init(e)},this.detach=function(){if(!this.withTracking)throw"withTracking is not enabled. We can not detach elements since we don not store it.Use ElementQueries.withTracking = true; before domready or call ElementQueryes.update(true).";for(var e;e=f.pop();)t.detach(e);f=[]}};t.update=function(e){t.instance.update(e)},t.detach=function(e){e.elementQueriesSetupInformation?(e.elementQueriesSensor.detach(),delete e.elementQueriesSetupInformation,delete e.elementQueriesSensor):e.resizeSensor&&(e.resizeSensor.detach(),delete e.resizeSensor)},t.withTracking=!1,t.init=function(){t.instance||(t.instance=new t),t.instance.init(t.withTracking)};var n=function(e){if(document.addEventListener)document.addEventListener("DOMContentLoaded",e,!1);else if(/KHTML|WebKit|iCab/i.test(navigator.userAgent))var t=setInterval(function(){/loaded|complete/i.test(document.readyState)&&(e(),clearInterval(t))},10);else window.onload=e};return t.listen=function(){n(t.init)},"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=t:(window.ElementQueries=t,t.listen()),t}),n("infrastructure/WidgetGlobalCallbacks",["elementQuery"],function(e){return{linkComplete:function(t,n){e.init(),t.$on("$destroy",function(){e.detach(n)})}}}),n("filterPanel/filterPanel.drv",["infrastructure/WidgetGlobalCallbacks"],function(e){return function(){return{restrict:"E",replace:!0,scope:{ownerId:"@"},transclude:!0,templateUrl:"../app/src/filterPanel/filterPanel.tpl.html",controller:"FiltersPanelCtrl",link:function(t,n){e.linkComplete(t,n)}}}}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof n&&n.amd?n("moment",t):e.moment=t()}(this,function(){function e(){return fi.apply(null,arguments)}function n(e){fi=e}function r(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function i(e){return"[object Object]"===Object.prototype.toString.call(e)}function o(e){var t;for(t in e)return!1;return!0}function a(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function s(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e,t){for(var n in t)l(t,n)&&(e[n]=t[n]);return l(t,"toString")&&(e.toString=t.toString),l(t,"valueOf")&&(e.valueOf=t.valueOf),e}function c(e,t,n,r){return yn(e,t,n,r,!0).utc()}function d(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function p(e){return null==e._pf&&(e._pf=d()),e._pf}function h(e){if(null==e._isValid){var t=p(e),n=gi.call(t.parsedDateParts,function(e){return null!=e});e._isValid=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function f(e){var t=c(0/0);return null!=e?u(p(t),e):p(t).userInvalidated=!0,t}function g(e){return void 0===e}function m(e,t){var n,r,i;if(g(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),g(t._i)||(e._i=t._i),g(t._f)||(e._f=t._f),g(t._l)||(e._l=t._l),g(t._strict)||(e._strict=t._strict),g(t._tzm)||(e._tzm=t._tzm),g(t._isUTC)||(e._isUTC=t._isUTC),g(t._offset)||(e._offset=t._offset),g(t._pf)||(e._pf=p(t)),g(t._locale)||(e._locale=t._locale),mi.length>0)for(n in mi)r=mi[n],i=t[r],g(i)||(e[r]=i);return e}function v(t){m(this,t),this._d=new Date(null!=t._d?t._d.getTime():0/0),vi===!1&&(vi=!0,e.updateOffset(this),vi=!1)}function y(e){return e instanceof v||null!=e&&null!=e._isAMomentObject}function b(e){return 0>e?Math.ceil(e)||0:Math.floor(e)}function S(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=b(t)),n}function D(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;i>r;r++)(n&&e[r]!==t[r]||!n&&S(e[r])!==S(t[r]))&&a++;return a+o}function w(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn}function A(t,n){var r=!0;return u(function(){return null!=e.deprecationHandler&&e.deprecationHandler(null,t),r&&(w(t+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),r=!1),n.apply(this,arguments)},n)}function C(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),yi[t]||(w(n),yi[t]=!0)}function x(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function _(e){var t,n;for(n in e)t=e[n],x(t)?this[n]=t:this["_"+n]=t;this._config=e,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function $(e,t){var n,r=u({},e);for(n in t)l(t,n)&&(i(e[n])&&i(t[n])?(r[n]={},u(r[n],e[n]),u(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)l(e,n)&&!l(t,n)&&i(e[n])&&(r[n]=u({},r[n]));return r}function k(e){null!=e&&this.set(e)}function M(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return x(r)?r.call(t,n):r}function T(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function F(){return this._invalidDate}function O(e){return this._ordinal.replace("%d",e)}function P(e,t,n,r){var i=this._relativeTime[n];return x(i)?i(e,t,n,r):i.replace(/%d/i,e)}function E(e,t){var n=this._relativeTime[e>0?"future":"past"];return x(n)?n(t):n.replace(/%s/i,t)}function L(e,t){var n=e.toLowerCase();$i[n]=$i[n+"s"]=$i[t]=e}function I(e){return"string"==typeof e?$i[e]||$i[e.toLowerCase()]:void 0}function R(e){var t,n,r={};for(n in e)l(e,n)&&(t=I(n),t&&(r[t]=e[n]));return r}function N(e,t){ki[e]=t}function W(e){var t=[];for(var n in e)t.push({unit:n,priority:ki[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function B(t,n){return function(r){return null!=r?(G(this,t,r),e.updateOffset(this,n),this):U(this,t)}}function U(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():0/0}function G(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function q(e){return e=I(e),x(this[e])?this[e]():this}function j(e,t){if("object"==typeof e){e=R(e);for(var n=W(e),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit])}else if(e=I(e),x(this[e]))return this[e](t);return this}function z(e,t,n){var r=""+Math.abs(e),i=t-r.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function K(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(Oi[e]=i),t&&(Oi[t[0]]=function(){return z(i.apply(this,arguments),t[1],t[2])}),n&&(Oi[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function H(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function V(e){var t,n,r=e.match(Mi);for(t=0,n=r.length;n>t;t++)r[t]=Oi[r[t]]?Oi[r[t]]:H(r[t]);return function(t){var i,o="";for(i=0;n>i;i++)o+=r[i]instanceof Function?r[i].call(t,e):r[i];return o}}function Y(e,t){return e.isValid()?(t=Q(t,e.localeData()),Fi[t]=Fi[t]||V(t),Fi[t](e)):e.localeData().invalidDate()}function Q(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(Ti.lastIndex=0;r>=0&&Ti.test(e);)e=e.replace(Ti,n),Ti.lastIndex=0,r-=1;return e}function Z(e,t,n){Qi[e]=x(t)?t:function(e){return e&&n?n:t}}function J(e,t){return l(Qi,e)?Qi[e](t._strict,t._locale):new RegExp(X(e))}function X(e){return et(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}))}function et(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function tt(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(r=function(e,n){n[t]=S(e)}),n=0;n<e.length;n++)Zi[e[n]]=r}function nt(e,t){tt(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function rt(e,t,n){null!=t&&l(Zi,e)&&Zi[e](t,n._a,n,e)}function it(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function ot(e,t){return r(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||so).test(t)?"format":"standalone"][e.month()]}function at(e,t){return r(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[so.test(t)?"format":"standalone"][e.month()]}function st(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;12>r;++r)o=c([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?(i=Si.call(this._shortMonthsParse,a),-1!==i?i:null):(i=Si.call(this._longMonthsParse,a),-1!==i?i:null):"MMM"===t?(i=Si.call(this._shortMonthsParse,a),-1!==i?i:(i=Si.call(this._longMonthsParse,a),-1!==i?i:null)):(i=Si.call(this._longMonthsParse,a),-1!==i?i:(i=Si.call(this._shortMonthsParse,a),-1!==i?i:null))}function lt(e,t,n){var r,i,o;if(this._monthsParseExact)return st.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;12>r;r++){if(i=c([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ut(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=S(t);else if(t=e.localeData().monthsParse(t),"number"!=typeof t)return e;return n=Math.min(e.date(),it(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ct(t){return null!=t?(ut(this,t),e.updateOffset(this,!0),this):U(this,"Month")}function dt(){return it(this.year(),this.month())}function pt(e){return this._monthsParseExact?(l(this,"_monthsRegex")||ft.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=co),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function ht(e){return this._monthsParseExact?(l(this,"_monthsRegex")||ft.call(this),e?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=po),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function ft(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;12>t;t++)n=c([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;12>t;t++)r[t]=et(r[t]),i[t]=et(i[t]);for(t=0;24>t;t++)o[t]=et(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function gt(e){return mt(e)?366:365}function mt(e){return e%4===0&&e%100!==0||e%400===0}function vt(){return mt(this.year())}function yt(e,t,n,r,i,o,a){var s=new Date(e,t,n,r,i,o,a);return 100>e&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function bt(e){var t=new Date(Date.UTC.apply(null,arguments));return 100>e&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function St(e,t,n){var r=7+t-n,i=(7+bt(e,0,r).getUTCDay()-t)%7;return-i+r-1}function Dt(e,t,n,r,i){var o,a,s=(7+n-r)%7,l=St(e,r,i),u=1+7*(t-1)+s+l;return 0>=u?(o=e-1,a=gt(o)+u):u>gt(e)?(o=e+1,a=u-gt(e)):(o=e,a=u),{year:o,dayOfYear:a}}function wt(e,t,n){var r,i,o=St(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return 1>a?(i=e.year()-1,r=a+At(i,t,n)):a>At(e.year(),t,n)?(r=a-At(e.year(),t,n),i=e.year()+1):(i=e.year(),r=a),{week:r,year:i}}function At(e,t,n){var r=St(e,t,n),i=St(e+1,t,n);return(gt(e)-r+i)/7}function Ct(e){return wt(e,this._week.dow,this._week.doy).week}function xt(){return this._week.dow}function _t(){return this._week.doy}function $t(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function kt(e){var t=wt(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Mt(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Tt(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Ft(e,t){return r(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]}function Ot(e){return this._weekdaysShort[e.day()]}function Pt(e){return this._weekdaysMin[e.day()]}function Et(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;7>r;++r)o=c([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?(i=Si.call(this._weekdaysParse,a),-1!==i?i:null):"ddd"===t?(i=Si.call(this._shortWeekdaysParse,a),-1!==i?i:null):(i=Si.call(this._minWeekdaysParse,a),-1!==i?i:null):"dddd"===t?(i=Si.call(this._weekdaysParse,a),-1!==i?i:(i=Si.call(this._shortWeekdaysParse,a),-1!==i?i:(i=Si.call(this._minWeekdaysParse,a),-1!==i?i:null))):"ddd"===t?(i=Si.call(this._shortWeekdaysParse,a),-1!==i?i:(i=Si.call(this._weekdaysParse,a),-1!==i?i:(i=Si.call(this._minWeekdaysParse,a),-1!==i?i:null))):(i=Si.call(this._minWeekdaysParse,a),-1!==i?i:(i=Si.call(this._weekdaysParse,a),-1!==i?i:(i=Si.call(this._shortWeekdaysParse,a),-1!==i?i:null)))}function Lt(e,t,n){var r,i,o;if(this._weekdaysParseExact)return Et.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;7>r;r++){if(i=c([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;
if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function It(e){if(!this.isValid())return null!=e?this:0/0;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Mt(e,this.localeData()),this.add(e-t,"d")):t}function Rt(e){if(!this.isValid())return null!=e?this:0/0;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Nt(e){if(!this.isValid())return null!=e?this:0/0;if(null!=e){var t=Tt(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Wt(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Gt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=yo),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Bt(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Gt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=bo),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ut(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Gt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=So),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Gt(){function e(e,t){return t.length-e.length}var t,n,r,i,o,a=[],s=[],l=[],u=[];for(t=0;7>t;t++)n=c([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(r),s.push(i),l.push(o),u.push(r),u.push(i),u.push(o);for(a.sort(e),s.sort(e),l.sort(e),u.sort(e),t=0;7>t;t++)s[t]=et(s[t]),l[t]=et(l[t]),u[t]=et(u[t]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function qt(){return this.hours()%12||12}function jt(){return this.hours()||24}function zt(e,t){K(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Kt(e,t){return t._meridiemParse}function Ht(e){return"p"===(e+"").toLowerCase().charAt(0)}function Vt(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Yt(e){return e?e.toLowerCase().replace("_","-"):e}function Qt(e){for(var t,n,r,i,o=0;o<e.length;){for(i=Yt(e[o]).split("-"),t=i.length,n=Yt(e[o+1]),n=n?n.split("-"):null;t>0;){if(r=Zt(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&D(i,n,!0)>=t-1)break;t--}o++}return null}function Zt(e){var n=null;if(!xo[e]&&"undefined"!=typeof module&&module&&module.exports)try{n=Do._abbr,t("./locale/"+e),Jt(n)}catch(r){}return xo[e]}function Jt(e,t){var n;return e&&(n=g(t)?tn(e):Xt(e,t),n&&(Do=n)),Do._abbr}function Xt(e,t){if(null!==t){var n=Co;return t.abbr=e,null!=xo[e]?(C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=xo[e]._config):null!=t.parentLocale&&(null!=xo[t.parentLocale]?n=xo[t.parentLocale]._config:C("parentLocaleUndefined","specified parentLocale is not defined yet. See http://momentjs.com/guides/#/warnings/parent-locale/")),xo[e]=new k($(n,t)),Jt(e),xo[e]}return delete xo[e],null}function en(e,t){if(null!=t){var n,r=Co;null!=xo[e]&&(r=xo[e]._config),t=$(r,t),n=new k(t),n.parentLocale=xo[e],xo[e]=n,Jt(e)}else null!=xo[e]&&(null!=xo[e].parentLocale?xo[e]=xo[e].parentLocale:null!=xo[e]&&delete xo[e]);return xo[e]}function tn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Do;if(!r(e)){if(t=Zt(e))return t;e=[e]}return Qt(e)}function nn(){return bi(xo)}function rn(e){var t,n=e._a;return n&&-2===p(e).overflow&&(t=n[Xi]<0||n[Xi]>11?Xi:n[eo]<1||n[eo]>it(n[Ji],n[Xi])?eo:n[to]<0||n[to]>24||24===n[to]&&(0!==n[no]||0!==n[ro]||0!==n[io])?to:n[no]<0||n[no]>59?no:n[ro]<0||n[ro]>59?ro:n[io]<0||n[io]>999?io:-1,p(e)._overflowDayOfYear&&(Ji>t||t>eo)&&(t=eo),p(e)._overflowWeeks&&-1===t&&(t=oo),p(e)._overflowWeekday&&-1===t&&(t=ao),p(e).overflow=t),e}function on(e){var t,n,r,i,o,a,s=e._i,l=_o.exec(s)||$o.exec(s);if(l){for(p(e).iso=!0,t=0,n=Mo.length;n>t;t++)if(Mo[t][1].exec(l[1])){i=Mo[t][0],r=Mo[t][2]!==!1;break}if(null==i)return void(e._isValid=!1);if(l[3]){for(t=0,n=To.length;n>t;t++)if(To[t][1].exec(l[3])){o=(l[2]||" ")+To[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(l[4]){if(!ko.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=i+(o||"")+(a||""),dn(e)}else e._isValid=!1}function an(t){var n=Fo.exec(t._i);return null!==n?void(t._d=new Date(+n[1])):(on(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function sn(e,t,n){return null!=e?e:null!=t?t:n}function ln(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function un(e){var t,n,r,i,o=[];if(!e._d){for(r=ln(e),e._w&&null==e._a[eo]&&null==e._a[Xi]&&cn(e),e._dayOfYear&&(i=sn(e._a[Ji],r[Ji]),e._dayOfYear>gt(i)&&(p(e)._overflowDayOfYear=!0),n=bt(i,0,e._dayOfYear),e._a[Xi]=n.getUTCMonth(),e._a[eo]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;7>t;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[to]&&0===e._a[no]&&0===e._a[ro]&&0===e._a[io]&&(e._nextDay=!0,e._a[to]=0),e._d=(e._useUTC?bt:yt).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[to]=24)}}function cn(e){var t,n,r,i,o,a,s,l;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(o=1,a=4,n=sn(t.GG,e._a[Ji],wt(bn(),1,4).year),r=sn(t.W,1),i=sn(t.E,1),(1>i||i>7)&&(l=!0)):(o=e._locale._week.dow,a=e._locale._week.doy,n=sn(t.gg,e._a[Ji],wt(bn(),o,a).year),r=sn(t.w,1),null!=t.d?(i=t.d,(0>i||i>6)&&(l=!0)):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(l=!0)):i=o),1>r||r>At(n,o,a)?p(e)._overflowWeeks=!0:null!=l?p(e)._overflowWeekday=!0:(s=Dt(n,r,i,o,a),e._a[Ji]=s.year,e._dayOfYear=s.dayOfYear)}function dn(t){if(t._f===e.ISO_8601)return void on(t);t._a=[],p(t).empty=!0;var n,r,i,o,a,s=""+t._i,l=s.length,u=0;for(i=Q(t._f,t._locale).match(Mi)||[],n=0;n<i.length;n++)o=i[n],r=(s.match(J(o,t))||[])[0],r&&(a=s.substr(0,s.indexOf(r)),a.length>0&&p(t).unusedInput.push(a),s=s.slice(s.indexOf(r)+r.length),u+=r.length),Oi[o]?(r?p(t).empty=!1:p(t).unusedTokens.push(o),rt(o,r,t)):t._strict&&!r&&p(t).unusedTokens.push(o);p(t).charsLeftOver=l-u,s.length>0&&p(t).unusedInput.push(s),t._a[to]<=12&&p(t).bigHour===!0&&t._a[to]>0&&(p(t).bigHour=void 0),p(t).parsedDateParts=t._a.slice(0),p(t).meridiem=t._meridiem,t._a[to]=pn(t._locale,t._a[to],t._meridiem),un(t),rn(t)}function pn(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&12>t&&(t+=12),r||12!==t||(t=0),t):t}function hn(e){var t,n,r,i,o;if(0===e._f.length)return p(e).invalidFormat=!0,void(e._d=new Date(0/0));for(i=0;i<e._f.length;i++)o=0,t=m({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],dn(t),h(t)&&(o+=p(t).charsLeftOver,o+=10*p(t).unusedTokens.length,p(t).score=o,(null==r||r>o)&&(r=o,n=t));u(e,n||t)}function fn(e){if(!e._d){var t=R(e._i);e._a=s([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),un(e)}}function gn(e){var t=new v(rn(mn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function mn(e){var t=e._i,n=e._f;return e._locale=e._locale||tn(e._l),null===t||void 0===n&&""===t?f({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),y(t)?new v(rn(t)):(r(n)?hn(e):a(t)?e._d=t:n?dn(e):vn(e),h(e)||(e._d=null),e))}function vn(t){var n=t._i;void 0===n?t._d=new Date(e.now()):a(n)?t._d=new Date(n.valueOf()):"string"==typeof n?an(t):r(n)?(t._a=s(n.slice(0),function(e){return parseInt(e,10)}),un(t)):"object"==typeof n?fn(t):"number"==typeof n?t._d=new Date(n):e.createFromInputFallback(t)}function yn(e,t,n,a,s){var l={};return"boolean"==typeof n&&(a=n,n=void 0),(i(e)&&o(e)||r(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=s,l._l=n,l._i=e,l._f=t,l._strict=a,gn(l)}function bn(e,t,n,r){return yn(e,t,n,r,!1)}function Sn(e,t){var n,i;if(1===t.length&&r(t[0])&&(t=t[0]),!t.length)return bn();for(n=t[0],i=1;i<t.length;++i)(!t[i].isValid()||t[i][e](n))&&(n=t[i]);return n}function Dn(){var e=[].slice.call(arguments,0);return Sn("isBefore",e)}function wn(){var e=[].slice.call(arguments,0);return Sn("isAfter",e)}function An(e){var t=R(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=tn(),this._bubble()}function Cn(e){return e instanceof An}function xn(e,t){K(e,0,0,function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+z(~~(e/60),2)+t+z(~~e%60,2)})}function _n(e,t){var n=(t||"").match(e)||[],r=n[n.length-1]||[],i=(r+"").match(Lo)||["-",0,0],o=+(60*i[1])+S(i[2]);return"+"===i[0]?o:-o}function $n(t,n){var r,i;return n._isUTC?(r=n.clone(),i=(y(t)||a(t)?t.valueOf():bn(t).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),e.updateOffset(r,!1),r):bn(t).local()}function kn(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Mn(t,n){var r,i=this._offset||0;return this.isValid()?null!=t?("string"==typeof t?t=_n(Hi,t):Math.abs(t)<16&&(t=60*t),!this._isUTC&&n&&(r=kn(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==t&&(!n||this._changeInProgress?Kn(this,Bn(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:kn(this):null!=t?this:0/0}function Tn(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Fn(e){return this.utcOffset(0,e)}function On(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(kn(this),"m")),this}function Pn(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(_n(Ki,this._i)),this}function En(e){return this.isValid()?(e=e?bn(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function Ln(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function In(){if(!g(this._isDSTShifted))return this._isDSTShifted;var e={};if(m(e,this),e=mn(e),e._a){var t=e._isUTC?c(e._a):bn(e._a);this._isDSTShifted=this.isValid()&&D(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Rn(){return this.isValid()?!this._isUTC:!1}function Nn(){return this.isValid()?this._isUTC:!1}function Wn(){return this.isValid()?this._isUTC&&0===this._offset:!1}function Bn(e,t){var n,r,i,o=e,a=null;return Cn(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(o={},t?o[t]=e:o.milliseconds=e):(a=Io.exec(e))?(n="-"===a[1]?-1:1,o={y:0,d:S(a[eo])*n,h:S(a[to])*n,m:S(a[no])*n,s:S(a[ro])*n,ms:S(a[io])*n}):(a=Ro.exec(e))?(n="-"===a[1]?-1:1,o={y:Un(a[2],n),M:Un(a[3],n),w:Un(a[4],n),d:Un(a[5],n),h:Un(a[6],n),m:Un(a[7],n),s:Un(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=qn(bn(o.from),bn(o.to)),o={},o.ms=i.milliseconds,o.M=i.months),r=new An(o),Cn(e)&&l(e,"_locale")&&(r._locale=e._locale),r}function Un(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Gn(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function qn(e,t){var n;return e.isValid()&&t.isValid()?(t=$n(t,e),e.isBefore(t)?n=Gn(e,t):(n=Gn(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function jn(e){return 0>e?-1*Math.round(-1*e):Math.round(e)}function zn(e,t){return function(n,r){var i,o;return null===r||isNaN(+r)||(C(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),n="string"==typeof n?+n:n,i=Bn(n,r),Kn(this,i,e),this}}function Kn(t,n,r,i){var o=n._milliseconds,a=jn(n._days),s=jn(n._months);t.isValid()&&(i=null==i?!0:i,o&&t._d.setTime(t._d.valueOf()+o*r),a&&G(t,"Date",U(t,"Date")+a*r),s&&ut(t,U(t,"Month")+s*r),i&&e.updateOffset(t,a||s))}function Hn(e,t){var n=e.diff(t,"days",!0);return-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse"}function Vn(t,n){var r=t||bn(),i=$n(r,this).startOf("day"),o=e.calendarFormat(this,i)||"sameElse",a=n&&(x(n[o])?n[o].call(this,r):n[o]);return this.format(a||this.localeData().calendar(o,this,bn(r)))}function Yn(){return new v(this)}function Qn(e,t){var n=y(e)?e:bn(e);return this.isValid()&&n.isValid()?(t=I(g(t)?"millisecond":t),"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function Zn(e,t){var n=y(e)?e:bn(e);return this.isValid()&&n.isValid()?(t=I(g(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function Jn(e,t,n,r){return r=r||"()",("("===r[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))}function Xn(e,t){var n,r=y(e)?e:bn(e);return this.isValid()&&r.isValid()?(t=I(t||"millisecond"),"millisecond"===t?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf())):!1}function er(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function tr(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function nr(e,t,n){var r,i,o,a;return this.isValid()?(r=$n(e,this),r.isValid()?(i=6e4*(r.utcOffset()-this.utcOffset()),t=I(t),"year"===t||"month"===t||"quarter"===t?(a=rr(this,r),"quarter"===t?a/=3:"year"===t&&(a/=12)):(o=this-r,a="second"===t?o/1e3:"minute"===t?o/6e4:"hour"===t?o/36e5:"day"===t?(o-i)/864e5:"week"===t?(o-i)/6048e5:o),n?a:b(a)):0/0):0/0}function rr(e,t){var n,r,i=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(i,"months");return 0>t-o?(n=e.clone().add(i-1,"months"),r=(t-o)/(o-n)):(n=e.clone().add(i+1,"months"),r=(t-o)/(n-o)),-(i+r)||0}function ir(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function or(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?x(Date.prototype.toISOString)?this.toDate().toISOString():Y(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):Y(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function ar(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=Y(this,t);return this.localeData().postformat(n)}function sr(e,t){return this.isValid()&&(y(e)&&e.isValid()||bn(e).isValid())?Bn({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function lr(e){return this.from(bn(),e)}function ur(e,t){return this.isValid()&&(y(e)&&e.isValid()||bn(e).isValid())?Bn({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function cr(e){return this.to(bn(),e)}function dr(e){var t;return void 0===e?this._locale._abbr:(t=tn(e),null!=t&&(this._locale=t),this)}function pr(){return this._locale}function hr(e){switch(e=I(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function fr(e){return e=I(e),void 0===e||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function gr(){return this._d.valueOf()-6e4*(this._offset||0)}function mr(){return Math.floor(this.valueOf()/1e3)}function vr(){return new Date(this.valueOf())}function yr(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function br(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Sr(){return this.isValid()?this.toISOString():null}function Dr(){return h(this)}function wr(){return u({},p(this))}function Ar(){return p(this).overflow}function Cr(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function xr(e,t){K(0,[e,e.length],0,t)}function _r(e){return Tr.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function $r(e){return Tr.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function kr(){return At(this.year(),1,4)}function Mr(){var e=this.localeData()._week;return At(this.year(),e.dow,e.doy)}function Tr(e,t,n,r,i){var o;return null==e?wt(this,r,i).year:(o=At(e,r,i),t>o&&(t=o),Fr.call(this,e,t,n,r,i))}function Fr(e,t,n,r,i){var o=Dt(e,t,n,r,i),a=bt(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Or(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Pr(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function Er(e,t){t[io]=S(1e3*("0."+e))}function Lr(){return this._isUTC?"UTC":""}function Ir(){return this._isUTC?"Coordinated Universal Time":""}function Rr(e){return bn(1e3*e)}function Nr(){return bn.apply(null,arguments).parseZone()}function Wr(e){return e}function Br(e,t,n,r){var i=tn(),o=c().set(r,t);return i[n](o,e)}function Ur(e,t,n){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return Br(e,t,n,"month");var r,i=[];for(r=0;12>r;r++)i[r]=Br(e,r,n,"month");return i}function Gr(e,t,n,r){"boolean"==typeof e?("number"==typeof t&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,"number"==typeof t&&(n=t,t=void 0),t=t||"");var i=tn(),o=e?i._week.dow:0;if(null!=n)return Br(t,(n+o)%7,r,"day");var a,s=[];for(a=0;7>a;a++)s[a]=Br(t,(a+o)%7,r,"day");return s}function qr(e,t){return Ur(e,t,"months")}function jr(e,t){return Ur(e,t,"monthsShort")}function zr(e,t,n){return Gr(e,t,n,"weekdays")}function Kr(e,t,n){return Gr(e,t,n,"weekdaysShort")}function Hr(e,t,n){return Gr(e,t,n,"weekdaysMin")}function Vr(){var e=this._data;return this._milliseconds=Yo(this._milliseconds),this._days=Yo(this._days),this._months=Yo(this._months),e.milliseconds=Yo(e.milliseconds),e.seconds=Yo(e.seconds),e.minutes=Yo(e.minutes),e.hours=Yo(e.hours),e.months=Yo(e.months),e.years=Yo(e.years),this}function Yr(e,t,n,r){var i=Bn(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Qr(e,t){return Yr(this,e,t,1)}function Zr(e,t){return Yr(this,e,t,-1)}function Jr(e){return 0>e?Math.floor(e):Math.ceil(e)}function Xr(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||0>=o&&0>=a&&0>=s||(o+=864e5*Jr(ti(s)+a),a=0,s=0),l.milliseconds=o%1e3,e=b(o/1e3),l.seconds=e%60,t=b(e/60),l.minutes=t%60,n=b(t/60),l.hours=n%24,a+=b(n/24),i=b(ei(a)),s+=i,a-=Jr(ti(i)),r=b(s/12),s%=12,l.days=a,l.months=s,l.years=r,this}function ei(e){return 4800*e/146097}function ti(e){return 146097*e/4800}function ni(e){var t,n,r=this._milliseconds;if(e=I(e),"month"===e||"year"===e)return t=this._days+r/864e5,n=this._months+ei(t),"month"===e?n:n/12;switch(t=this._days+Math.round(ti(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function ri(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*S(this._months/12)}function ii(e){return function(){return this.as(e)}}function oi(e){return e=I(e),this[e+"s"]()}function ai(e){return function(){return this._data[e]}}function si(){return b(this.days()/7)}function li(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function ui(e,t,n){var r=Bn(e).abs(),i=da(r.as("s")),o=da(r.as("m")),a=da(r.as("h")),s=da(r.as("d")),l=da(r.as("M")),u=da(r.as("y")),c=i<pa.s&&["s",i]||1>=o&&["m"]||o<pa.m&&["mm",o]||1>=a&&["h"]||a<pa.h&&["hh",a]||1>=s&&["d"]||s<pa.d&&["dd",s]||1>=l&&["M"]||l<pa.M&&["MM",l]||1>=u&&["y"]||["yy",u];return c[2]=t,c[3]=+e>0,c[4]=n,li.apply(null,c)}function ci(e){return void 0===e?da:"function"==typeof e?(da=e,!0):!1}function di(e,t){return void 0===pa[e]?!1:void 0===t?pa[e]:(pa[e]=t,!0)}function pi(e){var t=this.localeData(),n=ui(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function hi(){var e,t,n,r=ha(this._milliseconds)/1e3,i=ha(this._days),o=ha(this._months);e=b(r/60),t=b(e/60),r%=60,e%=60,n=b(o/12),o%=12;var a=n,s=o,l=i,u=t,c=e,d=r,p=this.asSeconds();return p?(0>p?"-":"")+"P"+(a?a+"Y":"")+(s?s+"M":"")+(l?l+"D":"")+(u||c||d?"T":"")+(u?u+"H":"")+(c?c+"M":"")+(d?d+"S":""):"P0D"}var fi,gi;gi=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;n>r;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var mi=e.momentProperties=[],vi=!1,yi={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var bi;bi=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)l(e,t)&&n.push(t);return n};var Si,Di={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},wi={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Ai="Invalid date",Ci="%d",xi=/\d{1,2}/,_i={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},$i={},ki={},Mi=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ti=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Fi={},Oi={},Pi=/\d/,Ei=/\d\d/,Li=/\d{3}/,Ii=/\d{4}/,Ri=/[+-]?\d{6}/,Ni=/\d\d?/,Wi=/\d\d\d\d?/,Bi=/\d\d\d\d\d\d?/,Ui=/\d{1,3}/,Gi=/\d{1,4}/,qi=/[+-]?\d{1,6}/,ji=/\d+/,zi=/[+-]?\d+/,Ki=/Z|[+-]\d\d:?\d\d/gi,Hi=/Z|[+-]\d\d(?::?\d\d)?/gi,Vi=/[+-]?\d+(\.\d{1,3})?/,Yi=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Qi={},Zi={},Ji=0,Xi=1,eo=2,to=3,no=4,ro=5,io=6,oo=7,ao=8;Si=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},K("M",["MM",2],"Mo",function(){return this.month()+1}),K("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),K("MMMM",0,0,function(e){return this.localeData().months(this,e)}),L("month","M"),N("month",8),Z("M",Ni),Z("MM",Ni,Ei),Z("MMM",function(e,t){return t.monthsShortRegex(e)}),Z("MMMM",function(e,t){return t.monthsRegex(e)}),tt(["M","MM"],function(e,t){t[Xi]=S(e)-1}),tt(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[Xi]=i:p(n).invalidMonth=e});var so=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,lo="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),uo="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),co=Yi,po=Yi;K("Y",0,0,function(){var e=this.year();return 9999>=e?""+e:"+"+e}),K(0,["YY",2],0,function(){return this.year()%100}),K(0,["YYYY",4],0,"year"),K(0,["YYYYY",5],0,"year"),K(0,["YYYYYY",6,!0],0,"year"),L("year","y"),N("year",1),Z("Y",zi),Z("YY",Ni,Ei),Z("YYYY",Gi,Ii),Z("YYYYY",qi,Ri),Z("YYYYYY",qi,Ri),tt(["YYYYY","YYYYYY"],Ji),tt("YYYY",function(t,n){n[Ji]=2===t.length?e.parseTwoDigitYear(t):S(t)}),tt("YY",function(t,n){n[Ji]=e.parseTwoDigitYear(t)}),tt("Y",function(e,t){t[Ji]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return S(e)+(S(e)>68?1900:2e3)};var ho=B("FullYear",!0);K("w",["ww",2],"wo","week"),K("W",["WW",2],"Wo","isoWeek"),L("week","w"),L("isoWeek","W"),N("week",5),N("isoWeek",5),Z("w",Ni),Z("ww",Ni,Ei),Z("W",Ni),Z("WW",Ni,Ei),nt(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=S(e)});var fo={dow:0,doy:6};K("d",0,"do","day"),K("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),K("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),K("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),K("e",0,0,"weekday"),K("E",0,0,"isoWeekday"),L("day","d"),L("weekday","e"),L("isoWeekday","E"),N("day",11),N("weekday",11),N("isoWeekday",11),Z("d",Ni),Z("e",Ni),Z("E",Ni),Z("dd",function(e,t){return t.weekdaysMinRegex(e)}),Z("ddd",function(e,t){return t.weekdaysShortRegex(e)}),Z("dddd",function(e,t){return t.weekdaysRegex(e)}),nt(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:p(n).invalidWeekday=e}),nt(["d","e","E"],function(e,t,n,r){t[r]=S(e)});var go="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),mo="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),vo="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),yo=Yi,bo=Yi,So=Yi;K("H",["HH",2],0,"hour"),K("h",["hh",2],0,qt),K("k",["kk",2],0,jt),K("hmm",0,0,function(){return""+qt.apply(this)+z(this.minutes(),2)}),K("hmmss",0,0,function(){return""+qt.apply(this)+z(this.minutes(),2)+z(this.seconds(),2)}),K("Hmm",0,0,function(){return""+this.hours()+z(this.minutes(),2)}),K("Hmmss",0,0,function(){return""+this.hours()+z(this.minutes(),2)+z(this.seconds(),2)}),zt("a",!0),zt("A",!1),L("hour","h"),N("hour",13),Z("a",Kt),Z("A",Kt),Z("H",Ni),Z("h",Ni),Z("HH",Ni,Ei),Z("hh",Ni,Ei),Z("hmm",Wi),Z("hmmss",Bi),Z("Hmm",Wi),Z("Hmmss",Bi),tt(["H","HH"],to),tt(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),tt(["h","hh"],function(e,t,n){t[to]=S(e),p(n).bigHour=!0}),tt("hmm",function(e,t,n){var r=e.length-2;t[to]=S(e.substr(0,r)),t[no]=S(e.substr(r)),p(n).bigHour=!0}),tt("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[to]=S(e.substr(0,r)),t[no]=S(e.substr(r,2)),t[ro]=S(e.substr(i)),p(n).bigHour=!0}),tt("Hmm",function(e,t){var n=e.length-2;t[to]=S(e.substr(0,n)),t[no]=S(e.substr(n))}),tt("Hmmss",function(e,t){var n=e.length-4,r=e.length-2;t[to]=S(e.substr(0,n)),t[no]=S(e.substr(n,2)),t[ro]=S(e.substr(r))});var Do,wo=/[ap]\.?m?\.?/i,Ao=B("Hours",!0),Co={calendar:Di,longDateFormat:wi,invalidDate:Ai,ordinal:Ci,ordinalParse:xi,relativeTime:_i,months:lo,monthsShort:uo,week:fo,weekdays:go,weekdaysMin:vo,weekdaysShort:mo,meridiemParse:wo},xo={},_o=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,$o=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,ko=/Z|[+-]\d\d(?::?\d\d)?/,Mo=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],To=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Fo=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=A("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),e.ISO_8601=function(){};var Oo=A("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=bn.apply(null,arguments);return this.isValid()&&e.isValid()?this>e?this:e:f()}),Po=A("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=bn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:f()}),Eo=function(){return Date.now?Date.now():+new Date};xn("Z",":"),xn("ZZ",""),Z("Z",Hi),Z("ZZ",Hi),tt(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=_n(Hi,e)});var Lo=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Io=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,Ro=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Bn.fn=An.prototype;var No=zn(1,"add"),Wo=zn(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Bo=A("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});K(0,["gg",2],0,function(){return this.weekYear()%100}),K(0,["GG",2],0,function(){return this.isoWeekYear()%100}),xr("gggg","weekYear"),xr("ggggg","weekYear"),xr("GGGG","isoWeekYear"),xr("GGGGG","isoWeekYear"),L("weekYear","gg"),L("isoWeekYear","GG"),N("weekYear",1),N("isoWeekYear",1),Z("G",zi),Z("g",zi),Z("GG",Ni,Ei),Z("gg",Ni,Ei),Z("GGGG",Gi,Ii),Z("gggg",Gi,Ii),Z("GGGGG",qi,Ri),Z("ggggg",qi,Ri),nt(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=S(e)}),nt(["gg","GG"],function(t,n,r,i){n[i]=e.parseTwoDigitYear(t)}),K("Q",0,"Qo","quarter"),L("quarter","Q"),N("quarter",7),Z("Q",Pi),tt("Q",function(e,t){t[Xi]=3*(S(e)-1)}),K("D",["DD",2],"Do","date"),L("date","D"),N("date",9),Z("D",Ni),Z("DD",Ni,Ei),Z("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),tt(["D","DD"],eo),tt("Do",function(e,t){t[eo]=S(e.match(Ni)[0],10)});var Uo=B("Date",!0);K("DDD",["DDDD",3],"DDDo","dayOfYear"),L("dayOfYear","DDD"),N("dayOfYear",4),Z("DDD",Ui),Z("DDDD",Li),tt(["DDD","DDDD"],function(e,t,n){n._dayOfYear=S(e)}),K("m",["mm",2],0,"minute"),L("minute","m"),N("minute",14),Z("m",Ni),Z("mm",Ni,Ei),tt(["m","mm"],no);var Go=B("Minutes",!1);K("s",["ss",2],0,"second"),L("second","s"),N("second",15),Z("s",Ni),Z("ss",Ni,Ei),tt(["s","ss"],ro);var qo=B("Seconds",!1);K("S",0,0,function(){return~~(this.millisecond()/100)}),K(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),K(0,["SSS",3],0,"millisecond"),K(0,["SSSS",4],0,function(){return 10*this.millisecond()}),K(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),K(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),K(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),K(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),K(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),L("millisecond","ms"),N("millisecond",16),Z("S",Ui,Pi),Z("SS",Ui,Ei),Z("SSS",Ui,Li);var jo;for(jo="SSSS";jo.length<=9;jo+="S")Z(jo,ji);for(jo="S";jo.length<=9;jo+="S")tt(jo,Er);var zo=B("Milliseconds",!1);K("z",0,0,"zoneAbbr"),K("zz",0,0,"zoneName");var Ko=v.prototype;Ko.add=No,Ko.calendar=Vn,Ko.clone=Yn,Ko.diff=nr,Ko.endOf=fr,Ko.format=ar,Ko.from=sr,Ko.fromNow=lr,Ko.to=ur,Ko.toNow=cr,Ko.get=q,Ko.invalidAt=Ar,Ko.isAfter=Qn,Ko.isBefore=Zn,Ko.isBetween=Jn,Ko.isSame=Xn,Ko.isSameOrAfter=er,Ko.isSameOrBefore=tr,Ko.isValid=Dr,Ko.lang=Bo,Ko.locale=dr,Ko.localeData=pr,Ko.max=Po,Ko.min=Oo,Ko.parsingFlags=wr,Ko.set=j,Ko.startOf=hr,Ko.subtract=Wo,Ko.toArray=yr,Ko.toObject=br,Ko.toDate=vr,Ko.toISOString=or,Ko.toJSON=Sr,Ko.toString=ir,Ko.unix=mr,Ko.valueOf=gr,Ko.creationData=Cr,Ko.year=ho,Ko.isLeapYear=vt,Ko.weekYear=_r,Ko.isoWeekYear=$r,Ko.quarter=Ko.quarters=Or,Ko.month=ct,Ko.daysInMonth=dt,Ko.week=Ko.weeks=$t,Ko.isoWeek=Ko.isoWeeks=kt,Ko.weeksInYear=Mr,Ko.isoWeeksInYear=kr,Ko.date=Uo,Ko.day=Ko.days=It,Ko.weekday=Rt,Ko.isoWeekday=Nt,Ko.dayOfYear=Pr,Ko.hour=Ko.hours=Ao,Ko.minute=Ko.minutes=Go,Ko.second=Ko.seconds=qo,Ko.millisecond=Ko.milliseconds=zo,Ko.utcOffset=Mn,Ko.utc=Fn,Ko.local=On,Ko.parseZone=Pn,Ko.hasAlignedHourOffset=En,Ko.isDST=Ln,Ko.isLocal=Rn,Ko.isUtcOffset=Nn,Ko.isUtc=Wn,Ko.isUTC=Wn,Ko.zoneAbbr=Lr,Ko.zoneName=Ir,Ko.dates=A("dates accessor is deprecated. Use date instead.",Uo),Ko.months=A("months accessor is deprecated. Use month instead",ct),Ko.years=A("years accessor is deprecated. Use year instead",ho),Ko.zone=A("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Tn),Ko.isDSTShifted=A("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",In);
var Ho=Ko,Vo=k.prototype;Vo.calendar=M,Vo.longDateFormat=T,Vo.invalidDate=F,Vo.ordinal=O,Vo.preparse=Wr,Vo.postformat=Wr,Vo.relativeTime=P,Vo.pastFuture=E,Vo.set=_,Vo.months=ot,Vo.monthsShort=at,Vo.monthsParse=lt,Vo.monthsRegex=ht,Vo.monthsShortRegex=pt,Vo.week=Ct,Vo.firstDayOfYear=_t,Vo.firstDayOfWeek=xt,Vo.weekdays=Ft,Vo.weekdaysMin=Pt,Vo.weekdaysShort=Ot,Vo.weekdaysParse=Lt,Vo.weekdaysRegex=Wt,Vo.weekdaysShortRegex=Bt,Vo.weekdaysMinRegex=Ut,Vo.isPM=Ht,Vo.meridiem=Vt,Jt("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===S(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=A("moment.lang is deprecated. Use moment.locale instead.",Jt),e.langData=A("moment.langData is deprecated. Use moment.localeData instead.",tn);var Yo=Math.abs,Qo=ii("ms"),Zo=ii("s"),Jo=ii("m"),Xo=ii("h"),ea=ii("d"),ta=ii("w"),na=ii("M"),ra=ii("y"),ia=ai("milliseconds"),oa=ai("seconds"),aa=ai("minutes"),sa=ai("hours"),la=ai("days"),ua=ai("months"),ca=ai("years"),da=Math.round,pa={s:45,m:45,h:22,d:26,M:11},ha=Math.abs,fa=An.prototype;fa.abs=Vr,fa.add=Qr,fa.subtract=Zr,fa.as=ni,fa.asMilliseconds=Qo,fa.asSeconds=Zo,fa.asMinutes=Jo,fa.asHours=Xo,fa.asDays=ea,fa.asWeeks=ta,fa.asMonths=na,fa.asYears=ra,fa.valueOf=ri,fa._bubble=Xr,fa.get=oi,fa.milliseconds=ia,fa.seconds=oa,fa.minutes=aa,fa.hours=sa,fa.days=la,fa.weeks=si,fa.months=ua,fa.years=ca,fa.humanize=pi,fa.toISOString=hi,fa.toString=hi,fa.toJSON=hi,fa.locale=dr,fa.localeData=pr,fa.toIsoString=A("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",hi),fa.lang=Bo,K("X",0,0,"unix"),K("x",0,0,"valueOf"),Z("x",zi),Z("X",Vi),tt("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),tt("x",function(e,t,n){n._d=new Date(S(e))}),e.version="2.14.2",n(bn),e.fn=Ho,e.min=Dn,e.max=wn,e.now=Eo,e.utc=c,e.unix=Rr,e.months=qr,e.isDate=a,e.locale=Jt,e.invalid=f,e.duration=Bn,e.isMoment=y,e.weekdays=zr,e.parseZone=Nr,e.localeData=tn,e.isDuration=Cn,e.monthsShort=jr,e.weekdaysMin=Hr,e.defineLocale=Xt,e.updateLocale=en,e.locales=nn,e.weekdaysShort=Kr,e.normalizeUnits=I,e.relativeTimeRounding=ci,e.relativeTimeThreshold=di,e.calendarFormat=Hn,e.prototype=Ho;var ga=e;return ga}),n("filterModel/AbstractFilter",["lodash"],function(e){function t(t,n,r){this.filterId=t,this.label=n,this.filterablePropertyName=r,this.filterInitialized=!1;var i=e.constant(!0);this.filteringFunction=i}return t.prototype.getFilterablePropertyName=function(){return this.filterablePropertyName},t.prototype.isListenableStatistics=function(e){return this.filterablePropertyName===e.filterablePropertyName},t.prototype.applyStatistics=function(e){this.filterInitialized=!0;var t=this;e.filter(t.isListenableStatistics.bind(t)).forEach(function(e){t.applyListenableStatistics(e.statistics)})},t}),n("filterModel/DiscreteValuesFilter",["filterModel/AbstractFilter","lodash"],function(e,t){function n(){e.apply(this,arguments),this.selectableValues=[]}return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype.applyListenableStatistics=function(e){this.selectableValues=e.selectableValues.map(function(e){return{propertyValue:e.value,minPrice:e.minPrice,count:e.count,currency:e.currency,permitted:!0}})},n.prototype.getRequestedStatisticsType=function(){return"discrete"},n.prototype.reset=function(){this.selectableValues.forEach(function(e){e.permitted=!0})},n.prototype.rebuildFilteringFunction=function(){var e=t.map(t.filter(this.selectableValues,"permitted"),"propertyValue");return this.filteringFunction=this.filteringFunctionConstructor(this.filterablePropertyName,e),this.filteringFunction},n.prototype.filteringFunctionConstructor=function(e,n){return function(r){var i=t.result(r,e);return-1!==n.indexOf(i)}},n}),n("filterModel/DiscreteValuesListAllRequiredFilter",["lodash","filterModel/DiscreteValuesFilter"],function(e,t){function n(){t.apply(this,arguments)}return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.filteringFunctionConstructor=function(t,n){return function(r){var i=e.result(r,t);return i.every(function(t){return e.includes(n,t)})}},n}),n("filterModel/DiscreteValuesListAnyRequiredFilter",["lodash","filterModel/DiscreteValuesFilter"],function(e,t){function n(){t.apply(this,arguments)}return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.filteringFunctionConstructor=function(t,n){return function(r){var i=e.result(r,t);return i.some(function(t){return e.includes(n,t)})}},n}),n("filterModel/RangeFilter",["moment","lodash","filterModel/AbstractFilter"],function(e,t,n){function r(){n.apply(this,arguments)}return r.prototype=Object.create(n.prototype),r.prototype.constructor=r,r.prototype.applyListenableStatistics=function(e){this.minConstraint=e.min,this.maxConstraint=e.max,this.min=e.min,this.max=e.max},r.prototype.getRequestedStatisticsType=function(){return"range"},r.prototype.reset=function(){this.min=this.minConstraint,this.max=this.maxConstraint},r.prototype.rebuildFilteringFunction=function(){return this.filteringFunction=this.filteringFunctionConstructor(this.filterablePropertyName,this.min,this.max),this.filteringFunction},r.prototype.filteringFunctionConstructor=function(e,n,r){return function(i){var o=t.result(i,e);return(t.isUndefined(n)||o>=n)&&(t.isUndefined(r)||r>=o)}},r}),n("filterModel/RangeDateTimeFilter",["moment","lodash","filterModel/RangeFilter"],function(e,t,n){function r(){n.apply(this,arguments)}return r.prototype=Object.create(n.prototype),r.prototype.constructor=r,r.prototype.applyListenableStatistics=function(e){var t=1e3*e.min.unix(),n=1e3*e.max.unix();this.minConstraint=t,this.maxConstraint=n,this.min=t,this.max=n},r.prototype.rebuildFilteringFunction=function(){return this.filteringFunction=this.filteringFunctionConstructor(this.filterablePropertyName,e(this.min),e(this.max)),this.filteringFunction},r.prototype.filteringFunctionConstructor=function(e,n,r){return function(i){var o=t.result(i,e);return o.isBetween(n,r)||o.isSame(n)||o.isSame(r)}},r}),n("filterModel/RangeMonetaryAmountFilter",["lodash","moment","filterModel/RangeFilter"],function(e,t,n){function r(){n.apply(this,arguments)}return r.prototype=Object.create(n.prototype),r.prototype.constructor=r,r.prototype.getRequestedStatisticsType=function(){return"rangeMonetaryAmount"},r.prototype.applyListenableStatistics=function(t){this.minConstraint=e.assign({},t.min),this.maxConstraint=e.assign({},t.max),this.min=e.assign({},t.min),this.max=e.assign({},t.max)},r.prototype.reset=function(){this.min=e.assign({},this.minConstraint),this.max=e.assign({},this.maxConstraint)},r.prototype.filteringFunctionConstructor=function(t,n,r){return function(i){var o=e.result(i,t);return(e.isUndefined(n.amount)||o.amount>=n.amount)&&(e.isUndefined(r.amount)||o.amount<=r.amount)}},r}),n("filterModel/BooleanFilter",["lodash","filterModel/AbstractFilter"],function(e,t){function n(){t.apply(this,arguments),this.isRequired=!1}return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.applyListenableStatistics=e.noop,n.prototype.getRequestedStatisticsType=function(){return"noop"},n.prototype.reset=function(){this.isRequired=!1},n.prototype.rebuildFilteringFunction=function(){return this.filteringFunction=this.filteringFunctionConstructor(this.filterablePropertyName,this.isRequired),this.filteringFunction},n.prototype.filteringFunctionConstructor=function(t,n){return function(r){var i=e.result(r,t);return!n||i===n}},n}),n("filterPanel/valuesFilter.drv",["lodash","moment","filterModel/DiscreteValuesFilter","filterModel/DiscreteValuesListAllRequiredFilter","filterModel/DiscreteValuesListAnyRequiredFilter","filterModel/RangeFilter","filterModel/RangeDateTimeFilter","filterModel/RangeMonetaryAmountFilter","filterModel/BooleanFilter"],function(e,t,n,r,i,o,a,s,l){return function(t,u,c,d,p){return{restrict:"E",require:"^filterPanel",replace:!0,scope:{canFilterOnlyOnMaxValue:"@",canFilterOnlyOnMinValue:"@",filterType:"@type",filterPanelId:"@?"},templateUrl:"../app/src/filterPanel/valuesFilter.tpl.html",link:function(h,f,g,m){function v(){var e=d.next();switch(h.filterType){case"discrete":return new n(e,g.label,g.filterablePropertyName);case"discreteListAllRequired":return new r(e,g.label,g.filterablePropertyName);case"discreteListAnyRequired":return new i(e,g.label,g.filterablePropertyName);case"range":return new o(e,g.label,g.filterablePropertyName);case"rangeDateTime":return new a(e,g.label,g.filterablePropertyName);case"rangeMonetaryAmount":return new s(e,g.label,g.filterablePropertyName,g.currencyPropertyName);case"boolean":return new l(e,g.label,g.filterablePropertyName)}}h.filterInstance=v(),h.valuesDisplayFilter=g.valuesDisplayFilter,h.valuesDisplayFilterOptions=g.valuesDisplayFilterOptions,h.hidePriceFrom="true"===g.hidePriceFrom,h.currencyFilter=g.customCurrencyFilter||"currency",t.register({property:h.filterInstance.getFilterablePropertyName(),type:h.filterInstance.getRequestedStatisticsType()},m.getOwnerId()),h.$on(u,function(){m.notifyOnStatisticsUpdate();var t=c.statistics[m.getOwnerId()];e.isUndefined(t)||(h.filterInstance.applyStatistics(t),h.$evalAsync())}),h.permittedValuesChanged=function(){var e=h.filterInstance.rebuildFilteringFunction();m.updateFilteringFunction(h.filterInstance.filterId,e),h.$evalAsync()},h.$on(p,function(){h.filterInstance.reset(),h.permittedValuesChanged()})}}}}),n("filterPanel/applyFilter.ftr",["lodash"],function(e){return function(t){return function(){var n=Array.prototype.slice.call(arguments),r=n.shift(),i=n.shift();e.isUndefined(i)&&(i="passAllFilter");var o=t(i);return n.unshift(r),o.apply(null,n)}}}),n("filterPanel/filterPanel.mod",["angular","angular_rangeslider","messaging/messaging.mod","filterPanel/filterPanel.ctr","filterPanel/filterPanel.drv","filterPanel/valuesFilter.drv","filterPanel/applyFilter.ftr"],function(e,t,n,r,i,o,a){return e.module("WidgetsFilterPanel.filterPanel",["WidgetsFilterPanel.messaging","ui-rangeSlider"]).service("FilterIdGeneratorService",function(){var e=0;return{next:function(){return e++}}}).controller("FiltersPanelCtrl",["$scope","FilteringCriteriaChangedNotificationService","resetAllFiltersEvent",r]).filter("applyFilter",["$filter",a]).filter("passAllFilter",function(){return function(e){return e}}).directive("filterPanel",i).directive("valuesFilter",["StatisticsGatheringRequestsRegistryService","statisticsUpdateNotification","StatisticsBroadcastingService","FilterIdGeneratorService","resetAllFiltersEvent",o])}),n("commonDisplayFilters/makeMomentAndFormat.ftr",["lodash","moment"],function(e,t){return function(){return function(n,r){return e.isUndefined(n)||null===n?"":t(n).format(r)}}}),n("commonDisplayFilters/makeMomentDurationAndFormat.ftr",["lodash","moment"],function(e,t){return function(){return function(n,r,i){if(e.isUndefined(n)||null===n)return"";var o=t.duration(n,r);return 0===o.asMilliseconds()?0:o.humanize(i)}}}),n("commonDisplayFilters/commonDisplayFilters.mod",["angular","commonDisplayFilters/makeMomentAndFormat.ftr","commonDisplayFilters/makeMomentDurationAndFormat.ftr"],function(e,t,n){return e.module("WidgetsFilterPanel.commonDisplayFilters",[]).filter("makeMomentAndFormat",t).filter("makeMomentDurationAndFormat",n)}),n("statistics/LodashExtensions",["lodash"],function(e){var t=e.runInContext();return t.mixin({minOfValues:function(t){var n=e.values(t);return Math.min.apply(void 0,n)},groupByAndGetCountAndMin:function(t,n,r,i){function o(t,n,o){e.isUndefined(t.keysAcc[n])&&(t.keysAcc[n]=n,t.valuesAcc[n]={min:1/0,count:0}),t.valuesAcc[n].count++;var a=e.result(o,r),s=e.result(o,i);if(i&&t.valuesAcc[n].mustBeEqualPropertyValue&&t.valuesAcc[n].mustBeEqualPropertyValue!==s)throw new Error('Error while calculating min value. The property to be equal "'+i+"' while calculating minimum was different across values");return a<t.valuesAcc[n].min&&(t.valuesAcc[n].min=a,t.valuesAcc[n].mustBeEqualPropertyValue=s),t}var a=t.reduce(function(t,r){var i=e.result(r,n);return e.isArray(i)?i.reduce(function(e,t){return o(e,t,r)},t):o(t,i,r)},{keysAcc:{},valuesAcc:{}}),s=e.map(a.keysAcc,function(e){return{value:a.keysAcc[e],count:a.valuesAcc[e].count,min:a.valuesAcc[e].min,mustBeEqualPropertyValue:a.valuesAcc[e].mustBeEqualPropertyValue}});return s}}),t}),n("statistics/StatisticsCalculator",["statistics/LodashExtensions"],function(e){function t(e,t){if(0===e.length)throw new Error("No point to create statistics calculator on empty statistics definitions");this.statisticsSpecifications=e,t&&(this.pricePropertyAmountAccessor=t.pricePropertyAmountAccessor,this.pricePropertyAmountForPriceFrom=t.pricePropertyAmountForPriceFrom,this.pricePropertyCurrencyForPriceFrom=t.pricePropertyCurrencyForPriceFrom)}return t.prototype.getCurrentValuesBounds=function(e){var t=this;return this.statisticsSpecifications.map(function(n){return{filterablePropertyName:n.property,statistics:t.getStatistics(e,n)}})},t.prototype.getStatistics=function(e,t){var n=t.property;switch(t.type){case"range":return this.getRangeStatistics(e,n);case"rangeMonetaryAmount":return this.getMonetaryAmountRangeStatistics(e,n);case"discrete":return this.getDiscreteValuesStatistics(e,n);case"noop":return void 0;default:throw new Error("Illegal specification of bounds requested: "+t.type)}},t.prototype.getMinValue=function(t,n,r){var i=1/0,o=t[0];return t.forEach(function(t){var a=e.result(t,n),s=e.isUndefined(r)?a:a[r];i>s&&(i=s,o=a)}),o},t.prototype.getMaxValue=function(t,n,r){var i=-1/0,o=t[0];return t.forEach(function(t){var a=e.result(t,n),s=e.isUndefined(r)?a:a[r];s>i&&(i=s,o=a)}),o},t.prototype.getRangeStatistics=function(e,t){return{min:this.getMinValue(e,t),max:this.getMaxValue(e,t)}},t.prototype.getMonetaryAmountRangeStatistics=function(e,t){return{min:this.getMinValue(e,t,this.pricePropertyAmountAccessor),max:this.getMaxValue(e,t,this.pricePropertyAmountAccessor)}},t.prototype.getDiscreteValuesStatistics=function(t,n){var r=e.chain(t).groupByAndGetCountAndMin(n,this.pricePropertyAmountForPriceFrom,this.pricePropertyCurrencyForPriceFrom).map(function(e){return{value:e.value,count:e.count,minPrice:e.min,currency:e.mustBeEqualPropertyValue}}).sortBy("value").value();return{selectableValues:r}},t}),n("FilterService",["statistics/StatisticsCalculator","lodash"],function(e,t){return function(n,r,i,o,a){this.creatorId=a;var s,l=this;this.configure=function(e){s=e},this.onFilterChange=function(e){n.registerListener(e,l.creatorId)},this.updateFiltersState=function(n){if(t.isUndefined(s))throw new Error("call configure first before using the service");var a=o(function(){var t=r.getAll(l.creatorId);if(0!==t.length){var u=new e(t,s);i.statistics[l.creatorId]=u.getCurrentValuesBounds(n),i.broadcast(),o.cancel(a)}},10)},this.destroy=function(){n.clearAllListeners(l.creatorId)}}}),n("filterServiceFactory.srv",["FilterService"],function(e){return function(t,n,r,i){return{newInstance:function(o){return new e(t,n,r,i,o)}}}}),n("WidgetsFilterPanel.mod",["angular","templates.mod","filterPanel/filterPanel.mod","messaging/messaging.mod","commonDisplayFilters/commonDisplayFilters.mod","filterServiceFactory.srv"],function(e,t,n,r,i,o){e.module("WidgetsFilterPanel",["WidgetsFilterPanel.templates","WidgetsFilterPanel.messaging","WidgetsFilterPanel.filterPanel","WidgetsFilterPanel.commonDisplayFilters"]).factory("filterServiceFactory",["FilteringCriteriaChangedNotificationService","StatisticsGatheringRequestsRegistryService","StatisticsBroadcastingService","$interval",o])}),t.config({paths:{angular:"../../bower_components/angular/angular",lodash:"../../bower_components/lodash/lodash",angular_rangeslider:"../../bower_components/angular-rangeslider/angular.rangeSlider",moment:"../../bower_components/moment/moment",elementQuery:"../../bower_components/css-element-queries/src/ElementQueries",ResizeSensor:"../../bower_components/css-element-queries/src/ResizeSensor"},shim:{angular:{exports:"angular"},angular_rangeslider:{deps:["angular"]}}}),n("main",["angular","WidgetsFilterPanel.mod"],function(){}),t(["main"]),t("main")}),function(e,t){"object"==typeof module&&module.exports?module.exports=t():"function"==typeof n&&n.amd?n("spin",t):e.Spinner=t()}(this,function(){"use strict";function e(e,t){var n,r=document.createElement(e||"div");for(n in t)r[n]=t[n];return r}function t(e){for(var t=1,n=arguments.length;n>t;t++)e.appendChild(arguments[t]);return e}function n(e,t,n,r){var i=["opacity",t,~~(100*e),n,r].join("-"),o=.01+n/r*100,a=Math.max(1-(1-e)/t*(100-o),e),s=u.substring(0,u.indexOf("Animation")).toLowerCase(),l=s&&"-"+s+"-"||"";return p[i]||(c.insertRule("@"+l+"keyframes "+i+"{0%{opacity:"+a+"}"+o+"%{opacity:"+e+"}"+(o+.01)+"%{opacity:1}"+(o+t)%100+"%{opacity:"+e+"}100%{opacity:"+a+"}}",c.cssRules.length),p[i]=1),i}function r(e,t){var n,r,i=e.style;if(t=t.charAt(0).toUpperCase()+t.slice(1),void 0!==i[t])return t;for(r=0;r<d.length;r++)if(n=d[r]+t,void 0!==i[n])return n}function i(e,t){for(var n in t)e.style[r(e,n)||n]=t[n];return e}function o(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)void 0===e[r]&&(e[r]=n[r])}return e}function a(e,t){return"string"==typeof e?e:e[t%e.length]}function s(e){this.opts=o(e||{},s.defaults,h)}function l(){function n(t,n){return e("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',n)}c.addRule(".spin-vml","behavior:url(#default#VML)"),s.prototype.lines=function(e,r){function o(){return i(n("group",{coordsize:c+" "+c,coordorigin:-u+" "+-u}),{width:c,height:c})}function s(e,s,l){t(p,t(i(o(),{rotation:360/r.lines*e+"deg",left:~~s}),t(i(n("roundrect",{arcsize:r.corners}),{width:u,height:r.scale*r.width,left:r.scale*r.radius,top:-r.scale*r.width>>1,filter:l}),n("fill",{color:a(r.color,e),opacity:r.opacity}),n("stroke",{opacity:0}))))}var l,u=r.scale*(r.length+r.width),c=2*r.scale*u,d=-(r.width+r.length)*r.scale*2+"px",p=i(o(),{position:"absolute",top:d,left:d});if(r.shadow)for(l=1;l<=r.lines;l++)s(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(l=1;l<=r.lines;l++)s(l);return t(e,p)},s.prototype.opacity=function(e,t,n,r){var i=e.firstChild;r=r.shadow&&r.lines||0,i&&t+r<i.childNodes.length&&(i=i.childNodes[t+r],i=i&&i.firstChild,i=i&&i.firstChild,i&&(i.opacity=n))}}var u,c,d=["webkit","Moz","ms","O"],p={},h={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:100,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};if(s.defaults={},o(s.prototype,{spin:function(t){this.stop();var n=this,r=n.opts,o=n.el=e(null,{className:r.className});if(i(o,{position:r.position,width:0,zIndex:r.zIndex,left:r.left,top:r.top}),t&&t.insertBefore(o,t.firstChild||null),o.setAttribute("role","progressbar"),n.lines(o,n.opts),!u){var a,s=0,l=(r.lines-1)*(1-r.direction)/2,c=r.fps,d=c/r.speed,p=(1-r.opacity)/(d*r.trail/100),h=d/r.lines;!function f(){s++;for(var e=0;e<r.lines;e++)a=Math.max(1-(s+(r.lines-e)*h)%d*p,r.opacity),n.opacity(o,e*r.direction+l,a,r);n.timeout=n.el&&setTimeout(f,~~(1e3/c))}()}return n},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(r,o){function s(t,n){return i(e(),{position:"absolute",width:o.scale*(o.length+o.width)+"px",height:o.scale*o.width+"px",background:t,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/o.lines*c+o.rotate)+"deg) translate("+o.scale*o.radius+"px,0)",borderRadius:(o.corners*o.scale*o.width>>1)+"px"})}for(var l,c=0,d=(o.lines-1)*(1-o.direction)/2;c<o.lines;c++)l=i(e(),{position:"absolute",top:1+~(o.scale*o.width/2)+"px",transform:o.hwaccel?"translate3d(0,0,0)":"",opacity:o.opacity,animation:u&&n(o.opacity,o.trail,d+c*o.direction,o.lines)+" "+1/o.speed+"s linear infinite"}),o.shadow&&t(l,i(s("#000","0 0 4px #000"),{top:"2px"})),t(r,t(l,s(a(o.color,c),"0 0 1px rgba(0,0,0,.1)")));return r},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}}),"undefined"!=typeof document){c=function(){var n=e("style",{type:"text/css"});return t(document.getElementsByTagName("head")[0],n),n.sheet||n.styleSheet}();var f=i(e("group"),{behavior:"url(#default#VML)"});!r(f,"transform")&&f.adj?l():u=r(f,"animation")}return s}),function(e){function r(e,t){return e.module("angularSpinner",[]).constant("SpinJSSpinner",t).provider("usSpinnerConfig",function(){var e={},t={};return{setDefaults:function(t){e=t||e},setTheme:function(e,n){t[e]=n},$get:function(){return{config:e,themes:t}}}}).factory("usSpinnerService",["$rootScope",function(e){var t={};return t.spin=function(t){e.$broadcast("us-spinner:spin",t)},t.stop=function(t){e.$broadcast("us-spinner:stop",t)},t}]).directive("usSpinner",["SpinJSSpinner","usSpinnerConfig",function(t,n){return{scope:!0,link:function(r,i,o){function a(){r.spinner&&r.spinner.stop()}r.spinner=null,r.key=e.isDefined(o.spinnerKey)?o.spinnerKey:!1,r.startActive=e.isDefined(o.spinnerStartActive)?r.$eval(o.spinnerStartActive):r.key?!1:!0,r.spin=function(){r.spinner&&r.spinner.spin(i[0])},r.stop=function(){r.startActive=!1,a()},r.$watch(o.usSpinner,function(s){a(),s=e.extend({},n.config,n.themes[o.spinnerTheme],s),r.spinner=new t(s),r.key&&!r.startActive||o.spinnerOn||r.spinner.spin(i[0])},!0),o.spinnerOn&&r.$watch(o.spinnerOn,function(e){e?r.spin():r.stop()}),r.$on("us-spinner:spin",function(e,t){t===r.key&&r.spin()}),r.$on("us-spinner:stop",function(e,t){t===r.key&&r.stop()}),r.$on("$destroy",function(){r.stop(),r.spinner=null})}}}])}"object"==typeof module&&module.exports?module.exports=r(t("angular"),t("spin.js")):"function"==typeof n&&n.amd?n("usSpinnerService",["angular","spin"],r):r(e.angular,e.Spinner)}(this),n("widgets/SDSWidgets",["angular","util/BaseServices","util/CommonDirectives","util/CommonGenericFilters","util/CommonDisplayFilters","widgets/inspirational/InspirationalWidgets.mod","widgets/basicSearch/basicSearch.mod","widgets/searchForm/searchForm.mod","services/services.mod","webservices/Interceptors","angular-ui-select","angular-sanitize","util/LookupFilters","util/SerializationServices","angular-img-fallback","angular-rangeslider","angular_iso_currency","angular-touch","nsPopover","WidgetsFilterPanel","usSpinnerService"],function(e){return e.module("sdsWidgets",["baseServices","services","sabreDevStudioWebServices","sdsWidgets.inspirationalWidgets","sdsWidgets.errorDisplays","sdsWidgets.basicSearch","sdsWidgets.searchForm","commonDirectives","commonFilters","ui.bootstrap","ngSanitize","ui.select","sDSLookups","SDSWidgets.SerializationServices","dcbImgFallback","ui-rangeSlider","isoCurrency","ngTouch","nsPopover","WidgetsFilterPanel","angularSpinner"]).constant("newSearchCriteriaEvent","newSearchCriteria").constant("newInspirationalSearchCriteriaEvent","newInspirationalSearchCriteriaEvent").constant("resetAllFiltersEvent","resetAllFiltersEvent").constant("dateSelectedEvent","dateSelectedEvent").constant("noResultsFoundEvent","noResultsFoundEvent").config(["uibDatepickerConfig",function(e){e.showWeeks=!1,e.startingDay=1,e.yearRange=2,e.showButtonBar=!1}]).config(["$compileProvider",function(e){e.debugInfoEnabled(!1)}]).service("SearchCriteriaBroadcastingService",["$rootScope","newSearchCriteriaEvent",function(e,t){var n={searchCriteria:void 0,broadcast:function(){e.$broadcast(t)}};return n}]).service("InspirationalSearchCriteriaBroadcastingService",["$rootScope","newInspirationalSearchCriteriaEvent",function(e,t){var n={searchCriteria:void 0,broadcast:function(){e.$broadcast(t)}};return n}]).service("DateSelectedBroadcastingService",["$rootScope","dateSelectedEvent",function(e,t){var n={originalDataSourceWebService:void 0,newSearchCriteria:void 0,broadcast:function(){e.$broadcast(t)}};return n}]).service("NoResultsFoundBroadcastingService",["$rootScope","noResultsFoundEvent",function(e,t){var n={broadcast:function(){e.$broadcast(t)}};return n}])}),n("webservices/instaflights/InstaflightSearchCriteriaValidator",["util/LodashExtensions","moment","webservices/common/validators/TravelInsightEngineSearchCriteriaValidator"],function(e,t,n){function r(){this.travelInsightEngineSearchCriteriaValidator=new n}return r.prototype.validate=function(t){var n=[],r=this.travelInsightEngineSearchCriteriaValidator.validate(t);return e.pushAll(n,r),t.isAlternateDatesRequest()&&n.push("Instaflight does not support alt dates requests (date flexibility)"),n},r}),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.tabindex","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.datepicker","ui.bootstrap.position","ui.bootstrap.datepickerPopup","ui.bootstrap.debounce","ui.bootstrap.multiMap","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/alert/alert.html","uib/template/carousel/carousel.html","uib/template/carousel/slide.html","uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/year.html","uib/template/datepickerPopup/popup.html","uib/template/modal/window.html","uib/template/pager/pager.html","uib/template/pagination/pagination.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/progressbar/bar.html","uib/template/progressbar/progress.html","uib/template/progressbar/progressbar.html","uib/template/rating/rating.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html","uib/template/timepicker/timepicker.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(e,t,n,r){var i=r.has("$animateCss")?r.get("$animateCss"):null;return{link:function(r,o,a){function s(){v=!!("horizontal"in a),v?(y={width:""},b={width:"0"}):(y={height:""},b={height:"0"}),r.$eval(a.uibCollapse)||o.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css(y)}function l(e){return v?{width:e.scrollWidth+"px"}:{height:e.scrollHeight+"px"}}function u(){o.hasClass("collapse")&&o.hasClass("in")||t.resolve(h(r)).then(function(){o.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),i?i(o,{addClass:"in",easing:"ease",css:{overflow:"hidden"},to:l(o[0])}).start().finally(c):e.addClass(o,"in",{css:{overflow:"hidden"},to:l(o[0])}).then(c)},angular.noop)}function c(){o.removeClass("collapsing").addClass("collapse").css(y),f(r)}function d(){return o.hasClass("collapse")||o.hasClass("in")?void t.resolve(g(r)).then(function(){o.css(l(o[0])).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),i?i(o,{removeClass:"in",to:b}).start().finally(p):e.removeClass(o,"in",{to:b}).then(p)},angular.noop):p()}function p(){o.css(b),o.removeClass("collapsing").addClass("collapse"),m(r)}var h=n(a.expanding),f=n(a.expanded),g=n(a.collapsing),m=n(a.collapsed),v=!1,y={},b={};s(),r.$watch(a.uibCollapse,function(e){e?d():u()})}}}]),angular.module("ui.bootstrap.tabindex",[]).directive("uibTabindexToggle",function(){return{restrict:"A",link:function(e,t,n){n.$observe("disabled",function(e){n.$set("tabindex",e?-1:null)})}}}),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse","ui.bootstrap.tabindex"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(r){var i=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;i&&angular.forEach(this.groups,function(e){e!==r&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",panelClass:"@?",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,r){t.addClass("panel"),r.addGroup(e),e.openClass=n.openClass||"panel-open",e.panelClass=n.panelClass||"panel-default",e.$watch("isOpen",function(n){t.toggleClass(e.openClass,!!n),n&&r.closeOthers(e)}),e.toggleOpen=function(t){e.isDisabled||t&&32!==t.which||(e.isOpen=!e.isOpen)};var i="accordiongroup-"+e.$id+"-"+Math.floor(1e4*Math.random());e.headingId=i+"-tab",e.panelId=i+"-panel"}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(e,t,n,r,i){r.setHeading(i(e,angular.noop))}}}).directive("uibAccordionTransclude",function(){function e(){return"uib-accordion-header,data-uib-accordion-header,x-uib-accordion-header,uib\\:accordion-header,[uib-accordion-header],[data-uib-accordion-header],[x-uib-accordion-header]"}return{require:"^uibAccordionGroup",link:function(t,n,r,i){t.$watch(function(){return i[r.uibAccordionTransclude]},function(t){if(t){var r=angular.element(n[0].querySelector(e()));r.html(""),r.append(t)}})}}}),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$element","$attrs","$interpolate","$timeout",function(e,t,n,r,i){e.closeable=!!n.close,t.addClass("alert"),n.$set("role","alert"),e.closeable&&t.addClass("alert-dismissible");var o=angular.isDefined(n.dismissOnTimeout)?r(n.dismissOnTimeout)(e.$parent):null;o&&i(function(){e.close()},parseInt(o,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/alert/alert.html"},transclude:!0,scope:{close:"&"}}}),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function(e){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(t,n,r,i){var o=i[0],a=i[1],s=e(r.uibUncheckable);n.find("input").css({display:"none"}),a.$render=function(){n.toggleClass(o.activeClass,angular.equals(a.$modelValue,t.$eval(r.uibBtnRadio)))},n.on(o.toggleEvent,function(){if(!r.disabled){var e=n.hasClass(o.activeClass);(!e||angular.isDefined(r.uncheckable))&&t.$apply(function(){a.$setViewValue(e?null:t.$eval(r.uibBtnRadio)),a.$render()})}}),r.uibUncheckable&&t.$watch(s,function(e){r.$set("uncheckable",e?"":void 0)})}}}]).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(e,t,n,r){function i(){return a(n.btnCheckboxTrue,!0)}function o(){return a(n.btnCheckboxFalse,!1)}function a(t,n){return angular.isDefined(t)?e.$eval(t):n}var s=r[0],l=r[1];t.find("input").css({display:"none"}),l.$render=function(){t.toggleClass(s.activeClass,angular.equals(l.$modelValue,i()))
},t.on(s.toggleEvent,function(){n.disabled||e.$apply(function(){l.$setViewValue(t.hasClass(s.activeClass)?o():i()),l.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function(e,t,n,r,i){function o(e){for(var t=0;t<g.length;t++)g[t].slide.active=t===e}function a(n,r,a){if(!y){if(angular.extend(n,{direction:a}),angular.extend(g[v].slide||{},{direction:a}),i.enabled(t)&&!e.$currentTransition&&g[r].element&&f.slides.length>1){g[r].element.data(m,n.direction);var s=f.getCurrentIndex();angular.isNumber(s)&&g[s].element&&g[s].element.data(m,n.direction),e.$currentTransition=!0,i.on("addClass",g[r].element,function(t,n){"close"===n&&(e.$currentTransition=null,i.off("addClass",t))})}e.active=n.index,v=n.index,o(r),c()}}function s(e){for(var t=0;t<g.length;t++)if(g[t].slide===e)return t}function l(){p&&(n.cancel(p),p=null)}function u(t){t.length||(e.$currentTransition=null)}function c(){l();var t=+e.interval;!isNaN(t)&&t>0&&(p=n(d,t))}function d(){var t=+e.interval;h&&!isNaN(t)&&t>0&&g.length?e.next():e.pause()}var p,h,f=this,g=f.slides=e.slides=[],m="uib-slideDirection",v=e.active,y=!1;t.addClass("carousel"),f.addSlide=function(t,n){g.push({slide:t,element:n}),g.sort(function(e,t){return+e.slide.index-+t.slide.index}),(t.index===e.active||1===g.length&&!angular.isNumber(e.active))&&(e.$currentTransition&&(e.$currentTransition=null),v=t.index,e.active=t.index,o(v),f.select(g[s(t)]),1===g.length&&e.play())},f.getCurrentIndex=function(){for(var e=0;e<g.length;e++)if(g[e].slide.index===v)return e},f.next=e.next=function(){var t=(f.getCurrentIndex()+1)%g.length;return 0===t&&e.noWrap()?void e.pause():f.select(g[t],"next")},f.prev=e.prev=function(){var t=f.getCurrentIndex()-1<0?g.length-1:f.getCurrentIndex()-1;return e.noWrap()&&t===g.length-1?void e.pause():f.select(g[t],"prev")},f.removeSlide=function(t){var n=s(t);g.splice(n,1),g.length>0&&v===n?n>=g.length?(v=g.length-1,e.active=v,o(v),f.select(g[g.length-1])):(v=n,e.active=v,o(v),f.select(g[n])):v>n&&(v--,e.active=v),0===g.length&&(v=null,e.active=null)},f.select=e.select=function(t,n){var r=s(t.slide);void 0===n&&(n=r>f.getCurrentIndex()?"next":"prev"),t.slide.index===v||e.$currentTransition||a(t.slide,r,n)},e.indexOfSlide=function(e){return+e.slide.index},e.isActive=function(t){return e.active===t.slide.index},e.isPrevDisabled=function(){return 0===e.active&&e.noWrap()},e.isNextDisabled=function(){return e.active===g.length-1&&e.noWrap()},e.pause=function(){e.noPause||(h=!1,l())},e.play=function(){h||(h=!0,c())},t.on("mouseenter",e.pause),t.on("mouseleave",e.play),e.$on("$destroy",function(){y=!0,l()}),e.$watch("noTransition",function(e){i.enabled(t,!e)}),e.$watch("interval",c),e.$watchCollection("slides",u),e.$watch("active",function(e){if(angular.isNumber(e)&&v!==e){for(var t=0;t<g.length;t++)if(g[t].slide.index===e){e=t;break}var n=g[e];n&&(o(e),f.select(g[e]),v=e)}})}]).directive("uibCarousel",function(){return{transclude:!0,controller:"UibCarouselController",controllerAs:"carousel",restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/carousel.html"},scope:{active:"=",interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}).directive("uibSlide",["$animate",function(e){return{require:"^uibCarousel",restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/slide.html"},scope:{actual:"=?",index:"=?"},link:function(t,n,r,i){n.addClass("item"),i.addSlide(t,n),t.$on("$destroy",function(){i.removeSlide(t)}),t.$watch("active",function(t){e[t?"addClass":"removeClass"](n,"active")})}}}]).animation(".item",["$animateCss",function(e){function t(e,t,n){e.removeClass(t),n&&n()}var n="uib-slideDirection";return{beforeAddClass:function(r,i,o){if("active"===i){var a=!1,s=r.data(n),l="next"===s?"left":"right",u=t.bind(this,r,l+" "+s,o);return r.addClass(s),e(r,{addClass:l}).start().done(u),function(){a=!0}}o()},beforeRemoveClass:function(r,i,o){if("active"===i){var a=!1,s=r.data(n),l="next"===s?"left":"right",u=t.bind(this,r,l,o);return e(r,{addClass:l}).start().done(u),function(){a=!0}}o()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter","filterFilter",function(e,t,n,r,i){function o(e){return i(y,{key:e},!0)[0]}function a(e){var t=[],n=e.split(""),i=e.indexOf("'");if(i>-1){var o=!1;e=e.split("");for(var a=i;a<e.length;a++)o?("'"===e[a]&&(a+1<e.length&&"'"===e[a+1]?(e[a+1]="$",n[a+1]=""):(n[a]="",o=!1)),e[a]="$"):"'"===e[a]&&(e[a]="$",n[a]="",o=!0);e=e.join("")}return angular.forEach(y,function(r){var i=e.indexOf(r.key);if(i>-1){e=e.split(""),n[i]="("+r.regex+")",e[i]="$";for(var o=i+1,a=i+r.key.length;a>o;o++)n[o]="",e[o]="$";e=e.join(""),t.push({index:i,key:r.key,apply:r.apply,matcher:r.regex})}}),{regex:new RegExp("^"+n.join("")+"$"),map:r(t,"index")}}function s(e){for(var t,n,r=[],i=0;i<e.length;)if(angular.isNumber(n)){if("'"===e.charAt(i))(i+1>=e.length||"'"!==e.charAt(i+1))&&(r.push(l(e,n,i)),n=null);else if(i===e.length)for(;n<e.length;)t=u(e,n),r.push(t),n=t.endIdx;i++}else"'"!==e.charAt(i)?(t=u(e,i),r.push(t.parser),i=t.endIdx):(n=i,i++);return r}function l(e,t,n){return function(){return e.substr(t+1,n-t-1)}}function u(e,t){for(var n=e.substr(t),r=0;r<y.length;r++)if(new RegExp("^"+y[r].key).test(n)){var i=y[r];return{endIdx:t+i.key.length,parser:i.formatter}}return{endIdx:t+1,parser:function(){return n.charAt(0)}}}function c(e,t,n){return 1>n?!1:1===t&&n>28?29===n&&(e%4===0&&e%100!==0||e%400===0):3===t||5===t||8===t||10===t?31>n:!0}function d(e){return parseInt(e,10)}function p(e,t){return e&&t?m(e,t):e}function h(e,t){return e&&t?m(e,t,!0):e}function f(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function g(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function m(e,t,n){n=n?-1:1;var r=e.getTimezoneOffset(),i=f(t,r);return g(e,n*(i-r))}var v,y,b=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){v=t.id,this.parsers={},this.formatters={},y=[{key:"yyyy",regex:"\\d{4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(e){e=+e,this.year=69>e?e+2e3:e+1900},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){var t=e.getMonth();return/^[0-9]$/.test(t)?n(e,"MM"):n(e,"M")}},{key:"MMMM",regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)},formatter:function(e){return n(e,"MMMM")}},{key:"MMM",regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)},formatter:function(e){return n(e,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){var t=e.getDate();return/^[1-9]$/.test(t)?n(e,"dd"):n(e,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"d")}},{key:"EEEE",regex:t.DATETIME_FORMATS.DAY.join("|"),formatter:function(e){return n(e,"EEEE")}},{key:"EEE",regex:t.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(e){return n(e,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e},formatter:function(e){return n(e,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"s")}},{key:"a",regex:t.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)},formatter:function(e){return n(e,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(e){var t=e.match(/([+-])(\d{2})(\d{2})/),n=t[1],r=t[2],i=t[3];this.hours+=d(n+r),this.minutes+=d(n+i)},formatter:function(e){return n(e,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(e){return n(e,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(e){return n(e,"w")}},{key:"GGGG",regex:t.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(e){return n(e,"GGGG")}},{key:"GGG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GGG")}},{key:"GG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GG")}},{key:"G",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"G")}}],angular.version.major>=1&&angular.version.minor>4&&y.push({key:"LLLL",regex:t.DATETIME_FORMATS.STANDALONEMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.STANDALONEMONTH.indexOf(e)},formatter:function(e){return n(e,"LLLL")}})},this.init(),this.getParser=function(e){var t=o(e);return t&&t.apply||null},this.overrideParser=function(e,t){var n=o(e);n&&angular.isFunction(t)&&(this.parsers={},n.apply=t)}.bind(this),this.filter=function(e,n){if(!angular.isDate(e)||isNaN(e)||!n)return"";n=t.DATETIME_FORMATS[n]||n,t.id!==v&&this.init(),this.formatters[n]||(this.formatters[n]=s(n));var r=this.formatters[n];return r.reduce(function(t,n){return t+n(e)},"")},this.parse=function(n,r,i){if(!angular.isString(n)||!r)return n;r=t.DATETIME_FORMATS[r]||r,r=r.replace(b,"\\$&"),t.id!==v&&this.init(),this.parsers[r]||(this.parsers[r]=a(r,"apply"));var o=this.parsers[r],s=o.regex,l=o.map,u=n.match(s),d=!1;if(u&&u.length){var p,h;angular.isDate(i)&&!isNaN(i.getTime())?p={year:i.getFullYear(),month:i.getMonth(),date:i.getDate(),hours:i.getHours(),minutes:i.getMinutes(),seconds:i.getSeconds(),milliseconds:i.getMilliseconds()}:(i&&e.warn("dateparser:","baseDate is not a valid date"),p={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var f=1,g=u.length;g>f;f++){var m=l[f-1];"Z"===m.matcher&&(d=!0),m.apply&&m.apply.call(p,u[f])}var y=d?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,S=d?Date.prototype.setUTCHours:Date.prototype.setHours;return c(p.year,p.month,p.date)&&(!angular.isDate(i)||isNaN(i.getTime())||d?(h=new Date(0),y.call(h,p.year,p.month,p.date),S.call(h,p.hours||0,p.minutes||0,p.seconds||0,p.milliseconds||0)):(h=new Date(i),y.call(h,p.year,p.month,p.date),S.call(h,p.hours,p.minutes,p.seconds,p.milliseconds))),h}},this.toTimezone=p,this.fromTimezone=h,this.timezoneToOffset=f,this.addDateMinutes=g,this.convertTimezoneToLocal=m}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(e){var t=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,n=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(r,i){function o(e,t){l.push(e),u.push({scope:e,element:t}),f.forEach(function(t){a(t,e)}),e.$on("$destroy",s)}function a(t,r){var i=t.match(n),o=r.$eval(i[1]),a=i[2],s=c[t];if(!s){var l=function(t){var n=null;u.some(function(e){var r=e.scope.$eval(p);return r===t?(n=e,!0):void 0}),s.lastActivated!==n&&(s.lastActivated&&e.removeClass(s.lastActivated.element,o),n&&e.addClass(n.element,o),s.lastActivated=n)};c[t]=s={lastActivated:null,scope:r,watchFn:l,compareWithExp:a,watcher:r.$watch(a,l)}}s.watchFn(r.$eval(a))}function s(e){var t=e.targetScope,n=l.indexOf(t);if(l.splice(n,1),u.splice(n,1),l.length){var r=l[0];angular.forEach(c,function(e){e.scope===t&&(e.watcher=r.$watch(e.compareWithExp,e.watchFn),e.scope=r)})}else c={}}var l=[],u=[],c={},d=i.uibIsClass.match(t),p=d[2],h=d[1],f=h.split(",");return o}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass"]).value("$datepickerSuppressError",!1).value("$datepickerLiteralWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",monthColumns:3,ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$element","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerLiteralWarning","$datepickerSuppressError","uibDateParser",function(e,t,n,r,i,o,a,s,l,u,c,d){function p(t){e.datepickerMode=t,e.datepickerOptions.datepickerMode=t}function h(t){var n;if(angular.version.minor<6)n=t.$options||e.datepickerOptions.ngModelOptions||l.ngModelOptions||{},n.getOption=function(e){return n[e]};else{var r=t.$options.getOption("timezone")||(e.datepickerOptions.ngModelOptions?e.datepickerOptions.ngModelOptions.timezone:null)||(l.ngModelOptions?l.ngModelOptions.timezone:null);n=t.$options.createChild(l.ngModelOptions).createChild(e.datepickerOptions.ngModelOptions).createChild(t.$options).createChild({timezone:r})}return n}var f=this,g={$setViewValue:angular.noop},m={},v=[];t.addClass("uib-datepicker"),n.$set("role","application"),e.datepickerOptions||(e.datepickerOptions={}),this.modes=["day","month","year"],["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","maxDate","maxMode","minDate","minMode","monthColumns","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach(function(t){switch(t){case"customClass":case"dateDisabled":e[t]=e.datepickerOptions[t]||angular.noop;break;case"datepickerMode":e.datepickerMode=angular.isDefined(e.datepickerOptions.datepickerMode)?e.datepickerOptions.datepickerMode:l.datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":f[t]=angular.isDefined(e.datepickerOptions[t])?i(e.datepickerOptions[t])(e.$parent):l[t];break;case"monthColumns":case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":f[t]=angular.isDefined(e.datepickerOptions[t])?e.datepickerOptions[t]:l[t];break;case"startingDay":f.startingDay=angular.isDefined(e.datepickerOptions.startingDay)?e.datepickerOptions.startingDay:angular.isNumber(l.startingDay)?l.startingDay:(o.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":e.$watch("datepickerOptions."+t,function(e){e?angular.isDate(e)?f[t]=d.fromTimezone(new Date(e),m.getOption("timezone")):(u&&a.warn("Literal date support has been deprecated, please switch to date object usage"),f[t]=new Date(s(e,"medium"))):f[t]=l[t]?d.fromTimezone(new Date(l[t]),m.getOption("timezone")):null,f.refreshView()});break;case"maxMode":case"minMode":e.datepickerOptions[t]?e.$watch(function(){return e.datepickerOptions[t]},function(n){f[t]=e[t]=angular.isDefined(n)?n:e.datepickerOptions[t],("minMode"===t&&f.modes.indexOf(e.datepickerOptions.datepickerMode)<f.modes.indexOf(f[t])||"maxMode"===t&&f.modes.indexOf(e.datepickerOptions.datepickerMode)>f.modes.indexOf(f[t]))&&(e.datepickerMode=f[t],e.datepickerOptions.datepickerMode=f[t])}):f[t]=e[t]=l[t]||null}}),e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),e.disabled=angular.isDefined(n.disabled)||!1,angular.isDefined(n.ngDisabled)&&v.push(e.$parent.$watch(n.ngDisabled,function(t){e.disabled=t,f.refreshView()})),e.isActive=function(t){return 0===f.compare(t.date,f.activeDate)?(e.activeDateId=t.uid,!0):!1},this.init=function(t){g=t,m=h(g),e.datepickerOptions.initDate?(f.activeDate=d.fromTimezone(e.datepickerOptions.initDate,m.getOption("timezone"))||new Date,e.$watch("datepickerOptions.initDate",function(e){e&&(g.$isEmpty(g.$modelValue)||g.$invalid)&&(f.activeDate=d.fromTimezone(e,m.getOption("timezone")),f.refreshView())})):f.activeDate=new Date;var n=g.$modelValue?new Date(g.$modelValue):new Date;this.activeDate=isNaN(n)?d.fromTimezone(new Date,m.getOption("timezone")):d.fromTimezone(n,m.getOption("timezone")),g.$render=function(){f.render()}},this.render=function(){if(g.$viewValue){var e=new Date(g.$viewValue),t=!isNaN(e);t?this.activeDate=d.fromTimezone(e,m.getOption("timezone")):c||a.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){e.selectedDt=null,this._refreshView(),e.activeDt&&(e.activeDateId=e.activeDt.uid);var t=g.$viewValue?new Date(g.$viewValue):null;t=d.fromTimezone(t,m.getOption("timezone")),g.$setValidity("dateDisabled",!t||this.element&&!this.isDisabled(t))}},this.createDateObject=function(t,n){var r=g.$viewValue?new Date(g.$viewValue):null;r=d.fromTimezone(r,m.getOption("timezone"));var i=new Date;i=d.fromTimezone(i,m.getOption("timezone"));var o=this.compare(t,i),a={date:t,label:d.filter(t,n),selected:r&&0===this.compare(t,r),disabled:this.isDisabled(t),past:0>o,current:0===o,future:o>0,customClass:this.customClass(t)||null};return r&&0===this.compare(t,r)&&(e.selectedDt=a),f.activeDate&&0===this.compare(a.date,f.activeDate)&&(e.activeDt=a),a},this.isDisabled=function(t){return e.disabled||this.minDate&&this.compare(t,this.minDate)<0||this.maxDate&&this.compare(t,this.maxDate)>0||e.dateDisabled&&e.dateDisabled({date:t,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},e.select=function(t){if(e.datepickerMode===f.minMode){var n=g.$viewValue?d.fromTimezone(new Date(g.$viewValue),m.getOption("timezone")):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n=d.toTimezone(n,m.getOption("timezone")),g.$setViewValue(n),g.$render()}else f.activeDate=t,p(f.modes[f.modes.indexOf(e.datepickerMode)-1]),e.$emit("uib:datepicker.mode");e.$broadcast("uib:datepicker.focus")},e.move=function(e){var t=f.activeDate.getFullYear()+e*(f.step.years||0),n=f.activeDate.getMonth()+e*(f.step.months||0);f.activeDate.setFullYear(t,n,1),f.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===f.maxMode&&1===t||e.datepickerMode===f.minMode&&-1===t||(p(f.modes[f.modes.indexOf(e.datepickerMode)+t]),e.$emit("uib:datepicker.mode"))},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var y=function(){f.element[0].focus()};e.$on("uib:datepicker.focus",y),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey&&!e.disabled)if(t.preventDefault(),f.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(f.isDisabled(f.activeDate))return;e.select(f.activeDate)}else!t.ctrlKey||"up"!==n&&"down"!==n?(f.handleKeyDown(n,t),f.refreshView()):e.toggleMode("up"===n?1:-1)},t.on("keydown",function(t){e.$apply(function(){e.keydown(t)})}),e.$on("$destroy",function(){for(;v.length;)v.shift()()})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(e,t,n){function r(e,t){return 1!==t||e%4!==0||e%100===0&&e%400!==0?o[t]:29}function i(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}var o=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=t,this.init=function(t){angular.extend(t,this),e.showWeeks=t.showWeeks,t.refreshView()},this.getDates=function(e,t){for(var n,r=new Array(t),i=new Date(e),o=0;t>o;)n=new Date(i),r[o++]=n,i.setDate(i.getDate()+1);return r},this._refreshView=function(){var t=this.activeDate.getFullYear(),r=this.activeDate.getMonth(),o=new Date(this.activeDate);o.setFullYear(t,r,1);var a=this.startingDay-o.getDay(),s=a>0?7-a:-a,l=new Date(o);s>0&&l.setDate(-s+1);for(var u=this.getDates(l,42),c=0;42>c;c++)u[c]=angular.extend(this.createDateObject(u[c],this.formatDay),{secondary:u[c].getMonth()!==r,uid:e.uniqueId+"-"+c});e.labels=new Array(7);for(var d=0;7>d;d++)e.labels[d]={abbr:n(u[d].date,this.formatDayHeader),full:n(u[d].date,"EEEE")};if(e.title=n(this.activeDate,this.formatDayTitle),e.rows=this.split(u,7),e.showWeeks){e.weekNumbers=[];for(var p=(11-this.startingDay)%7,h=e.rows.length,f=0;h>f;f++)e.weekNumbers.push(i(e.rows[f][p].date))}},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(t.getFullYear(),t.getMonth(),t.getDate());return n.setFullYear(e.getFullYear()),r.setFullYear(t.getFullYear()),n-r},this.handleKeyDown=function(e){var t=this.activeDate.getDate();if("left"===e)t-=1;else if("up"===e)t-=7;else if("right"===e)t+=1;else if("down"===e)t+=7;else if("pageup"===e||"pagedown"===e){var n=this.activeDate.getMonth()+("pageup"===e?-1:1);this.activeDate.setMonth(n,1),t=Math.min(r(this.activeDate.getFullYear(),this.activeDate.getMonth()),t)}else"home"===e?t=1:"end"===e&&(t=r(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(t)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(e,t,n){this.step={years:1},this.element=t,this.init=function(e){angular.extend(e,this),e.refreshView()},this._refreshView=function(){for(var t,r=new Array(12),i=this.activeDate.getFullYear(),o=0;12>o;o++)t=new Date(this.activeDate),t.setFullYear(i,o,1),r[o]=angular.extend(this.createDateObject(t,this.formatMonth),{uid:e.uniqueId+"-"+o});e.title=n(this.activeDate,this.formatMonthTitle),e.rows=this.split(r,this.monthColumns),e.yearHeaderColspan=this.monthColumns>3?this.monthColumns-2:1},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth()),r=new Date(t.getFullYear(),t.getMonth());return n.setFullYear(e.getFullYear()),r.setFullYear(t.getFullYear()),n-r},this.handleKeyDown=function(e){var t=this.activeDate.getMonth();if("left"===e)t-=1;else if("up"===e)t-=this.monthColumns;else if("right"===e)t+=1;else if("down"===e)t+=this.monthColumns;else if("pageup"===e||"pagedown"===e){var n=this.activeDate.getFullYear()+("pageup"===e?-1:1);this.activeDate.setFullYear(n)}else"home"===e?t=0:"end"===e&&(t=11);this.activeDate.setMonth(t)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(e,t){function n(e){return parseInt((e-1)/i,10)*i+1}var r,i;this.element=t,this.yearpickerInit=function(){r=this.yearColumns,i=this.yearRows*r,this.step={years:i}},this._refreshView=function(){for(var t,o=new Array(i),a=0,s=n(this.activeDate.getFullYear());i>a;a++)t=new Date(this.activeDate),t.setFullYear(s+a,0,1),o[a]=angular.extend(this.createDateObject(t,this.formatYear),{uid:e.uniqueId+"-"+a});e.title=[o[0].label,o[i-1].label].join(" - "),e.rows=this.split(o,r),e.columns=r},this.compare=function(e,t){return e.getFullYear()-t.getFullYear()},this.handleKeyDown=function(e){var t=this.activeDate.getFullYear();"left"===e?t-=1:"up"===e?t-=r:"right"===e?t+=1:"down"===e?t+=r:"pageup"===e||"pagedown"===e?t+=("pageup"===e?-1:1)*i:"home"===e?t=n(this.activeDate.getFullYear()):"end"===e&&(t=n(this.activeDate.getFullYear())+i-1),this.activeDate.setFullYear(t)}}]).directive("uibDatepicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerOptions:"=?"},require:["uibDatepicker","^ngModel"],restrict:"A",controller:"UibDatepickerController",controllerAs:"datepicker",link:function(e,t,n,r){var i=r[0],o=r[1];i.init(o)}}}).directive("uibDaypicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],restrict:"A",controller:"UibDaypickerController",link:function(e,t,n,r){var i=r[0],o=r[1];o.init(i)}}}).directive("uibMonthpicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],restrict:"A",controller:"UibMonthpickerController",link:function(e,t,n,r){var i=r[0],o=r[1];o.init(i)}}}).directive("uibYearpicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],restrict:"A",controller:"UibYearpickerController",link:function(e,t,n,r){var i=r[0];angular.extend(i,r[1]),i.yearpickerInit(),i.refreshView()}}}),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(e,t){var n,r,i={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},o={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},a=/(HTML|BODY)/;return{getRawNode:function(e){return e.nodeName?e:e[0]||e},parseStyle:function(e){return e=parseFloat(e),isFinite(e)?e:0},offsetParent:function(n){function r(e){return"static"===(t.getComputedStyle(e).position||"static")}n=this.getRawNode(n);for(var i=n.offsetParent||e[0].documentElement;i&&i!==e[0].documentElement&&r(i);)i=i.offsetParent;return i||e[0].documentElement},scrollbarWidth:function(i){if(i){if(angular.isUndefined(r)){var o=e.find("body");o.addClass("uib-position-body-scrollbar-measure"),r=t.innerWidth-o[0].clientWidth,r=isFinite(r)?r:0,o.removeClass("uib-position-body-scrollbar-measure")}return r}if(angular.isUndefined(n)){var a=angular.element('<div class="uib-position-scrollbar-measure"></div>');e.find("body").append(a),n=a[0].offsetWidth-a[0].clientWidth,n=isFinite(n)?n:0,a.remove()}return n},scrollbarPadding:function(e){e=this.getRawNode(e);var n=t.getComputedStyle(e),r=this.parseStyle(n.paddingRight),i=this.parseStyle(n.paddingBottom),o=this.scrollParent(e,!1,!0),s=this.scrollbarWidth(a.test(o.tagName));return{scrollbarWidth:s,widthOverflow:o.scrollWidth>o.clientWidth,right:r+s,originalRight:r,heightOverflow:o.scrollHeight>o.clientHeight,bottom:i+s,originalBottom:i}},isScrollable:function(e,n){e=this.getRawNode(e);var r=n?i.hidden:i.normal,o=t.getComputedStyle(e);return r.test(o.overflow+o.overflowY+o.overflowX)},scrollParent:function(n,r,o){n=this.getRawNode(n);var a=r?i.hidden:i.normal,s=e[0].documentElement,l=t.getComputedStyle(n);if(o&&a.test(l.overflow+l.overflowY+l.overflowX))return n;var u="absolute"===l.position,c=n.parentElement||s;if(c===s||"fixed"===l.position)return s;for(;c.parentElement&&c!==s;){var d=t.getComputedStyle(c);if(u&&"static"!==d.position&&(u=!1),!u&&a.test(d.overflow+d.overflowY+d.overflowX))break;c=c.parentElement}return c},position:function(n,r){n=this.getRawNode(n);var i=this.offset(n);if(r){var o=t.getComputedStyle(n);i.top-=this.parseStyle(o.marginTop),i.left-=this.parseStyle(o.marginLeft)}var a=this.offsetParent(n),s={top:0,left:0};return a!==e[0].documentElement&&(s=this.offset(a),s.top+=a.clientTop-a.scrollTop,s.left+=a.clientLeft-a.scrollLeft),{width:Math.round(angular.isNumber(i.width)?i.width:n.offsetWidth),height:Math.round(angular.isNumber(i.height)?i.height:n.offsetHeight),top:Math.round(i.top-s.top),left:Math.round(i.left-s.left)}},offset:function(n){n=this.getRawNode(n);var r=n.getBoundingClientRect();return{width:Math.round(angular.isNumber(r.width)?r.width:n.offsetWidth),height:Math.round(angular.isNumber(r.height)?r.height:n.offsetHeight),top:Math.round(r.top+(t.pageYOffset||e[0].documentElement.scrollTop)),left:Math.round(r.left+(t.pageXOffset||e[0].documentElement.scrollLeft))}},viewportOffset:function(n,r,i){n=this.getRawNode(n),i=i!==!1?!0:!1;var o=n.getBoundingClientRect(),a={top:0,left:0,bottom:0,right:0},s=r?e[0].documentElement:this.scrollParent(n),l=s.getBoundingClientRect();if(a.top=l.top+s.clientTop,a.left=l.left+s.clientLeft,s===e[0].documentElement&&(a.top+=t.pageYOffset,a.left+=t.pageXOffset),a.bottom=a.top+s.clientHeight,a.right=a.left+s.clientWidth,i){var u=t.getComputedStyle(s);a.top+=this.parseStyle(u.paddingTop),a.bottom-=this.parseStyle(u.paddingBottom),a.left+=this.parseStyle(u.paddingLeft),a.right-=this.parseStyle(u.paddingRight)}return{top:Math.round(o.top-a.top),bottom:Math.round(a.bottom-o.bottom),left:Math.round(o.left-a.left),right:Math.round(a.right-o.right)}},parsePlacement:function(e){var t=o.auto.test(e);return t&&(e=e.replace(o.auto,"")),e=e.split("-"),e[0]=e[0]||"top",o.primary.test(e[0])||(e[0]="top"),e[1]=e[1]||"center",o.secondary.test(e[1])||(e[1]="center"),e[2]=t?!0:!1,e},positionElements:function(e,n,r,i){e=this.getRawNode(e),n=this.getRawNode(n);var a=angular.isDefined(n.offsetWidth)?n.offsetWidth:n.prop("offsetWidth"),s=angular.isDefined(n.offsetHeight)?n.offsetHeight:n.prop("offsetHeight");r=this.parsePlacement(r);var l=i?this.offset(e):this.position(e),u={top:0,left:0,placement:""};if(r[2]){var c=this.viewportOffset(e,i),d=t.getComputedStyle(n),p={width:a+Math.round(Math.abs(this.parseStyle(d.marginLeft)+this.parseStyle(d.marginRight))),height:s+Math.round(Math.abs(this.parseStyle(d.marginTop)+this.parseStyle(d.marginBottom)))};if(r[0]="top"===r[0]&&p.height>c.top&&p.height<=c.bottom?"bottom":"bottom"===r[0]&&p.height>c.bottom&&p.height<=c.top?"top":"left"===r[0]&&p.width>c.left&&p.width<=c.right?"right":"right"===r[0]&&p.width>c.right&&p.width<=c.left?"left":r[0],r[1]="top"===r[1]&&p.height-l.height>c.bottom&&p.height-l.height<=c.top?"bottom":"bottom"===r[1]&&p.height-l.height>c.top&&p.height-l.height<=c.bottom?"top":"left"===r[1]&&p.width-l.width>c.right&&p.width-l.width<=c.left?"right":"right"===r[1]&&p.width-l.width>c.left&&p.width-l.width<=c.right?"left":r[1],"center"===r[1])if(o.vertical.test(r[0])){var h=l.width/2-a/2;c.left+h<0&&p.width-l.width<=c.right?r[1]="left":c.right+h<0&&p.width-l.width<=c.left&&(r[1]="right")}else{var f=l.height/2-p.height/2;c.top+f<0&&p.height-l.height<=c.bottom?r[1]="top":c.bottom+f<0&&p.height-l.height<=c.top&&(r[1]="bottom")}}switch(r[0]){case"top":u.top=l.top-s;break;case"bottom":u.top=l.top+l.height;break;case"left":u.left=l.left-a;break;case"right":u.left=l.left+l.width}switch(r[1]){case"top":u.top=l.top;break;case"bottom":u.top=l.top+l.height-s;break;case"left":u.left=l.left;break;case"right":u.left=l.left+l.width-a;break;case"center":o.vertical.test(r[0])?u.left=l.left+l.width/2-a/2:u.top=l.top+l.height/2-s/2}return u.top=Math.round(u.top),u.left=Math.round(u.left),u.placement="center"===r[1]?r[0]:r[0]+"-"+r[1],u},adjustTop:function(e,t,n,r){return-1!==e.indexOf("top")&&n!==r?{top:t.top-r+"px"}:void 0},positionArrow:function(e,n){e=this.getRawNode(e);var r=e.querySelector(".tooltip-inner, .popover-inner");if(r){var i=angular.element(r).hasClass("tooltip-inner"),a=e.querySelector(i?".tooltip-arrow":".arrow");if(a){var s={top:"",bottom:"",left:"",right:""};if(n=this.parsePlacement(n),"center"===n[1])return void angular.element(a).css(s);var l="border-"+n[0]+"-width",u=t.getComputedStyle(a)[l],c="border-";c+=o.vertical.test(n[0])?n[0]+"-"+n[1]:n[1]+"-"+n[0],c+="-radius";var d=t.getComputedStyle(i?r:e)[c];switch(n[0]){case"top":s.bottom=i?"0":"-"+u;break;case"bottom":s.top=i?"0":"-"+u;break;case"left":s.right=i?"0":"-"+u;break;case"right":s.left=i?"0":"-"+u}s[n[1]]=d,angular.element(a).css(s)}}}}}]),angular.module("ui.bootstrap.datepickerPopup",["ui.bootstrap.datepicker","ui.bootstrap.position"]).value("$datepickerPopupLiteralWarning",!0).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepickerPopup/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","$datepickerPopupLiteralWarning",function(e,t,n,r,i,o,a,s,l,u,c,d,p,h,f,g){function m(t){var n=d.parse(t,A,e.date);
if(isNaN(n))for(var r=0;r<L.length;r++)if(n=d.parse(t,L[r],e.date),!isNaN(n))return n;return n}function v(e){if(angular.isNumber(e)&&(e=new Date(e)),!e)return null;if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=m(e);if(!isNaN(t))return d.toTimezone(t,P.getOption("timezone"))}return P.getOption("allowInvalid")?e:void 0}function y(e,t){var r=e||t;return n.ngRequired||r?(angular.isNumber(r)&&(r=new Date(r)),r?angular.isDate(r)&&!isNaN(r)?!0:angular.isString(r)?!isNaN(m(r)):!1:!0):!0}function b(n){if(e.isOpen||!e.disabled){var r=E[0],i=t[0].contains(n.target),o=void 0!==r.contains&&r.contains(n.target);!e.isOpen||i||o||e.$apply(function(){e.isOpen=!1})}}function S(n){27===n.which&&e.isOpen?(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!1}),t[0].focus()):40!==n.which||e.isOpen||(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!0}))}function D(){if(e.isOpen){var r=angular.element(E[0].querySelector(".uib-datepicker-popup")),i=n.popupPlacement?n.popupPlacement:p.placement,o=u.positionElements(t,r,i,x);r.css({top:o.top+"px",left:o.left+"px"}),r.hasClass("uib-position-measure")&&r.removeClass("uib-position-measure")}}function w(e){var t;return angular.version.minor<6?(t=angular.isObject(e.$options)?e.$options:{timezone:null},t.getOption=function(e){return t[e]}):t=e.$options,t}var A,C,x,_,$,k,M,T,F,O,P,E,L,I=!1,R=[];this.init=function(i){if(O=i,P=w(O),C=angular.isDefined(n.closeOnDateSelection)?e.$parent.$eval(n.closeOnDateSelection):p.closeOnDateSelection,x=angular.isDefined(n.datepickerAppendToBody)?e.$parent.$eval(n.datepickerAppendToBody):p.appendToBody,_=angular.isDefined(n.onOpenFocus)?e.$parent.$eval(n.onOpenFocus):p.onOpenFocus,$=angular.isDefined(n.datepickerPopupTemplateUrl)?n.datepickerPopupTemplateUrl:p.datepickerPopupTemplateUrl,k=angular.isDefined(n.datepickerTemplateUrl)?n.datepickerTemplateUrl:p.datepickerTemplateUrl,L=angular.isDefined(n.altInputFormats)?e.$parent.$eval(n.altInputFormats):p.altInputFormats,e.showButtonBar=angular.isDefined(n.showButtonBar)?e.$parent.$eval(n.showButtonBar):p.showButtonBar,p.html5Types[n.type]?(A=p.html5Types[n.type],I=!0):(A=n.uibDatepickerPopup||p.datepickerPopup,n.$observe("uibDatepickerPopup",function(e){var t=e||p.datepickerPopup;if(t!==A&&(A=t,O.$modelValue=null,!A))throw new Error("uibDatepickerPopup must have a date format specified.")})),!A)throw new Error("uibDatepickerPopup must have a date format specified.");if(I&&n.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");M=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>"),M.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":$}),T=angular.element(M.children()[0]),T.attr("template-url",k),e.datepickerOptions||(e.datepickerOptions={}),I&&"month"===n.type&&(e.datepickerOptions.datepickerMode="month",e.datepickerOptions.minMode="month"),T.attr("datepicker-options","datepickerOptions"),I?O.$formatters.push(function(t){return e.date=d.fromTimezone(t,P.getOption("timezone")),t}):(O.$$parserName="date",O.$validators.date=y,O.$parsers.unshift(v),O.$formatters.push(function(t){return O.$isEmpty(t)?(e.date=t,t):(angular.isNumber(t)&&(t=new Date(t)),e.date=d.fromTimezone(t,P.getOption("timezone")),d.filter(e.date,A))})),O.$viewChangeListeners.push(function(){e.date=m(O.$viewValue)}),t.on("keydown",S),E=r(M)(e),M.remove(),x?s.find("body").append(E):t.after(E),e.$on("$destroy",function(){for(e.isOpen===!0&&(l.$$phase||e.$apply(function(){e.isOpen=!1})),E.remove(),t.off("keydown",S),s.off("click",b),F&&F.off("scroll",D),angular.element(a).off("resize",D);R.length;)R.shift()()})},e.getText=function(t){return e[t+"Text"]||p[t+"Text"]},e.isDisabled=function(t){"today"===t&&(t=d.fromTimezone(new Date,P.getOption("timezone")));var n={};return angular.forEach(["minDate","maxDate"],function(t){e.datepickerOptions[t]?angular.isDate(e.datepickerOptions[t])?n[t]=new Date(e.datepickerOptions[t]):(g&&i.warn("Literal date support has been deprecated, please switch to date object usage"),n[t]=new Date(c(e.datepickerOptions[t],"medium"))):n[t]=null}),e.datepickerOptions&&n.minDate&&e.compare(t,n.minDate)<0||n.maxDate&&e.compare(t,n.maxDate)>0},e.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},e.dateSelection=function(n){e.date=n;var r=e.date?d.filter(e.date,A):null;t.val(r),O.$setViewValue(r),C&&(e.isOpen=!1,t[0].focus())},e.keydown=function(n){27===n.which&&(n.stopPropagation(),e.isOpen=!1,t[0].focus())},e.select=function(t,n){if(n.stopPropagation(),"today"===t){var r=new Date;angular.isDate(e.date)?(t=new Date(e.date),t.setFullYear(r.getFullYear(),r.getMonth(),r.getDate())):(t=d.fromTimezone(r,P.getOption("timezone")),t.setHours(0,0,0,0))}e.dateSelection(t)},e.close=function(n){n.stopPropagation(),e.isOpen=!1,t[0].focus()},e.disabled=angular.isDefined(n.disabled)||!1,n.ngDisabled&&R.push(e.$parent.$watch(o(n.ngDisabled),function(t){e.disabled=t})),e.$watch("isOpen",function(r){r?e.disabled?e.isOpen=!1:h(function(){D(),_&&e.$broadcast("uib:datepicker.focus"),s.on("click",b);var r=n.popupPlacement?n.popupPlacement:p.placement;x||u.parsePlacement(r)[2]?(F=F||angular.element(u.scrollParent(t)),F&&F.on("scroll",D)):F=null,angular.element(a).on("resize",D)},0,!1):(s.off("click",b),F&&F.off("scroll",D),angular.element(a).off("resize",D))}),e.$on("uib:datepicker.mode",function(){h(D,0,!1)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@"},link:function(e,t,n,r){var i=r[0],o=r[1];o.init(i)}}}).directive("uibDatepickerPopupWrap",function(){return{restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepickerPopup/popup.html"}}}),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(e){return function(t,n){var r;return function(){var i=this,o=Array.prototype.slice.call(arguments);r&&e.cancel(r),r=e(function(){t.apply(i,o)},n)}}}]),angular.module("ui.bootstrap.multiMap",[]).factory("$$multiMap",function(){return{createNew:function(){var e={};return{entries:function(){return Object.keys(e).map(function(t){return{key:t,value:e[t]}})},get:function(t){return e[t]},hasKey:function(t){return!!e[t]},keys:function(){return Object.keys(e)},put:function(t,n){e[t]||(e[t]=[]),e[t].push(n)},remove:function(t,n){var r=e[t];if(r){var i=r.indexOf(n);-1!==i&&r.splice(i,1),r.length||delete e[t]}}}}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.multiMap","ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope","$$multiMap",function(e,t,n){var r=null,i=n.createNew();this.isOnlyOpen=function(e,t){var n=i.get(t);if(n){var r=n.reduce(function(t,n){return n.scope===e?n:t},{});if(r)return 1===n.length}return!1},this.open=function(t,n,a){if(r||e.on("click",o),r&&r!==t&&(r.isOpen=!1),r=t,a){var s=i.get(a);if(s){var l=s.map(function(e){return e.scope});-1===l.indexOf(t)&&i.put(a,{scope:t})}else i.put(a,{scope:t})}},this.close=function(t,n,a){if(r===t&&(e.off("click",o),e.off("keydown",this.keybindFilter),r=null),a){var s=i.get(a);if(s){var l=s.reduce(function(e,n){return n.scope===t?n:e},{});l&&i.remove(a,l)}}};var o=function(e){if(r&&r.isOpen&&!(e&&"disabled"===r.getAutoClose()||e&&3===e.which)){var n=r.getToggleElement();if(!(e&&n&&n[0].contains(e.target))){var i=r.getDropdownElement();e&&"outsideClick"===r.getAutoClose()&&i&&i[0].contains(e.target)||(r.focusToggleElement(),r.isOpen=!1,t.$$phase||r.$apply())}}};this.keybindFilter=function(e){if(r){var t=r.getDropdownElement(),n=r.getToggleElement(),i=t&&t[0].contains(e.target),a=n&&n[0].contains(e.target);27===e.which?(e.stopPropagation(),r.focusToggleElement(),o()):r.isKeynavEnabled()&&-1!==[38,40].indexOf(e.which)&&r.isOpen&&(i||a)&&(e.preventDefault(),e.stopPropagation(),r.focusDropdownEntry(e.which))}}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(e,t,n,r,i,o,a,s,l,u,c){function d(){t.append(f.dropdownMenu)}var p,h,f=this,g=e.$new(),m=i.appendToOpenClass,v=i.openClass,y=angular.noop,b=n.onToggle?r(n.onToggle):angular.noop,S=!1,D=l.find("body");t.addClass("dropdown"),this.init=function(){n.isOpen&&(h=r(n.isOpen),y=h.assign,e.$watch(h,function(e){g.isOpen=!!e})),S=angular.isDefined(n.keyboardNav)},this.toggle=function(e){return g.isOpen=arguments.length?!!e:!g.isOpen,angular.isFunction(y)&&y(g,g.isOpen),g.isOpen},this.isOpen=function(){return g.isOpen},g.getToggleElement=function(){return f.toggleElement},g.getAutoClose=function(){return n.autoClose||"always"},g.getElement=function(){return t},g.isKeynavEnabled=function(){return S},g.focusDropdownEntry=function(e){var n=f.dropdownMenu?angular.element(f.dropdownMenu).find("a"):t.find("ul").eq(0).find("a");switch(e){case 40:f.selectedOption=angular.isNumber(f.selectedOption)?f.selectedOption===n.length-1?f.selectedOption:f.selectedOption+1:0;break;case 38:f.selectedOption=angular.isNumber(f.selectedOption)?0===f.selectedOption?0:f.selectedOption-1:n.length-1}n[f.selectedOption].focus()},g.getDropdownElement=function(){return f.dropdownMenu},g.focusToggleElement=function(){f.toggleElement&&f.toggleElement[0].focus()},g.$watch("isOpen",function(i,h){var S=null,w=!1;if(angular.isDefined(n.dropdownAppendTo)){var A=r(n.dropdownAppendTo)(g);A&&(S=angular.element(A))}if(angular.isDefined(n.dropdownAppendToBody)){var C=r(n.dropdownAppendToBody)(g);C!==!1&&(w=!0)}if(w&&!S&&(S=D),S&&f.dropdownMenu&&(i?(S.append(f.dropdownMenu),t.on("$destroy",d)):(t.off("$destroy",d),d())),S&&f.dropdownMenu){var x,_,$,k=s.positionElements(t,f.dropdownMenu,"bottom-left",!0),M=0;if(x={top:k.top+"px",display:i?"block":"none"},_=f.dropdownMenu.hasClass("dropdown-menu-right"),_?(x.left="auto",$=s.scrollbarPadding(S),$.heightOverflow&&$.scrollbarWidth&&(M=$.scrollbarWidth),x.right=window.innerWidth-M-(k.left+t.prop("offsetWidth"))+"px"):(x.left=k.left+"px",x.right="auto"),!w){var T=s.offset(S);x.top=k.top-T.top+"px",_?x.right=window.innerWidth-(k.left-T.left+t.prop("offsetWidth"))+"px":x.left=k.left-T.left+"px"}f.dropdownMenu.css(x)}var F=S?S:t,O=S?m:v,P=F.hasClass(O),E=o.isOnlyOpen(e,S);if(P===!i){var L;L=S?E?"removeClass":"addClass":i?"addClass":"removeClass",a[L](F,O).then(function(){angular.isDefined(i)&&i!==h&&b(e,{open:!!i})})}if(i)f.dropdownMenuTemplateUrl?c(f.dropdownMenuTemplateUrl).then(function(e){p=g.$new(),u(e.trim())(p,function(e){var t=e;f.dropdownMenu.replaceWith(t),f.dropdownMenu=t,l.on("keydown",o.keybindFilter)})}):l.on("keydown",o.keybindFilter),g.focusToggleElement(),o.open(g,t,S);else{if(o.close(g,t,S),f.dropdownMenuTemplateUrl){p&&p.$destroy();var I=angular.element('<ul class="dropdown-menu"></ul>');f.dropdownMenu.replaceWith(I),f.dropdownMenu=I}f.selectedOption=null}angular.isFunction(y)&&y(e,i)})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(e,t,n,r){r.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(e,t,n,r){if(r&&!angular.isDefined(n.dropdownNested)){t.addClass("dropdown-menu");var i=n.templateUrl;i&&(r.dropdownMenuTemplateUrl=i),r.dropdownMenu||(r.dropdownMenu=t)}}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(e,t,n,r){if(r){t.addClass("dropdown-toggle"),r.toggleElement=t;var i=function(i){i.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){r.toggle()})};t.on("click",i),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(r.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.off("click",i)})}}}}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t===e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,r=0;r<e.length;r++)if(t===e[r].key){n=r;break}return e.splice(n,1)[0]},removeTop:function(){return e.pop()},length:function(){return e.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.multiMap","ui.bootstrap.stackedMap","ui.bootstrap.position"]).provider("$uibResolve",function(){var e=this;this.resolver=null,this.setResolver=function(e){this.resolver=e},this.$get=["$injector","$q",function(t,n){var r=e.resolver?t.get(e.resolver):null;return{resolve:function(e,i,o,a){if(r)return r.resolve(e,i,o,a);var s=[];return angular.forEach(e,function(e){s.push(angular.isFunction(e)||angular.isArray(e)?n.resolve(t.invoke(e)):angular.isString(e)?n.resolve(t.get(e)):n.resolve(e))}),n.all(s).then(function(t){var n={},r=0;return angular.forEach(e,function(e,i){n[i]=t[r++]}),n})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(e,t,n){function r(t,r,i){i.modalInClass&&(e.addClass(r,i.modalInClass),t.$on(n.NOW_CLOSING_EVENT,function(n,o){var a=o();t.modalOptions.animation?e.removeClass(r,i.modalInClass).then(a):a()}))}return{restrict:"A",compile:function(e,t){return e.addClass(t.backdropClass),r}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(e,t,n,r){return{scope:{index:"@"},restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/modal/window.html"},link:function(i,o,a){o.addClass(a.windowTopClass||""),i.size=a.size,i.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},o.on("click",i.close),i.$isRendered=!0;var s=t.defer();i.$$postDigest(function(){s.resolve()}),s.promise.then(function(){var s=null;a.modalInClass&&(s=n(o,{addClass:a.modalInClass}).start(),i.$on(e.NOW_CLOSING_EVENT,function(e,t){var r=t();n(o,{removeClass:a.modalInClass}).start().then(r)})),t.when(s).then(function(){var t=e.getTop();if(t&&e.modalRendered(t.key),!r[0].activeElement||!o[0].contains(r[0].activeElement)){var n=o[0].querySelector("[autofocus]");n?n.focus():o[0].focus()}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.uibModalAnimationClass)}}}).directive("uibModalTransclude",["$animate",function(e){return{link:function(t,n,r,i,o){o(t.$parent,function(t){n.empty(),e.enter(t,n)})}}}]).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(e,t,n,r,i,o,a,s,l){function u(e){var t="-";return e.replace(T,function(e,n){return(n?t:"")+e.toLowerCase()})}function c(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}function d(){for(var e=-1,t=A.keys(),n=0;n<t.length;n++)A.get(t[n]).value.backdrop&&(e=n);return e>-1&&_>e&&(e=_),e}function p(e,t){var n=A.get(e).value,r=n.appendTo;A.remove(e),$=A.top(),$&&(_=parseInt($.value.modalDomEl.attr("index"),10)),g(n.modalDomEl,n.modalScope,function(){var t=n.openedClass||w;C.remove(t,e);var i=C.hasKey(t);r.toggleClass(t,i),!i&&D&&D.heightOverflow&&D.scrollbarWidth&&(r.css(D.originalRight?{paddingRight:D.originalRight+"px"}:{paddingRight:""}),D=null),h(!0)},n.closedDeferred),f(),t&&t.focus?t.focus():r.focus&&r.focus()}function h(e){var t;A.length()>0&&(t=A.top().value,t.modalDomEl.toggleClass(t.windowTopClass||"",e))}function f(){if(b&&-1===d()){var e=S;g(b,S,function(){e=null}),b=void 0,S=void 0}}function g(t,n,r,i){function a(){a.done||(a.done=!0,e.leave(t).then(function(){r&&r(),t.remove(),i&&i.resolve()}),n.$destroy())}var s,l=null,u=function(){return s||(s=o.defer(),l=s.promise),function(){s.resolve()}};return n.$broadcast(x.NOW_CLOSING_EVENT,u),o.when(l).then(a)}function m(e){if(e.isDefaultPrevented())return e;var t=A.top();if(t)switch(e.which){case 27:t.value.keyboard&&(e.preventDefault(),i.$apply(function(){x.dismiss(t.key,"escape key press")}));break;case 9:var n=x.loadFocusElementList(t),r=!1;e.shiftKey?(x.isFocusInFirstItem(e,n)||x.isModalFocused(e,t))&&(r=x.focusLastFocusableElement(n)):x.isFocusInLastItem(e,n)&&(r=x.focusFirstFocusableElement(n)),r&&(e.preventDefault(),e.stopPropagation())}}function v(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}function y(){Array.prototype.forEach.call(document.querySelectorAll("["+k+"]"),function(e){var t=parseInt(e.getAttribute(k),10),n=t-1;e.setAttribute(k,n),n||(e.removeAttribute(k),e.removeAttribute("aria-hidden"))})}var b,S,D,w="modal-open",A=s.createNew(),C=a.createNew(),x={NOW_CLOSING_EVENT:"modal.stack.now-closing"},_=0,$=null,k="data-bootstrap-modal-aria-hidden-count",M="a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]",T=/[A-Z]/g;return i.$watch(d,function(e){S&&(S.index=e)}),n.on("keydown",m),i.$on("$destroy",function(){n.off("keydown",m)}),x.open=function(t,o){function a(e){function t(e){var t=e.parent()?e.parent().children():[];return Array.prototype.filter.call(t,function(t){return t!==e[0]})}if(e&&"BODY"!==e[0].tagName)return t(e).forEach(function(e){var t="true"===e.getAttribute("aria-hidden"),n=parseInt(e.getAttribute(k),10);n||(n=t?1:0),e.setAttribute(k,n+1),e.setAttribute("aria-hidden","true")}),a(e.parent())}var s=n[0].activeElement,c=o.openedClass||w;h(!1),$=A.top(),A.add(t,{deferred:o.deferred,renderDeferred:o.renderDeferred,closedDeferred:o.closedDeferred,modalScope:o.scope,backdrop:o.backdrop,keyboard:o.keyboard,openedClass:o.openedClass,windowTopClass:o.windowTopClass,animation:o.animation,appendTo:o.appendTo}),C.put(c,t);var p=o.appendTo,f=d();f>=0&&!b&&(S=i.$new(!0),S.modalOptions=o,S.index=f,b=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>'),b.attr({"class":"modal-backdrop","ng-style":"{'z-index': 1040 + (index && 1 || 0) + index*10}","uib-modal-animation-class":"fade","modal-in-class":"in"}),o.backdropClass&&b.addClass(o.backdropClass),o.animation&&b.attr("modal-animation","true"),r(b)(S),e.enter(b,p),l.isScrollable(p)&&(D=l.scrollbarPadding(p),D.heightOverflow&&D.scrollbarWidth&&p.css({paddingRight:D.right+"px"})));var g;o.component?(g=document.createElement(u(o.component.name)),g=angular.element(g),g.attr({resolve:"$resolve","modal-instance":"$uibModalInstance",close:"$close($value)",dismiss:"$dismiss($value)"})):g=o.content,_=$?parseInt($.value.modalDomEl.attr("index"),10)+1:0;var m=angular.element('<div uib-modal-window="modal-window"></div>');m.attr({"class":"modal","template-url":o.windowTemplateUrl,"window-top-class":o.windowTopClass,role:"dialog","aria-labelledby":o.ariaLabelledBy,"aria-describedby":o.ariaDescribedBy,size:o.size,index:_,animate:"animate","ng-style":"{'z-index': 1050 + $$topModalIndex*10, display: 'block'}",tabindex:-1,"uib-modal-animation-class":"fade","modal-in-class":"in"}).append(g),o.windowClass&&m.addClass(o.windowClass),o.animation&&m.attr("modal-animation","true"),p.addClass(c),o.scope&&(o.scope.$$topModalIndex=_),e.enter(r(m)(o.scope),p),A.top().value.modalDomEl=m,A.top().value.modalOpener=s,a(m)},x.close=function(e,t){var n=A.get(e);return y(),n&&v(n,t,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(t),p(e,n.value.modalOpener),!0):!n},x.dismiss=function(e,t){var n=A.get(e);return y(),n&&v(n,t,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(t),p(e,n.value.modalOpener),!0):!n},x.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},x.getTop=function(){return A.top()},x.modalRendered=function(e){var t=A.get(e);t&&t.value.renderDeferred.resolve()},x.focusFirstFocusableElement=function(e){return e.length>0?(e[0].focus(),!0):!1},x.focusLastFocusableElement=function(e){return e.length>0?(e[e.length-1].focus(),!0):!1},x.isModalFocused=function(e,t){if(e&&t){var n=t.value.modalDomEl;if(n&&n.length)return(e.target||e.srcElement)===n[0]}return!1},x.isFocusInFirstItem=function(e,t){return t.length>0?(e.target||e.srcElement)===t[0]:!1},x.isFocusInLastItem=function(e,t){return t.length>0?(e.target||e.srcElement)===t[t.length-1]:!1},x.loadFocusElementList=function(e){if(e){var t=e.value.modalDomEl;if(t&&t.length){var n=t[0].querySelectorAll(M);return n?Array.prototype.filter.call(n,function(e){return c(e)}):n}}},x}]).provider("$uibModal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(t,n,r,i,o,a,s){function l(e){return e.template?n.when(e.template):i(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}var u={},c=null;return u.getPromiseChain=function(){return c},u.open=function(i){function u(){return m}var d=n.defer(),p=n.defer(),h=n.defer(),f=n.defer(),g={result:d.promise,opened:p.promise,closed:h.promise,rendered:f.promise,close:function(e){return s.close(g,e)},dismiss:function(e){return s.dismiss(g,e)}};if(i=angular.extend({},e.options,i),i.resolve=i.resolve||{},i.appendTo=i.appendTo||r.find("body").eq(0),!i.appendTo.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");if(!i.component&&!i.template&&!i.templateUrl)throw new Error("One of component or template or templateUrl options is required.");var m;m=i.component?n.when(a.resolve(i.resolve,{},null,null)):n.all([l(i),a.resolve(i.resolve,{},null,null)]);var v;return v=c=n.all([c]).then(u,u).then(function(e){function n(t,n,r,i){t.$scope=a,t.$scope.$resolve={},r?t.$scope.$uibModalInstance=g:t.$uibModalInstance=g;var o=n?e[1]:e;angular.forEach(o,function(e,n){i&&(t[n]=e),t.$scope.$resolve[n]=e})}var r=i.scope||t,a=r.$new();a.$close=g.close,a.$dismiss=g.dismiss,a.$on("$destroy",function(){a.$$uibDestructionScheduled||a.$dismiss("$uibUnscheduledDestruction")});var l,u,c={scope:a,deferred:d,renderDeferred:f,closedDeferred:h,animation:i.animation,backdrop:i.backdrop,keyboard:i.keyboard,backdropClass:i.backdropClass,windowTopClass:i.windowTopClass,windowClass:i.windowClass,windowTemplateUrl:i.windowTemplateUrl,ariaLabelledBy:i.ariaLabelledBy,ariaDescribedBy:i.ariaDescribedBy,size:i.size,openedClass:i.openedClass,appendTo:i.appendTo},m={},v={};i.component?(n(m,!1,!0,!1),m.name=i.component,c.component=m):i.controller&&(n(v,!0,!1,!0),u=o(i.controller,v,!0,i.controllerAs),i.controllerAs&&i.bindToController&&(l=u.instance,l.$close=a.$close,l.$dismiss=a.$dismiss,angular.extend(l,{$resolve:v.$scope.$resolve},r)),l=u(),angular.isFunction(l.$onInit)&&l.$onInit()),i.component||(c.content=e[0]),s.open(g,c),p.resolve(!0)},function(e){p.reject(e),d.reject(e)}).finally(function(){c===v&&(c=null)}),g},u}]};return e}),angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(e){return{create:function(t,n,r){t.setNumPages=r.numPages?e(r.numPages).assign:angular.noop,t.ngModelCtrl={$setViewValue:angular.noop},t._watchers=[],t.init=function(e,i){t.ngModelCtrl=e,t.config=i,e.$render=function(){t.render()},r.itemsPerPage?t._watchers.push(n.$parent.$watch(r.itemsPerPage,function(e){t.itemsPerPage=parseInt(e,10),n.totalPages=t.calculateTotalPages(),t.updatePage()})):t.itemsPerPage=i.itemsPerPage,n.$watch("totalItems",function(e,r){(angular.isDefined(e)||e!==r)&&(n.totalPages=t.calculateTotalPages(),t.updatePage())})},t.calculateTotalPages=function(){var e=t.itemsPerPage<1?1:Math.ceil(n.totalItems/t.itemsPerPage);return Math.max(e||0,1)},t.render=function(){n.page=parseInt(t.ngModelCtrl.$viewValue,10)||1},n.selectPage=function(e,r){r&&r.preventDefault();var i=!n.ngDisabled||!r;i&&n.page!==e&&e>0&&e<=n.totalPages&&(r&&r.target&&r.target.blur(),t.ngModelCtrl.$setViewValue(e),t.ngModelCtrl.$render())},n.getText=function(e){return n[e+"Text"]||t.config[e+"Text"]},n.noPrevious=function(){return 1===n.page},n.noNext=function(){return n.page===n.totalPages},t.updatePage=function(){t.setNumPages(n.$parent,n.totalPages),n.page>n.totalPages?n.selectPage(n.totalPages):t.ngModelCtrl.$render()},n.$on("$destroy",function(){for(;t._watchers.length;)t._watchers.shift()()})}}}]),angular.module("ui.bootstrap.pager",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function(e,t,n,r){e.align=angular.isDefined(t.align)?e.$parent.$eval(t.align):r.align,n.create(this,e,t)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:" Previous",nextText:"Next ",align:!0}).directive("uibPager",["uibPagerConfig",function(e){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],restrict:"A",controller:"UibPagerController",controllerAs:"pager",templateUrl:function(e,t){return t.templateUrl||"uib/template/pager/pager.html"},link:function(t,n,r,i){n.addClass("pager");var o=i[0],a=i[1];a&&o.init(a,e)}}}]),angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(e,t,n,r,i){function o(e,t,n){return{number:e,text:t,active:n}}function a(e,t){var n=[],r=1,i=t,a=angular.isDefined(l)&&t>l;a&&(u?(r=Math.max(e-Math.floor(l/2),1),i=r+l-1,i>t&&(i=t,r=i-l+1)):(r=(Math.ceil(e/l)-1)*l+1,i=Math.min(r+l-1,t)));for(var s=r;i>=s;s++){var h=o(s,p(s),s===e);n.push(h)}if(a&&l>0&&(!u||c||d)){if(r>1){if(!d||r>3){var f=o(r-1,"...",!1);n.unshift(f)}if(d){if(3===r){var g=o(2,"2",!1);n.unshift(g)}var m=o(1,"1",!1);n.unshift(m)}}if(t>i){if(!d||t-2>i){var v=o(i+1,"...",!1);n.push(v)}if(d){if(i===t-2){var y=o(t-1,t-1,!1);n.push(y)}var b=o(t,t,!1);n.push(b)}}}return n}var s=this,l=angular.isDefined(t.maxSize)?e.$parent.$eval(t.maxSize):i.maxSize,u=angular.isDefined(t.rotate)?e.$parent.$eval(t.rotate):i.rotate,c=angular.isDefined(t.forceEllipses)?e.$parent.$eval(t.forceEllipses):i.forceEllipses,d=angular.isDefined(t.boundaryLinkNumbers)?e.$parent.$eval(t.boundaryLinkNumbers):i.boundaryLinkNumbers,p=angular.isDefined(t.pageLabel)?function(n){return e.$parent.$eval(t.pageLabel,{$page:n})}:angular.identity;e.boundaryLinks=angular.isDefined(t.boundaryLinks)?e.$parent.$eval(t.boundaryLinks):i.boundaryLinks,e.directionLinks=angular.isDefined(t.directionLinks)?e.$parent.$eval(t.directionLinks):i.directionLinks,t.$set("role","menu"),r.create(this,e,t),t.maxSize&&s._watchers.push(e.$parent.$watch(n(t.maxSize),function(e){l=parseInt(e,10),s.render()}));var h=this.render;this.render=function(){h(),e.page>0&&e.page<=e.totalPages&&(e.pages=a(e.page,e.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function(e,t){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],restrict:"A",controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"uib/template/pagination/pagination.html"},link:function(e,n,r,i){n.addClass("pagination");var o=i[0],a=i[1];a&&o.init(a,t)}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},r={};this.options=function(e){angular.extend(r,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(i,o,a,s,l,u,c,d,p){function h(e){if(27===e.which){var t=f.top();t&&(t.value.close(),t=null)}}var f=p.createNew();return s.on("keyup",h),c.$on("$destroy",function(){s.off("keyup",h)}),function(i,c,p,h){function g(e){var t=(e||h.trigger||p).split(" "),r=t.map(function(e){return n[e]||e});return{show:t,hide:r}}h=angular.extend({},t,r,h);var m=e(i),v=u.startSymbol(),y=u.endSymbol(),b="<div "+m+'-popup uib-title="'+v+"title"+y+'" '+(h.useContentExp?'content-exp="contentExp()" ':'content="'+v+"content"+y+'" ')+'origin-scope="origScope" class="uib-position-measure '+c+'" tooltip-animation-class="fade"uib-tooltip-classes ng-class="{ in: isOpen }" ></div>';return{compile:function(){var e=o(b);return function(t,n,r){function o(){B.isOpen?p():u()}function u(){(!W||t.$eval(r[c+"Enable"]))&&(b(),w(),B.popupDelay?O||(O=a(m,B.popupDelay,!1)):m())}function p(){v(),B.popupCloseDelay?P||(P=a(y,B.popupCloseDelay,!1)):y()}function m(){return v(),b(),B.content?(S(),void B.$evalAsync(function(){B.isOpen=!0,A(!0),z()})):angular.noop}function v(){O&&(a.cancel(O),O=null),E&&(a.cancel(E),E=null)}function y(){B&&B.$evalAsync(function(){B&&(B.isOpen=!1,A(!1),B.animation?F||(F=a(D,150,!1)):D())})}function b(){P&&(a.cancel(P),P=null),F&&(a.cancel(F),F=null)}function S(){M||(T=B.$new(),M=e(T,function(e){R?s.find("body").append(e):n.after(e)}),f.add(B,{close:y}),C())}function D(){v(),b(),x(),M&&(M.remove(),M=null,L&&a.cancel(L)),f.remove(B),T&&(T.$destroy(),T=null)}function w(){B.title=r[c+"Title"],B.content=q?q(t):r[i],B.popupClass=r[c+"Class"],B.placement=angular.isDefined(r[c+"Placement"])?r[c+"Placement"]:h.placement;var e=l.parsePlacement(B.placement);I=e[1]?e[0]+"-"+e[1]:e[0];var n=parseInt(r[c+"PopupDelay"],10),o=parseInt(r[c+"PopupCloseDelay"],10);B.popupDelay=isNaN(n)?h.popupDelay:n,B.popupCloseDelay=isNaN(o)?h.popupCloseDelay:o}function A(e){G&&angular.isFunction(G.assign)&&G.assign(t,e)}function C(){j.length=0,q?(j.push(t.$watch(q,function(e){B.content=e,!e&&B.isOpen&&y()})),j.push(T.$watch(function(){U||(U=!0,T.$$postDigest(function(){U=!1,B&&B.isOpen&&z()}))}))):j.push(r.$observe(i,function(e){B.content=e,!e&&B.isOpen?y():z()})),j.push(r.$observe(c+"Title",function(e){B.title=e,B.isOpen&&z()})),j.push(r.$observe(c+"Placement",function(e){B.placement=e?e:h.placement,B.isOpen&&z()}))}function x(){j.length&&(angular.forEach(j,function(e){e()}),j.length=0)}function _(e){B&&B.isOpen&&M&&(n[0].contains(e.target)||M[0].contains(e.target)||p())}function $(e){27===e.which&&p()}function k(){var e=[],i=[],a=t.$eval(r[c+"Trigger"]);K(),angular.isObject(a)?(Object.keys(a).forEach(function(t){e.push(t),i.push(a[t])}),N={show:e,hide:i}):N=g(a),"none"!==N.show&&N.show.forEach(function(e,t){"outsideClick"===e?(n.on("click",o),s.on("click",_)):e===N.hide[t]?n.on(e,o):e&&(n.on(e,u),n.on(N.hide[t],p)),n.on("keypress",$)})}var M,T,F,O,P,E,L,I,R=angular.isDefined(h.appendToBody)?h.appendToBody:!1,N=g(void 0),W=angular.isDefined(r[c+"Enable"]),B=t.$new(!0),U=!1,G=angular.isDefined(r[c+"IsOpen"])?d(r[c+"IsOpen"]):!1,q=h.useContentExp?d(r[i]):!1,j=[],z=function(){M&&M.html()&&(E||(E=a(function(){var e=l.positionElements(n,M,B.placement,R),t=angular.isDefined(M.offsetHeight)?M.offsetHeight:M.prop("offsetHeight"),r=R?l.offset(n):l.position(n);M.css({top:e.top+"px",left:e.left+"px"});var i=e.placement.split("-");M.hasClass(i[0])||(M.removeClass(I.split("-")[0]),M.addClass(i[0])),M.hasClass(h.placementClassPrefix+e.placement)||(M.removeClass(h.placementClassPrefix+I),M.addClass(h.placementClassPrefix+e.placement)),L=a(function(){var e=angular.isDefined(M.offsetHeight)?M.offsetHeight:M.prop("offsetHeight"),n=l.adjustTop(i,r,t,e);
n&&M.css(n),L=null},0,!1),M.hasClass("uib-position-measure")?(l.positionArrow(M,e.placement),M.removeClass("uib-position-measure")):I!==e.placement&&l.positionArrow(M,e.placement),I=e.placement,E=null},0,!1)))};B.origScope=t,B.isOpen=!1,B.contentExp=function(){return B.content},r.$observe("disabled",function(e){e&&v(),e&&B.isOpen&&y()}),G&&t.$watch(G,function(e){B&&!e===B.isOpen&&o()});var K=function(){N.show.forEach(function(e){"outsideClick"===e?n.off("click",o):(n.off(e,u),n.off(e,o)),n.off("keypress",$)}),N.hide.forEach(function(e){"outsideClick"===e?s.off("click",_):n.off(e,p)})};k();var H=t.$eval(r[c+"Animation"]);B.animation=angular.isDefined(H)?!!H:h.animation;var V,Y=c+"AppendToBody";V=Y in r&&void 0===r[Y]?!0:t.$eval(r[Y]),R=angular.isDefined(V)?V:R,t.$on("$destroy",function(){K(),D(),B=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,n,r){return{link:function(i,o,a){var s,l,u,c=i.$eval(a.tooltipTemplateTranscludeScope),d=0,p=function(){l&&(l.remove(),l=null),s&&(s.$destroy(),s=null),u&&(e.leave(u).then(function(){l=null}),l=u,u=null)};i.$watch(t.parseAsResourceUrl(a.uibTooltipTemplateTransclude),function(t){var a=++d;t?(r(t,!0).then(function(r){if(a===d){var i=c.$new(),l=r,h=n(l)(i,function(t){p(),e.enter(t,o)});s=i,u=h,s.$emit("$includeContentLoaded",t)}},function(){a===d&&(p(),i.$emit("$includeContentError",t))}),i.$emit("$includeContentRequested",t)):p()}),i.$on("$destroy",p)}}}]).directive("uibTooltipClasses",["$uibPosition",function(e){return{restrict:"A",link:function(t,n,r){if(t.placement){var i=e.parsePlacement(t.placement);n.addClass(i[0])}t.popupClass&&n.addClass(t.popupClass),t.animation&&n.addClass(r.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{restrict:"A",scope:{content:"@"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(e){return e("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{restrict:"A",scope:{contentExp:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(e){return e("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(e){return e("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{restrict:"A",scope:{uibTitle:"@",contentExp:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function(e){return e("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&",uibTitle:"@"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function(e){return e("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{restrict:"A",scope:{uibTitle:"@",content:"@"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function(e){return e("uibPopover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(e,t,n){function r(){return angular.isDefined(e.maxParam)?e.maxParam:n.max}var i=this,o=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=r(),this.addBar=function(e,t,n){o||t.css({transition:"none"}),this.bars.push(e),e.max=r(),e.title=n&&angular.isDefined(n.title)?n.title:"progressbar",e.$watch("value",function(){e.recalculatePercentage()}),e.recalculatePercentage=function(){var t=i.bars.reduce(function(e,t){return t.percent=+(100*t.value/t.max).toFixed(2),e+t.percent},0);t>100&&(e.percent-=t-100)},e.$on("$destroy",function(){t=null,i.removeBar(e)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1),this.bars.forEach(function(e){e.recalculatePercentage()})},e.$watch("maxParam",function(){i.bars.forEach(function(e){e.max=r(),e.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{maxParam:"=?max"},templateUrl:"uib/template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function(e,t,n,r){r.addBar(e,t,n)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",maxParam:"=?max",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(e,t,n,r){r.addBar(e,angular.element(t.children()[0]),{title:n.title})}}}),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,enableReset:!0,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(e,t,n){var r={$setViewValue:angular.noop},i=this;this.init=function(i){r=i,r.$render=this.render,r.$formatters.push(function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e}),this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff,this.enableReset=angular.isDefined(t.enableReset)?e.$parent.$eval(t.enableReset):n.enableReset;var o=angular.isDefined(t.titles)?e.$parent.$eval(t.titles):n.titles;this.titles=angular.isArray(o)&&o.length>0?o:n.titles;var a=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(a)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;n>t;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(t)},e[t]);return e},this.getTitle=function(e){return e>=this.titles.length?e+1:this.titles[e]},e.rate=function(t){if(!e.readonly&&t>=0&&t<=e.range.length){var n=i.enableReset&&r.$viewValue===t?0:t;r.$setViewValue(n),r.$render()}},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=r.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=r.$viewValue,e.title=i.getTitle(e.value-1)}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],restrict:"A",scope:{readonly:"=?readOnly",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",link:function(e,t,n,r){var i=r[0],o=r[1];i.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(e){function t(e){for(var t=0;t<r.tabs.length;t++)if(r.tabs[t].index===e)return t}var n,r=this;r.tabs=[],r.select=function(e,o){if(!i){var a=t(n),s=r.tabs[a];if(s){if(s.tab.onDeselect({$event:o,$selectedIndex:e}),o&&o.isDefaultPrevented())return;s.tab.active=!1}var l=r.tabs[e];l?(l.tab.onSelect({$event:o}),l.tab.active=!0,r.active=l.index,n=l.index):!l&&angular.isDefined(n)&&(r.active=null,n=null)}},r.addTab=function(e){if(r.tabs.push({tab:e,index:e.index}),r.tabs.sort(function(e,t){return e.index>t.index?1:e.index<t.index?-1:0}),e.index===r.active||!angular.isDefined(r.active)&&1===r.tabs.length){var n=t(e.index);r.select(n)}},r.removeTab=function(e){for(var t,n=0;n<r.tabs.length;n++)if(r.tabs[n].tab===e){t=n;break}if(r.tabs[t].index===r.active){var i=t===r.tabs.length-1?t-1:t+1%r.tabs.length;r.select(i)}r.tabs.splice(t,1)},e.$watch("tabset.active",function(e){angular.isDefined(e)&&e!==n&&r.select(t(e))});var i;e.$on("$destroy",function(){i=!0})}]).directive("uibTabset",function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:"=?",type:"@"},controller:"UibTabsetController",controllerAs:"tabset",templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tabset.html"},link:function(e,t,n){e.vertical=angular.isDefined(n.vertical)?e.$parent.$eval(n.vertical):!1,e.justified=angular.isDefined(n.justified)?e.$parent.$eval(n.justified):!1}}}).directive("uibTab",["$parse",function(e){return{require:"^uibTabset",replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tab.html"},transclude:!0,scope:{heading:"@",index:"=?",classes:"@?",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(t,n,r,i,o){t.disabled=!1,r.disable&&t.$parent.$watch(e(r.disable),function(e){t.disabled=!!e}),angular.isUndefined(r.index)&&(t.index=i.tabs&&i.tabs.length?Math.max.apply(null,i.tabs.map(function(e){return e.index}))+1:0),angular.isUndefined(r.classes)&&(t.classes=""),t.select=function(e){if(!t.disabled){for(var n,r=0;r<i.tabs.length;r++)if(i.tabs[r].tab===t){n=r;break}i.select(n,e)}},i.addTab(t),t.$on("$destroy",function(){i.removeTab(t)}),t.$transcludeFn=o}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}).directive("uibTabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("uib-tab-heading")||e.hasAttribute("data-uib-tab-heading")||e.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===e.tagName.toLowerCase()||"data-uib-tab-heading"===e.tagName.toLowerCase()||"x-uib-tab-heading"===e.tagName.toLowerCase()||"uib:tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^uibTabset",link:function(t,n,r){var i=t.$eval(r.uibTabContentTransclude).tab;i.$transcludeFn(i.$parent,function(t){angular.forEach(t,function(t){e(t)?i.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(e,t,n,r,i,o,a){function s(){var t=+e.hours,n=e.showMeridian?t>0&&13>t:t>=0&&24>t;return n&&""!==e.hours?(e.showMeridian&&(12===t&&(t=0),e.meridian===C[1]&&(t+=12)),t):void 0}function l(){var t=+e.minutes,n=t>=0&&60>t;return n&&""!==e.minutes?t:void 0}function u(){var t=+e.seconds;return t>=0&&60>t?t:void 0}function c(e,t){return null===e?"":angular.isDefined(e)&&e.toString().length<2&&!t?"0"+e:e.toString()}function d(e){p(),A.$setViewValue(new Date(D)),h(e)}function p(){y&&y.$setValidity("hours",!0),b&&b.$setValidity("minutes",!0),S&&S.$setValidity("seconds",!0),A.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1,e.invalidSeconds=!1}function h(t){if(A.$modelValue){var n=D.getHours(),r=D.getMinutes(),i=D.getSeconds();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:c(n,!x),"m"!==t&&(e.minutes=c(r)),e.meridian=D.getHours()<12?C[0]:C[1],"s"!==t&&(e.seconds=c(i)),e.meridian=D.getHours()<12?C[0]:C[1]}else e.hours=null,e.minutes=null,e.seconds=null,e.meridian=C[0]}function f(e){D=m(D,e),d()}function g(e,t){return m(e,60*t)}function m(e,t){var n=new Date(e.getTime()+1e3*t),r=new Date(e);return r.setHours(n.getHours(),n.getMinutes(),n.getSeconds()),r}function v(){return!(null!==e.hours&&""!==e.hours||null!==e.minutes&&""!==e.minutes||e.showSeconds&&(!e.showSeconds||null!==e.seconds&&""!==e.seconds))}var y,b,S,D=new Date,w=[],A={$setViewValue:angular.noop},C=angular.isDefined(n.meridians)?e.$parent.$eval(n.meridians):a.meridians||o.DATETIME_FORMATS.AMPMS,x=angular.isDefined(n.padHours)?e.$parent.$eval(n.padHours):!0;e.tabindex=angular.isDefined(n.tabindex)?n.tabindex:0,t.removeAttr("tabindex"),this.init=function(t,r){A=t,A.$render=this.render,A.$formatters.unshift(function(e){return e?new Date(e):null});var i=r.eq(0),o=r.eq(1),s=r.eq(2);y=i.controller("ngModel"),b=o.controller("ngModel"),S=s.controller("ngModel");var l=angular.isDefined(n.mousewheel)?e.$parent.$eval(n.mousewheel):a.mousewheel;l&&this.setupMousewheelEvents(i,o,s);var u=angular.isDefined(n.arrowkeys)?e.$parent.$eval(n.arrowkeys):a.arrowkeys;u&&this.setupArrowkeyEvents(i,o,s),e.readonlyInput=angular.isDefined(n.readonlyInput)?e.$parent.$eval(n.readonlyInput):a.readonlyInput,this.setupInputEvents(i,o,s)};var _=a.hourStep;n.hourStep&&w.push(e.$parent.$watch(r(n.hourStep),function(e){_=+e}));var $=a.minuteStep;n.minuteStep&&w.push(e.$parent.$watch(r(n.minuteStep),function(e){$=+e}));var k;w.push(e.$parent.$watch(r(n.min),function(e){var t=new Date(e);k=isNaN(t)?void 0:t}));var M;w.push(e.$parent.$watch(r(n.max),function(e){var t=new Date(e);M=isNaN(t)?void 0:t}));var T=!1;n.ngDisabled&&w.push(e.$parent.$watch(r(n.ngDisabled),function(e){T=e})),e.noIncrementHours=function(){var e=g(D,60*_);return T||e>M||D>e&&k>e},e.noDecrementHours=function(){var e=g(D,60*-_);return T||k>e||e>D&&e>M},e.noIncrementMinutes=function(){var e=g(D,$);return T||e>M||D>e&&k>e},e.noDecrementMinutes=function(){var e=g(D,-$);return T||k>e||e>D&&e>M},e.noIncrementSeconds=function(){var e=m(D,F);return T||e>M||D>e&&k>e},e.noDecrementSeconds=function(){var e=m(D,-F);return T||k>e||e>D&&e>M},e.noToggleMeridian=function(){return D.getHours()<12?T||g(D,720)>M:T||g(D,-720)<k};var F=a.secondStep;n.secondStep&&w.push(e.$parent.$watch(r(n.secondStep),function(e){F=+e})),e.showSeconds=a.showSeconds,n.showSeconds&&w.push(e.$parent.$watch(r(n.showSeconds),function(t){e.showSeconds=!!t})),e.showMeridian=a.showMeridian,n.showMeridian&&w.push(e.$parent.$watch(r(n.showMeridian),function(t){if(e.showMeridian=!!t,A.$error.time){var n=s(),r=l();angular.isDefined(n)&&angular.isDefined(r)&&(D.setHours(n),d())}else h()})),this.setupMousewheelEvents=function(t,n,r){var i=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.on("mousewheel wheel",function(t){T||e.$apply(i(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.on("mousewheel wheel",function(t){T||e.$apply(i(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()}),r.on("mousewheel wheel",function(t){T||e.$apply(i(t)?e.incrementSeconds():e.decrementSeconds()),t.preventDefault()})},this.setupArrowkeyEvents=function(t,n,r){t.on("keydown",function(t){T||(38===t.which?(t.preventDefault(),e.incrementHours(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementHours(),e.$apply()))}),n.on("keydown",function(t){T||(38===t.which?(t.preventDefault(),e.incrementMinutes(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementMinutes(),e.$apply()))}),r.on("keydown",function(t){T||(38===t.which?(t.preventDefault(),e.incrementSeconds(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementSeconds(),e.$apply()))})},this.setupInputEvents=function(t,n,r){if(e.readonlyInput)return e.updateHours=angular.noop,e.updateMinutes=angular.noop,void(e.updateSeconds=angular.noop);var i=function(t,n,r){A.$setViewValue(null),A.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t,y&&y.$setValidity("hours",!1)),angular.isDefined(n)&&(e.invalidMinutes=n,b&&b.$setValidity("minutes",!1)),angular.isDefined(r)&&(e.invalidSeconds=r,S&&S.$setValidity("seconds",!1))};e.updateHours=function(){var e=s(),t=l();A.$setDirty(),angular.isDefined(e)&&angular.isDefined(t)?(D.setHours(e),D.setMinutes(t),k>D||D>M?i(!0):d("h")):i(!0)},t.on("blur",function(){A.$setTouched(),v()?p():null===e.hours||""===e.hours?i(!0):!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=c(e.hours,!x)})}),e.updateMinutes=function(){var e=l(),t=s();A.$setDirty(),angular.isDefined(e)&&angular.isDefined(t)?(D.setHours(t),D.setMinutes(e),k>D||D>M?i(void 0,!0):d("m")):i(void 0,!0)},n.on("blur",function(){A.$setTouched(),v()?p():null===e.minutes?i(void 0,!0):!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=c(e.minutes)})}),e.updateSeconds=function(){var e=u();A.$setDirty(),angular.isDefined(e)?(D.setSeconds(e),d("s")):i(void 0,void 0,!0)},r.on("blur",function(){v()?p():!e.invalidSeconds&&e.seconds<10&&e.$apply(function(){e.seconds=c(e.seconds)})})},this.render=function(){var t=A.$viewValue;isNaN(t)?(A.$setValidity("time",!1),i.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(D=t),k>D||D>M?(A.$setValidity("time",!1),e.invalidHours=!0,e.invalidMinutes=!0):p(),h())},e.showSpinners=angular.isDefined(n.showSpinners)?e.$parent.$eval(n.showSpinners):a.showSpinners,e.incrementHours=function(){e.noIncrementHours()||f(60*_*60)},e.decrementHours=function(){e.noDecrementHours()||f(60*-_*60)},e.incrementMinutes=function(){e.noIncrementMinutes()||f(60*$)},e.decrementMinutes=function(){e.noDecrementMinutes()||f(60*-$)},e.incrementSeconds=function(){e.noIncrementSeconds()||f(F)},e.decrementSeconds=function(){e.noDecrementSeconds()||f(-F)},e.toggleMeridian=function(){var t=l(),n=s();e.noToggleMeridian()||(angular.isDefined(t)&&angular.isDefined(n)?f(720*(D.getHours()<12?60:-60)):e.meridian=e.meridian===C[0]?C[1]:C[0])},e.blur=function(){A.$setTouched()},e.$on("$destroy",function(){for(;w.length;)w.shift()()})}]).directive("uibTimepicker",["uibTimepickerConfig",function(e){return{require:["uibTimepicker","?^ngModel"],restrict:"A",controller:"UibTimepickerController",controllerAs:"timepicker",scope:{},templateUrl:function(t,n){return n.templateUrl||e.templateUrl},link:function(e,t,n,r){var i=r[0],o=r[1];o&&i.init(o,t.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var r=n.match(t);if(!r)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:r[3],source:e(r[4]),viewMapper:e(r[2]||r[1]),modelMapper:e(r[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(e,t,n,r,i,o,a,s,l,u,c,d,p){function h(){U.moveInProgress||(U.moveInProgress=!0,U.$digest()),J()}function f(){U.position=F?d.offset(t):d.position(t),U.position.top+=t.prop("offsetHeight")}function g(e){var t;return angular.version.minor<6?(t=e.$options||{},t.getOption=function(e){return t[e]}):t=e.$options,t}var m,v,y=[9,13,27,38,40],b=200,S=e.$eval(n.typeaheadMinLength);S||0===S||(S=1),e.$watch(n.typeaheadMinLength,function(e){S=e||0===e?e:1});var D=e.$eval(n.typeaheadWaitMs)||0,w=e.$eval(n.typeaheadEditable)!==!1;e.$watch(n.typeaheadEditable,function(e){w=e!==!1});var A,C,x=i(n.typeaheadLoading).assign||angular.noop,_=n.typeaheadShouldSelect?i(n.typeaheadShouldSelect):function(e,t){var n=t.$event;return 13===n.which||9===n.which},$=i(n.typeaheadOnSelect),k=angular.isDefined(n.typeaheadSelectOnBlur)?e.$eval(n.typeaheadSelectOnBlur):!1,M=i(n.typeaheadNoResults).assign||angular.noop,T=n.typeaheadInputFormatter?i(n.typeaheadInputFormatter):void 0,F=n.typeaheadAppendToBody?e.$eval(n.typeaheadAppendToBody):!1,O=n.typeaheadAppendTo?e.$eval(n.typeaheadAppendTo):null,P=e.$eval(n.typeaheadFocusFirst)!==!1,E=n.typeaheadSelectOnExact?e.$eval(n.typeaheadSelectOnExact):!1,L=i(n.typeaheadIsOpen).assign||angular.noop,I=e.$eval(n.typeaheadShowHint)||!1,R=i(n.ngModel),N=i(n.ngModel+"($$$p)"),W=function(t,n){return angular.isFunction(R(e))&&v.getOption("getterSetter")?N(t,{$$$p:n}):R.assign(t,n)},B=p.parse(n.uibTypeahead),U=e.$new(),G=e.$on("$destroy",function(){U.$destroy()});U.$on("$destroy",G);var q="typeahead-"+U.$id+"-"+Math.floor(1e4*Math.random());t.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":q});var j,z;I&&(j=angular.element("<div></div>"),j.css("position","relative"),t.after(j),z=t.clone(),z.attr("placeholder",""),z.attr("tabindex","-1"),z.val(""),z.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),t.css({position:"relative","vertical-align":"top","background-color":"transparent"}),z.attr("id")&&z.removeAttr("id"),j.append(z),z.after(t));var K=angular.element("<div uib-typeahead-popup></div>");K.attr({id:q,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(n.typeaheadTemplateUrl)&&K.attr("template-url",n.typeaheadTemplateUrl),angular.isDefined(n.typeaheadPopupTemplateUrl)&&K.attr("popup-template-url",n.typeaheadPopupTemplateUrl);var H=function(){I&&z.val("")},V=function(){U.matches=[],U.activeIdx=-1,t.attr("aria-expanded",!1),H()},Y=function(e){return q+"-option-"+e};U.$watch("activeIdx",function(e){0>e?t.removeAttr("aria-activedescendant"):t.attr("aria-activedescendant",Y(e))});var Q=function(e,t){return U.matches.length>t&&e?e.toUpperCase()===U.matches[t].label.toUpperCase():!1},Z=function(n,r){var i={$viewValue:n};x(e,!0),M(e,!1),o.when(B.source(e,i)).then(function(o){var a=n===m.$viewValue;if(a&&A)if(o&&o.length>0){U.activeIdx=P?0:-1,M(e,!1),U.matches.length=0;for(var s=0;s<o.length;s++)i[B.itemName]=o[s],U.matches.push({id:Y(s),label:B.viewMapper(U,i),model:o[s]});if(U.query=n,f(),t.attr("aria-expanded",!0),E&&1===U.matches.length&&Q(n,0)&&(angular.isNumber(U.debounceUpdate)||angular.isObject(U.debounceUpdate)?c(function(){U.select(0,r)},angular.isNumber(U.debounceUpdate)?U.debounceUpdate:U.debounceUpdate.default):U.select(0,r)),I){var l=U.matches[0].label;z.val(angular.isString(n)&&n.length>0&&l.slice(0,n.length).toUpperCase()===n.toUpperCase()?n+l.slice(n.length):"")}}else V(),M(e,!0);a&&x(e,!1)},function(){V(),x(e,!1),M(e,!0)})};F&&(angular.element(l).on("resize",h),s.find("body").on("scroll",h));var J=c(function(){U.matches.length&&f(),U.moveInProgress=!1},b);U.moveInProgress=!1,U.query=void 0;var X,et=function(e){X=a(function(){Z(e)},D)},tt=function(){X&&a.cancel(X)};V(),U.assignIsOpen=function(t){L(e,t)},U.select=function(r,i){var o,s,l={};C=!0,l[B.itemName]=s=U.matches[r].model,o=B.modelMapper(e,l),W(e,o),m.$setValidity("editable",!0),m.$setValidity("parse",!0),$(e,{$item:s,$model:o,$label:B.viewMapper(e,l),$event:i}),V(),U.$eval(n.typeaheadFocusOnSelect)!==!1&&a(function(){t[0].focus()},0,!1)},t.on("keydown",function(t){if(0!==U.matches.length&&-1!==y.indexOf(t.which)){var n=_(e,{$event:t});if(-1===U.activeIdx&&n||9===t.which&&t.shiftKey)return V(),void U.$digest();t.preventDefault();var r;switch(t.which){case 27:t.stopPropagation(),V(),e.$digest();break;case 38:U.activeIdx=(U.activeIdx>0?U.activeIdx:U.matches.length)-1,U.$digest(),r=K[0].querySelectorAll(".uib-typeahead-match")[U.activeIdx],r.parentNode.scrollTop=r.offsetTop;break;case 40:U.activeIdx=(U.activeIdx+1)%U.matches.length,U.$digest(),r=K[0].querySelectorAll(".uib-typeahead-match")[U.activeIdx],r.parentNode.scrollTop=r.offsetTop;break;default:n&&U.$apply(function(){angular.isNumber(U.debounceUpdate)||angular.isObject(U.debounceUpdate)?c(function(){U.select(U.activeIdx,t)},angular.isNumber(U.debounceUpdate)?U.debounceUpdate:U.debounceUpdate.default):U.select(U.activeIdx,t)})}}}),t.on("focus",function(e){A=!0,0!==S||m.$viewValue||a(function(){Z(m.$viewValue,e)},0)}),t.on("blur",function(e){k&&U.matches.length&&-1!==U.activeIdx&&!C&&(C=!0,U.$apply(function(){angular.isObject(U.debounceUpdate)&&angular.isNumber(U.debounceUpdate.blur)?c(function(){U.select(U.activeIdx,e)},U.debounceUpdate.blur):U.select(U.activeIdx,e)})),!w&&m.$error.editable&&(m.$setViewValue(),U.$apply(function(){m.$setValidity("editable",!0),m.$setValidity("parse",!0)}),t.val("")),A=!1,C=!1});var nt=function(n){t[0]!==n.target&&3!==n.which&&0!==U.matches.length&&(V(),u.$$phase||e.$digest())};s.on("click",nt),e.$on("$destroy",function(){s.off("click",nt),(F||O)&&rt.remove(),F&&(angular.element(l).off("resize",h),s.find("body").off("scroll",h)),K.remove(),I&&j.remove()});var rt=r(K)(U);F?s.find("body").append(rt):O?angular.element(O).eq(0).append(rt):t.after(rt),this.init=function(t){m=t,v=g(m),U.debounceUpdate=i(v.getOption("debounce"))(e),m.$parsers.unshift(function(t){return A=!0,0===S||t&&t.length>=S?D>0?(tt(),et(t)):Z(t):(x(e,!1),tt(),V()),w?t:t?void m.$setValidity("editable",!1):(m.$setValidity("editable",!0),null)}),m.$formatters.push(function(t){var n,r,i={};return w||m.$setValidity("editable",!0),T?(i.$model=t,T(e,i)):(i[B.itemName]=t,n=B.viewMapper(e,i),i[B.itemName]=void 0,r=B.viewMapper(e,i),n!==r?n:t)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","uibTypeahead"],link:function(e,t,n,r){r[1].init(r[0])}}}).directive("uibTypeaheadPopup",["$$debounce",function(e){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(t,n,r){t.templateUrl=r.templateUrl,t.isOpen=function(){var e=t.matches.length>0;return t.assignIsOpen({isOpen:e}),e},t.isActive=function(e){return t.active===e},t.selectActive=function(e){t.active=e},t.selectMatch=function(n,r){var i=t.debounce();angular.isNumber(i)||angular.isObject(i)?e(function(){t.select({activeIdx:n,evt:r})},angular.isNumber(i)?i:i.default):t.select({activeIdx:n,evt:r})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,n){return{scope:{index:"=",match:"=",query:"="},link:function(r,i,o){var a=n(o.templateUrl)(r.$parent)||"uib/template/typeahead/typeahead-match.html";e(a).then(function(e){var n=angular.element(e.trim());i.replaceWith(n),t(n)(r)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(e,t,n){function r(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function i(e){return/<.*>/g.test(e)}var o;return o=t.has("$sanitize"),function(t,a){return!o&&i(t)&&n.warn("Unsafe use of typeahead please use ngSanitize"),t=a?(""+t).replace(new RegExp(r(a),"gi"),"<strong>$&</strong>"):t,o||(t=e.trustAsHtml(t)),t}}]),angular.module("uib/template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion-group.html",'<div role="tab" id="{{::headingId}}" aria-selected="{{isOpen}}" class="panel-heading" ng-keypress="toggleOpen($event)">\n  <h4 class="panel-title">\n    <a role="button" data-toggle="collapse" href aria-expanded="{{isOpen}}" aria-controls="{{::panelId}}" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading" ng-disabled="isDisabled" uib-tabindex-toggle><span uib-accordion-header ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n  </h4>\n</div>\n<div id="{{::panelId}}" aria-labelledby="{{::headingId}}" aria-hidden="{{!isOpen}}" role="tabpanel" class="panel-collapse collapse" uib-collapse="!isOpen">\n  <div class="panel-body" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion.html",'<div role="tablist" class="panel-group" ng-transclude></div>')}]),angular.module("uib/template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("uib/template/alert/alert.html",'<button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n  <span aria-hidden="true">&times;</span>\n  <span class="sr-only">Close</span>\n</button>\n<div ng-transclude></div>\n')}]),angular.module("uib/template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("uib/template/carousel/carousel.html",'<div class="carousel-inner" ng-transclude></div>\n<a role="button" href class="left carousel-control" ng-click="prev()" ng-class="{ disabled: isPrevDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n  <span class="sr-only">previous</span>\n</a>\n<a role="button" href class="right carousel-control" ng-click="next()" ng-class="{ disabled: isNextDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n  <span class="sr-only">next</span>\n</a>\n<ol class="carousel-indicators" ng-show="slides.length > 1">\n  <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n    <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n  </li>\n</ol>\n')}]),angular.module("uib/template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("uib/template/carousel/slide.html",'<div class="text-center" ng-transclude></div>\n')}]),angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/datepicker.html",'<div ng-switch="datepickerMode">\n  <div uib-daypicker ng-switch-when="day" tabindex="0" class="uib-daypicker"></div>\n  <div uib-monthpicker ng-switch-when="month" tabindex="0" class="uib-monthpicker"></div>\n  <div uib-yearpicker ng-switch-when="year" tabindex="0" class="uib-yearpicker"></div>\n</div>\n')}]),angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-weeks" ng-repeat="row in rows track by $index" role="row">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default btn-sm"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::yearHeaderColspan}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-months" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')
}]),angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::columns - 2}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-years" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepickerPopup/popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepickerPopup/popup.html",'<ul role="presentation" class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n  <li ng-transclude></li>\n  <li ng-if="showButtonBar" class="uib-button-bar">\n    <span class="btn-group pull-left">\n      <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n      <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n    </span>\n    <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n  </li>\n</ul>\n')}]),angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function(e){e.put("uib/template/modal/window.html","<div class=\"modal-dialog {{size ? 'modal-' + size : ''}}\"><div class=\"modal-content\" uib-modal-transclude></div></div>\n")}]),angular.module("uib/template/pager/pager.html",[]).run(["$templateCache",function(e){e.put("uib/template/pager/pager.html",'<li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n')}]),angular.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("uib/template/pagination/pagination.html",'<li role="menuitem" ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'first\')}}</a></li>\n<li role="menuitem" ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li role="menuitem" ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)" ng-disabled="ngDisabled&&!page.active" uib-tabindex-toggle>{{page.text}}</a></li>\n<li role="menuitem" ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n<li role="menuitem" ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'last\')}}</a></li>\n')}]),angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-html-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind="content"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-template-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner"\n  uib-tooltip-template-transclude="contentExp()"\n  tooltip-template-transclude-scope="originScope()"></div>\n')}]),angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-html.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-template.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content"\n      uib-tooltip-template-transclude="contentExp()"\n      tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind="content"></div>\n</div>\n')}]),angular.module("uib/template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n')}]),angular.module("uib/template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("uib/template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("uib/template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}" aria-valuetext="{{title}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}"></i>\n</span>\n')}]),angular.module("uib/template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("uib/template/tabs/tab.html",'<li ng-class="[{active: active, disabled: disabled}, classes]" class="uib-tab nav-item">\n  <a href ng-click="select($event)" class="nav-link" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("uib/template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("uib/template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{tabset.type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane"\n         ng-repeat="tab in tabset.tabs"\n         ng-class="{active: tabset.active === tab.index}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("uib/template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/timepicker/timepicker.html",'<table class="uib-timepicker">\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-increment hours"><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-increment minutes"><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\n        <input type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\n      </td>\n      <td class="uib-separator">:</td>\n      <td class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\n        <input type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\n      </td>\n      <td ng-show="showSeconds" class="uib-separator">:</td>\n      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\n        <input type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\n      </td>\n      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-match.html",'<a href\n   tabindex="-1"\n   ng-bind-html="match.label | uibTypeaheadHighlight:query"\n   ng-attr-title="{{match.label}}"></a>\n')}]),angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li class="uib-typeahead-match" ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.module("ui.bootstrap.carousel").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibCarouselCss&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.$$uibCarouselCss=!0}),angular.module("ui.bootstrap.datepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>'),angular.$$uibDatepickerCss=!0}),angular.module("ui.bootstrap.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),angular.module("ui.bootstrap.datepickerPopup").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerpopupCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>'),angular.$$uibDatepickerpopupCss=!0}),angular.module("ui.bootstrap.tooltip").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),angular.$$uibTooltipCss=!0}),angular.module("ui.bootstrap.timepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTimepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>'),angular.$$uibTimepickerCss=!0}),angular.module("ui.bootstrap.typeahead").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTypeaheadCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'),angular.$$uibTypeaheadCss=!0}),n("angular_bootstrap",["angular"],function(){}),function(e,r){"function"==typeof n&&n.amd?n("moment_range",["moment"],function(t){return e.DateRange=r(t)}):"object"==typeof exports?module.exports=r(t("moment")):e.DateRange=r(moment)}(this,function(e){function t(t,n){var r,i=t,o=n;(1===arguments.length||void 0===n)&&("object"==typeof t&&2===t.length?(i=t[0],o=t[1]):"string"==typeof t&&(r=t.split("/"),i=r[0],o=r[1])),this.start=e(i),this.end=e(o)}function n(t,n,r){for(var i=e(this.start);this.contains(i,r);)n.call(this,i.clone()),i.add(1,t)}function r(t,n,r){var i=this/t,o=Math.floor(i);if(1/0!==o){o===i&&r&&o--;for(var a=0;o>=a;a++)n.call(this,e(this.start.valueOf()+t.valueOf()*a))}}var i={year:!0,month:!0,week:!0,day:!0,hour:!0,minute:!0,second:!0};return t.prototype.constructor=t,t.prototype.clone=function(){return e().range(this.start,this.end)},t.prototype.contains=function(e,n){var r=this.start,i=this.end;return e instanceof t?r<=e.start&&(i>e.end||i.isSame(e.end)&&!n):e>=r&&(i>e||i.isSame(e)&&!n)},t.prototype.overlaps=function(e){return null!==this.intersect(e)},t.prototype.intersect=function(e){var n=this.start,r=this.end;return n<=e.start&&e.start<r&&r<e.end?new t(e.start,r):e.start<n&&n<e.end&&e.end<=r?new t(n,e.end):e.start<n&&r>=n&&r<e.end?this:n<=e.start&&e.start<=e.end&&e.end<=r?e:null},t.prototype.add=function(n){return this.overlaps(n)?new t(e.min(this.start,n.start),e.max(this.end,n.end)):null},t.prototype.subtract=function(e){var n=this.start,r=this.end;return null===this.intersect(e)?[this]:e.start<=n&&r>n&&r<=e.end?[]:e.start<=n&&n<e.end&&e.end<r?[new t(e.end,r)]:n<e.start&&e.start<r&&r<=e.end?[new t(n,e.start)]:n<e.start&&e.start<e.end&&e.end<r?[new t(n,e.start),new t(e.end,r)]:n<e.start&&e.start<r&&e.end<r?[new t(n,e.start),new t(e.start,r)]:void 0},t.prototype.by=function(e,t,i){return"string"==typeof e?n.call(this,e,t,i):r.call(this,e,t,i),this},t.prototype.toString=function(){return this.start.format()+"/"+this.end.format()},t.prototype.valueOf=function(){return this.end-this.start},t.prototype.center=function(){var t=this.start+this.diff()/2;return e(t)},t.prototype.toDate=function(){return[this.start.toDate(),this.end.toDate()]},t.prototype.isSame=function(e){return this.start.isSame(e.start)&&this.end.isSame(e.end)},t.prototype.diff=function(e){return this.end.diff(this.start,e)},e.range=function(n,r){return n in i?new t(e(this).startOf(n),e(this).endOf(n)):new t(n,r)},e.range.constructor=t,e.fn.range=e.range,e.fn.within=function(e){return e.contains(this._d)},t}),n("widgets/calendar/CalendarMonthBounds",["moment","moment_range"],function(e){function t(t){var n=t.clone(),r=[],i=[],o=t.clone().startOf("week"),a=n.clone().subtract(1,"days");e.range(o,a).by("days",function(e){r.push(e)});var s=n.clone().endOf("month"),l=s.clone().add(1,"days"),u=s.clone().endOf("week");e.range(l,u).by("days",function(e){i.push(e)}),Object.defineProperty(this,"monthStartDate",{enumerable:!0,get:function(){return n}}),Object.defineProperty(this,"monthEndDate",{enumerable:!0,get:function(){return s}}),Object.defineProperty(this,"prevMonthDaysOfLastWeek",{enumerable:!0,get:function(){return r}}),Object.defineProperty(this,"nextMonthDaysOfFirstWeek",{enumerable:!0,get:function(){return i}})}return t}),n("util/OrderInSequencePriceClassifier",["lodash"],function(e){return function(){var t;this.train=function(n){t=e.sortBy(e.uniq(n))},this.classifyIntoTier=function(n){return e.indexOf(t,n,!0)+1}}}),n("util/momentRangeUtils",["moment","moment_range"],function(e){function t(e,t){return e.start.within(t)&&e.end.within(t)}function n(e,t){var n;return e.start.isBefore(t.start)?(n=t.start.diff(e.start,"months"),e.start.add(n,"months"),e.end.add(n,"months"),e):e.end.isAfter(t.end)?(n=e.end.diff(t.end,"months"),e.start.subtract(n,"months"),e.end.subtract(n,"months"),e):e}function r(e,t){var n=t.start.diff(e.start,"months");return n>0&&(e.start.add(n,"months"),e.end.add(n,"months")),e.end.isAfter(t.end)&&(e.end=t.end.clone()),e}return e.generateAdjacentMonths=function(t,n){var r=Math.floor(n/2),i=n%2,o=t.clone().subtract(r,"month"),a=t.clone().add(r+i,"month");return e.range(o,a)},e.adjustToMinMaxDates=function(e,i){return t(e,i)?e:i>=e?n(e,i):r(e,i)},e}),n("widgets/calendar/Calendar",["util/LodashExtensions","moment","moment_range","widgets/calendar/CalendarMonthBounds","util/OrderInSequencePriceClassifier","util/momentRangeUtils","datamodel/ShoppingData"],function(e,t,n,r,i,o,a){function s(e){function n(e){for(var t=0;t<c.length;t++)if(c[t].isSame(e))return t}function r(e){var n=e.clone().startOf("month"),r=n.clone().add(l-1,"month"),i=t.range(n,r);if(i=t.generateAdjacentMonths(i.start,l-1),a()){var o=t.range(s.minDateStartOfMonth,s.maxDateStartOfMonth);i=t.adjustToMinMaxDates(i,o)}return i}function o(e){var t=[];return e.by("months",function(e){t.push(e)}),t}function a(){return s.minDate||s.maxDate}var s=this,l=e.numberOfMonths,u={},c=[];this.months=[],this.dayOfWeekNames=t.weekdaysMin(),this.getLastSearchCriteria=function(){return u},this.setLastSearchCriteria=function(e){u=e},this.getModelMonths=function(){return c},this.priceClassifier=new i,this.prepareDataModel=function(e){var t=e.getFirstLeg().departureDateTime||e.earliestDepartureLatestReturnDatesFlexibility.earliestDepartureDateTime,i=r(t);c=o(i),this.requestedMonthSeqNumber=n(t)}}function l(t){var n=e.findIndex(t,"noPricesFound",!1),r=e.findLastIndex(t,"noPricesFound",!1);return t.slice(n,r+1)}return s.prototype.hasData=function(){return!e.isEmpty(this.months)},s.prototype.setLastDayDisplayedCap=function(e){this.maxAvailableDate=e},s.prototype.updateWithLeadPrices=function(t,n){var r=this;this.setLastSearchCriteria(t),this.priceClassifier.train(e.pluck(e.values(n),"price"));var i=this.calculateMonthsMinPrices(n);this.months=this.getModelMonths().map(function(e){var t=r.getMonthBounds(e);return r.updateMonthModelWithLeadPrices(n,i,t)}),this.months=l(this.months)},s.prototype.getMonthBounds=e.memoize(function(e){return new r(e)}),s.prototype.updateMonthModelWithLeadPrices=function(e,n,r){var i=this,o=[],s={days:[]},l=function(e){return{day:e,isPrevOrNextMonthDay:!0}};s.days=r.prevMonthDaysOfLastWeek.map(l);var u=!0;return t().range(r.monthStartDate,r.monthEndDate).by("days",function(t){var n={day:void 0,price:void 0,currency:void 0,priceTier:void 0};n.day=t;var r=t.format(a.prototype.DATE_FORMAT_FOR_KEYS);if(e&&e[r]){u=!1;var l=e[r].price;n.price=l,n.currency=e[r].currency,n.priceTier=i.priceClassifier.classifyIntoTier(l)}s.days.push(n),7===s.days.length&&(o.push(s),s={days:[]})}),s.days.length<7&&(s.days=s.days.concat(r.nextMonthDaysOfFirstWeek.map(l)),o.push(s)),{monthStartDate:r.monthStartDate,noPricesFound:u,monthLeadPrice:n[r.monthStartDate]&&n[r.monthStartDate].price,monthLeadPriceCurrency:n[r.monthStartDate]&&n[r.monthStartDate].currency,weeks:o}},s.prototype.calculateMonthsMinPrices=function(n){return e.reduce(n,function(n,r,i){var o=t(i).startOf("month"),a=n[o.toString()];if(a&&a.currency!==r.currency)throw new Error("Unable to calculate month min price as currencies for particular day prices are different");return(e.isUndefined(a)||a.price>r.price)&&(n[o.toString()]=r),n},{})},s.prototype.getDisplayedRange=function(){return new t.range(e.first(this.getModelMonths()),e.last(this.getModelMonths()).clone().endOf("month"))},s}),n("util/SelectorEngineExtensions",["util/LodashExtensions"],function(e){function t(){function t(e,t){for(var n=e.nextSibling,r=[];n;n=n.nextSibling)if(1===n.nodeType&&(r.push(n),!t))return r;return r}function n(e){return t(e,!0)}function r(t,r){var i=n(t),o=n(t.parentNode),a=[];o.forEach(function(t){e.pushAll(a,t.children)});var s=e.pushAll(e.pushAll([t],i),a);return r?s.slice(0,r):s}return{nextAllAndFirstLevelCousins:r}}return t()}),n("widgets/calendar/HighlightLengthOfStay",["angular","widgets/SDSWidgets","util/SelectorEngineExtensions"],function(e,t,n){return e.module("sdsWidgets").directive("highlightLengthOfStay",function(){return{scope:{lengthOfStayDays:"@",highlightClass:"@"},link:function(e,t){function r(e){var t=this,r=n.nextAllAndFirstLevelCousins(t,a);r.forEach(e)}function i(t){t.classList.add(e.highlightClass)}function o(t){t.classList.remove(e.highlightClass)}var a=parseInt(e.lengthOfStayDays)+1,s=r(i);t[0].addEventListener("mouseenter",s);var l=r(o);t[0].addEventListener("mouseleave",l),e.$on("$destroy",function(){t[0].removeEventListener("mouseenter",s),t[0].removeEventListener("mouseleave",l)})}}})}),n("widgets/calendar/CalendarWidget",["moment","angular","lodash","angular_bootstrap","widgets/SDSWidgets","datamodel/search/SearchCriteriaFactory","widgets/calendar/Calendar","webservices/common/searchStrategyFactories/DaysRangeSearchStrategyFactory","widgets/calendar/HighlightLengthOfStay","widgets/WidgetGlobalCallbacks"],function(e,t,n,r,i,o,a,s,l,u){return t.module("sdsWidgets").controller("CalendarWidgetCtrl",["$scope","DaysRangeSearchStrategyFactory","newSearchCriteriaEvent","SearchCriteriaBroadcastingService","DateSelectedBroadcastingService","NoResultsFoundBroadcastingService",function(e,t,n,r,i,s){function l(t){d(),e.calendar.prepareDataModel(t),e.paginationSettings.currentPage=Math.floor((e.calendar.requestedMonthSeqNumber+2)/e.numberOfMonthsShownAtOnce),h.getLeadPricesForRange(t,e.calendar.getDisplayedRange()).then(function(e){u(t,e),p=t},c)}function u(t,n){var r=h.getMaxAvailableDate(t);e.calendar.setLastDayDisplayedCap(r);var i=t.getTripDepartureDateTime();e.monthsDisplayStates[i]=!0,e.calendar.updateWithLeadPrices(t,n)}function c(){d(),s.broadcast()}function d(){e.calendar=new a({numberOfMonths:e.numberOfMonths})}var p;e.paginationSettings={currentPage:1};var h=t.createSearchStrategy(e.activeSearchWebService);e.monthsDisplayStates={},e.executeLifeSearchOnPredefinedCriteriaIfPresent=function(e,t,n,r){if(e&&t&&n&&r){var i=o.buildRoundTripTravelSearchCriteria(e,t,n,r);l(i)}},e.$on(n,function(){var e=r.searchCriteria;l(e)}),e.isAnyDataToDisplayAvailable=function(){return e.calendar&&e.calendar.hasData()},e.cellClicked=function(t){if(!t.isBefore(new Date,"day")){var n=p.cloneWithDatesAdjustedToOtherDepartureDate(t);i.newSearchCriteria=n,i.originalDataSourceWebService=h,i.broadcast(),e.cellClickedCallback({searchCriteria:n,originalDataSourceWebService:h})}}}]).directive("calendarTabs",["$compile",function(){return{restrict:"EA",scope:{numberOfMonths:"@tabsShown",activeSearchWebService:"@",doNotShowPrevNextMonthDays:"@",cellClickedCallback:"&?"},templateUrl:"../widgets/view-templates/widgets/CalendarWidgetTabs.tpl.html",controller:"CalendarWidgetCtrl",link:function(e,t,n){e.numberOfMonths=parseInt(e.numberOfMonths)||1,e.executeLifeSearchOnPredefinedCriteriaIfPresent(n.origin,n.destination,n.departureDate,n.returnDate),u.linkComplete(e,t)}}}]).directive("calendarNavigable",["$compile",function(){return{restrict:"EA",scope:{numberOfMonths:"@?totalNumberOfMonths",numberOfMonthsShownAtOnce:"@?",activeSearchWebService:"@",doNotShowPrevNextMonthDays:"@",cellClickedCallback:"&?"},templateUrl:"../widgets/view-templates/widgets/CalendarWidgetNavigable.tpl.html",controller:"CalendarWidgetCtrl",link:function(e,t,n){e.numberOfMonthsShownAtOnce=parseInt(e.numberOfMonthsShownAtOnce)||1,e.numberOfMonths=parseInt(e.numberOfMonths)||10,e.executeLifeSearchOnPredefinedCriteriaIfPresent(n.origin,n.destination,n.departureDate,n.returnDate),u.linkComplete(e,t)}}}])}),n("webservices/common/searchStrategyFactories/AlternateDatesSearchStrategyFactory",["util/LodashExtensions","angular","webservices/SabreDevStudioWebServicesModule","webservices/advancedCalendar/AdvancedCalendarService"],function(e,t){return t.module("sabreDevStudioWebServices").factory("AlternateDatesSearchStrategyFactory",["AdvancedCalendarDataService","LeadPriceCalendarDataService","BargainFinderMaxDataService",function(e,t,n){return{createSearchStrategy:function(r){switch(r=r||"bfmAltDates"){case"bfmAltDates":return{getAlternateDatesPriceMatrix:function(e,t,r){n.getAlternateDatesPriceMatrix(e).then(t,r)}};case"advancedCalendar":return{getAlternateDatesPriceMatrix:function(t,n,r){e.getAlternateDatesPriceMatrix(t).then(n,r)}};case"leadPriceCalendar":return{getAlternateDatesPriceMatrix:function(e,n,r){t.getAlternateDatesPriceMatrix(e).then(n,r)}};default:throw new Error("unrecognized web service: "+r)}}}}])}),n("widgets/AlternateDatesMatrixWidget",["moment","angular","lodash","angular_bootstrap","widgets/SDSWidgets","datamodel/search/SearchCriteriaFactory","webservices/common/searchStrategyFactories/AlternateDatesSearchStrategyFactory","widgets/WidgetGlobalCallbacks"],function(e,t,n,r,i,o,a,s){return t.module("sdsWidgets").controller("AlternateDatesMatrixCtrl",["$scope","AlternateDatesSearchStrategyFactory","newSearchCriteriaEvent","SearchCriteriaBroadcastingService","DateSelectedBroadcastingService",function(e,t,r,i,a){function s(){u()
}function l(t,n){e.isRoundTripTravel=t.isRoundTripTravel(),e.isOneWayTravel=t.isOneWayTravel(),e.requestedDepartureDates=t.getRequestedDepartureDates(),t.isRoundTripTravel()&&(e.requestedReturnDates=t.getRequestedReturnDates()),p.departureDate=t.getTripDepartureDateTime(),t.isRoundTripTravel()&&(p.returnDate=t.getTripReturnDateTime()),e.altDatesPriceMatrix=n,e.departureAirport=t.getFirstLeg().origin,e.arrivalAirport=t.getFirstLeg().destination}function u(){e.altDatesPriceMatrix=void 0,e.departureAirport=void 0,e.arrivalAirport=void 0}var c,d=t.createSearchStrategy(e.activeSearchWebService),p={};e.executeLifeSearchOnPredefinedCriteriaIfPresent=function(t,n,r,i,a){if(t&&n&&r&&i){var s=o.buildRoundTripTravelSearchCriteriaWithDateFlexibility(t,n,r,i,a);e.processSearchCriteria(s)}},e.$on(r,function(){var t=i.searchCriteria;e.processSearchCriteria(t)}),e.processSearchCriteria=function(e){c=e,d.getAlternateDatesPriceMatrix(e,n.partial(l,e),s)},e.isAnyDataToDisplayAvailable=function(){return e.altDatesPriceMatrix&&e.altDatesPriceMatrix.hasAtLeastOnePrice()},e.isCentralRequestedDate=function(e,t){return e.isSame(p.departureDate)&&(n.isUndefined(t)||t.isSame(p.returnDate))},e.cellClicked=function(t,n){var r=c.cloneWithDatesAdjustedToOtherDepartureDate(t,n);a.newSearchCriteria=r,a.originalDataSourceWebService=d,a.broadcast(),e.cellClickedCallback({searchCriteria:r,originalDataSourceWebService:d})}}]).directive("alternateDatesMatrix",function(){return{restrict:"EA",scope:{activeSearch:"@",activeSearchWebService:"@",searchCriteria:"=?",cellClickedCallback:"&?"},templateUrl:"../widgets/view-templates/widgets/AlternateDatesMatrix.tpl.html",controller:"AlternateDatesMatrixCtrl",link:function(e,t){e.executeLifeSearchOnPredefinedCriteriaIfPresent(t.attr("origin"),t.attr("destination"),t.attr("departure-date"),t.attr("return-date"),t.attr("alt-dates-plus-minus")),e.searchCriteria&&e.processSearchCriteria(e.searchCriteria),s.linkComplete(e,t)}}})}),n("widgets/BaseController",["lodash","datamodel/search/SearchCriteriaFactory"],function(e,t){function n(t){this.scope=t.scope,this.searchService=t.searchService,this.noResultsFoundBroadcastingService=t.noResultsFoundBroadcastingService||{broadcast:e.noop},this.scope.searchStartedCallback=this.scope.searchStartedCallback||e.noop,this.scope.searchSuccessCallback=this.scope.searchSuccessCallback||e.noop,this.scope.searchErrorCallback=this.scope.searchErrorCallback||e.noop,this.lastSearchCriteriaAirports={};var n=this;this.scope.$on(t.newSearchCriteriaEvent,function(){var e=t.searchCriteriaBroadcastingService.searchCriteria;n.processSearchCriteria(e)})}return n.prototype.executeLifeSearchOnPredefinedCriteriaIfPresent=function(e,n,r,i){if(e&&n&&r&&i){var o=t.buildRoundTripTravelSearchCriteria(e,n,r,i);this.processSearchCriteria(o)}},n.prototype.processSearchCriteria=function(e){var t=this;this.scope.searchStartedCallback({searchCriteria:e}),this.searchService.executeSearch(e).then(function(n){t.saveLastSearchCriteria(e),t.processSearchResults(n),t.scope.searchSuccessCallback({searchResults:n,searchCriteria:e})},function(n){t.saveLastSearchCriteria(e),t.clearModel(),t.noResultsFoundBroadcastingService.broadcast(),t.scope.searchErrorCallback({errorMessages:n,searchCriteria:e})})},n.prototype.saveLastSearchCriteria=function(t){this.lastSearchCriteria=t,this.lastSearchCriteriaAirports.departureAirport=e.isFunction(t.getFirstLeg)?t.getFirstLeg().origin:t.origin,this.lastSearchCriteriaAirports.arrivalAirport=e.isFunction(t.getFirstLeg)?t.getFirstLeg().destination:t.destination},n}),function(){var e=this,t=e.Chart,r=function(e){this.canvas=e.canvas,this.ctx=e;var t=function(e,t){return e["offset"+t]?e["offset"+t]:document.defaultView.getComputedStyle(e).getPropertyValue(t)},n=this.width=t(e.canvas,"Width"),r=this.height=t(e.canvas,"Height");e.canvas.width=n,e.canvas.height=r;var n=this.width=e.canvas.width,r=this.height=e.canvas.height;return this.aspectRatio=this.width/this.height,i.retinaScale(this),this};r.defaults={global:{animation:!0,animationSteps:60,animationEasing:"easeOutQuart",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleIntegersOnly:!0,scaleBeginAtZero:!1,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:!1,maintainAspectRatio:!0,showTooltips:!0,customTooltips:!1,tooltipEvents:["mousemove","touchstart","touchmove","mouseout"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= value %>",multiTooltipKeyBackground:"#fff",onAnimationProgress:function(){},onAnimationComplete:function(){}}},r.types={};var i=r.helpers={},o=i.each=function(e,t,n){var r=Array.prototype.slice.call(arguments,3);if(e)if(e.length===+e.length){var i;for(i=0;i<e.length;i++)t.apply(n,[e[i],i].concat(r))}else for(var o in e)t.apply(n,[e[o],o].concat(r))},a=i.clone=function(e){var t={};return o(e,function(n,r){e.hasOwnProperty(r)&&(t[r]=n)}),t},s=i.extend=function(e){return o(Array.prototype.slice.call(arguments,1),function(t){o(t,function(n,r){t.hasOwnProperty(r)&&(e[r]=n)})}),e},l=i.merge=function(){var e=Array.prototype.slice.call(arguments,0);return e.unshift({}),s.apply(null,e)},u=i.indexOf=function(e,t){if(Array.prototype.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},c=(i.where=function(e,t){var n=[];return i.each(e,function(e){t(e)&&n.push(e)}),n},i.findNextWhere=function(e,t,n){n||(n=-1);for(var r=n+1;r<e.length;r++){var i=e[r];if(t(i))return i}},i.findPreviousWhere=function(e,t,n){n||(n=e.length);for(var r=n-1;r>=0;r--){var i=e[r];if(t(i))return i}},i.inherits=function(e){var t=this,n=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},r=function(){this.constructor=n};return r.prototype=t.prototype,n.prototype=new r,n.extend=c,e&&s(n.prototype,e),n.__super__=t.prototype,n}),d=i.noop=function(){},p=i.uid=function(){var e=0;return function(){return"chart-"+e++}}(),h=i.warn=function(e){window.console&&"function"==typeof window.console.warn},f=i.amd="function"==typeof n&&n.amd,g=i.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},m=i.max=function(e){return Math.max.apply(Math,e)},v=i.min=function(e){return Math.min.apply(Math,e)},y=(i.cap=function(e,t,n){if(g(t)){if(e>t)return t}else if(g(n)&&n>e)return n;return e},i.getDecimalPlaces=function(e){return e%1!==0&&g(e)?e.toString().split(".")[1].length:0}),b=i.radians=function(e){return e*(Math.PI/180)},S=(i.getAngleFromPoint=function(e,t){var n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r),o=2*Math.PI+Math.atan2(r,n);return 0>n&&0>r&&(o+=2*Math.PI),{angle:o,distance:i}},i.aliasPixel=function(e){return e%2===0?0:.5}),D=(i.splineCurve=function(e,t,n,r){var i=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),o=Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2)),a=r*i/(i+o),s=r*o/(i+o);return{inner:{x:t.x-a*(n.x-e.x),y:t.y-a*(n.y-e.y)},outer:{x:t.x+s*(n.x-e.x),y:t.y+s*(n.y-e.y)}}},i.calculateOrderOfMagnitude=function(e){return Math.floor(Math.log(e)/Math.LN10)}),w=(i.calculateScaleRange=function(e,t,n,r,i){var o=2,a=Math.floor(t/(1.5*n)),s=o>=a,l=m(e),u=v(e);l===u&&(l+=.5,u>=.5&&!r?u-=.5:l+=.5);for(var c=Math.abs(l-u),d=D(c),p=Math.ceil(l/(1*Math.pow(10,d)))*Math.pow(10,d),h=r?0:Math.floor(u/(1*Math.pow(10,d)))*Math.pow(10,d),f=p-h,g=Math.pow(10,d),y=Math.round(f/g);(y>a||a>2*y)&&!s;)if(y>a)g*=2,y=Math.round(f/g),y%1!==0&&(s=!0);else if(i&&d>=0){if(g/2%1!==0)break;g/=2,y=Math.round(f/g)}else g/=2,y=Math.round(f/g);return s&&(y=o,g=f/y),{steps:y,stepValue:g,min:h,max:h+y*g}},i.template=function(e,t){function n(e,t){var n=/\W/.test(e)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+e.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):r[e]=r[e];return t?n(t):n}if(e instanceof Function)return e(t);var r={};return n(e,t)}),A=(i.generateLabels=function(e,t,n,r){var i=new Array(t);return labelTemplateString&&o(i,function(t,o){i[o]=w(e,{value:n+r*(o+1)})}),i},i.easingEffects={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-1*e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-0.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1*((e=e/1-1)*e*e+1)},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-1*((e=e/1-1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-0.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return 1*(e/=1)*e*e*e*e},easeOutQuint:function(e){return 1*((e=e/1-1)*e*e*e*e+1)},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return-1*Math.cos(e/1*(Math.PI/2))+1},easeOutSine:function(e){return 1*Math.sin(e/1*(Math.PI/2))},easeInOutSine:function(e){return-0.5*(Math.cos(Math.PI*e/1)-1)},easeInExpo:function(e){return 0===e?1:1*Math.pow(2,10*(e/1-1))},easeOutExpo:function(e){return 1===e?1:1*(-Math.pow(2,-10*e/1)+1)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(-Math.pow(2,-10*--e)+2)},easeInCirc:function(e){return e>=1?e:-1*(Math.sqrt(1-(e/=1)*e)-1)},easeOutCirc:function(e){return 1*Math.sqrt(1-(e=e/1-1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-0.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,n=0,r=1;return 0===e?0:1==(e/=1)?1:(n||(n=.3),r<Math.abs(1)?(r=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/r),-(r*Math.pow(2,10*(e-=1))*Math.sin(2*(1*e-t)*Math.PI/n)))},easeOutElastic:function(e){var t=1.70158,n=0,r=1;return 0===e?0:1==(e/=1)?1:(n||(n=.3),r<Math.abs(1)?(r=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/r),r*Math.pow(2,-10*e)*Math.sin(2*(1*e-t)*Math.PI/n)+1)},easeInOutElastic:function(e){var t=1.70158,n=0,r=1;return 0===e?0:2==(e/=.5)?1:(n||(n=.3*1.5),r<Math.abs(1)?(r=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/r),1>e?-.5*r*Math.pow(2,10*(e-=1))*Math.sin(2*(1*e-t)*Math.PI/n):r*Math.pow(2,-10*(e-=1))*Math.sin(2*(1*e-t)*Math.PI/n)*.5+1)},easeInBack:function(e){var t=1.70158;return 1*(e/=1)*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return 1*((e=e/1-1)*e*((t+1)*e+t)+1)},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?.5*e*e*(((t*=1.525)+1)*e-t):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:function(e){return 1-A.easeOutBounce(1-e)},easeOutBounce:function(e){return(e/=1)<1/2.75?7.5625*e*e:2/2.75>e?1*(7.5625*(e-=1.5/2.75)*e+.75):2.5/2.75>e?1*(7.5625*(e-=2.25/2.75)*e+.9375):1*(7.5625*(e-=2.625/2.75)*e+.984375)},easeInOutBounce:function(e){return.5>e?.5*A.easeInBounce(2*e):.5*A.easeOutBounce(2*e-1)+.5}}),C=i.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}(),x=i.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(e){return window.clearTimeout(e,1e3/60)}}(),_=(i.animationLoop=function(e,t,n,r,i,o){var a=0,s=A[n]||A.linear,l=function(){a++;var n=a/t,u=s(n);e.call(o,u,n,a),r.call(o,u,n),t>a?o.animationFrame=C(l):i.apply(o)};C(l)},i.getRelativePosition=function(e){var t,n,r=e.originalEvent||e,i=e.currentTarget||e.srcElement,o=i.getBoundingClientRect();return r.touches?(t=r.touches[0].clientX-o.left,n=r.touches[0].clientY-o.top):(t=r.clientX-o.left,n=r.clientY-o.top),{x:t,y:n}},i.addEvent=function(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}),$=i.removeEvent=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=d},k=(i.bindEvents=function(e,t,n){e.events||(e.events={}),o(t,function(t){e.events[t]=function(){n.apply(e,arguments)},_(e.chart.canvas,t,e.events[t])})},i.unbindEvents=function(e,t){o(t,function(t,n){$(e.chart.canvas,n,t)})}),M=i.getMaximumWidth=function(e){var t=e.parentNode;return t.clientWidth},T=i.getMaximumHeight=function(e){var t=e.parentNode;return t.clientHeight},F=(i.getMaximumSize=i.getMaximumWidth,i.retinaScale=function(e){var t=e.ctx,n=e.canvas.width,r=e.canvas.height;window.devicePixelRatio&&(t.canvas.style.width=n+"px",t.canvas.style.height=r+"px",t.canvas.height=r*window.devicePixelRatio,t.canvas.width=n*window.devicePixelRatio,t.scale(window.devicePixelRatio,window.devicePixelRatio))}),O=i.clear=function(e){e.ctx.clearRect(0,0,e.width,e.height)},P=i.fontString=function(e,t,n){return t+" "+e+"px "+n},E=i.longestText=function(e,t,n){e.font=t;var r=0;return o(n,function(t){var n=e.measureText(t).width;r=n>r?n:r}),r},L=i.drawRoundedRectangle=function(e,t,n,r,i,o){e.beginPath(),e.moveTo(t+o,n),e.lineTo(t+r-o,n),e.quadraticCurveTo(t+r,n,t+r,n+o),e.lineTo(t+r,n+i-o),e.quadraticCurveTo(t+r,n+i,t+r-o,n+i),e.lineTo(t+o,n+i),e.quadraticCurveTo(t,n+i,t,n+i-o),e.lineTo(t,n+o),e.quadraticCurveTo(t,n,t+o,n),e.closePath()};r.instances={},r.Type=function(e,t,n){this.options=t,this.chart=n,this.id=p(),r.instances[this.id]=this,t.responsive&&this.resize(),this.initialize.call(this,e)},s(r.Type.prototype,{initialize:function(){return this},clear:function(){return O(this.chart),this},stop:function(){return x(this.animationFrame),this},resize:function(e){this.stop();var t=this.chart.canvas,n=M(this.chart.canvas),r=this.options.maintainAspectRatio?n/this.chart.aspectRatio:T(this.chart.canvas);return t.width=this.chart.width=n,t.height=this.chart.height=r,F(this.chart),"function"==typeof e&&e.apply(this,Array.prototype.slice.call(arguments,1)),this},reflow:d,render:function(e){return e&&this.reflow(),this.options.animation&&!e?i.animationLoop(this.draw,this.options.animationSteps,this.options.animationEasing,this.options.onAnimationProgress,this.options.onAnimationComplete,this):(this.draw(),this.options.onAnimationComplete.call(this)),this},generateLegend:function(){return w(this.options.legendTemplate,this)},destroy:function(){this.clear(),k(this,this.events);var e=this.chart.canvas;e.width=this.chart.width,e.height=this.chart.height,e.style.removeProperty?(e.style.removeProperty("width"),e.style.removeProperty("height")):(e.style.removeAttribute("width"),e.style.removeAttribute("height")),delete r.instances[this.id]},showTooltip:function(e,t){"undefined"==typeof this.activeElements&&(this.activeElements=[]);var n=function(e){var t=!1;return e.length!==this.activeElements.length?t=!0:(o(e,function(e,n){e!==this.activeElements[n]&&(t=!0)},this),t)}.call(this,e);if(n||t){if(this.activeElements=e,this.draw(),this.options.customTooltips&&this.options.customTooltips(!1),e.length>0)if(this.datasets&&this.datasets.length>1){for(var a,s,l=this.datasets.length-1;l>=0&&(a=this.datasets[l].points||this.datasets[l].bars||this.datasets[l].segments,s=u(a,e[0]),-1===s);l--);var c=[],d=[],p=function(){var e,t,n,r,o,a=[],l=[],u=[];return i.each(this.datasets,function(t){e=t.points||t.bars||t.segments,e[s]&&e[s].hasValue()&&a.push(e[s])}),i.each(a,function(e){l.push(e.x),u.push(e.y),c.push(i.template(this.options.multiTooltipTemplate,e)),d.push({fill:e._saved.fillColor||e.fillColor,stroke:e._saved.strokeColor||e.strokeColor})},this),o=v(u),n=m(u),r=v(l),t=m(l),{x:r>this.chart.width/2?r:t,y:(o+n)/2}}.call(this,s);new r.MultiTooltip({x:p.x,y:p.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:c,legendColors:d,legendColorBackground:this.options.multiTooltipKeyBackground,title:e[0].label,chart:this.chart,ctx:this.chart.ctx,custom:this.options.customTooltips}).draw()}else o(e,function(e){var t=e.tooltipPosition();new r.Tooltip({x:Math.round(t.x),y:Math.round(t.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:w(this.options.tooltipTemplate,e),chart:this.chart,custom:this.options.customTooltips}).draw()},this);return this}},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}}),r.Type.extend=function(e){var t=this,n=function(){return t.apply(this,arguments)};if(n.prototype=a(t.prototype),s(n.prototype,e),n.extend=r.Type.extend,e.name||t.prototype.name){var i=e.name||t.prototype.name,o=r.defaults[t.prototype.name]?a(r.defaults[t.prototype.name]):{};r.defaults[i]=s(o,e.defaults),r.types[i]=n,r.prototype[i]=function(e,t){var o=l(r.defaults.global,r.defaults[i],t||{});return new n(e,o,this)}}else h("Name not provided for this chart, so it hasn't been registered");return t},r.Element=function(e){s(this,e),this.initialize.apply(this,arguments),this.save()},s(r.Element.prototype,{initialize:function(){},restore:function(e){return e?o(e,function(e){this[e]=this._saved[e]},this):s(this,this._saved),this},save:function(){return this._saved=a(this),delete this._saved._saved,this},update:function(e){return o(e,function(e,t){this._saved[t]=this[t],this[t]=e},this),this},transition:function(e,t){return o(e,function(e,n){this[n]=(e-this._saved[n])*t+this._saved[n]},this),this},tooltipPosition:function(){return{x:this.x,y:this.y}},hasValue:function(){return g(this.value)}}),r.Element.extend=c,r.Point=r.Element.extend({display:!0,inRange:function(e,t){var n=this.hitDetectionRadius+this.radius;return Math.pow(e-this.x,2)+Math.pow(t-this.y,2)<Math.pow(n,2)},draw:function(){if(this.display){var e=this.ctx;e.beginPath(),e.arc(this.x,this.y,this.radius,0,2*Math.PI),e.closePath(),e.strokeStyle=this.strokeColor,e.lineWidth=this.strokeWidth,e.fillStyle=this.fillColor,e.fill(),e.stroke()}}}),r.Arc=r.Element.extend({inRange:function(e,t){var n=i.getAngleFromPoint(this,{x:e,y:t}),r=n.angle>=this.startAngle&&n.angle<=this.endAngle,o=n.distance>=this.innerRadius&&n.distance<=this.outerRadius;return r&&o},tooltipPosition:function(){var e=this.startAngle+(this.endAngle-this.startAngle)/2,t=(this.outerRadius-this.innerRadius)/2+this.innerRadius;return{x:this.x+Math.cos(e)*t,y:this.y+Math.sin(e)*t}},draw:function(e){var t=this.ctx;t.beginPath(),t.arc(this.x,this.y,this.outerRadius,this.startAngle,this.endAngle),t.arc(this.x,this.y,this.innerRadius,this.endAngle,this.startAngle,!0),t.closePath(),t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.fillStyle=this.fillColor,t.fill(),t.lineJoin="bevel",this.showStroke&&t.stroke()}}),r.Rectangle=r.Element.extend({draw:function(){var e=this.ctx,t=this.width/2,n=this.x-t,r=this.x+t,i=this.base-(this.base-this.y),o=this.strokeWidth/2;this.showStroke&&(n+=o,r-=o,i+=o),e.beginPath(),e.fillStyle=this.fillColor,e.strokeStyle=this.strokeColor,e.lineWidth=this.strokeWidth,e.moveTo(n,this.base),e.lineTo(n,i),e.lineTo(r,i),e.lineTo(r,this.base),e.fill(),this.showStroke&&e.stroke()},height:function(){return this.base-this.y},inRange:function(e,t){return e>=this.x-this.width/2&&e<=this.x+this.width/2&&t>=this.y&&t<=this.base}}),r.Tooltip=r.Element.extend({draw:function(){var e=this.chart.ctx;e.font=P(this.fontSize,this.fontStyle,this.fontFamily),this.xAlign="center",this.yAlign="above";var t=this.caretPadding=2,n=e.measureText(this.text).width+2*this.xPadding,r=this.fontSize+2*this.yPadding,i=r+this.caretHeight+t;this.x+n/2>this.chart.width?this.xAlign="left":this.x-n/2<0&&(this.xAlign="right"),this.y-i<0&&(this.yAlign="below");var o=this.x-n/2,a=this.y-i;if(e.fillStyle=this.fillColor,this.custom)this.custom(this);else{switch(this.yAlign){case"above":e.beginPath(),e.moveTo(this.x,this.y-t),e.lineTo(this.x+this.caretHeight,this.y-(t+this.caretHeight)),e.lineTo(this.x-this.caretHeight,this.y-(t+this.caretHeight)),e.closePath(),e.fill();break;case"below":a=this.y+t+this.caretHeight,e.beginPath(),e.moveTo(this.x,this.y+t),e.lineTo(this.x+this.caretHeight,this.y+t+this.caretHeight),e.lineTo(this.x-this.caretHeight,this.y+t+this.caretHeight),e.closePath(),e.fill()}switch(this.xAlign){case"left":o=this.x-n+(this.cornerRadius+this.caretHeight);break;case"right":o=this.x-(this.cornerRadius+this.caretHeight)}L(e,o,a,n,r,this.cornerRadius),e.fill(),e.fillStyle=this.textColor,e.textAlign="center",e.textBaseline="middle",e.fillText(this.text,o+n/2,a+r/2)}}}),r.MultiTooltip=r.Element.extend({initialize:function(){this.font=P(this.fontSize,this.fontStyle,this.fontFamily),this.titleFont=P(this.titleFontSize,this.titleFontStyle,this.titleFontFamily),this.height=this.labels.length*this.fontSize+(this.labels.length-1)*(this.fontSize/2)+2*this.yPadding+1.5*this.titleFontSize,this.ctx.font=this.titleFont;var e=this.ctx.measureText(this.title).width,t=E(this.ctx,this.font,this.labels)+this.fontSize+3,n=m([t,e]);this.width=n+2*this.xPadding;var r=this.height/2;this.y-r<0?this.y=r:this.y+r>this.chart.height&&(this.y=this.chart.height-r),this.x>this.chart.width/2?this.x-=this.xOffset+this.width:this.x+=this.xOffset},getLineHeight:function(e){var t=this.y-this.height/2+this.yPadding,n=e-1;return 0===e?t+this.titleFontSize/2:t+(1.5*this.fontSize*n+this.fontSize/2)+1.5*this.titleFontSize},draw:function(){if(this.custom)this.custom(this);else{L(this.ctx,this.x,this.y-this.height/2,this.width,this.height,this.cornerRadius);var e=this.ctx;e.fillStyle=this.fillColor,e.fill(),e.closePath(),e.textAlign="left",e.textBaseline="middle",e.fillStyle=this.titleTextColor,e.font=this.titleFont,e.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0)),e.font=this.font,i.each(this.labels,function(t,n){e.fillStyle=this.textColor,e.fillText(t,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(n+1)),e.fillStyle=this.legendColorBackground,e.fillRect(this.x+this.xPadding,this.getLineHeight(n+1)-this.fontSize/2,this.fontSize,this.fontSize),e.fillStyle=this.legendColors[n].fill,e.fillRect(this.x+this.xPadding,this.getLineHeight(n+1)-this.fontSize/2,this.fontSize,this.fontSize)},this)}}}),r.Scale=r.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];for(var e=y(this.stepValue),t=0;t<=this.steps;t++)this.yLabels.push(w(this.templateString,{value:(this.min+t*this.stepValue).toFixed(e)}));this.yLabelWidth=this.display&&this.showLabels?E(this.ctx,this.font,this.yLabels):0},addXLabel:function(e){this.xLabels.push(e),this.valuesCount++,this.fit()},removeXLabel:function(){this.xLabels.shift(),this.valuesCount--,this.fit()},fit:function(){this.startPoint=this.display?this.fontSize:0,this.endPoint=this.display?this.height-1.5*this.fontSize-5:this.height,this.startPoint+=this.padding,this.endPoint-=this.padding;var e,t=this.endPoint-this.startPoint;for(this.calculateYRange(t),this.buildYLabels(),this.calculateXLabelRotation();t>this.endPoint-this.startPoint;)t=this.endPoint-this.startPoint,e=this.yLabelWidth,this.calculateYRange(t),this.buildYLabels(),e<this.yLabelWidth&&this.calculateXLabelRotation()},calculateXLabelRotation:function(){this.ctx.font=this.font;var e,t,n=this.ctx.measureText(this.xLabels[0]).width,r=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width;if(this.xScalePaddingRight=r/2+3,this.xScalePaddingLeft=n/2>this.yLabelWidth+10?n/2:this.yLabelWidth+10,this.xLabelRotation=0,this.display){var i,o=E(this.ctx,this.font,this.xLabels);this.xLabelWidth=o;for(var a=Math.floor(this.calculateX(1)-this.calculateX(0))-6;this.xLabelWidth>a&&0===this.xLabelRotation||this.xLabelWidth>a&&this.xLabelRotation<=90&&this.xLabelRotation>0;)i=Math.cos(b(this.xLabelRotation)),e=i*n,t=i*r,e+this.fontSize/2>this.yLabelWidth+8&&(this.xScalePaddingLeft=e+this.fontSize/2),this.xScalePaddingRight=this.fontSize/2,this.xLabelRotation++,this.xLabelWidth=i*o;this.xLabelRotation>0&&(this.endPoint-=Math.sin(b(this.xLabelRotation))*o+3)}else this.xLabelWidth=0,this.xScalePaddingRight=this.padding,this.xScalePaddingLeft=this.padding},calculateYRange:d,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(e){var t=this.drawingArea()/(this.min-this.max);return this.endPoint-t*(e-this.min)},calculateX:function(e){var t=(this.xLabelRotation>0,this.width-(this.xScalePaddingLeft+this.xScalePaddingRight)),n=t/Math.max(this.valuesCount-(this.offsetGridLines?0:1),1),r=n*e+this.xScalePaddingLeft;return this.offsetGridLines&&(r+=n/2),Math.round(r)},update:function(e){i.extend(this,e),this.fit()},draw:function(){var e=this.ctx,t=(this.endPoint-this.startPoint)/this.steps,n=Math.round(this.xScalePaddingLeft);this.display&&(e.fillStyle=this.textColor,e.font=this.font,o(this.yLabels,function(r,o){var a=this.endPoint-t*o,s=Math.round(a),l=this.showHorizontalLines;e.textAlign="right",e.textBaseline="middle",this.showLabels&&e.fillText(r,n-10,a),0!==o||l||(l=!0),l&&e.beginPath(),o>0?(e.lineWidth=this.gridLineWidth,e.strokeStyle=this.gridLineColor):(e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor),s+=i.aliasPixel(e.lineWidth),l&&(e.moveTo(n,s),e.lineTo(this.width,s),e.stroke(),e.closePath()),e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor,e.beginPath(),e.moveTo(n-5,s),e.lineTo(n,s),e.stroke(),e.closePath()},this),o(this.xLabels,function(t,n){var r=this.calculateX(n)+S(this.lineWidth),i=this.calculateX(n-(this.offsetGridLines?.5:0))+S(this.lineWidth),o=this.xLabelRotation>0,a=this.showVerticalLines;0!==n||a||(a=!0),a&&e.beginPath(),n>0?(e.lineWidth=this.gridLineWidth,e.strokeStyle=this.gridLineColor):(e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor),a&&(e.moveTo(i,this.endPoint),e.lineTo(i,this.startPoint-3),e.stroke(),e.closePath()),e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor,e.beginPath(),e.moveTo(i,this.endPoint),e.lineTo(i,this.endPoint+5),e.stroke(),e.closePath(),e.save(),e.translate(r,o?this.endPoint+12:this.endPoint+8),e.rotate(-1*b(this.xLabelRotation)),e.font=this.font,e.textAlign=o?"right":"center",e.textBaseline=o?"middle":"top",e.fillText(t,0,0),e.restore()},this))}}),r.RadialScale=r.Element.extend({initialize:function(){this.size=v([this.height,this.width]),this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2},calculateCenterOffset:function(e){var t=this.drawingArea/(this.max-this.min);return(e-this.min)*t},update:function(){this.lineArc?this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2:this.setScaleSize(),this.buildYLabels()},buildYLabels:function(){this.yLabels=[];for(var e=y(this.stepValue),t=0;t<=this.steps;t++)this.yLabels.push(w(this.templateString,{value:(this.min+t*this.stepValue).toFixed(e)}))},getCircumference:function(){return 2*Math.PI/this.valuesCount},setScaleSize:function(){var e,t,n,r,i,o,a,s,l,u,c,d,p=v([this.height/2-this.pointLabelFontSize-5,this.width/2]),h=this.width,f=0;for(this.ctx.font=P(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),t=0;t<this.valuesCount;t++)e=this.getPointPosition(t,p),n=this.ctx.measureText(w(this.templateString,{value:this.labels[t]})).width+5,0===t||t===this.valuesCount/2?(r=n/2,e.x+r>h&&(h=e.x+r,i=t),e.x-r<f&&(f=e.x-r,a=t)):t<this.valuesCount/2?e.x+n>h&&(h=e.x+n,i=t):t>this.valuesCount/2&&e.x-n<f&&(f=e.x-n,a=t);l=f,u=Math.ceil(h-this.width),o=this.getIndexAngle(i),s=this.getIndexAngle(a),c=u/Math.sin(o+Math.PI/2),d=l/Math.sin(s+Math.PI/2),c=g(c)?c:0,d=g(d)?d:0,this.drawingArea=p-(d+c)/2,this.setCenterPoint(d,c)},setCenterPoint:function(e,t){var n=this.width-t-this.drawingArea,r=e+this.drawingArea;this.xCenter=(r+n)/2,this.yCenter=this.height/2},getIndexAngle:function(e){var t=2*Math.PI/this.valuesCount;return e*t-Math.PI/2},getPointPosition:function(e,t){var n=this.getIndexAngle(e);return{x:Math.cos(n)*t+this.xCenter,y:Math.sin(n)*t+this.yCenter}},draw:function(){if(this.display){var e=this.ctx;if(o(this.yLabels,function(t,n){if(n>0){var r,i=n*(this.drawingArea/this.steps),o=this.yCenter-i;if(this.lineWidth>0)if(e.strokeStyle=this.lineColor,e.lineWidth=this.lineWidth,this.lineArc)e.beginPath(),e.arc(this.xCenter,this.yCenter,i,0,2*Math.PI),e.closePath(),e.stroke();else{e.beginPath();for(var a=0;a<this.valuesCount;a++)r=this.getPointPosition(a,this.calculateCenterOffset(this.min+n*this.stepValue)),0===a?e.moveTo(r.x,r.y):e.lineTo(r.x,r.y);e.closePath(),e.stroke()}if(this.showLabels){if(e.font=P(this.fontSize,this.fontStyle,this.fontFamily),this.showLabelBackdrop){var s=e.measureText(t).width;e.fillStyle=this.backdropColor,e.fillRect(this.xCenter-s/2-this.backdropPaddingX,o-this.fontSize/2-this.backdropPaddingY,s+2*this.backdropPaddingX,this.fontSize+2*this.backdropPaddingY)}e.textAlign="center",e.textBaseline="middle",e.fillStyle=this.fontColor,e.fillText(t,this.xCenter,o)}}},this),!this.lineArc){e.lineWidth=this.angleLineWidth,e.strokeStyle=this.angleLineColor;for(var t=this.valuesCount-1;t>=0;t--){if(this.angleLineWidth>0){var n=this.getPointPosition(t,this.calculateCenterOffset(this.max));e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(n.x,n.y),e.stroke(),e.closePath()}var r=this.getPointPosition(t,this.calculateCenterOffset(this.max)+5);e.font=P(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),e.fillStyle=this.pointLabelFontColor;var i=this.labels.length,a=this.labels.length/2,s=a/2,l=s>t||t>i-s,u=t===s||t===i-s;e.textAlign=0===t?"center":t===a?"center":a>t?"left":"right",e.textBaseline=u?"middle":l?"bottom":"top",e.fillText(this.labels[t],r.x,r.y)}}}}}),i.addEvent(window,"resize",function(){var e;return function(){clearTimeout(e),e=setTimeout(function(){o(r.instances,function(e){e.options.responsive&&e.resize(e.render,!0)})},50)}}()),f?n("chartjs",[],function(){return r}):"object"==typeof module&&module.exports&&(module.exports=r),e.Chart=r,r.noConflict=function(){return e.Chart=t,r}}.call(this),function(){var e=this,t=e.Chart,n=t.helpers,r={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};t.Type.extend({name:"Bar",defaults:r,initialize:function(e){var r=this.options;this.ScaleClass=t.Scale.extend({offsetGridLines:!0,calculateBarX:function(e,t,n){var i=this.calculateBaseWidth(),o=this.calculateX(n)-i/2,a=this.calculateBarWidth(e);return o+a*t+t*r.barDatasetSpacing+a/2},calculateBaseWidth:function(){return this.calculateX(1)-this.calculateX(0)-2*r.barValueSpacing},calculateBarWidth:function(e){var t=this.calculateBaseWidth()-(e-1)*r.barDatasetSpacing;return t/e}}),this.datasets=[],this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getBarsAtEvent(e):[];
this.eachBars(function(e){e.restore(["fillColor","strokeColor"])}),n.each(t,function(e){e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke}),this.showTooltip(t)}),this.BarClass=t.Rectangle.extend({strokeWidth:this.options.barStrokeWidth,showStroke:this.options.barShowStroke,ctx:this.chart.ctx}),n.each(e.datasets,function(t){var r={label:t.label||null,fillColor:t.fillColor,strokeColor:t.strokeColor,bars:[]};this.datasets.push(r),n.each(t.data,function(n,i){r.bars.push(new this.BarClass({value:n,label:e.labels[i],datasetLabel:t.label,strokeColor:t.strokeColor,fillColor:t.fillColor,highlightFill:t.highlightFill||t.fillColor,highlightStroke:t.highlightStroke||t.strokeColor}))},this)},this),this.buildScale(e.labels),this.BarClass.prototype.base=this.scale.endPoint,this.eachBars(function(e,t,r){n.extend(e,{width:this.scale.calculateBarWidth(this.datasets.length),x:this.scale.calculateBarX(this.datasets.length,r,t),y:this.scale.endPoint}),e.save()},this),this.render()},update:function(){this.scale.update(),n.each(this.activeElements,function(e){e.restore(["fillColor","strokeColor"])}),this.eachBars(function(e){e.save()}),this.render()},eachBars:function(e){n.each(this.datasets,function(t,r){n.each(t.bars,e,this,r)},this)},getBarsAtEvent:function(e){for(var t,r=[],i=n.getRelativePosition(e),o=function(e){r.push(e.bars[t])},a=0;a<this.datasets.length;a++)for(t=0;t<this.datasets[a].bars.length;t++)if(this.datasets[a].bars[t].inRange(i.x,i.y))return n.each(this.datasets,o),r;return r},buildScale:function(e){var t=this,r=function(){var e=[];return t.eachBars(function(t){e.push(t.value)}),e},i={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:e.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(e){var t=n.calculateScaleRange(r(),e,this.fontSize,this.beginAtZero,this.integersOnly);n.extend(this,t)},xLabels:e,font:n.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.barShowStroke?this.options.barStrokeWidth:0,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&n.extend(i,{calculateYRange:n.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new this.ScaleClass(i)},addData:function(e,t){n.each(e,function(e,n){this.datasets[n].bars.push(new this.BarClass({value:e,label:t,x:this.scale.calculateBarX(this.datasets.length,n,this.scale.valuesCount+1),y:this.scale.endPoint,width:this.scale.calculateBarWidth(this.datasets.length),base:this.scale.endPoint,strokeColor:this.datasets[n].strokeColor,fillColor:this.datasets[n].fillColor}))},this),this.scale.addXLabel(t),this.update()},removeData:function(){this.scale.removeXLabel(),n.each(this.datasets,function(e){e.bars.shift()},this),this.update()},reflow:function(){n.extend(this.BarClass.prototype,{y:this.scale.endPoint,base:this.scale.endPoint});var e=n.extend({height:this.chart.height,width:this.chart.width});this.scale.update(e)},draw:function(e){var t=e||1;this.clear();this.chart.ctx;this.scale.draw(t),n.each(this.datasets,function(e,r){n.each(e.bars,function(e,n){e.hasValue()&&(e.base=this.scale.endPoint,e.transition({x:this.scale.calculateBarX(this.datasets.length,r,n),y:this.scale.calculateY(e.value),width:this.scale.calculateBarWidth(this.datasets.length)},t).draw())},this)},this)}})}.call(this),function(){var e=this,t=e.Chart,n=t.helpers,r={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};t.Type.extend({name:"Doughnut",defaults:r,initialize:function(e){this.segments=[],this.outerRadius=(n.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,this.SegmentArc=t.Arc.extend({ctx:this.chart.ctx,x:this.chart.width/2,y:this.chart.height/2}),this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getSegmentsAtEvent(e):[];n.each(this.segments,function(e){e.restore(["fillColor"])}),n.each(t,function(e){e.fillColor=e.highlightColor}),this.showTooltip(t)}),this.calculateTotal(e),n.each(e,function(e,t){this.addData(e,t,!0)},this),this.render()},getSegmentsAtEvent:function(e){var t=[],r=n.getRelativePosition(e);return n.each(this.segments,function(e){e.inRange(r.x,r.y)&&t.push(e)},this),t},addData:function(e,t,n){var r=t||this.segments.length;this.segments.splice(r,0,new this.SegmentArc({value:e.value,outerRadius:this.options.animateScale?0:this.outerRadius,innerRadius:this.options.animateScale?0:this.outerRadius/100*this.options.percentageInnerCutout,fillColor:e.color,highlightColor:e.highlight||e.color,showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,startAngle:1.5*Math.PI,circumference:this.options.animateRotate?0:this.calculateCircumference(e.value),label:e.label})),n||(this.reflow(),this.update())},calculateCircumference:function(e){return 2*Math.PI*(Math.abs(e)/this.total)},calculateTotal:function(e){this.total=0,n.each(e,function(e){this.total+=Math.abs(e.value)},this)},update:function(){this.calculateTotal(this.segments),n.each(this.activeElements,function(e){e.restore(["fillColor"])}),n.each(this.segments,function(e){e.save()}),this.render()},removeData:function(e){var t=n.isNumber(e)?e:this.segments.length-1;this.segments.splice(t,1),this.reflow(),this.update()},reflow:function(){n.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.outerRadius=(n.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,n.each(this.segments,function(e){e.update({outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout})},this)},draw:function(e){var t=e?e:1;this.clear(),n.each(this.segments,function(e,n){e.transition({circumference:this.calculateCircumference(e.value),outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout},t),e.endAngle=e.startAngle+e.circumference,e.draw(),0===n&&(e.startAngle=1.5*Math.PI),n<this.segments.length-1&&(this.segments[n+1].startAngle=e.endAngle)},this)}}),t.types.Doughnut.extend({name:"Pie",defaults:n.merge(r,{percentageInnerCutout:0})})}.call(this),function(){var e=this,t=e.Chart,n=t.helpers,r={scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,bezierCurve:!0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};t.Type.extend({name:"Line",defaults:r,initialize:function(e){this.PointClass=t.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx,inRange:function(e){return Math.pow(e-this.x,2)<Math.pow(this.radius+this.hitDetectionRadius,2)}}),this.datasets=[],this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getPointsAtEvent(e):[];this.eachPoints(function(e){e.restore(["fillColor","strokeColor"])}),n.each(t,function(e){e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke}),this.showTooltip(t)}),n.each(e.datasets,function(t){var r={label:t.label||null,fillColor:t.fillColor,strokeColor:t.strokeColor,pointColor:t.pointColor,pointStrokeColor:t.pointStrokeColor,points:[]};this.datasets.push(r),n.each(t.data,function(n,i){r.points.push(new this.PointClass({value:n,label:e.labels[i],datasetLabel:t.label,strokeColor:t.pointStrokeColor,fillColor:t.pointColor,highlightFill:t.pointHighlightFill||t.pointColor,highlightStroke:t.pointHighlightStroke||t.pointStrokeColor}))},this),this.buildScale(e.labels),this.eachPoints(function(e,t){n.extend(e,{x:this.scale.calculateX(t),y:this.scale.endPoint}),e.save()},this)},this),this.render()},update:function(){this.scale.update(),n.each(this.activeElements,function(e){e.restore(["fillColor","strokeColor"])}),this.eachPoints(function(e){e.save()}),this.render()},eachPoints:function(e){n.each(this.datasets,function(t){n.each(t.points,e,this)},this)},getPointsAtEvent:function(e){var t=[],r=n.getRelativePosition(e);return n.each(this.datasets,function(e){n.each(e.points,function(e){e.inRange(r.x,r.y)&&t.push(e)})},this),t},buildScale:function(e){var r=this,i=function(){var e=[];return r.eachPoints(function(t){e.push(t.value)}),e},o={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:e.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(e){var t=n.calculateScaleRange(i(),e,this.fontSize,this.beginAtZero,this.integersOnly);n.extend(this,t)},xLabels:e,font:n.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.pointDotRadius+this.options.pointDotStrokeWidth,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&n.extend(o,{calculateYRange:n.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new t.Scale(o)},addData:function(e,t){n.each(e,function(e,n){this.datasets[n].points.push(new this.PointClass({value:e,label:t,x:this.scale.calculateX(this.scale.valuesCount+1),y:this.scale.endPoint,strokeColor:this.datasets[n].pointStrokeColor,fillColor:this.datasets[n].pointColor}))},this),this.scale.addXLabel(t),this.update()},removeData:function(){this.scale.removeXLabel(),n.each(this.datasets,function(e){e.points.shift()},this),this.update()},reflow:function(){var e=n.extend({height:this.chart.height,width:this.chart.width});this.scale.update(e)},draw:function(e){var t=e||1;this.clear();var r=this.chart.ctx,i=function(e){return null!==e.value},o=function(e,t,r){return n.findNextWhere(t,i,r)||e},a=function(e,t,r){return n.findPreviousWhere(t,i,r)||e};this.scale.draw(t),n.each(this.datasets,function(e){var s=n.where(e.points,i);n.each(e.points,function(e,n){e.hasValue()&&e.transition({y:this.scale.calculateY(e.value),x:this.scale.calculateX(n)},t)},this),this.options.bezierCurve&&n.each(s,function(e,t){var r=t>0&&t<s.length-1?this.options.bezierCurveTension:0;e.controlPoints=n.splineCurve(a(e,s,t),e,o(e,s,t),r),e.controlPoints.outer.y>this.scale.endPoint?e.controlPoints.outer.y=this.scale.endPoint:e.controlPoints.outer.y<this.scale.startPoint&&(e.controlPoints.outer.y=this.scale.startPoint),e.controlPoints.inner.y>this.scale.endPoint?e.controlPoints.inner.y=this.scale.endPoint:e.controlPoints.inner.y<this.scale.startPoint&&(e.controlPoints.inner.y=this.scale.startPoint)},this),r.lineWidth=this.options.datasetStrokeWidth,r.strokeStyle=e.strokeColor,r.beginPath(),n.each(s,function(e,t){if(0===t)r.moveTo(e.x,e.y);else if(this.options.bezierCurve){var n=a(e,s,t);r.bezierCurveTo(n.controlPoints.outer.x,n.controlPoints.outer.y,e.controlPoints.inner.x,e.controlPoints.inner.y,e.x,e.y)}else r.lineTo(e.x,e.y)},this),r.stroke(),this.options.datasetFill&&s.length>0&&(r.lineTo(s[s.length-1].x,this.scale.endPoint),r.lineTo(s[0].x,this.scale.endPoint),r.fillStyle=e.fillColor,r.closePath(),r.fill()),n.each(s,function(e){e.draw()})},this)}})}.call(this),function(){var e=this,t=e.Chart,n=t.helpers,r={scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBeginAtZero:!0,scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,scaleShowLine:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};t.Type.extend({name:"PolarArea",defaults:r,initialize:function(e){this.segments=[],this.SegmentArc=t.Arc.extend({showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,ctx:this.chart.ctx,innerRadius:0,x:this.chart.width/2,y:this.chart.height/2}),this.scale=new t.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,lineArc:!0,width:this.chart.width,height:this.chart.height,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,valuesCount:e.length}),this.updateScaleRange(e),this.scale.update(),n.each(e,function(e,t){this.addData(e,t,!0)},this),this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getSegmentsAtEvent(e):[];n.each(this.segments,function(e){e.restore(["fillColor"])}),n.each(t,function(e){e.fillColor=e.highlightColor}),this.showTooltip(t)}),this.render()},getSegmentsAtEvent:function(e){var t=[],r=n.getRelativePosition(e);return n.each(this.segments,function(e){e.inRange(r.x,r.y)&&t.push(e)},this),t},addData:function(e,t,n){var r=t||this.segments.length;this.segments.splice(r,0,new this.SegmentArc({fillColor:e.color,highlightColor:e.highlight||e.color,label:e.label,value:e.value,outerRadius:this.options.animateScale?0:this.scale.calculateCenterOffset(e.value),circumference:this.options.animateRotate?0:this.scale.getCircumference(),startAngle:1.5*Math.PI})),n||(this.reflow(),this.update())},removeData:function(e){var t=n.isNumber(e)?e:this.segments.length-1;this.segments.splice(t,1),this.reflow(),this.update()},calculateTotal:function(e){this.total=0,n.each(e,function(e){this.total+=e.value},this),this.scale.valuesCount=this.segments.length},updateScaleRange:function(e){var t=[];n.each(e,function(e){t.push(e.value)});var r=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:n.calculateScaleRange(t,n.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);n.extend(this.scale,r,{size:n.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2})},update:function(){this.calculateTotal(this.segments),n.each(this.segments,function(e){e.save()}),this.reflow(),this.render()},reflow:function(){n.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.updateScaleRange(this.segments),this.scale.update(),n.extend(this.scale,{xCenter:this.chart.width/2,yCenter:this.chart.height/2}),n.each(this.segments,function(e){e.update({outerRadius:this.scale.calculateCenterOffset(e.value)})},this)},draw:function(e){var t=e||1;this.clear(),n.each(this.segments,function(e,n){e.transition({circumference:this.scale.getCircumference(),outerRadius:this.scale.calculateCenterOffset(e.value)},t),e.endAngle=e.startAngle+e.circumference,0===n&&(e.startAngle=1.5*Math.PI),n<this.segments.length-1&&(this.segments[n+1].startAngle=e.endAngle),e.draw()},this),this.scale.draw()}})}.call(this),function(){var e=this,t=e.Chart,n=t.helpers;t.Type.extend({name:"Radar",defaults:{scaleShowLine:!0,angleShowLineOut:!0,scaleShowLabels:!1,scaleBeginAtZero:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:10,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'},initialize:function(e){this.PointClass=t.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx}),this.datasets=[],this.buildScale(e),this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getPointsAtEvent(e):[];this.eachPoints(function(e){e.restore(["fillColor","strokeColor"])}),n.each(t,function(e){e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke}),this.showTooltip(t)}),n.each(e.datasets,function(t){var r={label:t.label||null,fillColor:t.fillColor,strokeColor:t.strokeColor,pointColor:t.pointColor,pointStrokeColor:t.pointStrokeColor,points:[]};this.datasets.push(r),n.each(t.data,function(n,i){var o;this.scale.animation||(o=this.scale.getPointPosition(i,this.scale.calculateCenterOffset(n))),r.points.push(new this.PointClass({value:n,label:e.labels[i],datasetLabel:t.label,x:this.options.animation?this.scale.xCenter:o.x,y:this.options.animation?this.scale.yCenter:o.y,strokeColor:t.pointStrokeColor,fillColor:t.pointColor,highlightFill:t.pointHighlightFill||t.pointColor,highlightStroke:t.pointHighlightStroke||t.pointStrokeColor}))},this)},this),this.render()},eachPoints:function(e){n.each(this.datasets,function(t){n.each(t.points,e,this)},this)},getPointsAtEvent:function(e){var t=n.getRelativePosition(e),r=n.getAngleFromPoint({x:this.scale.xCenter,y:this.scale.yCenter},t),i=2*Math.PI/this.scale.valuesCount,o=Math.round((r.angle-1.5*Math.PI)/i),a=[];return(o>=this.scale.valuesCount||0>o)&&(o=0),r.distance<=this.scale.drawingArea&&n.each(this.datasets,function(e){a.push(e.points[o])}),a},buildScale:function(e){this.scale=new t.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,angleLineColor:this.options.angleLineColor,angleLineWidth:this.options.angleShowLineOut?this.options.angleLineWidth:0,pointLabelFontColor:this.options.pointLabelFontColor,pointLabelFontSize:this.options.pointLabelFontSize,pointLabelFontFamily:this.options.pointLabelFontFamily,pointLabelFontStyle:this.options.pointLabelFontStyle,height:this.chart.height,width:this.chart.width,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,labels:e.labels,valuesCount:e.datasets[0].data.length}),this.scale.setScaleSize(),this.updateScaleRange(e.datasets),this.scale.buildYLabels()},updateScaleRange:function(e){var t=function(){var t=[];return n.each(e,function(e){e.data?t=t.concat(e.data):n.each(e.points,function(e){t.push(e.value)})}),t}(),r=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:n.calculateScaleRange(t,n.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);n.extend(this.scale,r)},addData:function(e,t){this.scale.valuesCount++,n.each(e,function(e,n){var r=this.scale.getPointPosition(this.scale.valuesCount,this.scale.calculateCenterOffset(e));this.datasets[n].points.push(new this.PointClass({value:e,label:t,x:r.x,y:r.y,strokeColor:this.datasets[n].pointStrokeColor,fillColor:this.datasets[n].pointColor}))},this),this.scale.labels.push(t),this.reflow(),this.update()},removeData:function(){this.scale.valuesCount--,this.scale.labels.shift(),n.each(this.datasets,function(e){e.points.shift()},this),this.reflow(),this.update()},update:function(){this.eachPoints(function(e){e.save()}),this.reflow(),this.render()},reflow:function(){n.extend(this.scale,{width:this.chart.width,height:this.chart.height,size:n.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2}),this.updateScaleRange(this.datasets),this.scale.setScaleSize(),this.scale.buildYLabels()},draw:function(e){var t=e||1,r=this.chart.ctx;this.clear(),this.scale.draw(),n.each(this.datasets,function(e){n.each(e.points,function(e,n){e.hasValue()&&e.transition(this.scale.getPointPosition(n,this.scale.calculateCenterOffset(e.value)),t)},this),r.lineWidth=this.options.datasetStrokeWidth,r.strokeStyle=e.strokeColor,r.beginPath(),n.each(e.points,function(e,t){0===t?r.moveTo(e.x,e.y):r.lineTo(e.x,e.y)},this),r.closePath(),r.stroke(),r.fillStyle=e.fillColor,r.fill(),n.each(e.points,function(e){e.hasValue()&&e.draw()})},this)}})}.call(this),n("util/chartjs-noConflict",["lodash","chartjs"],function(e,t){var n={responsive:!0},r=t.noConflict();return e.extend(r.defaults.global,n),r}),n("widgets/GlobalChartsConfiguration",["widgets/SDSWidgets","chartjs","lodash"],function(e,t,n){return angular.module("sdsWidgets").constant("globalChartStyleConfiguration",{fillColor:"#337ab7"}).constant("globalBarChartConfiguration",{scaleShowVerticalLines:!1,barValueSpacing:2,tooltipFillColor:"rgba(255,255,255,0.8)",tooltipFontColor:"rgba(0,0,0 ,0.8)",responsive:!0}).factory("ChartsFactory",["globalBarChartConfiguration",function(e){function r(r,i,o,a){var s=angular.element(r).find("canvas")[0],l=s.getContext("2d");a&&n.each(a,function(e,t){s.style[t]=e});var u=n.extend(e,o);return new t(l).Bar(i,u)}return{createBarChart:r}}]).constant("labelsDateFormat","dd. D MMM").constant("labelsDateRangeFormat","D MMM").factory("DateToStringRedefineFactory",["labelsDateFormat",function(e){return{patchToStringMethod:function(t){var n=t.clone();return n.toString=function(){return this.format(e)},n}}}]).factory("DateRangeToStringRedefineFactory",["labelsDateRangeFormat",function(e){return{patchToStringMethod:function(t){var n=t.clone();return n.toString=function(){return this.start.format(e)+" - "+this.end.format(e)},n}}}])}),n("widgets/leadPriceChart/LeadPriceChartWidget",["moment","moment_range","lodash","angular","widgets/SDSWidgets","widgets/BaseController","widgets/GlobalChartsConfiguration","datamodel/ShoppingData","webservices/common/searchStrategyFactories/DaysRangeSearchStrategyFactory","widgets/WidgetGlobalCallbacks"],function(e,t,n,r,i,o,a,s,l,u){function c(t,r,i,a,l,u,c,h,f){function g(e){return e.clone().add(x,"weeks").subtract(1,"day")}function m(){p={labels:[],datasets:[{fillColor:c.fillColor,data:[]}]};var t=A.clone(),n=g(t);M=e.range(t,n)}function v(){T.navigationState.prevLinkActive=M.start.isAfter(A),T.navigationState.nextLinkActive=M.end.isBefore(F)}function y(t){var r=n.map(t,function(t,n){return{date:e(n,s.prototype.DATE_FORMAT_FOR_KEYS),leadPrice:t.price}}),i=n.sortBy(r,"date"),o=b(i);p.labels=n.pluck(o,"date").map(h.patchToStringMethod),p.datasets[0].data=n.pluck(o,"leadPrice"),d.initialize(p),v()}function b(e){var t=[];return M.by("days",function(r){var i=n.find(e,function(e){return e.date.isSame(r)});i=i||{date:r,leadPrice:null},t.push(i)}),t}function S(e){var t=7*e;t=D(t),M.start.add(t,"days"),M.end=g(M.start),w.getLeadPricesForRange(T.lastSearchCriteria,M).then(y)}function D(e){if(e>0){var t=F.diff(M.end,"days");return e>t?t:e}if(0>e){var n=M.start.diff(A,"days");return n<Math.abs(e)?-n:e}}var w=i.createSearchStrategy(t.activeSearchWebService),A=r.now().startOf("day"),C=A.clone(),x=parseInt(t.numberOfWeeksToDisplay)||2,_=g(C),$=e.range(A,_),k={executeSearch:n.partialRight(w.getLeadPricesForRange,$)};o.call(this,{scope:t,searchService:k,newSearchCriteriaEvent:a,searchCriteriaBroadcastingService:l,noResultsFoundBroadcastingService:u});var M,T=this;this.navigationState={},m(),v();var F;return this.processSearchResults=function(e){this.minDateAndPricePair=w.getMinDateAndPricePair(this.lastSearchCriteria),F=w.getMaxAvailableDate(this.lastSearchCriteria),y(e)},this.clearModel=function(){n.remove(p.labels),p.datasets.forEach(function(e){n.remove(e.data)}),d.initialize(p)},this.isAnyDataToDisplayAvailable=function(){var e=n.first(p.datasets).data;return!n.isEmpty(e)},this.chartClicked=function(e){var r=d.getBarsAtEvent(e)[0];if(!n.isUndefined(r)){var i=r.label,o=this.lastSearchCriteria.cloneWithDatesAdjustedToOtherDepartureDate(i);f.newSearchCriteria=o,f.originalDataSourceWebService=w,f.broadcast(),t.barClickedCallback&&t.barClickedCallback({searchCriteria:o,originalDataSourceWebService:w})}},this.onEarlierRequested=function(){S(-x)},this.onLaterRequested=function(){S(x)},this}var d,p;return c.prototype=Object.create(o.prototype),c.prototype.constructor=c,r.module("sdsWidgets").controller("LeadPriceChartCtrl",["$scope","DateService","DaysRangeSearchStrategyFactory","newSearchCriteriaEvent","SearchCriteriaBroadcastingService","NoResultsFoundBroadcastingService","globalChartStyleConfiguration","DateToStringRedefineFactory","DateSelectedBroadcastingService",c]).directive("leadPriceChart",["ChartsFactory",function(e){return{restrict:"AE",scope:{numberOfWeeksToDisplay:"@",activeSearchWebService:"@",searchCriteria:"=?",barClickedCallback:"&?",searchStartedCallback:"&?",searchSuccessCallback:"&?",searchErrorCallback:"&?"},replace:!1,templateUrl:"../widgets/view-templates/widgets/LeadPriceChartWidget.tpl.html",controller:"LeadPriceChartCtrl",controllerAs:"ctrl",link:function(t,n,r,i){d=e.createBarChart(n,p),t.searchCriteria?i.processSearchCriteria(t.searchCriteria):i.executeLifeSearchOnPredefinedCriteriaIfPresent(r.origin,r.destination,r.departureDate,r.returnDate),u.linkComplete(t,n),t.$on("$destroy",function(){d.destroy()})}}}])}),n("webservices/informational/LowFareHistoryDataService",["angular","moment","lodash","webservices/SabreDevStudioWebServicesModule","webservices/common/validators/TravelInsightEngineSearchCriteriaValidator"],function(e,t,n,r,i){var o=new i;return e.module("sabreDevStudioWebServices").factory("LowFareHistoryDataService",["$q","LowFareHistoryWebService","selectedCountryConfigs","ErrorReportingService","ValidationErrorReportingService","businessMessagesErrorHandler",function(e,r,i,a,s,l){function u(e){var t={origin:e.getFirstLeg().origin,destination:e.getFirstLeg().destination,departuredate:e.getTripDepartureDateTime().format("YYYY-MM-DD"),returndate:e.getTripReturnDateTime().format("YYYY-MM-DD")};return i.pointOfSaleCountry.length>0&&n.extend(t,{pointofsalecountry:i.pointOfSaleCountry}),t}function c(e){var n=e.FareInfo.map(function(e){return{lowestFare:e.LowestFare,lowestNonStopFare:e.LowestNonStopFare,dateOfShopping:t(e.ShopDateTime,t.ISO_8601)}});return{origin:e.OriginLocation,destination:e.DestinationLocation,currency:e.FareInfo[0].CurrencyCode,historicalPrices:n}}return{getLowFareHistory:function(t){return e(function(e,n){var i=o.validate(t);if(i.length>0)return s.reportErrors(i,"Unsupported search criteria"),n(i);var d=u(t);r.get(d).$promise.then(function(t){var n=c(t);e(n)},function(e){a.reportError("Could not get low fare history",t),l.handle(n,e)})})}}}])}),n("widgets/informational/LowFareHistoryWidget",["moment","angular","lodash","angular_bootstrap","widgets/SDSWidgets","widgets/BaseController","widgets/GlobalChartsConfiguration","webservices/informational/LowFareHistoryDataService","widgets/WidgetGlobalCallbacks"],function(e,t,n,r,i,o,a,s,l){function u(e,t,r,i,a,s){function l(){d={labels:[],datasets:[{fillColor:a.fillColor,data:[]}]}}var u={executeSearch:t.getLowFareHistory};return o.call(this,{scope:e,searchService:u,newSearchCriteriaEvent:r,searchCriteriaBroadcastingService:i}),l(),this.processSearchResults=function(t){d.labels=e.hideChartLabels?t.historicalPrices.map(function(){return""}):n.pluck(t.historicalPrices,"dateOfShopping").map(s.patchToStringMethod).reverse(),d.datasets[0].data=t.historicalPrices.map(function(e){return n.isFinite(e.lowestFare)?e.lowestFare:null}).reverse(),e.historyDaysCount=d.datasets[0].data.length,c.initialize(d)},this.clearModel=function(){n.remove(d.labels),d.datasets.forEach(function(e){n.remove(e.data)}),c.initialize(d)},this.isAnyDataToDisplayAvailable=function(){return d.datasets[0].data.filter(n.isFinite).length>=e.minDaysDataRequired},this}var c,d;return u.prototype=Object.create(o.prototype),u.prototype.constructor=u,t.module("sdsWidgets").controller("LowFareHistoryCtrl",["$scope","LowFareHistoryDataService","newSearchCriteriaEvent","SearchCriteriaBroadcastingService","globalChartStyleConfiguration","DateToStringRedefineFactory",u]).directive("lowFareHistory",["ChartsFactory",function(e){return{restrict:"EA",scope:{hideChartLabels:"@?",hideHeader:"@?",minDaysDataRequired:"@?",searchStartedCallback:"&?",searchSuccessCallback:"&?",searchErrorCallback:"&?"},replace:!1,templateUrl:"../widgets/view-templates/widgets/LowFareHistory.tpl.html",controller:"LowFareHistoryCtrl",controllerAs:"ctrl",link:function(t,n,r,i){t.minDaysDataRequired=t.minDaysDataRequired||1,c=e.createBarChart(n,d),i.executeLifeSearchOnPredefinedCriteriaIfPresent(r.origin,r.destination,r.departureDate,r.returnDate),l.linkComplete(t,n),t.$on("$destroy",function(){c.destroy()})}}}])}),n("widgets/informational/TravelSeasonalityWidget",["moment","moment_range","angular","lodash","angular_bootstrap","widgets/SDSWidgets","widgets/BaseController","widgets/GlobalChartsConfiguration","webservices/informational/TravelSeasonalityDataService","widgets/WidgetGlobalCallbacks"],function(e,t,n,r,i,o,a,s,l,u){function c(t,n,i,o,s,l){function u(){p={labels:[],datasets:[{fillColor:s.fillColor,data:[]}]}}var c={executeSearch:n.getSeasonality};
return a.call(this,{scope:t,searchService:c,newSearchCriteriaEvent:i,searchCriteriaBroadcastingService:o}),u(),this.processSearchResults=function(t){function n(e){return e.range=l.patchToStringMethod(e.range),e.toString=function(){return this.range.toString()+": "+e.value},e}function i(e){switch(e){case"Low":return 1;case"Medium":return 2;case"High":return 3}}p.labels=t.Seasonality.map(function(t){var n=e(t.WeekStartDate,e.ISO_8601),r=e(t.WeekEndDate,e.ISO_8601);return{range:e.range(n,r),value:t.SeasonalityIndicator}}).map(n),p.datasets[0].data=r.pluck(t.Seasonality,"SeasonalityIndicator").map(i),d.initialize(p)},this.clearModel=function(){r.remove(p.labels),p.datasets.forEach(function(e){r.remove(e.data)}),d.initialize(p)},this.isAnyDataToDisplayAvailable=function(){return!r.isEmpty(p.datasets[0].data)},this}var d,p;return c.prototype=Object.create(a.prototype),c.prototype.constructor=c,n.module("sdsWidgets").controller("TravelSeasonalityCtrl",["$scope","TravelSeasonalityDataService","newInspirationalSearchCriteriaEvent","InspirationalSearchCriteriaBroadcastingService","globalChartStyleConfiguration","DateRangeToStringRedefineFactory",c]).directive("travelSeasonality",["ChartsFactory",function(e){return{scope:{searchStartedCallback:"&?",searchSuccessCallback:"&?",searchErrorCallback:"&?"},templateUrl:"../widgets/view-templates/widgets/TravelSeasonalityWidget.tpl.html",controller:"TravelSeasonalityCtrl",controllerAs:"ctrl",link:function(t,n,i,o){function a(e){if(!r.isUndefined(e)){var t={destination:e,getTripDestination:function(){return e}};o.processSearchCriteria(t)}}var s={tooltipTemplate:"<%if (label){%><%=label%><%}%>",tooltipFontSize:16,scaleShowLabels:!1,maintainAspectRatio:!1,scaleFontSize:0},l={};i.chartHeight&&(l["max-height"]=i.chartHeight),d=e.createBarChart(n,p,s,l),a(i.destination),u.linkComplete(t,n),t.$on("$destroy",function(){d.destroy()})}}}])}),n("widgets/searchForm/SearchFormInspirationalWidget",["moment","angular","lodash","util/LodashExtensions","angular_bootstrap","widgets/SDSWidgets","widgets/WidgetGlobalCallbacks"],function(e,t,n,r,i,o,a){return t.module("sdsWidgets").directive("searchFormInspirational",["InspirationalSearchCriteriaBroadcastingService","PointOfSaleCountryLookupDataService",function(e,t){return{replace:!0,scope:{selectableAirportsForThisPosOnly:"@"},templateUrl:"../widgets/view-templates/widgets/SearchFormInspirationalWidget.tpl.html",link:function(i,o){function s(){u=o.attr("hide-fields")&&o.attr("hide-fields").split(",")||[]}function l(){i.pointOfSaleCountries=[],t.getPointOfSaleCountries().then(function(e){r.pushAll(i.pointOfSaleCountries,e)})}var u=[];i.searchContext={pointOfSaleCountry:""},s(),l(),i.createNewSearchCriteria=function(){e.searchCriteria={destination:i.destination.airportCode,pointOfSaleCountry:i.searchContext.pointOfSaleCountry},e.broadcast()},i.isVisible=function(e){return!n.contains(u,e)},a.linkComplete(i,o)}}}])}),n("widgets/searchForm/AirportNameBestSuggestionComparator",["lodash"],function(e){function t(e){this.stringCurrentlySearchedFor=e.toUpperCase();var t=this;return function(e,n){var r=t.getOrderByAirportCodeFullMatch(e,n);if(0!==r)return r;var i=t.getOrderByLabelAtStringStart(e,n);return 0!==i?i:0}}return t.prototype.getOrderByAirportCodeFullMatch=function(e,t){return e.airportCode===this.stringCurrentlySearchedFor?1:t.airportCode===this.stringCurrentlySearchedFor?-1:0},t.prototype.getOrderByLabelAtStringStart=function(t,n){return e.startsWith(t.fullName.toUpperCase(),this.stringCurrentlySearchedFor)?1:e.startsWith(n.fullName.toUpperCase(),this.stringCurrentlySearchedFor)?-1:void 0},t}),n("widgets/searchForm/flexibleDepartureReturnDates.drv",["lodash"],function(e){return function(){return{require:"ngModel",replace:!0,scope:{required:"@",dateFormat:"@",minDate:"=",onAnyDateChange:"&",ngModel:"=",internalFormName:"@"},templateUrl:"../widgets/view-templates/partials/FlexibleDepartureReturnDates.tpl.html",link:function(t,n,r,i){t.$watch("ngModel.dates",function(n,r){e.isEqual(n,r)||(t.ngModel=e.clone(t.ngModel))},!0),i.$validators.invalidDepartureDate=function(e){var t=!0,n=e.dates;return n.isFlexibleDepartureDate?!0:t=n.isFlexibleReturnDate?n.departureDate<=n.flexibleReturnDate.from:n.departureDate<=n.returnDate},i.$validators.invalidReturnDate=function(e){var t=!0,n=e.dates;return n.isFlexibleReturnDate?!0:t=n.isFlexibleDepartureDate?n.returnDate>=n.flexibleDepartureDate.from:n.returnDate>=n.departureDate},i.$validators.invalidDepartureDateFrom=function(e){var t=!0,n=e.dates;return n.isFlexibleDepartureDate?t=n.isFlexibleReturnDate?n.flexibleDepartureDate.from<=n.flexibleReturnDate.from:n.flexibleDepartureDate.from<=n.returnDate:!0},i.$validators.invalidDepartureDateFromTo=function(e){var t=!0,n=e.dates;return n.isFlexibleDepartureDate&&(t=n.flexibleDepartureDate.from<n.flexibleDepartureDate.to),t},i.$validators.invalidDepartureDateToFrom=function(e){var t=!0,n=e.dates;return n.isFlexibleDepartureDate&&(t=n.flexibleDepartureDate.to>n.flexibleDepartureDate.from),t},i.$validators.invalidDepartureDateToReturnDateTo=function(e){var t=!0,n=e.dates;return n.isFlexibleDepartureDate&&n.isFlexibleReturnDate&&(t=n.flexibleDepartureDate.to<=n.flexibleReturnDate.to),t},i.$validators.invalidReturnDateFrom=function(e){var t=!0,n=e.dates;return n.isFlexibleReturnDate?t=n.isFlexibleDepartureDate?n.flexibleReturnDate.from>=n.flexibleDepartureDate.from:n.flexibleReturnDate.from>=n.departureDate:!0},i.$validators.invalidReturnDatesFromTo=function(e){var t=!0,n=e.dates;return n.isFlexibleReturnDate&&(t=n.flexibleReturnDate.from<n.flexibleReturnDate.to),t},i.$validators.invalidReturnDatesToFrom=function(e){var t=!0,n=e.dates;return n.isFlexibleReturnDate&&(t=n.flexibleReturnDate.to>n.flexibleReturnDate.from),t},i.$validators.invalidReturnDateToDepartureDateTo=function(e){var t=!0,n=e.dates;return n.isFlexibleReturnDate&&n.isFlexibleDepartureDate&&(t=n.flexibleReturnDate.to>=n.flexibleDepartureDate.to),t}}}}}),n("widgets/searchForm/SearchFormInputControls",["lodash","util/LodashExtensions","moment","angular","angular_bootstrap","widgets/SDSWidgets","widgets/searchForm/AirportNameBestSuggestionComparator","widgets/searchForm/flexibleDepartureReturnDates.drv"],function(e,t,n,r,i,o,a,s){function l(e){return{hours:Math.floor(e/c),minutes:e%c}}var u=1440,c=60;return r.module("sdsWidgets").directive("flexibleDepartureReturnDates",s).directive("selectPreferredCabin",function(){return{replace:!0,scope:{cabinSelected:"="},templateUrl:"../widgets/view-templates/partials/PreferredCabinSelect.tpl.html"}}).directive("selectBags",function(){return{replace:!0,scope:{bagsRequested:"="},templateUrl:"../widgets/view-templates/partials/SelectBags.tpl.html",link:function(e){e.bagsSelection=[0,1,2,3],e.bagsRequested=e.bagsSelection[1]}}}).filter("bags",function(){return function(e){switch(e){case 0:return"No bags";case 1:return"1 bag";default:return e+" bags"}}}).directive("selectAirline",["AirlineLookupDataService","$timeout",function(e){return{scope:{airline:"="},templateUrl:"../widgets/view-templates/partials/SelectAirline.tpl.html",link:function(t){t.airlineInternal={selected:{}},e.getAirlineAndAirlineCodesList().then(function(e){t.allAirlines=e}),t.$watch("airlineInternal.selected",function(e){t.airline=e.AirlineCode})}}}]).directive("selectMultipleAirlines",["AirlineLookupDataService","$timeout",function(e){return{scope:{airlines:"="},templateUrl:"../widgets/view-templates/partials/SelectMultipleAirlines.tpl.html",link:function(t){t.airlinesInternal={selected:[]},e.getAirlineAndAirlineCodesList().then(function(e){t.allAirlines=e}),t.$watchCollection("airlinesInternal.selected",function(e){t.airlines.selected=e.map(function(e){return e.AirlineCode})})}}}]).directive("inputDate",[function(){return{require:"ngModel",replace:!0,scope:{isDisabled:"@",required:"@",dateFormat:"@",minDate:"=",onDateChange:"&",ngModel:"="},templateUrl:"../widgets/view-templates/partials/InputDate.tpl.html",link:function(e){e.dateFormat=e.dateFormat||"dd-MMM-yyyy",e.dateOptions={minDate:e.minDate},e.openDatePicker=function(t){t.preventDefault(),t.stopPropagation(),e.isDatePickerOpened=!0}}}}]).directive("selectMonths",["$locale",function(t){return{replace:!0,scope:{value:"="},transclude:!0,templateUrl:"../widgets/view-templates/partials/SelectMonths.tpl.html",link:function(n){n.allMonths=e.clone(t.DATETIME_FORMATS.MONTH)}}}]).directive("selectDaysOfWeek",["$locale",function(t){return{replace:!0,scope:{daysOfWeek:"="},transclude:!0,templateUrl:"../widgets/view-templates/partials/SelectDaysOfWeek.tpl.html",link:function(n){n.daysOfWeekSymbols=e.clone(t.DATETIME_FORMATS.SHORTDAY),n.daysSelected=[!1,!1,!1,!1,!1,!1,!1],n.$watchCollection("daysSelected",function(e,t){e!==t&&(n.daysOfWeek=e)})}}}]).directive("selectLengthsOfStay",[function(){return{replace:!0,scope:{lengthOfStay:"=value"},transclude:!0,templateUrl:"../widgets/view-templates/partials/SelectLengthsOfStay.tpl.html",link:function(t){function n(e){t.lengthOfStay.minDays=e,t.lengthOfStay.maxDays=e}t.predefinedLengthOfStayDays=[1,2,7,14],t.selectedPredefinedLengthOfStayDays={value:e.last(t.predefinedLengthOfStayDays)},t.lengthOfStay=t.lengthOfStay||{minDays:13,maxDays:15},t.$watch("selectedPredefinedLengthOfStayDays.value",function(e){e&&n(e)}),t.$watch("lengthOfStay.minDays",function(e,n){e!==n&&e>t.lengthOfStay.maxDays&&(t.lengthOfStay.maxDays=e)}),t.$watch("lengthOfStay.maxDays",function(e,n){e!==n&&e<t.lengthOfStay.minDays&&(t.lengthOfStay.minDays=e)})}}}]).directive("inputTimeRangePicker",function(){return{restrict:"EA",replace:!0,scope:{timeMin:"=",timeMax:"="},templateUrl:"../widgets/view-templates/partials/InputTimeRangePickerTemplate.tpl.html",link:function(e,t){e.step=t.attr("stepMinutes")||c,e.currentSelection={min:0,max:u},e.minMaxConstraints={min:0,max:u},e.permittedValuesChanged=function(){e.timeMin=l(e.currentSelection.min),e.timeMax=l(e.currentSelection.max)}}}}).directive("inputOnOffToggle",function(){return{restrict:"EA",replace:!0,scope:{selectedValue:"=",switchOnText:"@",switchOffText:"@",ngOnValue:"@",ngOffValue:"@"},templateUrl:"../widgets/view-templates/partials/InputOnOffToggle.tpl.html",link:function(e){e.selectedValue=e.ngOffValue,e.$watch("value",function(t){e.selectedValue=t?e.ngOnValue:e.ngOffValue})}}}).directive("plusMinusDaysSelection",function(){return{replace:!0,transclude:!0,scope:{days:"=",maxDays:"@"},templateUrl:"../widgets/view-templates/partials/PlusMinusDaysSelection.tpl.html",link:function(e){var t=3,n=parseInt(e.maxDays)||t,r=[];r.push("");for(var i=1;n>=i;i++)r.push(i);e.plusMinusDaysList=r,e.days=e.days||e.plusMinusDaysList[0]}}}).filter("minutesInDayToTimeOfDay",function(){return function(e,t){function n(e){return 10>e?"0"+e:e}var r=l(e);if(t){var i=r.hours<12?"am":"pm";return r.hours%12+":"+n(r.minutes)+" "+i}return n(r.hours)+":"+n(r.minutes)}}).filter("airportNameWithIATACode",function(){return function(e){return t.isDefined(e)?e.fullName+" ("+e.airportCode+")":void 0}}).filter("airportNameBestSuggestionComparator",function(){return function(e,t){return e.sort(new a(t)).reverse()}})}),n("widgets/searchForm/InputAirport",["angular","lodash","angular_bootstrap","widgets/SDSWidgets"],function(e,t){return e.module("sdsWidgets").directive("inputAirport",["AirportsDictionaryFetchFnFactory",function(n){return{replace:!0,require:"ngModel",scope:{airport:"=",selectableAirportsForThisPosOnly:"@",selectableAirportsDictionary:"@",onSelect:"&"},templateUrl:"../widgets/view-templates/partials/AirportInput.tpl.html",link:function(r,i,o,a){function s(e){return e.AirportName===e.CityName?e.CityName:e.AirportName+", "+e.CityName}a.$validators.invalidAirport=function(t,n){return a.$isEmpty(n)||e.isObject(t)};var l=n.selectAirportsDictionaryFetchFn(r.selectableAirportsDictionary,r.selectableAirportsForThisPosOnly);l().then(function(e){var n=t.map(e,function(e,t){return{fullName:s(e),airportCode:t}});if(r.airports=n,r.airport&&r.airport.airportCode){var i=e[r.airport.airportCode];r.airport.fullName=s(i)}})}}}])}),n("widgets/searchForm/DiversitySwapper",["angular","util/validator","widgets/SDSWidgets"],function(e,t){return e.module("sdsWidgets").directive("diversitySwapper",[function(){return{require:"ngModel",scope:{internalFormName:"@",enabled:"=",showOptions:"=",ngModel:"="},templateUrl:"../widgets/view-templates/partials/DiversitySwapper.tpl.html",link:function(e){e.lowFareBucketOptionsPattern=function(){var n=t.NON_ZERO_POSITIVE_INTEGER_REGEX;return{test:function(t){return e.ngModel.lowFareBucketMode.toString()!==e.ngModel.LowFareBucketModeEnum.OPTION.toString()?!0:n.test(t)}}}(),e.fareCutOffPattern=function(){var n=t.PERCENTAGE_VALUE_REGEX;return{test:function(t){return e.ngModel.lowFareBucketMode.toString()!==e.ngModel.LowFareBucketModeEnum.FARE_CUT_OFF.toString()?!0:n.test(t)}}}()}}}])}),n("widgets/ItinerariesList/InputSortBy",["util/LodashExtensions","moment","angular","angular_bootstrap","widgets/SDSWidgets"],function(e,t,n){return n.module("sdsWidgets").directive("inputSelectDropdown",function(){return{restrict:"EA",replace:!0,scope:{label:"@",availableSortCriteria:"=",selectedFirstSortCriterion:"=",onSortingCriteriaChanged:"&"},templateUrl:"../widgets/view-templates/partials/InputSortBy.tpl.html",link:function(e,t){function r(t,r,i){var o="button span.SDSDropdownLabelText";s=n.element(t.parentNode.querySelectorAll(o)),s.text(r),s.val(r),e.selectedFirstSortCriterion.selected=e.availableSortCriteria[i],e.onSortingCriteriaChanged()}function i(e){return e===a}function o(e){var t=e.target,n=t.textContent,o=parseInt(t.getAttribute("data-criterion-index"));if(!i(o)){var s=this;r(s,n,o),a=o}}var a,s,l=t[0].querySelector(".dropdown-menu");l.addEventListener("click",o,!0),e.$on("$destroy",function(){l.removeEventListener("click",o,!0),delete e.selectedFirstSortCriterion,s=void 0})}}})}),n("datamodel/FareForecast",[],function(){function e(e){this.recommendation=e}return e}),n("webservices/informational/FareForecastDataService",["angular","datamodel/FareForecast","webservices/common/validators/TravelInsightEngineSearchCriteriaValidator"],function(e,t,n){var r=new n;return e.module("sabreDevStudioWebServices").factory("FareForecastResponseParser",function(){return{parse:function(e){var n=e.Recommendation;return new t(n)}}}).factory("FareForecastDataService",["$q","FareForecastWebService","FareForecastResponseParser","ErrorReportingService","ValidationErrorReportingService","businessMessagesErrorHandler",function(e,t,n,i,o,a){function s(e){return{origin:e.getFirstLeg().origin,destination:e.getFirstLeg().destination,departuredate:e.getFirstLeg().departureDateTime.format("YYYY-MM-DD"),returndate:e.getSecondLeg().departureDateTime.format("YYYY-MM-DD")}}return{getFareForecast:function(l){return e(function(e,u){var c=r.validate(l);if(c.length>0)return o.reportErrors(c,"Unsupported search criteria"),u(c);var d=s(l);t.get(d).$promise.then(function(t){var r=n.parse(t);e(r)},function(e){i.reportError("Could not get fare forecast",l),a.handle(u,e)})})}}}])}),n("widgets/informational/fareForecast/FareForecastWidget",["angular","widgets/SDSWidgets","webservices/informational/FareForecastDataService","widgets/WidgetGlobalCallbacks","widgets/BaseController"],function(e,t,n,r,i){function o(e,t,n,r){function o(){e.fareForecast={}}return i.call(this,{scope:e,searchService:{executeSearch:r.getFareForecast},newSearchCriteriaEvent:n,searchCriteriaBroadcastingService:t}),o(),this.processSearchResults=function(t){e.fareForecast.recommendation=t.recommendation},this.clearModel=function(){o()},this.isAnyDataToDisplayAvailable=function(){return e.fareForecast.recommendation},this.showRecommendationPolicy=function(){return"wait"===e.fareForecast.recommendation?e.showWaitRecommendation:"unknown"===e.fareForecast.recommendation?e.showUnknownRecommendation:!0},this}return o.prototype=Object.create(i.prototype),o.prototype.constructor=o,e.module("sdsWidgets").controller("FareForecastController",["$scope","SearchCriteriaBroadcastingService","newSearchCriteriaEvent","FareForecastDataService",o]).directive("fareForecast",function(){return{restrict:"AE",scope:{showWaitRecommendation:"@",showUnknownRecommendation:"@",searchStartedCallback:"&?",searchSuccessCallback:"&?",searchErrorCallback:"&?"},templateUrl:"../widgets/view-templates/widgets/FareForecastWidget.tpl.html",controller:"FareForecastController",controllerAs:"ctrl",link:function(e,t,n,i){i.executeLifeSearchOnPredefinedCriteriaIfPresent(n.origin,n.destination,n.departureDate,n.returnDate),r.linkComplete(e,t)}}})}),n("widgets/informational/fareRange/HighLowMedianCurrentChartDirective",["angular","widgets/SDSWidgets"],function(e){return e.module("sdsWidgets").directive("highLowMedianCurrentChart",function(){return{replace:!0,scope:{highValue:"@",highText:"@",lowValue:"@",lowText:"@",medianValue:"@",medianText:"@",currentValue:"@?",currentText:"@?",valuesFilter:"@?",valuesFilterArguments:"@?"},templateUrl:"../widgets/view-templates/partials/HighLowMedianCurrentChart.tpl.html",link:function(e){e.chartConfig={topLeftOffset:{x:30,y:20},bar:{width:40,height:120},pointerLineLengthOutsideOfBar:10,pointerLineRightMargin:2,legendForCurrentYOffset:10};var t=e.chartConfig.bar.height/(parseFloat(e.highValue)-parseFloat(e.lowValue)),n=(parseFloat(e.medianValue)-parseFloat(e.lowValue))*t,r=e.chartConfig.topLeftOffset.y+e.chartConfig.bar.height-n;if(e.currentValue)var i=(parseFloat(e.currentValue)-parseFloat(e.lowValue))*t,o=e.chartConfig.topLeftOffset.y+e.chartConfig.bar.height-i;e.chartHelpers={getPointerLineXStart:function(){return e.chartConfig.topLeftOffset.x+e.chartConfig.bar.width/2},getPointerLineXEnd:function(){return e.chartConfig.topLeftOffset.x+e.chartConfig.bar.width+e.chartConfig.pointerLineLengthOutsideOfBar},getOppositePointerLineXEnd:function(){return e.chartConfig.topLeftOffset.x-e.chartConfig.pointerLineLengthOutsideOfBar},getMedianNormalizedYPosition:function(){return r},getCurrentNormalizedYPosition:function(){return o},getCurrentLegendYPosition:function(){return o+e.chartConfig.legendForCurrentYOffset}}}}})}),n("webservices/informational/FareRangeDataService",["angular","moment","lodash","webservices/SabreDevStudioWebServicesModule","webservices/common/validators/TravelInsightEngineSearchCriteriaValidator"],function(e,t,n,r,i){var o=new i;return e.module("sabreDevStudioWebServices").factory("FareRangeDataService",["$q","FareRangeWebService","ErrorReportingService","ValidationErrorReportingService","businessMessagesErrorHandler",function(e,t,n,r,i){function a(e,t){return{origin:e.getFirstLeg().origin,destination:e.getFirstLeg().destination,earliestdeparturedate:t.start.format("YYYY-MM-DD"),latestdeparturedate:t.end.format("YYYY-MM-DD"),lengthofstay:e.getLengthOfStay()}}return{getFareRange:function(s,l){return e(function(e,u){var c=o.validate(s);if(c.length>0)return r.reportErrors(c,"Unsupported search criteria"),u(c);var d=a(s,l);t.get(d).$promise.then(function(t){e(t)},function(e){n.reportError("Could not get fare range",s),i.handle(u,e)})})}}}])}),n("widgets/informational/fareRange/FareRangeWidget",["moment","moment_range","util/LodashExtensions","angular","angular_bootstrap","widgets/SDSWidgets","datamodel/search/SearchCriteriaFactory","widgets/informational/fareRange/HighLowMedianCurrentChartDirective","webservices/informational/FareRangeDataService","widgets/WidgetGlobalCallbacks"],function(e,t,n,r,i,o,a,s,l,u){return r.module("sdsWidgets").controller("FareRangeCtrl",["$scope","DateService","FareRangeDataService","FareRangeSummaryService","newSearchCriteriaEvent","SearchCriteriaBroadcastingService",function(t,r,i,o,s,l){function u(e){var r=d(e.getTripDepartureDateTime());i.getFareRange(e,r).then(function(i){t.fareRangeSummary=o.getSummary(i,e.getFirstLeg().departureDateTime,e.getSecondLeg().departureDateTime),t.requestedRange=r,t.origin=n.isFunction(e.getFirstLeg)?e.getFirstLeg().origin:e.origin,t.destination=n.isFunction(e.getFirstLeg)?e.getFirstLeg().destination:e.destination},function(){c()})}function c(){t.fareRangeSummary={}}function d(t){var n=t.diff(r.now(),"days"),i=Math.min(n,Math.floor(h/2)),o=h-i-1,a=t.clone().subtract(i,"days").format("YYYY-MM-DD"),s=t.clone().add(o,"days").format("YYYY-MM-DD");return e.range(a,s)}function p(){return t.currentLowestFare<t.fareRangeSummary.fareDataForRequestedDates.MedianFare&&t.currentLowestFareCurrency===t.fareRangeSummary.fareDataForRequestedDates.CurrencyCode}var h=t.rangeDays||15;if(t.fareRangeSummary={},t.searchCriteria&&u(t.searchCriteria),t.origin&&t.destination&&t.departureDate&&t.returnDate){var f=a.buildRoundTripTravelSearchCriteria(t.origin,t.destination,t.departureDate,t.returnDate);u(f)}t.$on(s,function(){var e=l.searchCriteria;t.currentLowestFare=void 0,t.currentLowestFareCurrency=void 0,u(e)}),t.isAnyDataToDisplayAvailable=function(){return!n.isEmpty(t.fareRangeSummary)},t.showFareRangeToCustomer=function(){return n.has(t.fareRangeSummary,"fareDataForRequestedDates","MedianFare")?n.isUndefined(t.currentLowestFare)?!0:p()?!0:!1:!1}}]).directive("fareRange",function(){return{transclude:!0,scope:{searchCriteria:"=?",origin:"@?",destination:"@?",departureDate:"@?",returnDate:"@?",currentLowestFare:"@?",currentLowestFareCurrency:"@?",rangeDays:"@?"},templateUrl:"../widgets/view-templates/widgets/FareRangeWidget.tpl.html",controller:"FareRangeCtrl",link:function(e,t){u.linkComplete(e,t)}}}).factory("FareRangeSummaryService",function(){function t(t,r,i){return n.find(t,function(t){return e(t.DepartureDateTime,e.ISO_8601).isSame(r)&&e(t.ReturnDateTime,e.ISO_8601).isSame(i)})}return{getSummary:function(e,r,i){var o=t(e.FareData,r,i),a=n.median(n.pluck(e.FareData,"MedianFare")),s=n.min(n.pluck(e.FareData,"MinimumFare")),l=n.max(n.pluck(e.FareData,"MaximumFare")),u=n.uniq(n.pluck(e.FareData,"CurrencyCode"));if(u.length>1)throw new Error("Cannot calculate median and max fares for fares in different currencies");return{overallMedianFare:a,overallMinimumFare:s,overallMaximumFare:l,currency:n.first(u),fareDataForRequestedDates:o}}}})}),n("webservices/fareNabber/FareNabberResourceDefinitions",["lodash","angular","angular_resource","Configuration","webservices/SabreDevStudioWebServicesModule"],function(e,t){return t.module("sabreDevStudioWebServices").factory("FareNabberSubscriptionResource",["$resource","fareNabberApiURL",function(e,t){return e(t,null,{save:{method:"POST",headers:{"Content-Type":"application/json"},timeout:2e4}})}])}),n("webservices/fareNabber/FareNabberSubscriptionRequestBuilder",["angular","moment","lodash","webservices/SabreDevStudioWebServicesModule","webservices/common/WebServiceSerializationUtils"],function(e,t,n,r,i){return e.module("sabreDevStudioWebServices").factory("FareNabberSubscriptionRequestBuilder",["fareNabberRegistrationPCC",function(e){function r(e){return 0!==e.start.hours()||0!==e.start.minutes()||0!==e.end.hours()||0!==e.end.minutes()}function o(e){return e.start.format("HHmm")+e.end.subtract(1,"minutes").format("HHmm")}function a(e){return e&&e.some(n.identity)}function s(n){var r={expiryDate:t(n.subscriptionExpiryDate).format(p),maxPrice:parseFloat(n.maximumAcceptablePrice),priceCurrency:n.maximumAcceptablePriceCurrency,pcc:e,PreferredAirlines:l(n),SubscriptionPassengers:[{passengerType:n.passengerType,numberOfPassengers:parseInt(n.passengerCount)}],SubscriptionLegs:[]};return n.directFlightsOnly&&(r.nonstop=n.directFlightsOnly),r}function l(e){return e.preferredAirlines.selected}function u(e,n){var r=n.preferences.dates,i={};i.origin=n.origin,i.destination=n.destination,r.isFlexibleDepartureDate?(i.departureDateFrom=t(r.flexibleDepartureDate.from).format(p),i.departureDateTo=t(r.flexibleDepartureDate.to).format(p),i.departureTimeFrom=t(r.flexibleDepartureDate.from).format(h)):(i.departureDateFrom=t(r.departureDate).format(p),i.departureTimeFrom=t(r.departureDate).format(h)),e.SubscriptionLegs[0]=i;var o={};o.origin=n.destination,o.destination=n.origin,r.isFlexibleReturnDate?(o.departureDateFrom=t(r.flexibleReturnDate.from).format(p),o.departureDateTo=t(r.flexibleReturnDate.to).format(p),o.departureTimeFrom=t(r.flexibleReturnDate.from).format(h)):(o.departureDateFrom=t(r.returnDate).format(p),o.departureTimeFrom=t(r.returnDate).format(h)),e.SubscriptionLegs[1]=o}function c(e,t){var n=e.SubscriptionLegs[0],i=e.SubscriptionLegs[1];r(t.outboundTravelTimeRange.departure)&&(n.departureTimeWindow=o(t.outboundTravelTimeRange.departure)),r(t.outboundTravelTimeRange.arrival)&&(n.arrivalTimeWindow=o(t.outboundTravelTimeRange.arrival)),r(t.inboundTravelTimeRange.departure)&&(i.departureTimeWindow=o(t.inboundTravelTimeRange.departure)),r(t.inboundTravelTimeRange.arrival)&&(i.arrivalTimeWindow=o(t.inboundTravelTimeRange.arrival))}function d(e,t){var n=e.SubscriptionLegs[0],r=e.SubscriptionLegs[1];a(t.daysOfTravelPreference.outbound)&&(n.days=i.createWeekDaysString(t.daysOfTravelPreference.outbound)),a(t.daysOfTravelPreference.inbound)&&(r.days=i.createWeekDaysString(t.daysOfTravelPreference.inbound))}var p="YYYY-MM-DD",h="HHmm";return{build:function(e){var t=s(e);return u(t,e),c(t,e.preferences),d(t,e.preferences),t}}}])}),n("webservices/fareNabber/FareNabberSubscriptionService",["angular","webservices/SabreDevStudioWebServicesModule","webservices/fareNabber/FareNabberResourceDefinitions","webservices/fareNabber/FareNabberSubscriptionRequestBuilder"],function(e){return e.module("sabreDevStudioWebServices").factory("FareNabberSubscriptionService",["$q","ErrorReportingService","businessMessagesErrorHandler","FareNabberSubscriptionRequestBuilder","FareNabberSubscriptionResource",function(e,t,n,r,i){return{subscribe:function(n){var o=r.build(n);return e(function(e,n){i.save(o).$promise.then(function(t){e(t)},function(e){t.reportError("Unable to create subscription: "+e.status+": "+e.statusText),n(e)})})}}}])}),n("widgets/searchForm/InputTimeOfDayRange",["moment","moment_range","angular","widgets/SDSWidgets"],function(e,t,n){return n.module("sdsWidgets").directive("inputTimeOfDayRange",function(){return{replace:!0,scope:{selectedRange:"=range"},templateUrl:"../widgets/view-templates/partials/InputTimeOfDayRange.tpl.html",link:function(t){var n=e.range(e({hour:0,minute:0}),e({hour:24,minute:0}));t.timeOfDayRanges=[n,e.range(e({hour:0,minute:0}),e({hour:6,minute:0})),e.range(e({hour:6,minute:0}),e({hour:12,minute:0})),e.range(e({hour:12,minute:0}),e({hour:18,minute:0})),e.range(e({hour:18,minute:0}),e({hour:24,minute:0}))],t.selectedRange=t.timeOfDayRanges[0]}}}).filter("timeOfDayRange",function(){function e(e){return 0===e.hour()&&0===e.minute()}return function(t,n){return e(t.start)&&e(t.end)?"No preference":t.start.format(n)+" - "+t.end.format(n)}})}),n("widgets/FareNabberWidget",["angular","moment","util/LodashExtensions","widgets/SDSWidgets","webservices/fareNabber/FareNabberSubscriptionService","widgets/searchForm/InputTimeOfDayRange","widgets/WidgetGlobalCallbacks"],function(e,t,n,r,i,o,a){return e.module("sdsWidgets").controller("FareNabberFormModalInstanceCtrl",["$scope","$uibModalInstance",function(e,r){e.defaultOptions={earliestTravelStart:new Date,subscriptionExpiry:t().add(1,"month").toDate(),allowInterline:!0},e.subscriptionExpiryDate=e.defaultOptions.subscriptionExpiry,e.preferredAirlines={selected:[]},e.subscribe=function(){var t=["subscriberEmail","origin","destination","passengerType","passengerCount","preferences","directFlightsOnly","allowInterline","maximumAcceptablePrice","maximumAcceptablePriceCurrency","subscriptionExpiryDate","preferredAirlines"],i=t.reduce(function(t,r){return n.isDefined(e[r])&&(t[r]=e[r]),t},{});r.close(i)},e.cancel=function(){r.dismiss("cancelled")}}]).directive("fareNabber",["$uibModal","FareNabberSubscriptionService","resetErrorsEvent","$rootScope",function(e,n,r,i){return{restrict:"AE",scope:{origin:"@",destination:"@",predefinedDepartureDate:"@departureDate",predefinedReturnDate:"@returnDate",passengerType:"@",passengerCount:"@",maximumAcceptablePrice:"@",maximumAcceptablePriceCurrency:"@",showEmailField:"@?"},templateUrl:"../widgets/view-templates/widgets/FareNabberWidget.tpl.html",transclude:!0,link:function(o,s){function l(){var e=t.ISO_8601;o.preferences={dates:{departureDate:t(o.predefinedDepartureDate,e).toDate(),returnDate:t(o.predefinedReturnDate,e).toDate(),isFlexibleDepartureDate:!1,isFlexibleReturnDate:!1,flexibleDepartureDate:{from:t(o.predefinedDepartureDate,e).subtract(1,"M").toDate(),to:t(o.predefinedDepartureDate,e).add(1,"M").toDate()},flexibleReturnDate:{from:t(o.predefinedReturnDate,e).subtract(1,"M").toDate(),to:t(o.predefinedReturnDate,e).add(1,"M").toDate()}},daysOfTravelPreference:{outbound:void 0,inbound:void 0},outboundTravelTimeRange:{departure:void 0,arrival:void 0},inboundTravelTimeRange:{departure:void 0,arrival:void 0}}}function u(){c().then(d).then(p)}function c(){var t=e.open({animation:!0,templateUrl:"FareNabberSubscriptionFormModal.html.tpl",controller:"FareNabberFormModalInstanceCtrl",size:"lg",scope:o});return t.result}function d(e){return n.subscribe(e)}function p(){e.open({animation:!0,templateUrl:"FareNabberSubscriptionSuccessful.html.tpl",controller:["$scope","$uibModalInstance",function(e,t){e.ok=function(){t.close()}}],size:"md",scope:o})}l(),s.on("click",function(){u(),i.$broadcast(r)}),a.linkComplete(o,s),o.$on("$destroy",function(){s.off("click")})}}}])}),n("webservices/inspirational/DestinationPricerDataService",["angular","lodash","webservices/SabreDevStudioWebServicesModule"],function(e,t){return e.module("sabreDevStudioWebServices").factory("DestinationPricerDataService",["$q","DestinationPricerWebService","selectedCountryConfigs","ErrorReportingService","businessMessagesErrorHandler",function(e,n,r,i,o){function a(e){var n=e.pointOfSaleCountry&&e.pointOfSaleCountry||r.pointOfSaleCountry.length>0&&r.pointOfSaleCountry,i={destination:e.destination};return n&&t.extend(i,{pointofsalecountry:n}),i}return{getPricesToDestination:function(t){return e(function(e,r){var s=a(t);n.get(s).$promise.then(function(t){e(t)},function(e){i.reportError("Could not get cheapest flights to destination",t),o.handle(r,e)})})}}}])}),n("widgets/DestinationPricerWidget",["moment","angular","lodash","angular_bootstrap","widgets/SDSWidgets","widgets/BaseController","webservices/inspirational/DestinationPricerDataService","widgets/WidgetGlobalCallbacks"],function(e,t,n,r,i,o,a,s){function l(e,t,r,i){var a=this,s={executeSearch:t.getPricesToDestination};return o.call(this,{scope:e,searchService:s,newSearchCriteriaEvent:r,searchCriteriaBroadcastingService:i}),this.saveLastSearchCriteria=function(e){a.lastRequestPosCountryOverride=e.pointOfSaleCountry},this.processSearchResults=function(e){this.modelPricesToDestination=e},this.clearModel=function(){this.modelPricesToDestination={}},this.isAnyDataToDisplayAvailable=function(){return!n.isEmpty(this.modelPricesToDestination.FareInfo)},this.clearModel(),this}return l.prototype=Object.create(o.prototype),l.prototype.constructor=l,t.module("sdsWidgets").controller("DestinationPricerCtrl",["$scope","DestinationPricerDataService","newInspirationalSearchCriteriaEvent","InspirationalSearchCriteriaBroadcastingService",l]).directive("destinationPricer",function(){return{restrict:"EA",scope:{searchLinkEnabled:"@?",offerClicked:"&?",searchStartedCallback:"&?",searchSuccessCallback:"&?",searchErrorCallback:"&?"},templateUrl:"../widgets/view-templates/widgets/DestinationPricer.tpl.html",controller:"DestinationPricerCtrl",controllerAs:"ctrl",link:function(e,t,r,i){function o(e,t){if(e){var r={destination:e};t&&n.extend(r,{pointOfSaleCountry:t}),i.processSearchCriteria(r)}}o(r.destination,r.pointOfSaleCountry),s.linkComplete(e,t)}}})}),n("webservices/instaflights/InstaflightResponseParser",["lodash","webservices/common/parsers/AbstractOTAResponseParser"],function(e,t){function n(){t.apply(this,arguments)}return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.getPricedItinerariesArray=function(e){return e.PricedItineraries},n.prototype.itinerariesFound=function(t){return e.has(t,"PricedItineraries")
},n.prototype.getItineraryPricingInfoResponsePart=function(e){return e.AirItineraryPricingInfo},n.prototype.parseEquipment=function(e){return e.Equipment.AirEquipType},n.prototype.parsePricingSource=function(){return"Instaflights"},n}),n("webservices/instaflights/InstaflightsDataService",["angular","lodash","util/LodashExtensions","webservices/instaflights/InstaflightResponseParser","webservices/common/parsers/OTAResponseParser","util/BaseServices","webservices/instaflights/InstaflightSearchCriteriaValidator"],function(e,t,n,r,i,o,a){return e.module("sabreDevStudioWebServices").factory("InstaflightsDataService",["$q","InstaFlightsWebService","dateFormat","selectedCountryConfigs","ErrorReportingService","ValidationErrorReportingService","businessMessagesErrorHandler",function(e,i,o,s,l,u,c){function d(e){var r={origin:e.getFirstLeg().origin,destination:e.getFirstLeg().destination,departuredate:e.getFirstLeg().departureDateTime.format(o),returndate:e.getSecondLeg().departureDateTime.format(o)};return e.preferredAirlines.length>0&&t.extend(r,{includedcarriers:e.preferredAirlines.join()}),n.isDefined(e.maxStops)&&t.extend(r,{outboundflightstops:e.maxStops,inboundflightstops:e.maxStops}),e.optionsPerDay&&t.extend(r,{limit:e.optionsPerDay}),e.passengerSpecifications.length>0&&t.extend(r,{passengercount:e.getTotalPassengerCount()}),s.pointOfSaleCountry.length>0&&t.extend(r,{pointofsalecountry:s.pointOfSaleCountry}),r}var p=new r,h=new a;return{getItineraries:function(t){return e(function(e,n){var r=h.validate(t);if(r.length>0)return u.reportErrors(r,"Unsupported search criteria"),n(r);var o=d(t);i.get(o).$promise.then(function(t){var n=p.parse(t);e(n)},function(e){l.reportError("Instaflights: Could not find itineraries",t),c.handle(n,e)})})}}}])}),n("datamodel/BestItineraryComparator",[],function(){return{comparator:function(e,t){var n=(e.duration+t.duration)/(e.totalFareAmountWithCurrency.amount+t.totalFareAmountWithCurrency.amount),r=-(e.duration/n+e.totalFareAmountWithCurrency.amount),i=-(t.duration/n+t.totalFareAmountWithCurrency.amount);return r===i?0:r>i?1:-1}}}),n("util/CommonDisplayDirectives",["moment","angular","angular_bootstrap","widgets/SDSWidgets"],function(e,t){return t.module("sdsWidgets").directive("airlineLogo",function(){return{templateUrl:"../widgets/view-templates/partials/AirlineLogo.tpl.html",scope:{airlineCode:"@"}}})}),n("widgets/ItinerariesList/ItineraryShortSummary",["angular","util/LodashExtensions","angular_bootstrap","widgets/SDSWidgets","util/CommonDisplayDirectives"],function(e,t){return e.module("sdsWidgets").directive("itineraryShortSummary",function(){return{scope:{itinerary:"=itin",itineraryClickedCallback:"&?"},templateUrl:"../widgets/view-templates/widgets/ItineraryShortSummary.tpl.html",link:function(e){e.itemClicked=function(n){t.isDefined(e.itineraryClickedCallback)&&e.itineraryClickedCallback({itineraryId:n})},e.$on("$destroy",function(){delete e.itemClicked})}}})}),n("widgets/ItinerariesList/ItineraryPricePerStopsPerAirlineSummary",["util/LodashExtensions","angular","angular_bootstrap","widgets/SDSWidgets"],function(e,t){return t.module("sdsWidgets").directive("itinerarySummaryPricePerStopsPerAirline",function(){return{scope:{summary:"=",summaryItemClickedCallback:"&?"},templateUrl:"../widgets/view-templates/widgets/ItineraryPricePerStopsPerAirlineSummary.tpl.html",controller:["$scope",function(t){t.isAnyDataToDisplayAvailable=function(){return e.isDefined(t.summary)},t.itemClicked=function(n){e.isDefined(t.summaryItemClickedCallback)&&t.summaryItemClickedCallback({itineraryId:n})},t.$on("$destroy",function(){delete t.isAnyDataToDisplayAvailable,delete t.itemClicked})}]}})}),n("util/DOMManipulationUtils",["angular"],function(e){function t(t){e.element(t).hasClass(l)?(e.element(t).removeClass(l),e.element(t).addClass(u)):e.element(t).hasClass(u)&&(e.element(t).removeClass(u),e.element(t).addClass(l))}function n(t){e.element(t).hasClass(u)&&e.element(t).removeClass(u),e.element(t).addClass(l)}function r(t){e.element(t).hasClass(l)&&e.element(t).removeClass(l),e.element(t).addClass(u)}function i(e,n,r){e.querySelectorAll(n).on("click",function(){var n=e.querySelectorAll(r);[].forEach.call(n,function(e){t(e)})})}function o(e,t){e.querySelectorAll(t).off("click")}function a(e,t,i,o){e.querySelectorAll(t).on("click",function(){var t=e.querySelectorAll(i);if([].forEach.call(t,function(e){n(e)}),o){var a=e.querySelectorAll(o);[].forEach.call(a,function(e){r(e)})}})}function s(e,t,i,o){e.querySelectorAll(t).on("click",function(){var t=e.querySelectorAll(i);if([].forEach.call(t,function(e){r(e)}),o){var a=e.querySelectorAll(o);[].forEach.call(a,function(e){n(e)})}})}var l="ng-show",u="ng-hide";return{addToggleOnClickHandler:i,addShowOnClickHandler:a,addHideOnClickHandler:s,removeOnClickHandler:o}}),n("widgets/ItinerariesList/ItineraryDirective",["moment","angular","lodash","util/LodashExtensions","angular_bootstrap","widgets/SDSWidgets","util/DOMManipulationUtils","util/CommonDirectives","widgets/WidgetGlobalCallbacks"],function(e,t,n,r,i,o,a,s,l){return t.module("sdsWidgets").directive("itinerary",[function(){return{restrict:"E",scope:{itin:"=",itinerarySelectedCallback:"&?",enableItinerarySelectButton:"@?",flightDetailsAlwaysShown:"@?",priceDetailsAlwaysShown:"@?",hideItinerarySelectButton:"@?",standaloneWidget:"@?"},templateUrl:"../widgets/view-templates/widgets/Itinerary.tpl.html",link:function(e,t){function r(t){e.priceDetailsAlwaysShown||(a.addToggleOnClickHandler(t,".SDSItineraryTogglePriceDetails",".SDSItineraryPriceDetails"),a.addShowOnClickHandler(t,".SDSItineraryShowPriceDetails",".SDSItineraryPriceDetails"),a.addHideOnClickHandler(t,".SDSItineraryHidePriceDetails",".SDSItineraryPriceDetails"),e.$on("$destroy",function(){a.removeOnClickHandler(t,".SDSItineraryTogglePriceDetails"),a.removeOnClickHandler(t,".SDSItineraryShowPriceDetails"),a.removeOnClickHandler(t,".SDSItineraryHidePriceDetails")})),e.flightDetailsAlwaysShown||(a.addToggleOnClickHandler(t,".SDSItineraryToggleFlightDetails",".SDSItineraryFlightDetails"),a.addShowOnClickHandler(t,".SDSItineraryShowFlightDetails",".SDSItineraryFlightDetails",".SDSItineraryHideWhenFlightDetailsShown"),a.addHideOnClickHandler(t,".SDSItineraryHideFlightDetails",".SDSItineraryFlightDetails",".SDSItineraryHideWhenFlightDetailsShown"),e.$on("$destroy",function(){a.removeOnClickHandler(t,".SDSItineraryToggleFlightDetails"),a.removeOnClickHandler(t,".SDSItineraryShowFlightDetails"),a.removeOnClickHandler(t,".SDSItineraryHideFlightDetails")})),a.addToggleOnClickHandler(t,".SDSItineraryToggleBrandDetails",".SDSItineraryBrandDetails")}e.selectItineraryClicked=function(t){n.isFunction(e.itinerarySelectedCallback)&&e.itinerarySelectedCallback({itinerary:t})},r(t),e.$on("$destroy",function(){a.removeOnClickHandler(t,".SDSItineraryToggleBrandDetails"),delete e.selectItineraryClicked}),"true"===e.standaloneWidget&&l.linkComplete(e,t)}}}])}),n("datamodel/ItinerariesListSummaryByAirlineAndNumberOfStops",["lodash"],function(e){function t(e){var t=this.calculateSummaries(e);this.getSummaries=function(){return t}}function n(e,t){if(e.totalFareCurrency&&e.totalFareCurrency!==t)throw new Error("Unable to compare two prices when they have different currencies")}return t.prototype.initializeSummaryForAirline=function(t,n){return e.isUndefined(t[n])&&(t[n]=this.createEmptySummary()),t},t.prototype.calculateSummaries=function(e){var t=this.createEmptySummary(),n={},r=this;e.forEach(function(e){var i=e.getFirstLeg().getFirstFlightMarketingAirline();n=r.initializeSummaryForAirline(n,i);var o=e.totalFareAmountWithCurrency.amount,a=e.totalFareAmountWithCurrency.currency,s=e.getNumberOfStops();r.updateSummary(t,o,a,s,e.id),r.updateSummary(n[i],o,a,s,e.id)}),t=this.resetInfinityValuesToUndefined(t);var i=this.airlineSummariesToArray(n).map(this.resetInfinityValuesToUndefined).sort(this.airlineSummaryComparator);return i=this.addIsCheapestFlags(i),{airlineSummaries:i,totalSummary:t}},t.prototype.updateSummary=function(e,t,r,i,o){n(e,r),e.totalFareCurrency=r,0===i?t<e.nonStopLowestPrice&&(e.nonStopLowestPrice=t,e.nonStopLowestPriceItineraryId=o):1===i?t<e.oneStopLowestPrice&&(e.oneStopLowestPrice=t,e.oneStopLowestPriceItineraryId=o):t<e.twoAndMoreStopsLowestPrice&&(e.twoAndMoreStopsLowestPrice=t,e.twoAndMoreStopsLowestPriceItineraryId=o)},t.prototype.createEmptySummary=function(){return{nonStopLowestPrice:1/0,nonStopLowestPriceItineraryId:void 0,oneStopLowestPrice:1/0,oneStopLowestPriceItineraryId:void 0,twoAndMoreStopsLowestPrice:1/0,twoAndMoreStopsLowestPriceItineraryId:void 0}},t.prototype.airlineSummariesToArray=function(t){return e.map(t,function(t,n){return e.extend({},{airline:n},t)})},t.prototype.resetInfinityValuesToUndefined=function(t){var n={};return e.each(t,function(e,t){n[t]=1/0===e?void 0:e}),n},t.prototype.airlineSummaryComparator=function(t,n){var r=e.min([t.nonStopLowestPrice,t.oneStopLowestPrice,t.twoAndMoreStopsLowestPrice]),i=e.min([n.nonStopLowestPrice,n.oneStopLowestPrice,n.twoAndMoreStopsLowestPrice]);return r===i?0:r>i?1:-1},t.prototype.addIsCheapestFlags=function(t){var n=e.find(t,"nonStopLowestPrice");n&&(n.isCheapestNonStop=!0);var r=e.find(t,"oneStopLowestPrice");r&&(r.isCheapestOneStopLowestPrice=!0);var i=e.find(t,"twoAndMoreStopsLowestPrice");return i&&(i.isCheapestTowOrMoreStopsLowestPrice=!0),t},t}),n("widgets/ItinerariesList/ItinerariesListSortCriteria",["lodash","util/LodashExtensions"],function(e,t){function n(){this.availableSortCriteria=this.configureAvailableSortCriteria(),this.sortCriteriaNaturalOrder=this.setSortCriteriaNaturalOrder(),this.currentSortCriteria=this.resetSortCriteria()}return n.prototype.setSortCriteriaInternal=function(e){this.currentSortCriteria=this.sortCriteriaNaturalOrder.reduce(t.pushIfNotContains,[e])},n.prototype.setSortCriteria=function(e){this.setSortCriteriaInternal(e)},n.prototype.resetSortCriteria=function(){this.setSortCriteriaInternal(e.first(this.sortCriteriaNaturalOrder))},n.prototype.getCurrentSortCriteria=function(){return this.currentSortCriteria},n.prototype.sortCriteriaDefinitions={byPriceAsc:{label:"Price (Lowest)",propertyName:"totalFareAmount",reverse:!1},byPriceDesc:{label:"Price (Highest)",propertyName:"totalFareAmount",reverse:!0},byDurationAsc:{label:"Duration (Shortest)",propertyName:"duration",reverse:!1},byDurationDesc:{label:"Duration (Longest)",propertyName:"duration",reverse:!0},byNumberOfStopsAsc:{label:"Stops (Lowest)",propertyName:"sumNumberOfStopsForAllLegs",reverse:!1},byNumberOfStopsDesc:{label:"Stops (Highest)",propertyName:"sumNumberOfStopsForAllLegs",reverse:!0},byDepartureTimeAsc:{label:"Departure (Earliest)",propertyName:"outboundDepartureDateTime",reverse:!1},byDepartureTimeDesc:{label:"Departure (Latest)",propertyName:"outboundDepartureDateTime",reverse:!0},byArrivalTimeAsc:{label:"Arrival (Earliest)",propertyName:"outboundArrivalDateTime",reverse:!1},byArrivalTimeDesc:{label:"Arrival (Latest)",propertyName:"outboundArrivalDateTime",reverse:!0}},n.prototype.configureAvailableSortCriteria=function(){return[this.sortCriteriaDefinitions.byPriceAsc,this.sortCriteriaDefinitions.byPriceDesc,this.sortCriteriaDefinitions.byDurationAsc,this.sortCriteriaDefinitions.byDurationDesc,this.sortCriteriaDefinitions.byNumberOfStopsAsc,this.sortCriteriaDefinitions.byNumberOfStopsDesc,this.sortCriteriaDefinitions.byDepartureTimeAsc,this.sortCriteriaDefinitions.byDepartureTimeDesc,this.sortCriteriaDefinitions.byArrivalTimeAsc,this.sortCriteriaDefinitions.byArrivalTimeDesc]},n.prototype.setSortCriteriaNaturalOrder=function(){return[this.sortCriteriaDefinitions.byPriceAsc,this.sortCriteriaDefinitions.byDurationAsc,this.sortCriteriaDefinitions.byNumberOfStopsAsc,this.sortCriteriaDefinitions.byDepartureTimeAsc,this.sortCriteriaDefinitions.byArrivalTimeAsc]},n}),n("widgets/ItinerariesList/ItinerariesListDiversitySwapperSortCriteria",["lodash","util/LodashExtensions","widgets/ItinerariesList/ItinerariesListSortCriteria"],function(e,t,n){function r(){n.call(this)}return r.prototype=Object.create(n.prototype),r.prototype.constructor=r,r.prototype.diversitySwapperSortCriteriaDefinitions={byWeightedPriceAmountAsc:{label:"Weighted Price (Lowest)",propertyName:"weightedPriceAmount",reverse:!1},byWeightedPriceAmountDesc:{label:"Weighted Price (Highest)",propertyName:"weightedPriceAmount",reverse:!0}},r.prototype.configureAvailableSortCriteria=function(){return e.union(n.prototype.configureAvailableSortCriteria.call(this),[this.diversitySwapperSortCriteriaDefinitions.byWeightedPriceAmountAsc,this.diversitySwapperSortCriteriaDefinitions.byWeightedPriceAmountDesc])},r}),n("webservices/common/searchStrategyFactories/ItinerariesSearchStrategyFactory",["util/LodashExtensions","lodash","angular","webservices/SabreDevStudioWebServicesModule"],function(e,t,n){return n.module("sabreDevStudioWebServices").factory("ItinerariesSearchStrategyFactory",["BargainFinderMaxDataService","InstaflightsDataService","AdvancedCalendarDataService",function(e,n,r){return{createSearchStrategy:function(i){switch(i=i||"instaflights"){case"bfm-enable-diversity-swapper":return{search:function(t,n){e.getItineraries(t).then(n.successCallback,n.failureCallback).finally(n.streamEndCallback)}};case"bfm":return{search:function(n,r){var i=t.create(Object.getPrototypeOf(n),n);i.diversityModelOptions=void 0,e.getItineraries(i).then(r.successCallback,r.failureCallback).finally(r.streamEndCallback)}};case"instaflights":return{search:function(e,t){n.getItineraries(e).then(t.successCallback,t.failureCallback).finally(t.streamEndCallback)}};case"first-instaflights-on-errors-bfm":return{search:function(t,r){n.getItineraries(t).then(function(e){r.successCallback(e),r.streamEndCallback()},function(){e.getItineraries(t).then(r.successCallback,r.failureCallback).finally(r.streamEndCallback)})}};case"instaflights-updated-with-bfm":return{search:function(t,r){var i=function(n){r.successCallback(n),e.getItineraries(t).then(r.updateCallback).finally(r.streamEndCallback)},o=function(){e.getItineraries(t).then(r.successCallback,r.failureCallback).finally(r.streamEndCallback)};n.getItineraries(t).then(i,o)}};case"advancedCalendar":return{search:function(e,t){r.getItineraries(e).then(t.successCallback,t.failureCallback).finally(t.streamEndCallback)}};case"first-advancedCalendar-on-errors-bfm":return{search:function(t,n){r.getItineraries(t).then(function(e){n.successCallback(e),n.streamEndCallback()},function(){e.getItineraries(t).then(n.successCallback,n.failureCallback).finally(n.streamEndCallback)})}};default:throw new Error("unrecognized search web service: "+i)}}}}])}),n("webservices/common/searchStrategyFactories/ItinerariesSearchStrategyFactoryBagsFilteringDecorator",["angular","lodash","webservices/SabreDevStudioWebServicesModule","webservices/common/searchStrategyFactories/ItinerariesSearchStrategyFactory","datamodel/ItinerariesList","datamodel/MonetaryAmount"],function(e,t,n,r,i,o){return e.module("sabreDevStudioWebServices").factory("ItinerariesSearchStrategyFactoryBagsFilteringDecorator",["ItinerariesSearchStrategyFactory","ErrorReportingService",function(e,n){function r(e,t){if(0===e)return 0;for(var n={1:120,2:200,3:300},r=t.charCodeAt(0)%10*10-50,i=r,o=1;e>=o;o++)i+=n[o];return i}return{createSearchStrategy:function(a){var s=e.createSearchStrategy(a);return{search:function(e,a){function l(t){return function(r){var i=p(r);0===i.size()?(n.reportError("Could not find itineraries with "+h+" bags requested",e),a.failureCallback()):t(i)}}function u(e){return t.isUndefined(e.getMinBaggageAllowance())||e.getMinBaggageAllowance()<=h}function c(e){return t.isUndefined(e.baggageCharges)?e:(Object.defineProperty(e,"totalFareAmount",{get:function(){var t=this.itineraryPricingInfo.fareAmounts.totalFare.amount;return t+e.baggageCharges}}),e)}function d(e){return t.isUndefined(e.baggageCharges)?e:(Object.defineProperty(e,"totalFareAmountWithCurrency",{get:function(){var t=e.itineraryPricingInfo.fareAmounts.totalFare;return new o(t.amount+e.baggageCharges,t.currency)}}),e)}function p(e){var t=e.itineraries.filter(u).map(function(e){if(e.getMinBaggageAllowance()===h)return e;var t=e.getMinBaggageAllowance()||0,n=h-t;return e.baggageCharges=r(n,e.getFirstMarketingAirline()),e}).map(c).map(d),n=new i;return n.addAll(t),n}var h=e.bagsRequested;return t.isUndefined(h)?s.search(e,a):s.search(e,{successCallback:l(a.successCallback),failureCallback:a.failureCallback,updateCallback:l(a.updateCallback),streamEndCallback:a.streamEndCallback})}}}}}])}),n("webservices/common/searchStrategyFactories/BrandedItinerariesSearchStrategyFactory",["util/LodashExtensions","angular","webservices/SabreDevStudioWebServicesModule"],function(e,t){return t.module("sabreDevStudioWebServices").factory("BrandedItinerariesSearchStrategyFactory",["BargainFinderMaxDataService","InstaflightsDataService",function(e,t){return{createSearchStrategy:function(n){switch(n=n||"bfm"){case"bfm":return{search:function(t,n){e.getBrandedItineraries(t).then(n.successCallback,n.failureCallback).finally(n.streamEndCallback)}};case"first-instaflights-on-errors-bfm":return{search:function(n,r){t.getItineraries(n).then(function(e){r.successCallback(e),r.streamEndCallback()},function(){e.getBrandedItineraries(n).then(r.successCallback,r.failureCallback).finally(r.streamEndCallback)})}};case"instaflights-updated-with-bfm":return{search:function(n,r){var i=function(t){r.successCallback(t),e.getBrandedItineraries(n).then(r.updateCallback).finally(r.streamEndCallback)},o=function(){e.getBrandedItineraries(n).then(r.successCallback,r.failureCallback).finally(r.streamEndCallback)};t.getItineraries(n).then(i,o)}};default:throw new Error("unrecognized search web service: "+n)}}}}])}),n("widgets/ItinerariesList/ItinerariesListWidget",["lodash","util/LodashExtensions","moment","angular","angular_bootstrap","widgets/SDSWidgets","datamodel/ItinerariesList","webservices/instaflights/InstaflightsDataService","datamodel/BestItineraryComparator","widgets/ItinerariesList/ItineraryShortSummary","widgets/ItinerariesList/ItineraryPricePerStopsPerAirlineSummary","widgets/ItinerariesList/ItineraryDirective","datamodel/ItinerariesListSummaryByAirlineAndNumberOfStops","datamodel/search/SearchCriteriaFactory","widgets/ItinerariesList/ItinerariesListSortCriteria","widgets/ItinerariesList/ItinerariesListDiversitySwapperSortCriteria","webservices/common/searchStrategyFactories/ItinerariesSearchStrategyFactoryBagsFilteringDecorator","webservices/common/searchStrategyFactories/BrandedItinerariesSearchStrategyFactory","util/CommonDisplayDirectives","widgets/WidgetGlobalCallbacks"],function(e,t,n,r,i,o,a,s,l,u,c,d,p,h,f,g,m,v,y,b){return r.module("sdsWidgets").controller("ItineraryListCtrl",["$scope","$element","$filter","$location","$anchorScroll","ItinerariesSearchStrategyFactoryBagsFilteringDecorator","BrandedItinerariesSearchStrategyFactory","SearchCriteriaBroadcastingService","newSearchCriteriaEvent","DateSelectedBroadcastingService","dateSelectedEvent","BargainFinderMaxDataService","noResultsFoundEvent","filterServiceFactory","ShoppingProfileService",function(n,r,i,o,a,s,u,c,d,h,m,v,y,b,S){function D(){N.resetSortCriteria(),n.selectedFirstCriterion.selected=e.first(N.availableSortCriteria),n.itemsPerPage=20,n.paginationSettings.currentPage=1}function w(e){U=i("sortByCriteria")(e,N.getCurrentSortCriteria()),n.permittedItinerariesSortedCurrentPageView=A()}function A(){var e=(n.paginationSettings.currentPage-1)*n.itemsPerPage,t=e+n.itemsPerPage;return U.slice(e,t)}function C(){var t=N.sortCriteriaNaturalOrder.map(function(e){return e.propertyName});n.bestItinerariesSummary={cheapest:W.getCheapestItinerary(t),best:e.last(U.slice().sort(l.comparator)),shortest:W.getShortestItinerary(t)},n.summaryPerStopsPerAirline=new p(U).getSummaries()}function x(e,t){D(),W=t,$(e)}function _(e,t){D(),W.addItinerariesListWithDedup(t),$(e)}function $(e){B=W.getPermittedItineraries(),n.permittedItinerariesCount=B.length,w(B),G.updateFiltersState(W.getPermittedItineraries()),C(),O(e)}function k(){W=void 0,B=void 0,U=void 0,n.permittedItinerariesSortedCurrentPageView=void 0,n.bestItinerariesSummary=void 0,n.summaryPerStopsPerAirline=void 0}function M(){k()}function T(e){return F(e)?e:v}function F(t){return e.isFunction(t.getItineraries)}function O(e){n.searchCriteriaDepartureAirport=e.getFirstLeg().origin,n.searchCriteriaArrivalAirport=e.getFirstLeg().destination}function P(t){var r=1+e.findIndex(U,function(e){return e.id===t});return Math.ceil(r/n.itemsPerPage)}function E(){q.cancel(),z.cancel(),j.cancel(),K.cancel()}function L(){delete n.isAnyDataToDisplayAvailable,delete n.onSortingCriteriaChanged,delete n.getItinAnchorId,delete n.summaryItemClickedCallback}var I,R,N;n.activeSearchWebService=n.activeSearchWebService||r.attr("active-search-web-service"),N="bfm-enable-diversity-swapper"===n.activeSearchWebService?new g:new f,n.availableSortCriteria=N.availableSortCriteria,n.selectedFirstCriterion={selected:e.first(N.availableSortCriteria)},n.paginationSettings={},D();var W,B,U,G=b.newInstance(n.itinerariesListId);G.configure({pricePropertyAmountAccessor:"amount",pricePropertyAmountForPriceFrom:"totalFareAmount",pricePropertyCurrencyForPriceFrom:"totalFareCurrency"}),n.onSortingCriteriaChanged=function(){N.setSortCriteria(n.selectedFirstCriterion.selected),w(B),n.paginationSettings.currentPage=1},n.$watch("paginationSettings.currentPage",function(e,t){e!==t&&(n.permittedItinerariesSortedCurrentPageView=A())}),n.$on(d,function(){var e=c.searchCriteria;n.processSearchCriteria(e)});var q=t.cancellable(function(e,t){n.searchSuccessCallback&&n.searchSuccessCallback({itineraries:t,searchCriteria:e}),x(e,t)}),j=t.cancellable(function(e,t){n.searchErrorCallback&&n.searchErrorCallback({errorMessages:t,searchCriteria:e}),M(e,t)}),z=t.cancellable(function(e,t){n.searchSuccessCallback&&n.searchSuccessCallback({itineraries:t,searchCriteria:e}),_(e,t)}),K=t.cancellable(function(){n.allSearchesComplete&&n.allSearchesComplete()});n.processSearchCriteria=function(t){I=n.requestBrandedItineraries?u:s,R=I.createSearchStrategy(n.activeSearchWebService),t=S.enhanceSearchCriteriaProcessingShoppingProfile(n.shoppingProfile,t),n.searchStartedCallback&&n.searchStartedCallback({searchCriteria:t}),n.activeSearch&&R.search(t,{successCallback:e.partial(q,t),failureCallback:e.partial(j,t),updateCallback:e.partial(z,t),streamEndCallback:K})},G.onFilterChange(function(e){W.applyFilters(e),B=W.getPermittedItineraries(),n.permittedItinerariesCount=B.length,w(B),C()}),n.$on(m,function(){var t=h.newSearchCriteria,r=T(h.originalDataSourceWebService);n.searchStartedCallback&&n.searchStartedCallback({searchCriteria:t}),r.getItineraries(t).then(e.partial(q,t),e.partial(j,t)).finally(K),n.$evalAsync()}),n.$on(y,function(){k()}),n.isAnyDataToDisplayAvailable=function(){return e.isUndefined(W)?!1:n.permittedItinerariesCount>0},n.summaryItemClickedCallback=function(e){n.paginationSettings.currentPage=P(e);var t=n.getItinAnchorId(e);o.hash(t),a()},n.getItinAnchorId=function(e){return"#SDS_itin_"+e},n.$on("$destroy",function(){k(),delete n.availableSortCriteria,delete n.selectedFirstCriterion,delete n.paginationSettings,delete n.itemsPerPage,I=void 0,R=void 0,E(),L(),G.destroy()})}]).directive("itineraryList",[function(){return{restrict:"EA",scope:{activeSearch:"@?",activeSearchWebService:"=?",requestBrandedItineraries:"=?",searchCriteria:"=?",shoppingProfile:"=?",selectedItineraryCallback:"&?",enableItinerarySelectButton:"@?",searchStartedCallback:"&?",searchSuccessCallback:"&?",searchErrorCallback:"&?",allSearchesComplete:"&?",itinerariesListId:"@"},templateUrl:"../widgets/view-templates/widgets/ItinerariesListWidget.tpl.html",controller:"ItineraryListCtrl",link:function(e,n){function r(){var e=n.attr("origin"),t=n.attr("destination"),r=n.attr("departure-date"),i=n.attr("return-date");return e&&t&&r&&i?h.buildRoundTripTravelSearchCriteria(e,t,r,i):void 0}var i=r();i&&e.processSearchCriteria(i),t.isDefined(e.searchCriteria)&&e.processSearchCriteria(e.searchCriteria),b.linkComplete(e,n)}}}]).filter("sortByCriteria",["$filter",function(e){var t=e("orderBy");return function(e,n){var r=n.map(function(e){return(e.reverse?"-":"+")+e.propertyName}),i=t(e,r);return i}}])}),n("widgets/ItinerariesFilterPanel.drv",["angular","widgets/SDSWidgets"],function(e){return e.module("sdsWidgets").directive("itinerariesFilterPanel",function(){return{scope:!0,templateUrl:"../widgets/view-templates/widgets/ItinerariesFilterPanelWidget.tpl.html",controller:["$scope","$element",function(e,t){e.id=t.attr("id"),e.ownerId=t.attr("owner-id")}]}})}),n("widgets/errorDisplays/ErrorDisplayWidget.drv",["lodash","util/LodashExtensions","widgets/WidgetGlobalCallbacks"],function(e,t,n){return function(r,i,o,a){return{replace:!0,templateUrl:"../widgets/view-templates/widgets/ErrorDisplayWidget.tpl.html",link:function(s,l){function u(){s.errors=[],s.lastSearchCriteriaAirports={}}u(),s.$on(r,function(n,r,i){t.pushAll(s.errors,r),i&&(s.lastSearchCriteriaAirports.departureAirport=e.isFunction(i.getFirstLeg)?i.getFirstLeg().origin:i.origin,s.lastSearchCriteriaAirports.arrivalAirport=e.isFunction(i.getFirstLeg)?i.getFirstLeg().destination:i.destination)}),s.$on(o,function(){u()}),s.$on(a,function(){u()}),s.$on(i,u),s.anyErrorPresent=function(){return s.errors&&s.errors.length>0},n.linkComplete(s,l)}}}}),n("widgets/errorDisplays/ModalErrorDisplayWidget.drv",[],function(){return function(e,t){return{link:function(n,r,i){var o=i.dedup,a={};n.$on(e,function(e,n,r){if(o){var i=JSON.stringify({errors:n,errorsCategory:r});if(a[i])return;a[i]=!0}t.open({animation:!0,templateUrl:"../widgets/view-templates/partials/ErrorsModal.tpl.html",controller:["$scope","$uibModalInstance",function(e,t){e.errorsList=n,e.modalTitle=r,e.ok=function(){t.close()}}]})})}}}}),n("widgets/errorDisplays/ErrorDisplays.mod",["angular","angular_bootstrap","widgets/errorDisplays/ErrorDisplayWidget.drv","widgets/errorDisplays/ModalErrorDisplayWidget.drv"],function(e,t,n,r){return e.module("sdsWidgets.errorDisplays",[]).directive("validationErrorDisplay",["validationErrorEvent","$uibModal",r]).directive("networkErrorDisplay",["networkErrorEvent","$uibModal",r]).directive("errorDisplay",["errorEvent","resetErrorsEvent","newSearchCriteriaEvent","newInspirationalSearchCriteriaEvent",n])}),n("widgets/version",[],function(){return{version:function(){return{version:"1.0.0",revision:["v1.0.1-185-gc2d1d8f-dirty","v1.0.1","185","c2d1d8f","-dirty"],date:"Fri Nov 03 2017 14:38:49"}}}}),n("widgets/AboutWidget",["angular","widgets/SDSWidgets","widgets/version"],function(e,t,n){return e.module("sdsWidgets").directive("about",function(){return{replace:!0,templateUrl:"../widgets/view-templates/widgets/AboutWidgetTemplate.tpl.html",link:function(e){e.version=n.version()}}})}),n("widgets/SpinnerContainer",["angular","widgets/SDSWidgets"],function(){return angular.module("sdsWidgets").directive("spinnerContainer",["usSpinnerService",function(e){return{transclude:!0,templateUrl:"../widgets/view-templates/widgets/SpinnerContainer.tpl.html",scope:!0,controller:["$scope","$element",function(t,n){t.spinnerId=n.attr("spinner-id"),t.spinnerOptions=n.attr("spinner-options"),t.startSpin=function(){t.spinneractive||(t.spinneractive=!0,e.spin(t.spinnerId))},t.stopSpin=function(){t.spinneractive&&(e.stop(t.spinnerId),t.spinneractive=!1)},t.spinneractive=!1}]}}])}),n("widgets/util/TranscludeWithInheritedScope",["angular","widgets/SDSWidgets"],function(){return angular.module("sdsWidgets").directive("transcludeWithInheritedScope",function(){return{link:function(e,t,n,r,i){i(e.$new(),function(e){t.append(e)})}}})}),n("widgets/templateCacheCharger",["angular","widgets/SDSWidgets"],function(e){e.module("sdsWidgets").run(["$templateCache",function(e){e.put("../widgets/view-templates/partials/AirlineLogo.tpl.html","<img class=SDSAirlineLogo ng-src=https://d1xzms9o977hvd.cloudfront.net/widgets/static/airlineLogos/{{::airlineCode}}.PNG fallback-src=https://d1xzms9o977hvd.cloudfront.net/widgets/static/airlineLogos/generic_airline.PNG>"),e.put("../widgets/view-templates/partials/AirportInput.tpl.html",'<input placeholder="City or airport" autocomplete=off ng-model=airport uib-typeahead="airport as (airport | airportNameWithIATACode) for airport in airports | filter:$viewValue | airportNameBestSuggestionComparator:$viewValue | limitTo:30" typeahead-min-length=2 typeahead-wait-ms=50 typeahead-on-select=onSelect({airport:$model})>'),e.put("../widgets/view-templates/partials/DestinationFinderOfferDetailsInfoView.tpl.html","<div class=SDSDestinationFinderOfferDetailsInfoView><div class=triangle></div><h6 class=text-center><strong>{{parameter.destination | cityFullName}}</strong> from <strong>{{parameter.lowestFare.amount | isoCurrency:parameter.lowestFare.currency}}</strong></h6><ul class=\"SDSTopLevelList list-unstyled\"><li class=SDS-simple-row ng-repeat=\"offer in parameter.offers | orderBy:['LowestFare.Fare', 'departureDateTime', 'returnDateTime']\"><div class=SDS-simple-col-5-20><airline-logo airline-code={{offer.LowestFare.AirlineCodes[0]}}></airline-logo><small>{{offer.LowestFare.AirlineCodes[0]| airlineFullName}}</small></div><div class=SDS-simple-col-11-20><small>{{offer.departureDateTime | date:'dMMM'}} - {{offer.returnDateTime | date:'dMMM'}}(<ng-pluralize count=offer.lengthOfStay when=\"{'one': '1 day',\r\n                                          'other': '{} days'}\"></ng-pluralize>)</small></div><div class=SDS-simple-col-4-20><small>{{offer.LowestFare.Fare | isoCurrency:offer.CurrencyCode:0}}<div><a ng-init=\"searchOfferClickedFn=searchOfferClicked || parameter.searchOfferClicked\" ng-click=\"searchOfferClickedFn(\r\n                        {\r\n                            searchCriteria: {\r\n                                origin: offer.origin,\r\n                                destination: parameter.destination,\r\n                                departureDateTime: offer.departureDateTime,\r\n                                returnDateTime: offer.returnDateTime\r\n                            }\r\n                        })\">Search</a></div></small></div></li></ul></div>"),e.put("../widgets/view-templates/partials/DestinationFinderOfferShortDetailsInfoView.tpl.html","<div>{{parameter.destination | cityFullName}} from {{parameter.lowestFare.amount | isoCurrency:parameter.lowestFare.currency}}</div>"),e.put("../widgets/view-templates/partials/DiversitySwapper.tpl.html",'<div ng-if="enabled == \'true\'"><div class=SDS-row><div class="SDS-col-element-xxs-12 SDSTopBuffer-xs"><a href="" ng-click="$parent.showOptions = !$parent.showOptions" class="input-sm SDSToggleLink">{{$parent.showOptions ? "Disable Diversity Swapper" : "Enable Diversity Swapper" }}</a></div></div><div class=container-fluid><ng-form name=internalFormName><div ng-if=$parent.showOptions class=SDSBottomBuffer-xs><div class=SDSBottomBuffer-xs></div><div class="panel panel-default SDS-panel"><div class="panel-heading SDS-panel-heading">Low Fare Bucket</div><div class="panel-body SDS-panel-body"><div class=SDS-row><div class=SDS-col-element-lg-5><div class=SDS-row><div class="form-group SDS-form-inline-exclude" ng-class="{\'has-error\':internalFormName.lowFareBucket.$invalid\r\n                                    && (internalFormName.lowFareBucket.$dirty || internalFormName.$$parentForm.$submitted)}"><div class="SDS-col-element-md-12 SDS-col-element-lg-4"><label for=SDSSearchForm_Diversity_LowFareBucket class="input-sm control-label">Options</label></div><div class="SDS-col-element-md-12 SDS-col-element-lg-8"><div class="input-group input-group-sm"><span class=input-group-addon><input type=radio name=lowFareBucketModeInput ng-model=ngModel.lowFareBucketMode value={{ngModel.LowFareBucketModeEnum.OPTION}}></span> <input id=SDSSearchForm_Diversity_LowFareBucket type=number class=form-control name=lowFareBucket ng-model=ngModel.lowFareBucket min=0 ng-required="ngModel.lowFareBucketMode == ngModel.LowFareBucketModeEnum.OPTION" ng-disabled="ngModel.lowFareBucketMode == ngModel.LowFareBucketModeEnum.FARE_CUT_OFF"></div><div ng-show="internalFormName.lowFareBucket.$invalid\r\n                                            && (internalFormName.lowFareBucket.$dirty || internalFormName.$$parentForm.$submitted)" class=has-error><small class=help-block>Type a number greater than zero</small></div></div></div></div></div><div class=SDS-col-element-lg-5><div class=SDS-row><div class="form-group SDS-form-inline-exclude" ng-class="{\'has-error\':internalFormName.fareCutOff.$invalid\r\n                                    && (internalFormName.fareCutOff.$dirty || internalFormName.$$parentForm.$submitted)}"><div class="SDS-col-element-md-12 SDS-col-element-lg-4"><label for=SDSSearchForm_Diversity_LowFareBucket class="input-sm control-label">Fare Cut Off</label></div><div class="SDS-col-element-md-12 SDS-col-element-lg-8"><div class="input-group input-group-sm"><span class=input-group-addon><input type=radio name=lowFareBucketModeInput ng-model=ngModel.lowFareBucketMode value={{ngModel.LowFareBucketModeEnum.FARE_CUT_OFF}}></span> <input id=SDSSearchForm_Diversity_FareCutOff type=number class=form-control name=fareCutOff ng-model=ngModel.fareCutOff min=0 max=100 ng-required="ngModel.lowFareBucketMode == ngModel.LowFareBucketModeEnum.FARE_CUT_OFF" ng-disabled="ngModel.lowFareBucketMode == ngModel.LowFareBucketModeEnum.OPTION" aria-describedby=options-addon-fare-cut-off> <span class=input-group-addon id=options-addon-fare-cut-off>%</span></div><div ng-show="internalFormName.fareCutOff.$invalid\r\n                                            && (internalFormName.fareCutOff.$dirty || internalFormName.$$parentForm.$submitted)" class=has-error><small class=help-block>Type a percentage value</small></div></div></div></div></div></div></div></div><div class=SDSBottomBuffer-xs></div><div class="panel panel-default SDS-panel"><div class="panel-heading SDS-panel-heading">Price Options</div><div class="panel-body SDS-panel-body"><div class=SDS-row><div class=SDS-col-element-lg-5><div class=SDS-row><div class="form-group SDS-form-inline-exclude" ng-class="{\'has-error\':internalFormName.priceWeight.$invalid}"><div class="SDS-col-element-md-12 SDS-col-element-lg-4"><label for=SDSSearchForm_Diversity_PriceWeight class="input-sm control-label">Weight</label></div><div class="SDS-col-element-md-12 SDS-col-element-lg-8"><input id=SDSSearchForm_Diversity_PriceWeight type=number class="input-sm form-control" name=priceWeight ng-model=ngModel.priceWeight min=0 max=10></div></div></div></div></div></div></div><div class=SDSBottomBuffer-xs></div><div class="panel panel-default SDS-panel"><div class="panel-heading SDS-panel-heading">Travel Time Options</div><div class="panel-body SDS-panel-body"><div class=SDS-row><div class=SDS-col-element-lg-5><div class=SDS-row><div class="form-group SDS-form-inline-exclude" ng-class="{\'has-error\':internalFormName.travelTimeWeight.$invalid}"><div class="SDS-col-element-md-12 SDS-col-element-lg-4"><label for=SDSSearchForm_Diversity_TravelTimeWeight class="input-sm control-label">Weight</label></div><div class="SDS-col-element-md-12 SDS-col-element-lg-8"><input id=SDSSearchForm_Diversity_TravelTimeWeight type=number min=0 max=10 class="input-sm form-control" name=travelTimeWeight ng-model=ngModel.travelTimeWeight></div></div></div></div></div></div></div><div class=SDSBottomBuffer-xs></div><div class="panel panel-default SDS-panel"><div class="panel-heading SDS-panel-heading">Carrier Options</div><div class="panel-body SDS-panel-body"><div class=SDS-row><div class="SDS-col-element-md-12 SDS-col-element-lg-5"><div class=SDS-row><div class="form-group SDS-form-inline-exclude" ng-class="{\'has-error\':internalFormName.carrierWeight.$invalid}"><div class="SDS-col-element-md-12 SDS-col-element-lg-4"><label for=SDSSearchForm_Diversity_CarrierWeight class="input-sm control-label">Weight</label></div><div class="SDS-col-element-md-12 SDS-col-element-lg-8"><input id=SDSSearchForm_Diversity_CarrierWeight type=number min=0 max=10 class="input-sm form-control" name=carrierWeight ng-model=ngModel.carrier.weight></div></div></div></div><div class="SDS-col-element-md-12 SDS-col-element-lg-5"><div class=SDS-row><div class="form-group SDS-form-inline-exclude" ng-class="{\'has-error\':internalFormName.carrierOption.$invalid}"><div class="SDS-col-element-md-12 SDS-col-element-lg-4"><label for=SDSSearchForm_Diversity_CarrierOption class="input-sm control-label">Options</label></div><div class="SDS-col-element-md-12 SDS-col-element-lg-8"><input id=SDSSearchForm_Diversity_CarrierOption type=number min=1 class="input-sm form-control" name=carrierOption ng-model=ngModel.carrier.default.options></div></div></div></div><div class="SDS-col-element-md-12 SDS-col-element-lg-2"><div class="checkbox input-sm"><label for=SDSSearchForm_DIversity_CarrierOnlineIndicator><input id=SDSSearchForm_DIversity_CarrierOnlineIndicator type=checkbox name=carrierOnlineIndicator ng-model=ngModel.carrier.onlineIndicator> Online Indicator</label></div></div></div><div ng-repeat="i in ngModel.carrier.override"><div class=SDSBottomBuffer-xs></div><div class=SDS-row><div class="SDS-col-element-md-12 SDS-col-element-lg-5"><div class=SDS-row><div class="form-group SDS-form-inline-exclude" ng-class="{\'has-error\':internalFormName.overrideCarrierCode_{{$index}}.$invalid}"><div class="SDS-col-element-md-12 SDS-col-element-lg-4"><label for=SDSSearchForm_Diversity_OverrideCarrierCode_{{$index}} class="input-sm control-label">Override Carrier Code</label></div><div class="SDS-col-element-md-12 SDS-col-element-lg-8"><select-airline id=SDSSearchForm_Diversity_OverrideCarrierCode_{{$index}} name=overrideCarrierCode_{{$index}} airline=ngModel.carrier.override[$index].code>class="input-sm"></select-airline></div></div></div></div><div class="SDS-col-element-md-12 SDS-col-element-lg-5"><div class=SDS-row><div class="form-group SDS-form-inline-exclude" ng-class="{\'has-error\':internalFormName.overrideCarrierOption_{{$index}}.$invalid}"><div class="SDS-col-element-md-12 SDS-col-element-lg-4"><label for=SDSSearchForm_Diversity_OverrideCarrierOption_{{$index}} class="input-sm control-label">Override Carrier Option</label></div><div class="SDS-col-element-md-12 SDS-col-element-lg-8"><input id=SDSSearchForm_Diversity_OverrideCarrierOption_{{$index}} type=number min=1 class="input-sm form-control" name=overrideCarrierOption_{{$index}} ng-model=ngModel.carrier.override[$index].options></div></div></div></div><div class="SDS-col-element-md-12 SDS-col-element-lg-2" ng-show=$last><a href="" ng-click=ngModel.removeCarrierOverriding() class=input-sm><i class="glyphicon glyphicon-minus-sign"></i> Remove</a></div></div></div><div class=SDSBottomBuffer-xs></div><div class=SDS-row><div class=SDS-col-element-lg-3><a href="" ng-click=ngModel.addCarrierOverriding() class=input-sm><i class="glyphicon glyphicon-plus-sign"></i> Add carrier overriding</a></div></div><div class=SDSTopBuffer-xs></div></div></div><div class=SDSBottomBuffer-xs></div><div class="panel panel-default SDS-panel"><div class="panel-heading SDS-panel-heading">Operating Duplicate Options</div><div class="panel-body SDS-panel-body"><div class=SDS-row><div class="SDS-col-element-md-12 SDS-col-element-lg-5"><div class=SDS-row><div class="form-group SDS-form-inline-exclude" ng-class="{\'has-error\':internalFormName.operatingDuplicateWeight.$invalid}"><div class="SDS-col-element-md-12 SDS-col-element-lg-4"><label for=SDSSearchForm_Diversity_OperatingDuplicateWeight class="input-sm control-label">Weight</label></div><div class="SDS-col-element-md-12 SDS-col-element-lg-8"><input id=SDSSearchForm_Diversity_OperatingDuplicateWeight type=number min=0 max=10 class="input-sm form-control" name=operatingDuplicateWeight ng-model=ngModel.operatingDuplicate.weight></div></div></div></div><div class="SDS-col-element-md-12 SDS-col-element-lg-5"><div class=SDS-row><div class="form-group SDS-form-inline-exclude" ng-class="{\'has-error\':internalFormName.operatingDuplicatePreference.$invalid}"><div class="SDS-col-element-md-12 SDS-col-element-lg-4"><label for=SDSSearchForm_Diversity_OperatingDuplicatePreference class="input-sm control-label">Preference</label></div><div class="SDS-col-element-md-12 SDS-col-element-lg-8"><select-multiple-airlines is-multiple-selection=true id=SDSSearchForm_Diversity_OperatingDuplicatePreference name=operatingDuplicatePreference airlines=ngModel.operatingDuplicate.preferredCarriers></select-multiple-airlines></div></div></div></div></div></div></div><div class=SDSBottomBuffer-xs></div><div class="panel panel-default SDS-panel"><div class="panel-heading SDS-panel-heading">Inbound Outbound Pairing Options</div><div class="panel-body SDS-panel-body"><div class=SDS-row><div class="SDS-col-element-md-12 SDS-col-element-lg-5"><div class=SDS-row><div class="form-group SDS-form-inline-exclude" ng-class="{\'has-error\':internalFormName.inboundOutboundPairingWeight.$invalid}"><div class="SDS-col-element-md-12 SDS-col-element-lg-4"><label for=SDSSearchForm_Diversity_InboundOutboundPairingWeight class="input-sm control-label">Weight</label></div><div class="SDS-col-element-md-12 SDS-col-element-lg-8"><input id=SDSSearchForm_Diversity_InboundOutboundPairingWeight type=number min=0 max=10 class="input-sm form-control" name=inboundOutboundPairingWeight ng-model=ngModel.inboundOutboundPairing.weight></div></div></div></div><div class="SDS-col-element-md-12 SDS-col-element-lg-5"><div class=SDS-row><div class="form-group SDS-form-inline-exclude" ng-class="{\'has-error\':internalFormName.inboundOutboundPairingDuplicates.$invalid}"><div class="SDS-col-element-md-12 SDS-col-element-lg-4"><label for=SDSSearchForm_Diversity_InboundOutboundPairingDuplicates class="input-sm control-label">Duplicates</label></div><div class="SDS-col-element-md-12 SDS-col-element-lg-8"><input id=SDSSearchForm_Diversity_InboundOutboundPairingDuplicates type=number min=1 class="input-sm form-control" name=inboundOutboundPairingDuplicates ng-model=ngModel.inboundOutboundPairing.duplicates></div></div></div></div></div></div></div><div class=SDSBottomBuffer-xs></div><div class="panel panel-default SDS-panel"><div class="panel-heading SDS-panel-heading">Time of Day options</div><div class="panel-body SDS-panel-body"><div class=SDS-row><div class="SDS-col-element-md-12 SDS-col-element-lg-3"><div class=SDS-row><div class="form-group SDS-form-inline-exclude" ng-class="{\'has-error\':internalFormName.timeOfDay.weight.$invalid}"><div class="SDS-col-element-md-12 SDS-col-element-lg-7"><label for=SDSSearchForm_Diversity_TimeOfDayWeight class="input-sm control-label">Weight</label></div><div class="SDS-col-element-md-12 SDS-col-element-lg-5"><input id=SDSSearchForm_Diversity_TimeOfDayWeight type=number min=1 max=10 class="input-sm form-control" name=timeOfDayWeight ng-model=ngModel.timeOfDay.weight></div></div></div></div></div><div class=SDSBottomBuffer-xs></div><div ng-repeat="i in ngModel.timeOfDay.distributions" ng-init="outerIndex = $index"><div class=SDS-row><div class="SDS-col-element-md-12 SDS-col-element-lg-3"><div class=SDS-row><div class="form-group SDS-form-inline-exclude" ng-class="{\'has-error\':internalFormName.timeOfDayDirection.$invalid}"><div class="SDS-col-element-md-12 SDS-col-element-lg-7"><label for=SDSSearchForm_Diversity_TimeOfDayDirection class="input-sm control-label">Direction</label></div><div class="SDS-col-element-md-12 SDS-col-element-lg-5"><select id=SDSSearchForm_Diversity_TimeOfDayDirection name=timeOfDayDirection class="input-sm form-control" name=timeOfDayDirection ng-model=ngModel.timeOfDay.distributions[outerIndex].direction ng-options="option.description for option in ngModel.AvailableDirectionsEnum.values() track by option.id"></select></div></div></div></div><div class="SDS-col-element-md-12 SDS-col-element-lg-3"><div class=SDS-row><div class="form-group SDS-form-inline-exclude" ng-class="{\'has-error\':internalFormName.timeOfDayEndpoint.$invalid}"><div class="SDS-col-element-md-12 SDS-col-element-lg-7"><label for=SDSSearchForm_Diversity_TimeOfDayEndpoint class="input-sm control-label">Endpoint</label></div><div class="SDS-col-element-md-12 SDS-col-element-lg-5"><select id=SDSSearchForm_Diversity_TimeOfDayEndpoint name=timeOfDayEndpoint class="input-sm form-control" name=timeOfDayEndpoint ng-model=ngModel.timeOfDay.distributions[outerIndex].endpoint ng-options="option.description for option in ngModel.AvailableEndpointsEnum.values() track by option.id"></select></div></div></div></div></div><div ng-repeat="j in ngModel.timeOfDay.distributions[outerIndex].ranges" ng-init="innerIndex = $index"><div class=SDSBottomBuffer-xs></div><div class=SDS-row><div class="SDS-col-element-md-12 SDS-col-element-lg-3"><div class=SDS-row><div class="form-group SDS-form-inline-exclude" ng-class="{\'has-error\':internalFormName.timeOfDayRangeBegin_{{outerIndex}}_{{innerIndex}}.$invalid}"><div class="SDS-col-element-md-12 SDS-col-element-lg-7"><label for=SDSSearchForm_Diversity_TimeOfDayRangeBegin_{{outerIndex}}_{{innerIndex}} class="input-sm control-label">Range Begin</label></div><div class="SDS-col-element-md-12 SDS-col-element-lg-5"><timepicker-pop input-time=ngModel.timeOfDay.distributions[outerIndex].ranges[innerIndex].begin id=SDSSearchForm_Diversity_TimeOfDayRangeBegin_{{outerIndex}}_{{innerIndex}} name=timeOfDayRangeBegin_{{outerIndex}}_{{innerIndex}} minute-step=30 show-meridian=false ng-model=ngModel.timeOfDay.distributions[outerIndex].ranges[innerIndex].begin></timepicker-pop></div></div></div></div><div class="SDS-col-element-md-12 SDS-col-element-lg-3"><div class=SDS-row><div class="form-group SDS-form-inline-exclude" ng-class="{\'has-error\':internalFormName.timeOfDayRangeEnd_{{outerIndex}}_{{innerIndex}}.$invalid}"><div class="SDS-col-element-md-12 SDS-col-element-lg-7"><label for=SDSSearchForm_Diversity_TimeOfDayRangeEnd__{{outerIndex}}_{{innerIndex}} class="input-sm control-label">Range End</label></div><div class="SDS-col-element-md-12 SDS-col-element-lg-5"><timepicker-pop input-time=ngModel.timeOfDay.distributions[outerIndex].ranges[innerIndex].end id=SDSSearchForm_Diversity_TimeOfDayRangeEnd__{{outerIndex}}_{{innerIndex}} name=timeOfDayRangeEnd_{{outerIndex}}_{{innerIndex}} minute-step=30 show-meridian=false ng-model=ngModel.timeOfDay.distributions[outerIndex].ranges[innerIndex].end></timepicker-pop></div></div></div></div><div class="SDS-col-element-md-12 SDS-col-element-lg-3"><div class=SDS-row><div class="form-group SDS-form-inline-exclude" ng-class="{\'has-error\':internalFormName.timeOfDayRangeOptions_{{outerIndex}}_{{innerIndex}}.$invalid}"><div class="SDS-col-element-md-12 SDS-col-element-lg-6"><label for=SDSSearchForm_Diversity_TimeOfDayOptions_{{outerIndex}}_{{innerIndex}} class="input-sm control-label">Range Options</label></div><div class="SDS-col-element-md-12 SDS-col-element-lg-6"><div class="input-group input-group-sm"><input id=SDSSearchForm_Diversity_TimeOfDayOptions_{{outerIndex}}_{{innerIndex}} type=number min=1 max=100 class=form-control name=timeOfDayOptions__{{outerIndex}}_{{innerIndex}} ng-model=ngModel.timeOfDay.distributions[outerIndex].ranges[innerIndex].options pattern=^[1-9][0-9]?$|^100$ aria-describedby=options-addon_{{outerIndex}}_{{innerIndex}}> <span class=input-group-addon id=options-addon_{{outerIndex}}_{{innerIndex}}>%</span></div></div></div></div></div><div class="SDS-col-element-md-12 SDS-col-element-lg-3" ng-show="$last && innerIndex > 0"><a href="" ng-click=ngModel.removeLastRangeFromDistribution(outerIndex) class=input-sm><i class="glyphicon glyphicon-minus-sign"></i> Remove</a></div></div><div class=SDSTopBuffer-xs></div><div class=SDS-row ng-if="$last && innerIndex < 3"><div class=SDS-col-element-lg-3><a href="" ng-click=ngModel.addRangeToDistribution(outerIndex) class=input-sm><i class="glyphicon glyphicon-plus-sign"></i> Add more ranges</a></div></div><div class=SDSTopBuffer-xs></div></div><div class=SDS-row ng-if=$last><div class=SDS-col-element-lg-12><a href="" ng-click=ngModel.removeDistribution() class=input-sm><i class="glyphicon glyphicon-minus-sign"></i> Remove distribution</a></div></div><hr class=divider></div><div class=SDS-row><div class=SDS-col-element-lg-3><a href="" ng-click=ngModel.addDistribution() class=input-sm><i class="glyphicon glyphicon-plus-sign"></i> Add distribution</a><div class=SDSTopBuffer-xs></div></div></div></div></div><div class=SDSTopBuffer-xs></div><div class="panel panel-default SDS-panel"><div class="panel-heading SDS-panel-heading">Number of Stops Options</div><div class="panel-body SDS-panel-body"><div class=SDS-row><div class="SDS-col-element-md-12 SDS-col-element-lg-5"><div class=SDS-row><div class="form-group SDS-form-inline-exclude" ng-class="{\'has-error\':internalFormName.numberOfStopsWeight.$invalid}"><div class="SDS-col-element-md-12 SDS-col-element-lg-4"><label for=SDSSearchForm_Diversity_NumberOfStopsWeight class="input-sm control-label">Weight</label></div><div class="SDS-col-element-md-12 SDS-col-element-lg-8"><input id=SDSSearchForm_Diversity_NumberOfStopsWeight type=number min=1 max=10 class="input-sm form-control" name=numberOfStopsWeight ng-model=ngModel.numberOfStopsWeight></div></div></div></div></div></div></div></div></ng-form></div></div>'),e.put("../widgets/view-templates/partials/ErrorsModal.tpl.html",'<div class=modal-content><div class=modal-header><button type=button class=close aria-label=Close ng-click=ok()><span aria-hidden=true>&times;</span></button><h3 class=modal-title>{{::modalTitle}}</h3></div><div class=modal-body><ul><li ng-repeat="error in errorsList"><span class=text-error>{{error}}</span></li></ul></div><div class=modal-footer><button type=button class="btn btn-primary" ng-click=ok()>OK</button></div></div>'),e.put("../widgets/view-templates/partials/FlexibleDepartureReturnDates.tpl.html",'<ng-form name=internalFormName><div class=form-group><div class="col-lg-9 col-lg-offset-3"><div class=checkbox><label for=internalFormName_IsFlexibleDepartureDate><input type=checkbox name=isFlexibleDepartureDate id=internalFormName_IsFlexibleDepartureDate ng-model=ngModel.dates.isFlexibleDepartureDate> Flexible departure date</label></div></div></div><div class=form-group ng-if=!ngModel.dates.isFlexibleDepartureDate ng-class="{\'has-error\': internalFormName.departureDate.$invalid || internalFormName.$error.invalidDepartureDate}"><label for=internalFormName_DepartureDate class="input-sm col-sm-3 control-label">Leaving on</label><div class=col-sm-3><input-date class=input-group id=internalFormName_DepartureDate name=departureDate class="form-control input-sm" required ng-model=ngModel.dates.departureDate min-date=minDate></input-date><div class=help-block ng-show=fareNabberForm.departureDate.$invalid><small ng-show=internalFormName.departureDate.$error.required>Choose departure date</small></div><div class=help-block ng-show=internalFormName.$error.invalidDepartureDate><small ng-show=internalFormName.$error.invalidDepartureDate>Leaving on must be before or equal to {{ngModel.dates.isFlexibleReturnDate ? "Returning from" : "Returning on"}}</small></div></div></div><div ng-if=ngModel.dates.isFlexibleDepartureDate><div class=form-group><div ng-class="{\'has-error\':internalFormName.departureDateFrom.$invalid\r\n                || internalFormName.$error.invalidDepartureDateFrom\r\n                || internalFormName.$error.invalidDepartureDateFromTo}"><label for=internalFormName_DepartureDateFrom class="input-sm col-sm-3 control-label">Leaving from</label><div class=col-sm-3><input-date class=input-group id=internalFormName_DepartureDateFrom name=departureDateFrom class="form-control input-sm" required ng-model=ngModel.dates.flexibleDepartureDate.from min-date=minDate></input-date><div class=help-block ng-show=internalFormName.departureDateFrom.$invalid><small ng-show=internalFormName.departureDateFrom.$error.required>Choose Leaving from</small></div><div class=help-block ng-if=internalFormName.$error.invalidDepartureDateFrom><small>Leaving from must be before or equal to {{ngModel.dates.isFlexibleReturnDate ? "Returning from" : "Returning on"}}</small></div><div class=help-block ng-if=internalFormName.$error.invalidDepartureDateFromTo><small>Leaving from must be before Leaving to</small></div></div></div><div ng-class="{\'has-error\':internalFormName.departureDateTo.$invalid\r\n                || internalFormName.$error.invalidDepartureDateToFrom\r\n                || internalFormName.$error.invalidDepartureDateToReturnDateTo}"><label for=internalFormName_DepartureDateTo class="input-sm col-sm-2 control-label">Leaving to</label><div class=col-sm-3><input-date class=input-group id=internalFormName_DepartureDateTo name=departureDateTo class="form-control input-sm" required ng-model=ngModel.dates.flexibleDepartureDate.to min-date=minDate></input-date><div class=help-block ng-show=internalFormName.departureDateTo.$invalid><small ng-show=internalFormName.departureDateTo.$error.required>Choose Leaving to</small></div><div class=help-block ng-if=internalFormName.$error.invalidDepartureDateToFrom><small>Leaving to must be after Leaving from</small></div><div class=help-block ng-if=internalFormName.$error.invalidDepartureDateToReturnDateTo><small>Leaving To must be before or equal to Returning To</small></div></div></div></div><div class=form-group><label for=internalFormName_DepartureDaysOfWeek class="input-sm control-label col-sm-3">Departure days of week</label><select-days-of-week class=col-sm-9 id=internalFormName_DepartureDaysOfWeek days-of-week=ngModel.daysOfTravelPreference.outbound></select-days-of-week></div></div><div class="col-lg-9 col-lg-offset-3"><div><a href="" ng-click="showOutboundFlightsTimeOfDaySelection = !showOutboundFlightsTimeOfDaySelection">Set specific hours for departure flights</a></div><div class="well well-lg form-group col-sm-6" uib-collapse=!showOutboundFlightsTimeOfDaySelection><label class="input-sm control-label">Flight departure time of day</label><div><input-time-of-day-range class="form-control input-sm" range=ngModel.outboundTravelTimeRange.departure></input-time-of-day-range></div><label class="input-sm control-label">Flight arrival time of day</label><div><input-time-of-day-range class="form-control input-sm" range=ngModel.outboundTravelTimeRange.arrival></input-time-of-day-range></div></div><div class="row SDSBottomBuffer-xs"></div></div><div class=form-group><div class="col-lg-9 col-lg-offset-3"><div class=checkbox><label for=internalFormName_FlexibleReturnDate><input type=checkbox name=isflexibleReturnDate id=internalFormName_FlexibleReturnDate ng-model=ngModel.dates.isFlexibleReturnDate> Flexible return date</label></div></div></div><div ng-show=!ngModel.dates.isFlexibleReturnDate ng-class="{\'has-error\':internalFormName.returnDate.$invalid || internalFormName.$error.invalidReturnDate}"><div class=form-group><label for=internalFormName_ReturnDate class="input-sm col-sm-3 control-label">Returning on</label><div class=col-sm-3><input-date class=input-group id=internalFormName_ReturnDate name=returnDate class="form-control input-sm" required ng-model=ngModel.dates.returnDate min-date=minDate></input-date><div class=help-block ng-show=internalFormName.returnDate.$invalid><small ng-show=internalFormName.returnDate.$error.required>Choose return date</small></div><div class=help-block ng-show=internalFormName.$error.invalidReturnDate><small ng-show=internalFormName.$error.invalidReturnDate>Returning on must be after or equal to {{ngModel.dates.isFlexibleReturnDate ? "Leaving from" : "Leaving on"}}</small></div></div></div></div><div ng-if=ngModel.dates.isFlexibleReturnDate><div class=form-group><div ng-class="{\'has-error\':internalFormName.returnDateFrom.$invalid\r\n                || internalFormName.$error.invalidReturnDateFrom\r\n                || internalFormName.$error.invalidReturnDatesFromTo}"><label for=internalFormName_ReturnDateFrom class="input-sm col-sm-3 control-label">Returning From</label><div class=col-sm-3><input-date class=input-group id=internalFormName_ReturnDateFrom name=returnDateFrom class="form-control input-sm" required ng-model=ngModel.dates.flexibleReturnDate.from min-date=minDate></input-date><div class=help-block ng-show=internalFormName.returnDateFrom.$invalid><small ng-show=internalFormName.returnDateFrom.$error.required>Choose return date from</small></div><div class=help-block ng-if=internalFormName.$error.invalidReturnDateFrom><small>Return from must be after or equal to {{ngModel.dates.isFlexibleDepartureDate ? "Leaving from" : "Leaving on"}}</small></div><div class=help-block ng-if=internalFormName.$error.invalidReturnDatesFromTo><small>Returning from must be before Returning to</small></div></div></div><div ng-class="{\'has-error\':internalFormName.returnDateTo.$invalid\r\n                    || internalFormName.$error.invalidReturnDatesToFrom\r\n                    || internalFormName.$error.invalidReturnDateToDepartureDateTo}"><label for=internalFormName_ReturnDateTo class="input-sm col-sm-2 control-label">Returning To</label><div class=col-sm-3><input-date class=input-group id=internalFormName_ReturnDateTo name=returnDateTo class="form-control input-sm" required ng-model=ngModel.dates.flexibleReturnDate.to min-date=minDate></input-date><div class=help-block ng-show=internalFormName.returnDateTo.$invalid><small ng-show=internalFormName.returnDateTo.$error.required>Choose return date to</small></div><div class=help-block ng-if=internalFormName.$error.invalidReturnDatesToFrom><small>Returning to must be after Returning from</small></div><div class=help-block ng-if=internalFormName.$error.invalidReturnDateToDepartureDateTo><small>Returning To must be after or equal to Leaving To</small></div></div></div></div><div class=form-group><label for=internalFormName_ReturnDaysOfWeek class="input-sm control-label col-sm-3">Return days of week</label><select-days-of-week class=col-sm-9 id=internalFormName_ReturnDaysOfWeek days-of-week=ngModel.daysOfTravelPreference.inbound></select-days-of-week></div></div><div class="col-lg-9 col-lg-offset-3"><div><a href="" ng-click="showInboundFlightsTimeOfDaySelection = !showInboundFlightsTimeOfDaySelection">Set specific hours for return flights</a></div><div class="well well-lg form-group col-sm-6" uib-collapse=!showInboundFlightsTimeOfDaySelection><label class="input-sm control-label">Flight departure time of day</label><div><input-time-of-day-range class="form-control input-sm" range=ngModel.inboundTravelTimeRange.departure></input-time-of-day-range></div><label class="input-sm control-label">Flight arrival time of day</label><div><input-time-of-day-range class="form-control input-sm" range=ngModel.inboundTravelTimeRange.arrival></input-time-of-day-range></div></div><div class="row SDSBottomBuffer-xs"></div></div></ng-form>'),e.put("../widgets/view-templates/partials/HighLowMedianCurrentChart.tpl.html",'<svg class=SDSHighLowMedianCurrentChart xmlns=http://www.w3.org/2000/svg><defs><marker class=SDSHLMCChartMainBarMarkerCircle id=markerCircle markerwidth=8 markerheight=8 refx=5 refy=5><circle cx=5 cy=5 r="2"/></marker></defs><g><rect class=SDSHLMCChartMainBar ng-attr-x={{chartConfig.topLeftOffset.x}} ng-attr-y={{chartConfig.topLeftOffset.y}} ng-attr-width={{chartConfig.bar.width}} ng-attr-height="{{chartConfig.bar.height}}"/><line class=SDSHLMCChartDataLine ng-attr-x1={{chartConfig.topLeftOffset.x}} ng-attr-y1={{chartConfig.topLeftOffset.y}} ng-attr-x2="{{chartConfig.topLeftOffset.x + chartConfig.bar.width}}" ng-attr-y2="{{chartConfig.topLeftOffset.y}}"/><line class=SDSHLMCChartPointerLine ng-attr-x1={{chartHelpers.getPointerLineXStart()}} ng-attr-y1={{chartConfig.topLeftOffset.y}} ng-attr-x2={{chartHelpers.getPointerLineXEnd()}} ng-attr-y2="{{chartConfig.topLeftOffset.y}}"/><text class=SDSHLMCChartDataLegend ng-attr-x="{{chartHelpers.getPointerLineXEnd() + chartConfig.pointerLineRightMargin}}" ng-attr-y={{chartConfig.topLeftOffset.y}}><tspan>{{highText}}</tspan><tspan dx=2>{{highValue | applyFilter:valuesFilter:valuesFilterArguments}}</tspan></text><line class=SDSHLMCChartDataLine ng-attr-x1={{chartConfig.topLeftOffset.x}} ng-attr-y1="{{chartConfig.topLeftOffset.y + chartConfig.bar.height}}" ng-attr-x2={{chartHelpers.getPointerLineXEnd()}} ng-attr-y2="{{chartConfig.topLeftOffset.y + chartConfig.bar.height}}"/><line class=SDSHLMCChartPointerLine ng-attr-x1={{chartHelpers.getPointerLineXStart()}} ng-attr-y1="{{chartConfig.topLeftOffset.y + chartConfig.bar.height}}" ng-attr-x2={{chartHelpers.getPointerLineXEnd()}} ng-attr-y2="{{chartConfig.topLeftOffset.y + chartConfig.bar.height}}"/><text class=SDSHLMCChartDataLegend ng-attr-x="{{chartHelpers.getPointerLineXEnd() + chartConfig.pointerLineRightMargin}}" ng-attr-y="{{chartConfig.topLeftOffset.y + chartConfig.bar.height}}"><tspan>{{lowText}}</tspan><tspan dx=2>{{lowValue | applyFilter:valuesFilter:valuesFilterArguments}}</tspan></text><line class=SDSHLMCChartDataLine ng-attr-x1={{chartConfig.topLeftOffset.x}} ng-attr-y1={{chartHelpers.getMedianNormalizedYPosition()}} ng-attr-x2="{{chartConfig.topLeftOffset.x + chartConfig.bar.width}}" ng-attr-y2="{{chartHelpers.getMedianNormalizedYPosition()}}"/><line class=SDSHLMCChartPointerLine ng-attr-x1={{chartHelpers.getPointerLineXStart()}} ng-attr-y1={{chartHelpers.getMedianNormalizedYPosition()}} ng-attr-x2={{chartHelpers.getPointerLineXEnd()}} ng-attr-y2="{{chartHelpers.getMedianNormalizedYPosition()}}"/><text class=SDSHLMCChartDataLegend ng-attr-x="{{chartHelpers.getPointerLineXEnd() + chartConfig.pointerLineRightMargin}}" ng-attr-y={{chartHelpers.getMedianNormalizedYPosition()}}><tspan>{{medianText}}</tspan><tspan dx=2>{{medianValue | applyFilter:valuesFilter:valuesFilterArguments}}</tspan></text><line class=SDSHLMCChartDataLine ng-if=currentValue ng-attr-x1={{chartConfig.topLeftOffset.x}} ng-attr-y1={{chartHelpers.getCurrentNormalizedYPosition()}} ng-attr-x2="{{chartConfig.topLeftOffset.x + chartConfig.bar.width}}" ng-attr-y2="{{chartHelpers.getCurrentNormalizedYPosition()}}"/><path class=SDSHLMCChartPointerLine ng-if=currentValue ng-attr-d="\r\n                M {{chartHelpers.getPointerLineXStart()}} {{chartHelpers.getCurrentNormalizedYPosition()}}\r\n                L {{chartHelpers.getPointerLineXStart() - chartConfig.bar.width * 0.25}} {{chartHelpers.getCurrentLegendYPosition()}}\r\n                L {{chartHelpers.getOppositePointerLineXEnd()}} {{chartHelpers.getCurrentLegendYPosition()}}\r\n              "></path><text class=SDSHLMCChartDataLegend style="text-anchor: end" ng-if=currentValue ng-attr-x="{{chartHelpers.getOppositePointerLineXEnd() - chartConfig.pointerLineRightMargin}}" ng-attr-y={{chartHelpers.getCurrentLegendYPosition()}}><tspan>{{currentText}}</tspan><tspan dx=2>{{currentValue | applyFilter:valuesFilter:valuesFilterArguments}}</tspan></text></g></svg>'),e.put("../widgets/view-templates/partials/InputDate.tpl.html",'<p><input class=form-control autocomplete=off ng-disabled="isDisabled == \'true\'" ng-required=required uib-datepicker-popup={{::dateFormat}} datepicker-options=dateOptions is-open=isDatePickerOpened ng-model=ngModel ng-change="onDateChange({newDate: ngModel})" ng-click=openDatePicker($event)> <span class=input-group-btn><button type=button ng-disabled="isDisabled == \'true\'" class="btn btn-default" ng-click=openDatePicker($event)><i class="glyphicon glyphicon-calendar"></i></button></span></p>'),e.put("../widgets/view-templates/partials/InputOnOffToggle.tpl.html",'<div class=SDSCheckboxToggled><span class="SDSCheckboxToggledOffText control-label">{{::switchOffText}}</span><div class="checkbox checkbox-slider--b checkbox-slider-info"><label><input type=checkbox class=center-block ng-model=value> <span></span></label></div><span class="SDSCheckboxToggledOnText control-label">{{::switchOnText}}</span></div>'),e.put("../widgets/view-templates/partials/InputSortBy.tpl.html",'<div uib-dropdown><label class=control-label>{{::label}}</label><button type=button class="btn btn-primary btn-sm" uib-dropdown-toggle><span class=SDSDropdownLabelText>{{selectedFirstSortCriterion.selected.label}}</span> <span class=caret></span></button><ul class=dropdown-menu><li ng-repeat="criterion in availableSortCriteria"><a href="" data-criterion-index={{$index}}>{{criterion.label}}</a></li></ul></div>'),e.put("../widgets/view-templates/partials/InputTimeOfDayRange.tpl.html","<select ng-options=\"range as (range | timeOfDayRange:'LT') for range in timeOfDayRanges\" ng-model=selectedRange></select>"),e.put("../widgets/view-templates/partials/InputTimeRangePickerTemplate.tpl.html","<div><div range-slider min=minMaxConstraints.min max=minMaxConstraints.max step={{::step}} model-min=currentSelection.min model-max=currentSelection.max prevent-equal-min-max=true show-values=true attach-handle-values=true filter=minutesInDayToTimeOfDay filter-options=true on-handle-up=permittedValuesChanged()></div></div>"),e.put("../widgets/view-templates/partials/PlusMinusDaysSelection.tpl.html",'<div><label class="control-label input-sm SDSPlusMinusDaysLabel"><ng-transclude></ng-transclude></label><select class=form-control ng-model=days ng-options="day for day in plusMinusDaysList"></select></div>'),e.put("../widgets/view-templates/partials/PreferredCabinSelect.tpl.html",'<select name=PreferredCabin class="form-control input-sm" id=SDSSearchForm_PreferredCabin ng-model=cabinSelected><option value="" selected></option><option value=Economy>Economy</option><option value=PremiumEconomy>Premium Economy</option><option value=Business>Business</option><option value=First>First</option></select>'),e.put("../widgets/view-templates/partials/SelectAirline.tpl.html",'<ui-select class=SDSPreferredAirlineSelect ng-model=airlineInternal.selected theme=bootstrap style="width: 100%"><ui-select-match placeholder="type airline name or code">{{$select.selected.AirlineName}}</ui-select-match><ui-select-choices repeat="airline in allAirlines | filter: $select.search | limitTo:30"><span ng-bind-html="airline.AirlineName | highlight: $select.search"></span> <small ng-bind-html="airline.AirlineCode | highlight: $select.search"></small></ui-select-choices></ui-select>'),e.put("../widgets/view-templates/partials/SelectBags.tpl.html",'<select ng-options="bag as (bag | bags) for bag in bagsSelection" class="form-control input-sm" ng-model=bagsRequested></select>'),e.put("../widgets/view-templates/partials/SelectDaysOfWeek.tpl.html",'<div><ng-transclude></ng-transclude><div class="btn-group btn-group-sm"><label class="btn btn-primary" ng-repeat="day in daysOfWeekSymbols track by $index" ng-model=daysSelected[$index] uib-btn-checkbox>{{day}}</label></div></div>'),e.put("../widgets/view-templates/partials/SelectLengthsOfStay.tpl.html",'<div><span class="input-sm control-label"><ng-transclude></ng-transclude></span><div class="btn-group btn-group-sm"><label class="btn btn-primary" ng-repeat="los in predefinedLengthOfStayDays" ng-model=selectedPredefinedLengthOfStayDays.value uib-btn-radio={{los}}>{{los | humanizeDurationDays}}</label></div><div><div class="input-sm control-label">Set other duration values</div><ul class="list-unstyled list-inline"><li><label for=SDSDurationMin class="input-sm control-label">Min days</label><input type=number class="form-control SDS-form-inline-exclude input-sm SDSNumberInput2Digits" min=1 max=60 id=SDSDurationMin ng-model=lengthOfStay.minDays ng-value=lengthOfStay.minDays></li><li><label for=SDSDurationMax class="input-sm control-label">Max days</label><input type=number class="form-control SDS-form-inline-exclude input-sm SDSNumberInput2Digits" min=1 max=60 id=SDSDurationMax ng-model=lengthOfStay.maxDays ng-value=lengthOfStay.maxDays></li></ul></div></div>'),e.put("../widgets/view-templates/partials/SelectMonths.tpl.html",'<div><ng-transclude></ng-transclude><div class=checkbox ng-repeat="month in allMonths track by $index"><label class="control-label input-sm"><input class=form-control type=checkbox value=$index> {{month}}</label></div></div>'),e.put("../widgets/view-templates/partials/SelectMultipleAirlines.tpl.html",'<ui-select multiple class=SDSPreferredAirlineSelect ng-model=airlinesInternal.selected theme=bootstrap style="width: 100%"><ui-select-match placeholder="type airline name or code">{{$item.AirlineName}}</ui-select-match><ui-select-choices repeat="airline in allAirlines | filter: $select.search | limitTo:30"><span ng-bind-html="airline.AirlineName | highlight: $select.search"></span> <small ng-bind-html="airline.AirlineCode | highlight: $select.search"></small></ui-select-choices></ui-select>'),e.put("../widgets/view-templates/widgets/AboutWidgetTemplate.tpl.html",'<div class="panel panel-default SDSWidget SDSResponsiveElement"><div class="panel-heading text-center"><h4 class=panel-title>About</h4></div><div class=panel-body><div class=SDS-row><div class=SDS-col-element-md-8><h4>Build information</h4><dl class=dl-horizontal><dt ng-repeat-start="(key, value) in version">{{key}}</dt><dd ng-repeat-end="(key, value) in version">{{value}}</dd></dl></div></div></div></div>'),e.put("../widgets/view-templates/widgets/AlternateDatesMatrix.tpl.html",'<div class="SDSAlternateDatesMatrixWidget panel panel-default SDS-panel" ng-if=isAnyDataToDisplayAvailable()><div class="panel-heading SDS-panel-heading text-center"><h4 class=panel-title>Alternate Dates Lead Fares</h4></div><div class="panel-body SDS-panel-body"><div class=table-responsive><table class="SDSTable table table-bordered table-condensed" ng-if=isRoundTripTravel><caption>Cheapest options for nearby departure and return dates for <em>{{departureAirport | cityAndAirportFullName}}</em> to <em>{{arrivalAirport| cityAndAirportFullName}}</em></caption><thead><tr class=text-info><th></th><th ng-repeat="returnDate in requestedReturnDates">{{returnDate.format(\'ddd D MMM\')}}</th></tr></thead><tbody><tr ng-repeat="requestedDepartureDate in requestedDepartureDates"><th class=text-info>{{requestedDepartureDate.format(\'ddd D MMM\')}}</th><td ng-repeat="requestedReturnDate in requestedReturnDates" ng-init="leadFareForDates = altDatesPriceMatrix.getLeadFareForTravelDates(requestedDepartureDate, requestedReturnDate)" class=SDSCalendarCell ng-class="{\'bg-info\': isCentralRequestedDate(requestedDepartureDate, requestedReturnDate)}" ng-click="cellClicked(requestedDepartureDate, requestedReturnDate)"><div class="SDSCalendarCellPrice SDSPriceTier-{{day.priceTier}}">{{leadFareForDates.price | isoCurrency:leadFareForDates.currency}}</div></td></tr></tbody></table></div><div class=table-responsive><table class="SDSTable table table-bordered table-condensed" ng-if=isOneWayTravel><caption>Cheapest options for nearby departure dates for <em>{{departureAirport | cityAndAirportFullName}}</em> to <em>{{arrivalAirport| cityAndAirportFullName}}</em></caption><thead><tr class=text-info><th ng-repeat="requestedDepartureDate in requestedDepartureDates">{{requestedDepartureDate.format(\'ddd D MMM\')}}</th></tr></thead><tbody><tr><td ng-repeat="requestedDepartureDate in requestedDepartureDates" ng-init="leadFareForDate = altDatesPriceMatrix.getLeadFareForTravelDate(requestedDepartureDate)" class=SDSCalendarCell ng-class="{\'bg-info\': isCentralRequestedDate(requestedDepartureDate)}" ng-click=cellClicked(requestedDepartureDate)><div class="SDSCalendarCellPrice SDSPriceTier-{{day.priceTier}}">{{leadFareForDate.price | isoCurrency:leadFareForDate.currency}}</div></td></tr></tbody></table></div></div></div>'),e.put("../widgets/view-templates/widgets/CalendarWidgetNavigable.tpl.html",'<div class="SDSWidget SDSResponsiveElement"><div class="panel panel-default SDS-panel" ng-if=isAnyDataToDisplayAvailable()><div class="panel-heading SDS-panel-heading text-center"><h4 class=panel-title>Lead Prices Calendar</h4></div><div class="panel-body SDS-panel-body"><div class=SDS-row><div ng-class="{\'SDS-col-element-xxl-6\':numberOfMonthsShownAtOnce == 2, \'SDS-col-element-xxl-4\':numberOfMonthsShownAtOnce == 3}" ng-repeat="month in calendar.months | startFrom: (paginationSettings.currentPage - 1) * numberOfMonthsShownAtOnce | limitTo: numberOfMonthsShownAtOnce" disable=month.noPricesFound><h4 class=text-center>{{month.monthStartDate.format(\'MMMM\')}}</h4><ng-include src="\'../widgets/view-templates/widgets/CalendarWidgetOneMonth.tpl.html\'"></ng-include></div></div></div><div class="panel-footer SDS-panel-footer" ng-if="numberOfMonths > 1"><ul uib-pager total-items=calendar.months.length ng-model=paginationSettings.currentPage items-per-page=numberOfMonthsShownAtOnce></ul></div></div></div>'),e.put("../widgets/view-templates/widgets/CalendarWidgetOneMonth.tpl.html",'<table class="SDSTable table table-condensed table-bordered"><thead><tr class=text-info><th ng-repeat="dayOfWeekName in calendar.dayOfWeekNames">{{dayOfWeekName}}</th></tr></thead><tbody><tr ng-repeat="week in month.weeks"><td highlight-length-of-stay length-of-stay-days={{calendar.getLastSearchCriteria().getLengthOfStay()}} highlight-class=bg-info ng-repeat="day in week.days" class=SDSCalendarCell ng-class="{\'SDSCalendarPrevOrNextMonthDay\': day.isPrevOrNextMonthDay}" ng-click=cellClicked(day.day)><div class=SDSCalendarCellContent ng-hide="day.isPrevOrNextMonthDay && doNotShowPrevNextMonthDays"><div class="SDSCalendarDateNumber pull-right">{{day.day.format(\'D\')}}</div><div class=clearfix></div><div ng-show=day.price class="SDSCalendarCellPrice text-center SDSPriceTier-{{day.priceTier}}">{{day.price | isoCurrency:day.currency}}</div></div></td></tr></tbody></table>'),e.put("../widgets/view-templates/widgets/CalendarWidgetTabs.tpl.html",'<div class="panel panel-default" ng-if=isAnyDataToDisplayAvailable()><div class="panel-heading text-center"><h4 class=panel-title>Lead Prices Calendar</h4></div><div class=panel-body><div ng-if="numberOfMonths > 1"><uib-tabset type=pills><uib-tab ng-repeat="month in calendar.months" heading="{{month.monthStartDate.format(\'MMM\')}} {{month.monthLeadPrice | isoCurrency:month.monthLeadPriceCurrency}}" disable=month.noPricesFound><ng-include src="\'../widgets/view-templates/widgets/CalendarWidgetOneMonth.tpl.html\'"></ng-include></uib-tab></uib-tabset></div><div ng-if="numberOfMonths == 1" ng-init="month = calendar.months[0]"><h5 class=text-center>{{month.monthStartDate.format(\'MMM YYYY\')}} from {{month.monthLeadPrice | isoCurrency:month.monthLeadPriceCurrency}}</h5><ng-include src="\'../src/view-templates/widgets/CalendarWidgetOneMonth.tpl.html\'"></ng-include></div></div></div>'),e.put("../widgets/view-templates/widgets/ChangeOriginSelect.tpl.html",'<div class="SDSChangeOriginSelect well well-sm"><form class=form-inline name=changeOriginSelect novalidate><div class=form-group><label for=changeOriginSelect_Origin class="input-sm control-label">Your trip origin</label><input-airport id=changeOriginSelect_Origin name=Origin class="form-control SDSChangeOriginWidth" required airport=origin selectable-airports-for-this-pos-only=true on-select=newOriginSelected(airport)></input-airport></div></form></div>'),e.put("../widgets/view-templates/widgets/DestinationPricer.tpl.html",'<div class="SDSWidget SDSResponsiveElement SDSInspirationalList"><div class="panel panel-default" ng-show=ctrl.isAnyDataToDisplayAvailable()><div class="panel-heading text-center SDS-responsive-panel-heading"><h4 class=panel-title>Cheapest Flights To Destination</h4></div><div class="panel-body SDS-responsive-panel-body"><ul class="list-unstyled SDSTopLevelList"><div class=SDS-row><li ng-repeat="offerItem in ctrl.modelPricesToDestination.FareInfo"><div class=SDS-col-element-lg-6><div class=SDSInspirationalTile><div class=SDS-row><div class=SDS-col-element-xs-4><ul class="list-inline list-unstyled"><li><div ng-repeat="airline in offerItem.LowestFare.AirlineCodes" ng-if=$first><airline-logo airline-code={{airline}}></airline-logo><strong>{{airline | airlineFullName}}</strong></div></li></ul></div><div class=SDS-col-element-xs-5><ul class="list-inline list-unstyled"><li><div><strong>{{offerItem.OriginLocation | cityFullName:ctrl.lastRequestPosCountryOverride}}</strong></div></li><li><span class="glyphicon glyphicon-arrow-right" aria-hidden=true></span></li><li><strong>{{ctrl.modelPricesToDestination.DestinationLocation | cityFullName:ctrl.lastRequestPosCountryOverride}}</strong></li></ul></div><div class=SDS-col-element-xs-3><div class=pull-right><small class=SDSPaddingSmall>from</small><strong>{{offerItem.LowestFare.Fare | isoCurrency:offerItem.CurrencyCode}}</strong></div><div class=clearfix></div><div><button type=button class="btn-link pull-right" ns-popover ns-popover-template=DestinationPricerDetailsPopover ns-popover-trigger=mouseenter ns-popover-placement=bottom ns-popover-timeout=0.2>Details</button> <button type=button class="btn-link pull-right" ng-if=::searchLinkEnabled ng-click="offerClicked(\r\n                                                            {\r\n                                                                searchCriteria: {\r\n                                                                    origin: offerItem.OriginLocation,\r\n                                                                    destination: ctrl.modelPricesToDestination.DestinationLocation,\r\n                                                                    departureDateTime: offerItem.DepartureDateTime,\r\n                                                                    returnDateTime: offerItem.ReturnDateTime\r\n                                                                }\r\n                                                            })">Search</button></div><div class=clearfix></div></div></div></div></div></li></div></ul></div></div></div><script type=text/ng-template id=DestinationPricerDetailsPopover><div class="SDSDestinationPricerDetailsPopover">\r\n    <span class="triangle"></span>\r\n    <ul class="list-unstyled">\r\n        <li>\r\n            <small>Departure {{offerItem.DepartureDateTime | makeMomentAndFormat:\'ddd, DD MMM\'}} from {{offerItem.OriginLocation | cityAndAirportFullName:ctrl.lastRequestPosCountryOverride}}</small><!-- format: Sun, 05 Dec-->\r\n        </li>\r\n        <li>\r\n            <small>Return {{offerItem.ReturnDateTime | makeMomentAndFormat:\'ddd, DD MMM\'}} from {{ctrl.modelPricesToDestination.DestinationLocation | cityAndAirportFullName:ctrl.lastRequestPosCountryOverride}}</small><!-- format: Sun, 05 Dec-->\r\n        </li>\r\n    </ul></script>'),e.put("../widgets/view-templates/widgets/ErrorDisplayWidget.tpl.html",'<div class="panel panel-default" ng-if=anyErrorPresent()><div class=panel-heading><h4 class=panel-title>Service errors</h4></div><div class=panel-body>No results found for {{lastSearchCriteriaAirports.departureAirport | cityAndAirportFullName}} to {{lastSearchCriteriaAirports.arrivalAirport | cityAndAirportFullName}}<div class="well well-sm"><ul><li ng-repeat="error in errors track by $index"><p class=text-danger>{{error}}</p></li></ul></div></div></div>'),e.put("../widgets/view-templates/widgets/FareForecastWidget.tpl.html","<div class=\"SDSFareForecastWidget panel panel-default\" ng-if=\"ctrl.isAnyDataToDisplayAvailable() && ctrl.showRecommendationPolicy()\"><div class=panel-body><strong>Advice:</strong> <strong ng-class=\"{SDSRecommendationBuy: fareForecast.recommendation=='buy', SDSRecommendationWait: fareForecast.recommendation=='wait', SDSRecommendationUnknown: fareForecast.recommendation=='unknown'}\">{{fareForecast.recommendation | uppercase}}</strong><div ng-switch=fareForecast.recommendation><p ng-switch-when=buy>Prices may rise within 7 days</p><p ng-switch-when=wait>Prices may drop within 7 days</p><p ng-switch-when=unknown>Cannot predict prices within 7 days</p></div></div></div>"),e.put("../widgets/view-templates/widgets/FareNabberWidget.tpl.html",'<div ng-transclude><script type=text/ng-template id=FareNabberSubscriptionFormModal.html.tpl><div class="SDSWidget SDSFareNabberWidget">\r\n\r\n            <div class="modal-header">\r\n\r\n                <!-- Bootstrap way for close icon in top right corner -->\r\n                <button type="button" class="close" aria-label="Close" ng-click="cancel()">\r\n                    <span aria-hidden="true">&times;</span>\r\n                </button>\r\n\r\n                <h3 class="modal-title">Subscribe to price alerts</h3>\r\n            </div>\r\n\r\n            <form class="form-horizontal" name="fareNabberForm" novalidate ng-submit="fareNabberForm.$valid && subscribe()">\r\n                <div class="modal-body">\r\n\r\n                    <div class="form-group" ng-class="{\'has-error\':fareNabberForm.$submitted && fareNabberForm.subscriberEmail.$invalid}" ng-if="showEmailField">\r\n                        <label for="SDSFareNabberForm_SubscriberEmail" class="input-sm col-sm-3 control-label">Email</label>\r\n                        <div class="col-sm-9">\r\n                            <input type="email" id="SDSFareNabberForm_SubscriberEmail" name="subscriberEmail" class="form-control input-sm col-sm-10" placeholder="Type your email" autofocus required ng-model="subscriberEmail">\r\n                            <div class="help-block" ng-show="fareNabberForm.$submitted && fareNabberForm.subscriberEmail.$invalid">\r\n                                <small ng-show="fareNabberForm.subscriberEmail.$error.required">Input your email</small>\r\n                                <small ng-show="fareNabberForm.subscriberEmail.$error.email">Invalid email</small>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="form-group" ng-class="{\'has-error\':fareNabberForm.$submitted && fareNabberForm.origin.$invalid}">\r\n                        <label for="SDSFareNabberForm_Origin" class="input-sm col-sm-3 control-label">Trip departure airport or city</label>\r\n                        <div class="col-sm-9">\r\n                            <input type="text" class="form-control input-sm" id="SDSFareNabberForm_Origin" name="origin" placeholder="Trip departure airport or city" required autocomplete="off" ng-model="origin">\r\n                            <!--<input-airport class="form-control input-sm" id="SDSFareNabberForm_Origin" name="origin" required airport="origin" preselected-airport="origin"></input-airport>-->\r\n                            <!--<input type="text" id="SDSFareNabberForm_Origin" name="origin" class="form-control input-sm" placeholder="Trip departure airport or city" required autocomplete="off" ng-model="origin"-->\r\n                            <!--typeahead="airport as (airport | airportNameWithIATACode) for airport in airports | filter:$viewValue | airportNameBestSuggestionComparator:$viewValue | limitTo:30" typeahead-min-length="2" typeahead-wait-ms="50">-->\r\n                            <div class="help-block" ng-show="fareNabberForm.$submitted && fareNabberForm.origin.$invalid">\r\n                                <small ng-show="fareNabberForm.origin.$error.required">Type departure airport or city</small>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="form-group" ng-class="{\'has-error\':fareNabberForm.$submitted && fareNabberForm.destination.$invalid}">\r\n                        <label for="SDSFareNabberForm_Destination" class="input-sm col-sm-3 control-label">Trip arrival airport or city</label>\r\n                        <div class="col-sm-9">\r\n                            <input type="text" class="form-control input-sm" id="SDSFareNabberForm_Destination" name="destination" placeholder="Trip arrival airport or city" required autocomplete="off" ng-model="destination">\r\n                            <!--<input type="text" id="SDSFareNabberForm_Destination" name="destination" class="form-control input-sm" placeholder="Trip arrival airport or city" required autocomplete="off" ng-model="destination"-->\r\n                               <!--typeahead="airport as (airport | airportNameWithIATACode) for airport in airports | filter:$viewValue | airportNameBestSuggestionComparator:$viewValue | limitTo:30" typeahead-min-length="2" typeahead-wait-ms="50">-->\r\n                            <div class="help-block" ng-show="fareNabberForm.$submitted && fareNabberForm.destination.$invalid">\r\n                                <small ng-show="fareNabberForm.destination.$error.required">Type arrival airport or city</small>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="form-group">\r\n                        <label for="SDSFareNabberForm_PreferredAirlines" class="input-sm col-sm-3 control-label">Preferred Airlines</label>\r\n                        <div class="col-sm-9">\r\n                            <!-- do not style select-multiple-airlines with classes input-sm form-control and so on. the css for ui-select already takes care of bootstrap style, adding these classes additionally only messes the style-->\r\n                            <select-multiple-airlines id="SDSFareNabberForm_PreferredAirlines" name="PreferredAirlines"\r\n                                 min-date="defaultOptions.earliestTravelStart" airlines="preferredAirlines">\r\n                            </select-multiple-airlines>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <flexible-departure-return-dates ng-model="preferences" fdrd-form-name="fdrdForm" min-date="defaultOptions.earliestTravelStart"></flexible-departure-return-dates>\r\n\r\n                    <div class="form-group">\r\n                        <div class="col-lg-9 col-lg-offset-3">\r\n                            <div class="checkbox">\r\n                                <label for="SDSFareNabberForm_DirectFlightsOnly">\r\n                                    <input type="checkbox" name="DirectFlightsOnly" id="SDSFareNabberForm_DirectFlightsOnly" ng-model="directFlightsOnly">\r\n                                    Direct flights only\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="form-group">\r\n                        <div class="col-lg-9 col-lg-offset-3">\r\n                            <div class="checkbox">\r\n                                <label for="SDSFareNabberForm_AllowInterline">\r\n                                    <input type="checkbox" name="AllowInterline" id="SDSFareNabberForm_AllowInterline" ng-model="defaultOptions.allowInterline">\r\n                                    Allow multiple airline itineraries\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="form-group">\r\n                        <label for="SDSFareNabberForm_PaxNumber" class="input-sm control-label col-sm-3">Number of {{passengerType | passengerType | lowercase}} passengers</label>\r\n                        <div class="col-sm-9">\r\n                            <input type="number" id="SDSFareNabberForm_PaxNumber" name="passengerCount" value="1" min="1" max="9" required class="form-control input-sm SDSPaxNbrInput" string-to-number ng-model="passengerCount">\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="form-group">\r\n                        <div ng-class="{\'has-error\':fareNabberForm.$submitted && fareNabberForm.maximumAcceptablePrice.$invalid}">\r\n                            <label for="SDSFareNabberForm_MaximumAcceptablePrice" class="input-sm col-sm-3 control-label">Maximum acceptable price</label>\r\n\r\n                            <div class="col-sm-3">\r\n                                <input type="number" step="50" id="SDSFareNabberForm_MaximumAcceptablePrice" name="maximumAcceptablePrice"\r\n                                       class="form-control input-sm" placeholder="Max price" min="0" required string-to-number ng-model="maximumAcceptablePrice">\r\n                                <div class="help-block" ng-show="fareNabberForm.$submitted && fareNabberForm.maximumAcceptablePrice.$invalid">\r\n                                    <small ng-show="fareNabberForm.maximumAcceptablePrice.$error.required">Type maximum acceptable price</small>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="col-sm-3">\r\n                                <input type="text" id="SDSFareNabberForm_MaximumAcceptablePriceCurrency" name="maximumAcceptablePriceCurrency" class="form-control input-sm" placeholder="currency" required ng-model="maximumAcceptablePriceCurrency" readonly>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="form-group" ng-class="{\'has-error\':fareNabberForm.$submitted && fareNabberForm.subscriptionExpiryDate.$invalid}">\r\n                        <label for="SDSFareNabberForm_SubscriptionExpiryDate" class="input-sm col-sm-3 control-label">Expire subscription after</label>\r\n                        <div class="col-sm-3">\r\n                            <input-date class="input-group" id="SDSFareNabberForm_SubscriptionExpiryDate"\r\n                                        name="subscriptionExpiryDate" class="form-control input-sm" ng-model="subscriptionExpiryDate" required="true"></input-date>\r\n                            <div class="help-block" ng-show="fareNabberForm.$submitted && fareNabberForm.subscriptionExpiryDate.$invalid">\r\n                                <small ng-show="fareNabberForm.subscriptionExpiryDate.$error.required">Choose expiration date</small>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="modal-footer">\r\n                    <button type="submit" class="btn btn-primary">Subscribe</button>\r\n                    <button class="btn btn-warning" ng-click="cancel()">Cancel</button>\r\n                </div>\r\n            </form>\r\n\r\n        </div></script><script type=text/ng-template id=FareNabberSubscriptionSuccessful.html.tpl><div class="modal-body">\r\n            <span class="text-success center-block">You subscribed successfully to the price alert. Thank you!</span>\r\n        </div>\r\n        <div class="modal-footer">\r\n            <button class="btn btn-primary center-block" ng-click="ok()">OK</button>\r\n        </div></script></div>'),e.put("../widgets/view-templates/widgets/FareRangeWidget.tpl.html",'<div class="SDSFareRangeWidget panel panel-default SDS-panel" ng-if="isAnyDataToDisplayAvailable() && showFareRangeToCustomer()"><div class="panel-heading SDS-panel-heading text-center"><h4 class=panel-title>Fare Range</h4></div><div class="panel-body SDS-panel-body"><high-low-median-current-chart class=center-block high-value={{fareRangeSummary.overallMaximumFare}} high-text=Highest low-value={{fareRangeSummary.overallMinimumFare}} low-text=Lowest median-value={{fareRangeSummary.overallMedianFare}} median-text=Median current-value={{currentLowestFare}} current-text="Fare found" values-filter=currency values-filter-arguments={{fareRangeSummary.currency}}></high-low-median-current-chart><ng-transclude></ng-transclude></div></div>'),e.put("../widgets/view-templates/widgets/ItinerariesFilterPanelWidget.tpl.html",'<filter-panel owner-id={{ownerId}}><values-filter filter-panel-id={{id}} type=discrete label="Number of stops" filterable-property-name=getNumberOfStops values-display-filter=humanizeNumberOfStops custom-currency-filter=isoCurrency></values-filter><values-filter filter-panel-id={{id}} type=discreteListAllRequired label="Layover airports" filterable-property-name=getConnectionAirports values-display-filter=cityAndAirportFullNameNoAirportWord custom-currency-filter=isoCurrency></values-filter><values-filter filter-panel-id={{id}} type=discrete label="Departure airports" filterable-property-name=getTripDepartureAirport values-display-filter=cityAndAirportFullNameNoAirportWord custom-currency-filter=isoCurrency></values-filter><values-filter filter-panel-id={{id}} type=discrete label="Arrival airports" filterable-property-name=getFirstLegArrivalAirport values-display-filter=cityAndAirportFullNameNoAirportWord custom-currency-filter=isoCurrency></values-filter><values-filter filter-panel-id={{id}} type=boolean label="Depart/Return same" filterable-property-name=isDepartureAndReturnSameAirport></values-filter><values-filter filter-panel-id={{id}} type=discrete label=Airline filterable-property-name=getFirstMarketingAirline values-display-filter=airlineFullName custom-currency-filter=isoCurrency></values-filter><values-filter filter-panel-id={{id}} type=rangeMonetaryAmount label=Price filterable-property-name=totalFareAmountWithCurrency can-filter-only-on-max-value=true custom-currency-filter=isoCurrency></values-filter><values-filter filter-panel-id={{id}} type=rangeDateTime label="Outbound flight departure" filterable-property-name=getOutboundDepartureDateTime values-display-filter=makeMomentAndFormat values-display-filter-options="hh:mm a"></values-filter><values-filter filter-panel-id={{id}} type=rangeDateTime label="Inbound flight arrival" filterable-property-name=getInboundArrivalDateTime values-display-filter=makeMomentAndFormat values-display-filter-options="hh:mm a"></values-filter><values-filter filter-panel-id={{id}} type=range label="Travel duration" filterable-property-name=outboundLegDuration values-display-filter=makeMomentDurationAndFormat values-display-filter-options=minute can-filter-only-on-max-value=true></values-filter></filter-panel>'),e.put("../widgets/view-templates/widgets/ItinerariesListWidget.tpl.html",'<div class="SDSWidget SDSResponsiveElement"><itinerary-summary-price-per-stops-per-airline ng-if=isAnyDataToDisplayAvailable() class=SDS-visible-lg summary=summaryPerStopsPerAirline summary-item-clicked-callback=summaryItemClickedCallback(itineraryId)></itinerary-summary-price-per-stops-per-airline><div class="panel panel-default" ng-if=isAnyDataToDisplayAvailable()><div class="panel-heading SDSPaddingSmall"><div class=SDS-row><div class="SDS-col-element-xxl-3 SDS-lead">{{permittedItinerariesCount}} options found for {{searchCriteriaDepartureAirport | cityAndAirportFullName}} to {{searchCriteriaArrivalAirport | cityAndAirportFullName}}</div><div class=SDS-col-element-xxl-7><uib-accordion class=SDS-hidden-lg close-others=false><div uib-accordion-group is-open=true><uib-accordion-heading><span class=text-info>Cheapest:<div class=pull-right>{{bestItinerariesSummary.cheapest.totalFareAmountWithCurrency.amount | isoCurrency:bestItinerariesSummary.cheapest.totalFareAmountWithCurrency.currency}}</div><div class=clearfix></div></span></uib-accordion-heading><itinerary-short-summary itin=bestItinerariesSummary.cheapest itinerary-clicked-callback=summaryItemClickedCallback(itineraryId)></itinerary-short-summary></div><div uib-accordion-group><uib-accordion-heading><span class=text-info>Best:<div class=pull-right>{{bestItinerariesSummary.best.totalFareAmountWithCurrency.amount | isoCurrency:bestItinerariesSummary.best.totalFareAmountWithCurrency.currency}}</div><div class=clearfix></div></span></uib-accordion-heading><itinerary-short-summary itin=bestItinerariesSummary.best itinerary-clicked-callback=summaryItemClickedCallback(itineraryId)></itinerary-short-summary></div><div uib-accordion-group><uib-accordion-heading><span class=text-info>Shortest:<div class=pull-right>{{bestItinerariesSummary.shortest.totalFareAmountWithCurrency.amount | isoCurrency:bestItinerariesSummary.shortest.totalFareAmountWithCurrency.currency}}</div><div class=clearfix></div></span></uib-accordion-heading><itinerary-short-summary itin=bestItinerariesSummary.shortest itinerary-clicked-callback=summaryItemClickedCallback(itineraryId)></itinerary-short-summary></div></uib-accordion><uib-tabset class=SDS-visible-lg><uib-tab heading="Cheapest: {{bestItinerariesSummary.cheapest.totalFareAmountWithCurrency.amount | isoCurrency:bestItinerariesSummary.cheapest.totalFareAmountWithCurrency.currency}}"><itinerary-short-summary itin=bestItinerariesSummary.cheapest itinerary-clicked-callback=summaryItemClickedCallback(itineraryId)></itinerary-short-summary></uib-tab><uib-tab heading="Best: {{bestItinerariesSummary.best.totalFareAmountWithCurrency.amount | isoCurrency:bestItinerariesSummary.best.totalFareAmountWithCurrency.currency}}"><itinerary-short-summary itin=bestItinerariesSummary.best itinerary-clicked-callback=summaryItemClickedCallback(itineraryId)></itinerary-short-summary></uib-tab><uib-tab heading="Shortest: {{bestItinerariesSummary.shortest.totalFareAmountWithCurrency.amount | isoCurrency:bestItinerariesSummary.shortest.totalFareAmountWithCurrency.currency}}"><itinerary-short-summary itin=bestItinerariesSummary.shortest itinerary-clicked-callback=summaryItemClickedCallback(itineraryId)></itinerary-short-summary></uib-tab></uib-tabset></div><div class=SDS-col-element-xxl-2><input-select-dropdown class=pull-right available-sort-criteria=availableSortCriteria selected-first-sort-criterion=selectedFirstCriterion on-sorting-criteria-changed=onSortingCriteriaChanged() label="Sort by"></input-select-dropdown></div></div></div><div class="panel-body SDS-no-paddings"><ul class="list-unstyled SDSTopLevelList"><li class=SDS-row ng-repeat="itinerary in permittedItinerariesSortedCurrentPageView"><itinerary id={{::getItinAnchorId(itinerary.id)}} itin=::itinerary itinerary-selected-callback="selectedItineraryCallback({itinerary: itinerary})" enable-itinerary-select-button={{::enableItinerarySelectButton}}></itinerary></li></ul></div><div class="panel-footer SDS-panel-footer"><ul uib-pagination class="pagination-sm pull-right" total-items=permittedItinerariesCount items-per-page=itemsPerPage ng-model=paginationSettings.currentPage boundary-links=true rotate=false></ul><div class=clearfix></div></div></div></div>'),e.put("../widgets/view-templates/widgets/Itinerary.tpl.html",'<div class="SDSWidget SDSResponsiveElement"><ul class="SDSLegList list-unstyled"><li><div class=SDS-row><ul class="SDS-col-element-xxs-12 SDS-hidden-xs list-inline list-unstyled"><li><airline-logo airline-code={{::itin.allMarketingAirlines[0]}}></airline-logo><small>{{::itin.allMarketingAirlines[0] | airlineFullName}}</small> <small>and other airlines</small></li></ul><ul class="SDS-col-element-xxs-9 SDS-visible-xs list-inline list-unstyled"><li ng-repeat="marketingAirline in ::itin.allMarketingAirlines"><ul class="list-unstyled list-inline"><li><airline-logo airline-code={{::marketingAirline}}></airline-logo></li><li><small>{{::marketingAirline | airlineFullName}}</small></li></ul></li></ul><ul class="SDS-col-element-lg-3 SDS-visible-lg list-inline list-unstyled text-right" ng-if="::itin.hasRedEyeFlight || itin.hasShortConnection || itin.hasLongConnection || itin.hasLowSeatsRemaining" ns-popover ns-popover-template=ItineraryIconsLegendTemplate ns-popover-trigger=mouseenter ns-popover-placement=top|right ns-popover-timeout=0.2><li ng-if=::itin.hasRedEyeFlight class=SDSIconRedEye></li><li ng-if=::itin.hasShortConnection class=SDSIconHurryUpShortConnection></li><li ng-if=::itin.hasLongConnection class=SDSIconLongConnection></li><li ng-if=::itin.hasLowSeatsRemaining class=SDSIconFewSeatsLeft></li></ul></div></li><li ng-repeat="leg in ::itin.legs" ng-init="legIndex = $index"><div class="SDSLegSummary SDS-row"><div class="SDS-col-element-xxs-4 SDS-col-element-md-4 SDS-col-element-lg-5"><span class="SDS-visible-xl-inline-block SDSTravelDateLong">{{::leg.departureDateTime.format(\'ddd, DD MMM\')}}</span> <span class=SDSTravelTime>{{::leg.departureDateTime.format(\'HH:mm\')}}</span> <span ng-class="::{\'bg-warning\':leg.hasAirportChangeAtDeparture}"><span class="badge SDSBadgeInfo">{{::leg.departureAirport}}</span><span class="SDS-visible-xl-inline-block SDSFullAirportName">{{::leg.departureAirport | cityAndAirportFullName}}</span></span></div><div class=SDS-col-element-xxs-1><div class=SDSIconAirplaneArrow></div></div><div class="SDS-col-element-xxs-4 SDS-col-element-md-4 SDS-col-element-lg-4"><span class=SDSTravelTime>{{::leg.arrivalDateTime.format(\'HH:mm\')}}</span> <span ng-class="::{\'bg-warning\':leg.hasAirportChangeAtArrival}"><span class="badge SDSBadgeInfo">{{::leg.arrivalAirport}}</span><span class="SDS-visible-xl-inline-block SDSFullAirportName">{{::leg.arrivalAirport | cityAndAirportFullName}}</span></span></div><div class="SDS-col-element-xxs-3 SDS-col-element-md-3 SDS-col-element-lg-2"><span>{{::leg.getDuration() | humanizeMinutes }}</span> <span class=SDS-visible-md-inline-block><ng-pluralize count=::leg.getNumberOfStops() when="\r\n                                            {\'0\': \'Non-stop\',\r\n                                             \'1\': \'1 stop\',\r\n                                             \'other\': \'{} stops\'}\r\n                                            "></ng-pluralize></span> <span ng-if=::leg.hasConnection()>{{::leg.getConnectionAirports() | stringJoiner:\',\':\'(\':\')\'}}</span></div></div><span ng-if="::itin.hasChangeOfAirportsAtAnyStopover() && $first" ng-class="::{\'ng-hide\':!flightDetailsAlwaysShown}" class="SDS-hidden-lg SDSItineraryFlightDetails text-warning">Please note: Trip has change of airports at stopover. Please inspect the airports carefully.</span> <span ng-if="::itin.departureAndArrivalDifferentForComplexTravel() && $first" ng-class="::{\'ng-hide\':!flightDetailsAlwaysShown}" class="SDS-hidden-lg SDSItineraryFlightDetails text-warning">Please note: Trip departure and return airports are not the same. Please inspect the airports carefully.</span><ul ng-class="::{\'ng-hide\':!flightDetailsAlwaysShown}" class="list-group SDSItineraryFlightDetails"><li class="list-group-item SDSPaddingSmall" ng-repeat-start="flight in ::leg.segments" ng-init="segmentIndex = $index"><ul class=list-unstyled><li><div class=SDS-row><strong><airline-logo airline-code={{::flight.marketingAirline}}></airline-logo>{{::flight.marketingAirline}} {{::flight.marketingFlightNumber}} {{::flight.marketingAirline | airlineFullName}}</strong></div></li><li><div class="SDS-row SDSFlightDepartureOrArrival"><div class=SDS-col-element-sm-4><span class=SDSLabelForTravelDate>Depart:</span> {{::flight.departureDateTime.format(\'ddd, DD MMM HH:mm\')}}</div><div class=SDS-col-element-sm-8><span class="SDSAirport badge SDSBadgeInfo">{{::flight.departureAirport}}</span> <span class=SDSFullAirportName>{{::flight.departureAirport | cityAndAirportFullName}}, {{::flight.departureAirport | airportCountry}}</span></div></div></li><li><div class="SDS-row SDSFlightDepartureOrArrival"><div class=SDS-col-element-sm-4><span class=SDSLabelForTravelDate>Arrive:</span> {{::flight.arrivalDateTime.format(\'ddd, DD MMM HH:mm\')}}</div><div class=SDS-col-element-sm-8><span class="SDSAirport badge SDSBadgeInfo">{{::flight.arrivalAirport}}</span> <span class=SDSFullAirportName>{{::flight.arrivalAirport | cityAndAirportFullName}}, {{::flight.arrivalAirport | airportCountry}}</span></div></div></li><li><div class=SDS-row><div class=SDS-col-element-lg-2><small>{{::flight.equipment | aircraftName}}</small></div><div class="SDS-col-element-lg-2 SDS-col-element-xl-1"><small>{{::itin.getSeatsRemaining(legIndex, segmentIndex)}} seats left</small></div><div class="SDS-col-element-lg-1 SDS-col-element-xl-1"><small>{{::itin.getCabin(legIndex, segmentIndex) | cabin}}</small></div><div class="SDS-col-element-lg-2 SDS-col-element-xl-1" ng-if="::itin.getMeals(legIndex, segmentIndex)"><small>Meal: {{::itin.getMeals(legIndex, segmentIndex) | meal}}</small></div><div class="SDS-col-element-lg-3 SDS-col-element-xl-2" ng-if="::itin.getBaggageAllowance(legIndex, segmentIndex)"><small>Baggage allowance: {{::itin.getBaggageAllowance(legIndex, segmentIndex) | baggageAllowance}}</small></div><div class="SDS-col-element-lg-2 SDS-col-element-xl-2" ng-if="::itin.getBrandsMatchedToFlight(legIndex, segmentIndex).length > 0"><small>Brands matched: {{::itin.getBrandsMatchedToFlight(legIndex, segmentIndex) | stringJoiner}}</small></div></div></li></ul></li><li ng-repeat-end ng-if=::!$last class=list-group-item>Connection {{::leg.getConnectionTimeMinutes(segmentIndex) | humanizeMinutes}}</li></ul></li><li><div ng-if=::itin.hasAnyBrands() class="ng-hide SDSItineraryBrandDetails"><ng-include src="\'../widgets/view-templates/widgets/ItineraryBrandDetails.tpl.html\'"></ng-include></div></li><span ng-if=::itin.hasChangeOfAirportsAtAnyStopover() class="SDS-visible-lg text-warning">Please note: Trip has change of airports at stopover. Please inspect the airports carefully.</span> <span ng-if=::itin.departureAndArrivalDifferentForComplexTravel() class="SDS-visible-lg text-warning">Please note: Trip departure and return airports are not the same. Please inspect the airports carefully.</span></ul><div class=SDSPriceSummary><div class=pull-left><span ng-if=::itin.isNonRefundableIndicatorDefined() ng-class="::{\'ng-hide\':!priceDetailsAlwaysShown}" class="SDSItineraryPriceDetails SDSItineraryTogglePriceDetails">{{::itin.itineraryPricingInfo.nonRefundableIndicator | ticketRefundability}}</span> <a ng-show=::!flightDetailsAlwaysShown href="" class="SDS-hidden-lg SDSItineraryShowPriceDetails SDSItineraryShowFlightDetails SDSItineraryHideWhenFlightDetailsShown">Show Details</a> <a ng-show=::!flightDetailsAlwaysShown href="" class="SDS-hidden-lg ng-hide SDSItineraryHidePriceDetails SDSItineraryHideFlightDetails SDSItineraryFlightDetails">Hide Details</a> <a ng-show=::!flightDetailsAlwaysShown href="" class="SDS-visible-lg SDSItineraryToggleFlightDetails">Flight Details</a> <a href="" class="SDS-visible-lg SDSItineraryToggleBrandDetails" ng-show=::itin.hasAnyBrands()>Brand Details</a></div><div><ul class="list-unstyled pull-right"><li>Total price: <strong>{{::itin.totalFareAmountWithCurrency.amount | isoCurrency:itin.totalFareAmountWithCurrency.currency}}</strong></li><li ng-show=::!priceDetailsAlwaysShown><a href="" class="SDS-visible-lg ng-show SDSItineraryTogglePriceDetails">Price Details</a></li><li ng-class="::{\'ng-hide\':!priceDetailsAlwaysShown}" class="SDSItineraryPriceDetails SDSItineraryTogglePriceDetails">Base fare: {{::itin.baseFareAmount | isoCurrency:itin.baseFareCurrency}}</li><li ng-class="::{\'ng-hide\':!priceDetailsAlwaysShown}" class="SDSItineraryPriceDetails SDSItineraryTogglePriceDetails">Taxes: {{::itin.totalTaxAmount | isoCurrency:itin.totalTaxCurrency}}</li><li ng-if=::itin.baggageCharges ng-class="::{\'ng-hide\':!priceDetailsAlwaysShown}" class="SDSItineraryPriceDetails SDSItineraryTogglePriceDetails">Bag charges: {{::itin.baggageCharges | isoCurrency:itin.totalTaxCurrency}}</li></ul></div><div class=clearfix></div><div ng-if=::!hideItinerarySelectButton><div ng-class="::{\'ng-hide\':!flightDetailsAlwaysShown}" class="SDSItineraryFlightDetails SDSTopBuffer-xs SDS-hidden-md"></div><button type=button ng-disabled={{::!enableItinerarySelectButton}} ng-click=selectItineraryClicked(itin) ng-class="::{\'ng-hide\':!flightDetailsAlwaysShown}" class="SDSItineraryFlightDetails SDSCheckoutButton btn btn-primary btn-sm pull-right SDS-hidden-md">Select</button><div class="SDSTopBuffer-xs SDS-visible-md"></div><button type=button ng-disabled={{::!enableItinerarySelectButton}} ng-click=selectItineraryClicked(itin) class="SDSCheckoutButton btn btn-primary btn-sm pull-right SDS-visible-md">Select</button></div></div></div><script type=text/ng-template id=ItineraryIconsLegendTemplate><div class="SDSItineraryIconsLegendTemplate">\r\n        <div class="triangle"></div>\r\n        <dl>\r\n            <dt ng-if="::itin.hasRedEyeFlight" class="SDSIconRedEye"></dt>\r\n            <dd ng-if="::itin.hasRedEyeFlight">Red-eye flight</dd>\r\n            <dt ng-if="::itin.hasShortConnection" class="SDSIconHurryUpShortConnection"></dt>\r\n            <dd ng-if="::itin.hasShortConnection">Short connection, hurry up</dd>\r\n            <dt ng-if="::itin.hasLongConnection" class="SDSIconLongConnection"></dt>\r\n            <dd ng-if="::itin.hasLongConnection">Long connection, long wait time at airport</dd>\r\n            <dt ng-if="::itin.hasLowSeatsRemaining" class="SDSIconFewSeatsLeft"></dt>\r\n            <dd ng-if="::itin.hasLowSeatsRemaining">Few seats left</dd>\r\n        </dl>\r\n    </div></script>'),e.put("../widgets/view-templates/widgets/ItineraryBrandDetails.tpl.html","<ul class=list-group><li class=list-group-item><table class=\"SDSTable table table-bordered table-condensed\"><thead><tr><th class=text-center>Brands</th><th class=text-center>{{itin.itineraryPricingInfo.summaries.uniqueBrandsMatchedToAllFlights | stringJoiner}} <small><em>(main fare)</em></small></th><th class=text-center ng-repeat=\"brand in itin.additionalFaresPricingInfos\">{{brand.summaries.uniqueBrandsMatchedToAllFlights | stringJoiner}} <span ng-if=!brand.fareReturned>Fare not returned for brands. {{brand.getTranslatedFareStatus()}}</span></th></tr></thead><tbody><tr><td class=text-center>Total fare</td><td class=text-center><strong>{{itin.totalFareAmountWithCurrency.amount | isoCurrency:itin.totalFareAmountWithCurrency.currency}}</strong></td><td class=text-center ng-repeat=\"brand in itin.additionalFaresPricingInfos\"><strong>{{brand.fareAmounts.totalFare.amount | isoCurrency: brand.fareAmounts.totalFare.currency}}</strong></td></tr><tr><td class=text-center>Cabins</td><td class=text-center>{{itin.itineraryPricingInfo.summaries.uniqueCabins | forEachApplyFilter:'cabin' | stringJoiner:'/'}}</td><td class=text-center ng-repeat=\"brand in itin.additionalFaresPricingInfos\">{{brand.summaries.uniqueCabins | forEachApplyFilter:'cabin' | stringJoiner}}</td></tr><tr><td class=text-center>Ticket refundable</td><td class=text-center>{{itin.itineraryPricingInfo.nonRefundableIndicator | ticketRefundability}}</td><td class=text-center ng-repeat=\"brand in itin.additionalFaresPricingInfos\">{{brand.nonRefundableIndicator | ticketRefundability}}</td></tr><tr><td class=text-center>OB Fees</td><td class=text-center><span ng-repeat=\"obFee in itin.itineraryPricingInfo.OBFees\">{{obFee.amount | isoCurrency: obFee.currency}}</span></td><td class=text-center ng-repeat=\"brand in itin.additionalFaresPricingInfos\"><span ng-repeat=\"obFee in brand.OBFees\">{{obFee.amount | isoCurrency: obFee.currency}}</span></td></tr><tr><td class=text-center>Baggage allowance</td><td class=text-center>{{itin.itineraryPricingInfo.summaries.uniqueBaggageAllowance | forEachApplyFilter:'baggageAllowance' | stringJoiner:'/'}}</td><td class=text-center ng-repeat=\"brand in itin.additionalFaresPricingInfos\">{{brand.summaries.uniqueBaggageAllowance | forEachApplyFilter:'baggageAllowance' | stringJoiner:'/'}}</td></tr><tr><td class=text-center>Meals</td><td class=text-center>{{itin.itineraryPricingInfo.summaries.uniqueMeals | forEachApplyFilter:'meal' | stringJoiner:'/'}}</td><td class=text-center ng-repeat=\"brand in itin.additionalFaresPricingInfos\">{{brand.summaries.uniqueMeals | forEachApplyFilter:'meal' | stringJoiner:'/'}}</td></tr></tbody></table></li></ul>"),e.put("../widgets/view-templates/widgets/ItineraryPricePerStopsPerAirlineSummary.tpl.html",'<div class="panel panel-default" ng-if=isAnyDataToDisplayAvailable()><div class="panel-heading text-center SDS-responsive-panel-heading"><h4 class=panel-title>Lowest prices by airline and number of stops</h4></div><div class="panel-body SDS-responsive-panel-body"><div class=table-responsive><table class="SDSPricePerStopsPerAirlineSummaryTable table table-hover table-bordered table-condensed"><thead><th></th><th class=success>Lowest price</th><th class=text-center ng-repeat="item in summary.airlineSummaries"><airline-logo airline-code={{item.airline}}></airline-logo><div>{{item.airline | airlineFullName}}</div></th></thead><tbody><tr ng-if=summary.totalSummary.nonStopLowestPrice><td>Non-stop</td><td class=success ng-click=itemClicked(summary.totalSummary.nonStopLowestPriceItineraryId)><a>{{summary.totalSummary.nonStopLowestPrice | isoCurrency:summary.totalSummary.totalFareCurrency}}</a></td><td ng-repeat="item in summary.airlineSummaries" ng-class="{success: item.isCheapestNonStop}" ng-click=itemClicked(item.nonStopLowestPriceItineraryId)><a>{{item.nonStopLowestPrice | isoCurrency:summary.totalSummary.totalFareCurrency}}</a></td></tr><tr ng-if=summary.totalSummary.oneStopLowestPrice><td>1 Stop</td><td class=success ng-click=itemClicked(summary.totalSummary.oneStopLowestPriceItineraryId)><a>{{summary.totalSummary.oneStopLowestPrice | isoCurrency:summary.totalSummary.totalFareCurrency}}</a></td><td ng-repeat="item in summary.airlineSummaries" ng-class="{success: item.isCheapestOneStopLowestPrice}" ng-click=itemClicked(item.oneStopLowestPriceItineraryId)><a>{{item.oneStopLowestPrice | isoCurrency:summary.totalSummary.totalFareCurrency}}</a></td></tr><tr ng-if=summary.totalSummary.twoAndMoreStopsLowestPrice><td>2+ Stops</td><td class=success ng-click=itemClicked(summary.totalSummary.twoAndMoreStopsLowestPriceItineraryId)><a>{{summary.totalSummary.twoAndMoreStopsLowestPrice | isoCurrency:summary.totalSummary.totalFareCurrency}}</a></td><td ng-repeat="item in summary.airlineSummaries" ng-class="{success: item.isCheapestTowOrMoreStopsLowestPrice}" ng-click=itemClicked(item.twoAndMoreStopsLowestPriceItineraryId)><a>{{item.twoAndMoreStopsLowestPrice | isoCurrency:summary.totalSummary.totalFareCurrency}}</a></td></tr></tbody></table></div></div></div>'),e.put("../widgets/view-templates/widgets/ItineraryShortSummary.tpl.html",'<div><div class="SDS-row SDSLegShortSummary" ng-click=itemClicked(itinerary.id)><div class=SDS-col-element-xl-3><a><img class=SDSAirlineLogo ng-src=https://d1xzms9o977hvd.cloudfront.net/widgets/static/airlineLogos/{{itinerary.getFirstLeg().getFirstFlightMarketingAirline()}}.PNG fallback-src=https://d1xzms9o977hvd.cloudfront.net/widgets/static/airlineLogos/generic_airline.PNG> {{itinerary.getFirstLeg().getFirstFlightMarketingAirline() | airlineFullName}}</a></div><div class=SDS-col-element-xl-9><ul class="list-inline list-unstyled"><li class=SDSTravelDateLong>{{itinerary.getFirstLeg().departureDateTime.format(\'ddd, DD MMM\')}}</li><li class=SDSTravelTime>{{itinerary.getFirstLeg().departureDateTime.format(\'HH:mm\')}}</li><li class="SDSAirport badge SDSBadgeInfo">{{itinerary.getFirstLeg().departureAirport}}</li><li class=SDSIconAirplaneArrow></li><li class=SDSTravelTime>{{itinerary.getFirstLeg().arrivalDateTime.format(\'HH:mm\')}}</li><li class="SDSAirport badge SDSBadgeInfo">{{itinerary.getFirstLeg().arrivalAirport}}</li></ul></div></div></div>'),e.put("../widgets/view-templates/widgets/LeadPriceChartWidget.tpl.html",'<div class="SDSLeadPriceChart panel panel-default" ng-show=ctrl.isAnyDataToDisplayAvailable()><div class="panel-heading text-center"><h4 class=panel-title>Lead Prices</h4></div><div class=panel-body ng-show=ctrl.isAnyDataToDisplayAvailable()><h5>Prices from <em>{{ctrl.lastSearchCriteriaAirports.departureAirport | cityAndAirportFullName}}</em> to <em>{{ctrl.lastSearchCriteriaAirports.arrivalAirport | cityAndAirportFullName}}</em>, from <strong>{{ctrl.minDateAndPricePair.totalFareAmount | isoCurrency:ctrl.minDateAndPricePair.currency}}</strong> at <strong>{{ctrl.minDateAndPricePair.date.format(\'D MMM\')}}</strong></h5><div><canvas ng-click=ctrl.chartClicked($event)></canvas></div></div><div class=panel-footer><nav ng-show=ctrl.isAnyDataToDisplayAvailable()><ul class=pager><li class=previous ng-class="{\'disabled SDSInactive\': !ctrl.navigationState.prevLinkActive}"><a href="" ng-click=ctrl.onEarlierRequested()>EARLIER</a></li><li class=next ng-class="{\'disabled SDSInactive\': !ctrl.navigationState.nextLinkActive}"><a href="" ng-click=ctrl.onLaterRequested()>LATER</a></li></ul></nav></div></div>'),e.put("../widgets/view-templates/widgets/LowFareHistory.tpl.html",'<div class="panel panel-default SDS-panel" ng-show=ctrl.isAnyDataToDisplayAvailable()><div class="panel-heading text-center" ng-hide=hideHeader><h4 class=panel-title>Low Fare History</h4></div><div class=panel-body><div class=text-center><small>Lowest fares from <em>{{ctrl.lastSearchCriteriaAirports.departureAirport | cityFullName}}</em> to <em>{{ctrl.lastSearchCriteriaAirports.arrivalAirport | cityFullName}}</em> in last {{historyDaysCount}} days</small></div><div><canvas></canvas></div></div></div>'),e.put("../widgets/view-templates/widgets/MapThemedDestinationFinderWidget.tpl.html",'<div class="SDSWidget SDSMapThemedDestinationFinderWidget" ng-if=isAnyDataToDisplayAvailable()><div class=SDSMapTopLegend><span class=SDSMapTopLegendElement ng-repeat="(tier, tierPriceFrom) in model.priceTiersStatistics.tiersPricesFrom"><img ng-src={{getTierIcon(tier)}}> from {{tierPriceFrom | isoCurrency:model.priceTiersStatistics.tiersPriceCurrency:0}}</span></div><ui-gmap-google-map center=closestAirportGeoCoordinates zoom=initialZoom refresh=true><ui-gmap-marker ng-repeat="offersForOneDestination in model.pricesForDestinationsGrouped track by offersForOneDestination.destination" coords=offersForOneDestination.geoCoordinates idkey=offersForOneDestination.destination click="offersForOneDestination.offerShown = !offersForOneDestination.offerShown" options=getMarkerOptions(offersForOneDestination.priceTier) events=markerEvents control=offersForOneDestination><ui-gmap-window show="offersForOneDestination.shortDetailsShown && !offersForOneDestination.offerShown" templateurl="\'../widgets/view-templates/partials/DestinationFinderOfferShortDetailsInfoView.tpl.html\'" templateparameter=offersForOneDestination closeclick="offersForOneDestination.shortDetailsShown = !offersForOneDestination.shortDetailsShown" ng-cloak></ui-gmap-window><ui-gmap-window show=offersForOneDestination.offerShown templateurl="\'../widgets/view-templates/partials/DestinationFinderOfferDetailsInfoView.tpl.html\'" templateparameter=offersForOneDestination closeclick="offersForOneDestination.offerShown = !offersForOneDestination.offerShown" ng-cloak></ui-gmap-window></ui-gmap-marker></ui-gmap-google-map></div>'),e.put("../widgets/view-templates/widgets/SearchFormInspirationalWidget.tpl.html",'<div class="panel panel-default SDSWidget SDSResponsiveElement SDSSearchFormInspirationalWidget"><div class=panel-body><form class=SDS-form-md-inline name=searchFormInspirational class=SDSTopBuffer-xs novalidate ng-submit=createNewSearchCriteria()><div class=SDS-row><div class=form-group ng-class="{\'has-error\':searchFormInspirational.$submitted && searchFormInspirational.Destination.$invalid}"><label for=SDSSearchFormInspirational_Destination class="input-sm control-label">Destination</label><input-airport id=SDSSearchFormInspirational_Destination name=Destination class="form-control input-sm" required airport=destination selectable-airports-for-this-pos-only={{selectableAirportsForThisPosOnly}}></input-airport></div><div ng-show="searchFormInspirational.$submitted && searchFormInspirational.Destination.$invalid" class=has-error><small class=help-block ng-show=searchFormInspirational.Destination.$error.required>Type destination airport or city</small></div><div class=form-group ng-if="isVisible(\'PointOfSaleCountry\')"><label for=SDSSearchFormInspirational_PreferredCabin class="input-sm control-label">Point of sale country</label><select name=PointOfSaleCountry class="form-control input-sm" id=SDSSearchFormInspirational_PreferredCabin ng-model=searchContext.pointOfSaleCountry ng-options="country.countryCode as country.countryName for country in pointOfSaleCountries"></select></div><button type=submit class="SDS-hidden-md btn btn-primary btn-block SDSTopBuffer-xs">Search</button> <button type=submit class="SDS-visible-md-inline-block SDS-form-inline-button btn btn-primary center-block">Search</button></div></form></div></div>'),e.put("../widgets/view-templates/widgets/SearchFormWidget.tpl.html",'<script type=text/ng-template id=GeneralSearchCriteria><div class="SDS-row" ng-if="isVisible(\'ADTPaxNumber\') || isVisible(\'BagsRequested\')">\r\n        <div class="SDS-col-element-xxs-3" ng-if="isVisible(\'ADTPaxNumber\')">\r\n            <div class="form-group" ng-class="{\'has-error\':searchForm.$submitted && searchForm.ADTPaxNumber.$invalid}">\r\n                <label for="SDSSearchForm_ADTPaxNumber" class="input-sm control-label">Adults (12+)</label>\r\n                <input id="SDSSearchForm_ADTPaxNumber" type="number" name="ADTPaxNumber" value="1" min="1" max="9" required class="form-control input-sm SDSPaxNbrInput" ng-model="generalSearchCriteria.ADTPaxCount">\r\n            </div>\r\n        </div>\r\n        <div class="SDS-col-element-xxs-3" ng-if="isVisible(\'BagsRequested\')">\r\n            <div class="form-group" ng-class="{\'has-error\':searchForm.$submitted && searchForm.bagsRequested.$invalid}">\r\n                <label for="SDSSearchForm_BagsRequested" class="input-sm control-label">Bags</label>\r\n                <select-bags id="SDSSearchForm_BagsRequested" name="BagsRequested" class="form-control input-sm" bags-requested="generalSearchCriteria.bagsRequested"></select-bags>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="SDS-row">\r\n        <div class="SDS-col-element-xxs-12">\r\n            <div class="checkbox input-sm" ng-if="isVisible(\'DirectFlightsOnly\')">\r\n                <label for="SDSSearchForm_DirectFlightsOnly">\r\n                    <input type="checkbox" name="DirectFlightsOnly" id="SDSSearchForm_DirectFlightsOnly" ng-model="generalSearchCriteria.DirectFlightsOnly">\r\n                    Direct flights only\r\n                </label>\r\n            </div>\r\n\r\n            <div class="checkbox input-sm" ng-if="isVisible(\'IsPlusMinus3DaysFlexible\')">\r\n                <label for="SDSSearchForm_IsPlusMinus3DaysFlexible">\r\n                    <input type="checkbox" name="IsPlusMinus3DaysFlexible" id="SDSSearchForm_IsPlusMinus3DaysFlexible"\r\n                           ng-model="flexDatesMode.activeMode"\r\n                           ng-click="plusMinusConstantDateFlexibilityCheckboxClicked()"\r\n                           ng-checked="flexDatesMode.activeMode === \'plusMinusConstantDaysFlexibility\'">\r\n                    I\'m flexible +/- 3 days\r\n                </label>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n\r\n    <div ng-if="flexDatesMode.isSelectableByAnyOf(\'plusMinusVariableDaysFlexibility\', \'earliestDepartureLatestReturn.losDays\', \'earliestDepartureLatestReturn.daysOfWeekAtDestination\') && (tripType !== \'multiDestination\')">\r\n        <div class="SDSTopBuffer-xs SDSBottomBuffer-xs">\r\n            <a href="" ng-click="isAdvancedDateFlexibilityCollapsed = !isAdvancedDateFlexibilityCollapsed;" class="input-sm SDSToggleLink">More travel dates flexibility options</a>\r\n        </div>\r\n        <div ng-if="isAdvancedDateFlexibilityCollapsed">\r\n            <div class="SDS-row">\r\n                <div class="radio input-sm" ng-if="flexDatesMode.isSelectableBy(\'plusMinusVariableDaysFlexibility\')">\r\n                    <label>\r\n                        <input type="radio" name="advancedFlexibilitySelectionType" ng-model="flexDatesMode.activeMode" value="plusMinusVariableDaysFlexibility">\r\n                        Different plus and minus days flexibility\r\n                    </label>\r\n                </div>\r\n\r\n                <div class="radio input-sm" ng-if="flexDatesMode.isSelectableByAnyOf(\'earliestDepartureLatestReturn.losDays\', \'earliestDepartureLatestReturn.daysOfWeekAtDestination\') && (tripType === \'returnTrip\')">\r\n                    <label>\r\n                        <input type="radio" name="advancedFlexibilitySelectionType" ng-model="flexDatesMode.activeMode" value="earliestDepartureLatestReturn.losDays">\r\n                        Set earliest departure and latest return\r\n                    </label>\r\n                </div>\r\n            </div>\r\n\r\n            <div class="SDS-row" ng-if="flexDatesMode.activeMode === \'plusMinusVariableDaysFlexibility\'">\r\n                <plus-minus-days-selection days="advancedDateFlexibility.departureMinusDays" max-days="{{::plusMinusDaysMaxDays}}">Departure date minus days</plus-minus-days-selection>\r\n                <plus-minus-days-selection days="advancedDateFlexibility.departurePlusDays" max-days="{{::plusMinusDaysMaxDays}}">Departure date plus days</plus-minus-days-selection>\r\n                <plus-minus-days-selection days="advancedDateFlexibility.returnMinusDays" max-days="{{::plusMinusDaysMaxDays}}">Return date minus days</plus-minus-days-selection>\r\n                <plus-minus-days-selection days="advancedDateFlexibility.returnPlusDays" max-days="{{::plusMinusDaysMaxDays}}">Return  date plus days</plus-minus-days-selection>\r\n            </div>\r\n\r\n            <div class="SDS-row" ng-if="flexDatesMode.activeMode === \'earliestDepartureLatestReturn.losDays\' || flexDatesMode.activeMode === \'earliestDepartureLatestReturn.daysOfWeekAtDestination\'">\r\n                <div class="radio">\r\n                    <div>\r\n                        <label>\r\n                            <input type="radio" name="advancedFlexibilityLoSSpecificationType" ng-model="flexDatesMode.activeMode" value="earliestDepartureLatestReturn.losDays" class="SDS-form-inline-exclude">\r\n                            Specify trip duration\r\n                        </label>\r\n                        <div ng-if="flexDatesMode.activeMode === \'earliestDepartureLatestReturn.losDays\'">\r\n                            <select-lengths-of-stay value="lengthsOfStay.selected">Duration</select-lengths-of-stay>\r\n                            Optionally specify also days of week for departure and return\r\n                            <ul class="list-unstyled list-inline">\r\n                                <li><select-days-of-week days-of-week="departureDaysOfWeek.selected"><div>Trip departure days</div></select-days-of-week></li>\r\n                                <li><select-days-of-week days-of-week="returnDaysOfWeek.selected"><div>Trip return days</div></select-days-of-week></li>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="SDSTopBuffer-sm"></div>\r\n\r\n                    <div>\r\n                        <label>\r\n                            <input type="radio" name="advancedFlexibilityLoSSpecificationType" ng-model="flexDatesMode.activeMode"\r\n                                   value="earliestDepartureLatestReturn.daysOfWeekAtDestination">\r\n                            Specify days of week to stay at destination\r\n                        </label>\r\n                        <div ng-if="flexDatesMode.activeMode === \'earliestDepartureLatestReturn.daysOfWeekAtDestination\'">\r\n                            <select-days-of-week days-of-week="daysOfWeekAtDestination.selected"></select-days-of-week>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- input field validation error messages -->\r\n    <div class="SDS-row">\r\n        <div class="TODO-6" ng-if="isVisible(\'ADTPaxNumber\')">\r\n            <div ng-show="searchForm.$submitted && searchForm.ADTPaxNumber.$invalid" class="has-error">\r\n                <small class="help-block" ng-show="searchForm.ADTPaxNumber.$error.required">Specify number of passengers</small>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="SDS-row" ng-if="isAnyOfVisible(\'PreferredAirline\', \'PreferredCabin\')">\r\n        <div class="SDS-col-element-xxs-12 SDSTopBuffer-xs">\r\n            <a href="" ng-click="detailsVisibility.areAdvancedSearchOptionsCollapsed = !detailsVisibility.areAdvancedSearchOptionsCollapsed" class="input-sm SDSToggleLink">Advanced search options</a>\r\n        </div>\r\n    </div>\r\n\r\n    <div ng-if="detailsVisibility.areAdvancedSearchOptionsCollapsed" class="SDSBottomBuffer-xs">\r\n        <div class="SDS-row">\r\n            <div class="SDS-col-element-xs-6 SDS-col-element-lg-3" ng-if="isVisible(\'PreferredAirline\')">\r\n                <div class="form-group SDS-form-inline-exclude">\r\n                    <label for="SDSSearchForm_PreferredAirline" class="input-sm control-label SDS-form-inline-exclude">Preferred Airline</label>\r\n                    <select-multiple-airlines class="input-sm SDS-form-inline-exclude" id="SDSSearchForm_PreferredAirline"\r\n                                               name="PreferredAirline" airlines="preferredAirlines"></select-multiple-airlines>\r\n                    <!-- WARN: Lack of \'form-control\' class is intentional. The component used in select preferred airline directive\r\n                    - the angular ui-select, is already styled as bootstrap button. Wrapping it in form-control here breaks the style\r\n                    (we get unnecessary wrapping. This issue is reported to ui-select and recognized as issue. No fix yet.  -->\r\n                </div>\r\n            </div>\r\n            <div class="SDS-col-element-xs-6 SDS-col-element-lg-3" ng-if="isVisible(\'PreferredCabin\')">\r\n                <div class="form-group SDS-form-inline-exclude">\r\n                    <label for="SDSSearchForm_PreferredCabin" class="input-sm control-label SDS-form-inline-exclude">Cabin</label>\r\n                    <select-preferred-cabin name="PreferredCabin" class="form-control input-sm SDS-form-inline-exclude" id="SDSSearchForm_PreferredCabin" cabin-selected="generalSearchCriteria.preferredCabin"></select-preferred-cabin>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="SDSMaxWidth1280">\r\n        <diversity-swapper enabled="showDiversityOptions" internal-form-name="diversitySwapperForm"\r\n                       ng-model="diversityModelOptions" show-options="detailsVisibility.useDiversityModelOptions"></diversity-swapper>\r\n    </div>\r\n\r\n    <div class="text-center SDSTopBuffer-xs">\r\n        <button type="submit" class="SDS-hidden-sm btn btn-primary btn-lg btn-block">Search</button>\r\n        <button type="submit" class="SDS-visible-sm-inline-block btn btn-primary btn-lg">Search</button>\r\n    </div></script><div class="panel panel-default SDSWidget SDSResponsiveElement SDSSearchFormWidget" id=SDSSearchFormWidget_{{::widgetId}}><div class=panel-body><form><div class=btn-group><label class="btn btn-primary" ng-model=tripType uib-btn-radio="\'returnTrip\'">Return</label><label class="btn btn-primary" ng-model=tripType uib-btn-radio="\'oneWay\'">One-way</label><label class="btn btn-primary" ng-model=tripType uib-btn-radio="\'multiDestination\'">Multi-stop</label></div></form><div ng-show="tripType === \'oneWay\' || tripType === \'returnTrip\'"><div class=SDSTopBuffer-xs></div><form class=SDS-form-xl-inline name=searchForm class=SDSTopBuffer-xs novalidate ng-submit="searchForm.$valid && createNewSearchCriteria()"><div class=SDS-row><div class=SDS-col-element-sm-3><div class=form-group ng-class="{\'has-error\':searchForm.$submitted && searchForm.Origin.$invalid}"><label for=SDSSearchForm_Origin class="input-sm control-label">Leaving from</label><input-airport id=SDSSearchForm_Origin name=Origin class="form-control input-sm" autofocus required airport=simpleTrip.Origin selectable-airports-for-this-pos-only={{selectableAirportsForThisPosOnly}} selectable-airports-dictionary={{selectableAirportsDictionary}}></input-airport></div><div ng-show="searchForm.$submitted && searchForm.Origin.$invalid" class=has-error><small class=help-block ng-show=searchForm.Origin.$error.required>Type origin airport or city</small> <small class=help-block ng-show=searchForm.Origin.$error.invalidAirport>Please select airport or city from the suggested matchings</small></div></div><div class=SDS-col-element-sm-3><div class=form-group ng-class="{\'has-error\':searchForm.$submitted && searchForm.Destination.$invalid}"><label for=SDSSearchForm_Destination class="input-sm control-label">Going to</label><input-airport id=SDSSearchForm_Destination name=Destination class="form-control input-sm" required airport=simpleTrip.Destination selectable-airports-for-this-pos-only={{selectableAirportsForThisPosOnly}} selectable-airports-dictionary={{selectableAirportsDictionary}}></input-airport></div><div ng-show="searchForm.$submitted && searchForm.Destination.$invalid" class=has-error><small class=help-block ng-show=searchForm.Destination.$error.required>Type destination airport or city</small> <small class=help-block ng-show=searchForm.Destination.$error.invalidAirport>Please select airport or city from the suggested matchings</small></div></div><div class=SDS-col-element-sm-3><div class=form-group ng-class="{\'has-error\':searchForm.$submitted && searchForm.DepartureDate.$invalid}" ng-if="!flexDatesMode.isEarliestDepartureLatestReturnActive() && loadDeferredElements"><label for=SDSSearchForm_DepartureDate class="input-sm control-label">Leaving on</label><input-date class="input-group input-group-sm SDSDateInput" id=SDSSearchForm_DepartureDate name=DepartureDate required ng-model=simpleTrip.DepartureDate on-date-change=onDepartureDateChange() min-date=earliestTravelStart></input-date><div ng-show="searchForm.$submitted && searchForm.DepartureDate.$invalid" class=has-error><small class=help-block ng-show=searchForm.DepartureDate.$error.required>Choose departure date</small></div></div><div class=form-group ng-class="{\'has-error\':searchForm.$submitted && searchForm.EarliestDepartureDate.$invalid}" ng-if="flexDatesMode.isEarliestDepartureLatestReturnActive() && loadDeferredElements"><label for=SDSSearchForm_EarliestDepartureDate class="input-sm control-label">Earliest departure</label><input-date class="input-group input-group-sm SDSDateInput" id=SDSSearchForm_EarliestDepartureDate name=EarliestDepartureDate required ng-model=simpleTrip.EarliestDepartureDate on-date-change=onEarliestDepartureDateChange() min-date=earliestTravelStart></input-date><div ng-show="searchForm.$submitted && searchForm.EarliestDepartureDate.$invalid" class=has-error><small class=help-block ng-show=searchForm.EarliestDepartureDate.$error.required>Set earliest departure date</small></div></div></div><div class=SDS-col-element-sm-3><div class=form-group ng-show="tripType === \'returnTrip\'" ng-class="{\'has-error\':searchForm.$submitted && searchForm.ReturnDate.$invalid}" ng-if="!flexDatesMode.isEarliestDepartureLatestReturnActive() && loadDeferredElements"><label for=SDSSearchForm_ReturnDate class="input-sm control-label" ng-class="{\'SDSDisabledLabel\':advancedFlexibilitySelection.type === \'earliestDepartureLatestReturn\'}">Returning on</label><input-date class="input-group input-group-sm SDSDateInput" id=SDSSearchForm_ReturnDate name=ReturnDate required ng-model=simpleTrip.ReturnDate on-date-change=onReturnDateChange() min-date=earliestTravelStart></input-date><div ng-show="searchForm.$submitted && searchForm.ReturnDate.$invalid" class=has-error><small class=help-block ng-show=searchForm.ReturnDate.$error.required>Choose return date</small></div></div><div class=form-group ng-class="{\'has-error\':searchForm.$submitted && searchForm.LatestReturnDate.$invalid}" ng-if="tripType === \'returnTrip\' && flexDatesMode.isEarliestDepartureLatestReturnActive() && loadDeferredElements"><label for=SDSSearchForm_LatestReturnDate class="input-sm control-label">Latest return</label><input-date class="input-group input-group-sm SDSDateInput" id=SDSSearchForm_LatestReturnDate name=LatestReturnDate required ng-model=simpleTrip.LatestReturnDate on-date-change=onLatestReturnDateChange() min-date=earliestTravelStart></input-date><div ng-show="searchForm.$submitted && searchForm.LatestReturnDate.$invalid" class=has-error><small class=help-block ng-show=searchForm.LatestReturnDate.$error.required>Set latest return date</small></div></div></div></div><ng-include src="\'GeneralSearchCriteria\'"></ng-include></form></div><div ng-show="tripType === \'multiDestination\'"><div class=SDSTopBuffer-xs></div><form class=SDS-form-xl-inline name=searchFormMultiDestination class=SDSTopBuffer-xs novalidate ng-submit="searchFormMultiDestination.$valid && createNewSearchCriteria()"><div ng-repeat="i in multiDestinationLegs"><div class=SDS-row><div class="SDS-col-element-xs-6 SDS-col-element-sm-3"><div class=form-group ng-class="{\'has-error\':searchFormMultiDestination.$submitted && searchFormMultiDestination.Origin_{{$index}}.$invalid}"><label for=SDSSearchForm_Origin_{{$index}} class="input-sm control-label">Leaving from</label><input-airport id=SDSSearchForm_Origin_{{$index}} name=Origin_{{$index}} class="form-control input-sm" ng-focus=$first required airport=multiDestinationLegs[$index].Origin selectable-airports-for-this-pos-only={{selectableAirportsForThisPosOnly}} selectable-airports-dictionary={{selectableAirportsDictionary}}></input-airport></div><div ng-show="searchFormMultiDestination.$submitted && searchFormMultiDestination.Origin_{{$index}}.$invalid" class=has-error><small class=help-block ng-show=searchFormMultiDestination.Origin_{{$index}}.$error.required>Type origin airport or city</small> <small class=help-block ng-show=searchFormMultiDestination.Origin_{{$index}}.$error.pattern>Please select airport or city from the suggested matchings</small></div></div><div class="SDS-col-element-xs-6 SDS-col-element-sm-3"><div class=form-group ng-class="{\'has-error\':searchFormMultiDestination.$submitted && searchFormMultiDestination.Destination_{{$index}}.$invalid}"><label for=SDSSearchForm_Destination_{{$index}} class="input-sm control-label">Going to</label><input-airport id=SDSSearchForm_Destination_{{$index}} name=Destination_{{$index}} class="form-control input-sm" required airport=multiDestinationLegs[$index].Destination selectable-airports-for-this-pos-only={{selectableAirportsForThisPosOnly}} selectable-airports-dictionary={{selectableAirportsDictionary}}></input-airport></div><div ng-show="searchFormMultiDestination.$submitted && searchFormMultiDestination.Destination_{{$index}}.$invalid" class=has-error><small class=help-block ng-show=searchFormMultiDestination.Destination_{{$index}}.$error.required>Type destination airport or city</small> <small class=help-block ng-show=searchFormMultiDestination.Destination_{{$index}}.$error.pattern>Please select airport or city from the suggested matchings</small></div></div><div class="SDS-col-element-xs-6 SDS-col-element-sm-3"><div class=form-group ng-class="{\'has-error\':searchFormMultiDestination.$submitted && searchFormMultiDestination.DepartureDate_{{$index}}.$invalid}"><label for=SDSSearchForm_DepartureDate_{{$index}} class="input-sm control-label">Leaving on</label><input-date class="input-group input-group-sm SDSDateInput" id=SDSSearchForm_DepartureDate_{{$index}} name=DepartureDate_{{$index}} required ng-model=multiDestinationLegs[$index].DepartureDate min-date=earliestTravelStart></input-date></div><div ng-show="searchFormMultiDestination.$submitted && searchFormMultiDestination.DepartureDate_{{$index}}.$invalid" class=has-error><small class=help-block ng-show=searchFormMultiDestination.DepartureDate_{{$index}}.$error.required>Choose departure date</small></div></div><div class="SDS-col-element-xs-6 SDS-col-element-sm-3" ng-show="$last && $index > 2"><a href="" ng-click=removeLastSearchCriteriaLeg() class=input-sm><i class="glyphicon glyphicon-minus-sign"></i> Remove</a></div></div><div ng-if=$last><a href="" ng-click=addNextSearchCriteriaLeg() class=input-sm><i class="glyphicon glyphicon-plus-sign"></i> Add more flights</a><div class=SDSTopBuffer-xs></div></div></div><ng-include src="\'GeneralSearchCriteria\'"></ng-include></form></div></div></div>'),e.put("../widgets/view-templates/widgets/SpinnerContainer.tpl.html","<div><span us-spinner={{spinnerOptions}} spinner-key={{spinnerId}}></span><div ng-show=!spinneractive transclude-with-inherited-scope></div></div>"),e.put("../widgets/view-templates/widgets/TilesThemedDestinationFinderWidget.tpl.html",'<div class="SDSWidget SDSTilesThemedDestinationFinderWidget SDSResponsiveElement" ng-show=isAnyDataToDisplayAvailable()><div class=SDS-row><div class="SDS-col-element-md-6 SDS-col-element-xl-4 SDS-col-element-4xl-3" ng-repeat="offersForOneDestination in model.pricesForDestinationsGrouped track by offersForOneDestination.destination"><div href=# class=thumbnail><div class=SDSAspectRatioEnforcer style="background-image: url(\'https://d1xzms9o977hvd.cloudfront.net/widgets/static/destinations/{{offersForOneDestination.destination}}.jpg\'), url(\'https://d1xzms9o977hvd.cloudfront.net/widgets/static/destinations/general_city.jpg\')"></div><div class=caption><strong class="pull-left SDSCityLabel SDSHideOverflow">{{offersForOneDestination.destination | cityFullName}}</strong> <strong class="pull-right text-right SDSPriceLabel SDSHideOverflow">from {{offersForOneDestination.lowestFare.amount | isoCurrency:offersForOneDestination.lowestFare.currency}}</strong><div class=clearfix></div><span class=pull-right ng-init="parameter=offersForOneDestination"><a href="" ns-popover ns-popover-template=../widgets/view-templates/partials/DestinationFinderOfferDetailsInfoView.tpl.html ns-popover-placement=top ns-popover-timeout=0.2>Show flights</a></span><div class=clearfix></div></div></div></div></div></div>'),e.put("../widgets/view-templates/widgets/TravelSeasonalityWidget.tpl.html",'<div class="panel panel-default SDSTravelSeasonalityWidget" ng-show=ctrl.isAnyDataToDisplayAvailable()><div class="panel-heading text-center"><h4 class=panel-title>Travel Seasonality</h4></div><div class=panel-body><h5>Travel seasonality to <em>{{ctrl.lastSearchCriteriaAirports.arrivalAirport | cityFullName}}</em></h5><div><canvas></canvas></div></div></div>'),e.put("../widgets/view-templates/widgets/TravelThemesSelectionBar.tpl.html",'<nav class="navbar navbar-default"><div class=navbar-header><ul class="nav navbar-nav"><li ng-repeat="theme in travelThemes" class=SDSCursorPointer ng-class="{\'active\': theme === selectedTravelTheme}" ng-click="travelThemeClicked($event, theme)"><a>{{theme | capitalize}}</a></li></ul></div></nav>'),e.put("../widgets/view-templates/widgets/WidgetTemplate.tpl.html",'<div class="panel panel-default SDSWidget SDSResponsiveElement" ng-show=ctrl.isAnyDataToDisplayAvailable()><div class="panel-heading text-center"><h4 class=panel-title>Widget Name</h4></div><div class=panel-body></div></div>'),e.put("../src/main/widgets/basicSearch/bfm.tpl.html","<search-form class=embeddedWidget></search-form><itinerary-list class=embeddedWidget id=ItineraryList2 active-search=true active-search-web-service=bfm></itinerary-list><error-display class=embeddedWidget></error-display><network-error-display></network-error-display><validation-error-display></validation-error-display>"),e.put("../src/main/widgets/searchForm/timePickerPopup/timePickerPop.tpl.html",'<div class=input-group><input class="form-control input-sm" ng-model=inputTime ng-disabled=disabledInt time-format show-meridian=showMeridian ng-focus="open()"/><div class=input-group-btn ng-class={open:isOpen}><button type=button ng-disabled=disabledInt class="btn btn-default input-sm" ng-class="{\'btn-primary\':isOpen}" data-toggle=dropdown ng-click=toggle()><i class="glyphicon glyphicon-time"></i></button><div class="dropdown-menu pull-right"><div uib-timepicker ng-model=inputTime show-meridian=showMeridian minute-step=minuteStep></div></div></div></div>')
}])}),t.config({paths:{moment:"../../bower_components/moment/moment",moment_range:"../../bower_components/moment-range/dist/moment-range",lodash:"../../bower_components/lodash/lodash",angular:"../../bower_components/angular/angular",angular_resource:"../../bower_components/angular-resource/angular-resource",angular_bootstrap:"../../bower_components/angular-bootstrap/ui-bootstrap-tpls","angular-ui-select":"../../bower_components/angular-ui-select/dist/select","angular-sanitize":"../../bower_components/angular-sanitize/angular-sanitize","angular-img-fallback":"../../bower_components/angular-img-fallback/angular.dcb-img-fallback","angular-rangeslider":"../../bower_components/angular-rangeslider/angular.rangeSlider","angular-touch":"../../bower_components/angular-touch/angular-touch",ngStorage:"../../bower_components/ngstorage/ngStorage",ngPromiseExtras:"../../bower_components/angular-promise-extras/angular-promise-extras",chartjs:"../../bower_components/Chart.js/Chart",angular_iso_currency:"../../bower_components/iso-currency/dist/isoCurrency",elementQuery:"../../bower_components/css-element-queries/src/ElementQueries",ResizeSensor:"../../bower_components/css-element-queries/src/ResizeSensor",angular_google_maps:"../../bower_components/angular-google-maps/dist/angular-google-maps","angular-simple-logger":"../../bower_components/angular-simple-logger/dist/angular-simple-logger",nsPopover:"../../bower_components/nsPopover/src/nsPopover",WidgetsFilterPanel:"../../bower_components/WidgetsFilterPanel/dist/WidgetsFilterPanel",usSpinnerService:"../../bower_components/angular-spinner/angular-spinner",spin:"../../bower_components/spin.js/spin"},map:{"*":{chartjs:"util/chartjs-noConflict"},"util/chartjs-noConflict":{chartjs:"chartjs"}},shim:{angular:{exports:"angular"},angular_resource:{deps:["angular"],exports:"ngResource"},angular_bootstrap:{deps:["angular"]},"angular-ui-select":{deps:["angular"]},"angular-sanitize":{deps:["angular"]},"angular-img-fallback":{deps:["angular"]},"angular-rangeslider":{deps:["angular"]},"angular-touch":{deps:["angular"]},ngStorage:{deps:["angular"]},ngPromiseExtras:{deps:["angular"]},angular_currency_filter:{deps:["angular"]},angular_iso_currency:{deps:["angular"]},"angular-simple-logger":{deps:["angular"]},angular_google_maps:{deps:["angular","angular-simple-logger","lodash"]},elementQuery:{deps:["ResizeSensor"]},nsPopover:{deps:["angular"]},WidgetsFilterPanel:{deps:["angular"]},usSpinnerService:{deps:["angular","spin"]}},config:{moment:{noGlobal:!0}}}),n("SabreDevStudioSDK",["angular","moment","lodash","ngStorage","angular_resource","ngPromiseExtras","Configuration","webservices/advancedCalendar/advancedCalendar.mod","webservices/bargainFinderMax/bargainFinderMax.mod","webservices/leadPriceCalendar/leadPriceCalendar.mod","webservices/informational/informational.mod","webservices/SabreDevStudioWebServicesModule","widgets/SDSWidgets","webservices/common/PromiseUtils","datamodel/ItinerariesList","webservices/common/validators/BasicSearchCriteriaValidator","webservices/instaflights/InstaflightSearchCriteriaValidator","widgets/calendar/CalendarWidget","widgets/AlternateDatesMatrixWidget","widgets/leadPriceChart/LeadPriceChartWidget","widgets/informational/LowFareHistoryWidget","widgets/informational/TravelSeasonalityWidget","widgets/searchForm/SearchFormInspirationalWidget","widgets/searchForm/SearchFormInputControls","widgets/searchForm/InputAirport","widgets/searchForm/DiversitySwapper","widgets/ItinerariesList/InputSortBy","widgets/informational/fareForecast/FareForecastWidget","widgets/informational/fareRange/FareRangeWidget","widgets/FareNabberWidget","widgets/DestinationPricerWidget","widgets/inspirational/InspirationalWidgets.mod","widgets/ItinerariesList/ItinerariesListWidget","widgets/ItinerariesFilterPanel.drv","widgets/errorDisplays/ErrorDisplays.mod","widgets/AboutWidget","widgets/SpinnerContainer","widgets/util/TranscludeWithInheritedScope","elementQuery","widgets/templateCacheCharger","widgets/version"],function(e,t,n,r,i,o,a,s,l,u,c,d,p,h,f,g,m,v,y,b,S,D,w,A,C,x,_,$,k,M,T,F,O,P,E,L,I,R,N,W,B){function U(){e.element(document).ready(function(){e.bootstrap(document,["sdsWidgets"],{strictDi:!0})})}return U(),{version:B.version}}),t(["SabreDevStudioSDK"]),t("SabreDevStudioSDK")});