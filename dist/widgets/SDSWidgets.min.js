/**
 * @license almond 0.3.3 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/almond/LICENSE
 */

/*
 AngularJS v1.4.14
 (c) 2010-2015 Google, Inc. http://angularjs.org
 License: MIT
*/

//! license : MIT

/**
 * @license
 * lodash 3.10.1 (Custom Build) <https://lodash.com/>
 * Build: `lodash modern -o ./lodash.js`
 * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <https://lodash.com/license>
 */

/**
 * @license AngularJS v1.4.14
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */

/**
 * Copyright Marc J. Schmidt. See the LICENSE file at the top-level
 * directory of this distribution and at
 * https://github.com/marcj/css-element-queries/blob/master/LICENSE.
 */

/**
         *
         * @copyright https://github.com/Mr0grog/element-query/blob/master/LICENSE
         *
         * @param {HTMLElement} element
         * @param {*} value
         * @returns {*}
         */

/*! angular-google-maps 2.3.4 2016-08-15
 *  AngularJS directives for Google Maps
 *  git: https://github.com/angular-ui/angular-google-maps.git
 */

/*
!
The MIT License

Copyright (c) 2010-2013 Google, Inc. http://angularjs.org

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the 'Software'), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

angular-google-maps
https://github.com/angular-ui/angular-google-maps

@authors
Nicolas Laplante - https://plus.google.com/108189012221374960701
Nicholas McCready - https://twitter.com/nmccready
 */

/*
 Version: core-1.0
 The MIT License: Copyright (c) 2012 LiosK.
*/

/**
 *  google-maps-utility-library-v3-infobox
 *
 * @version: 1.1.14
 * @author: Gary Little (inspired by proof-of-concept code from Pamela Fox of Google)
 * @contributors: Nicholas McCready
 * @date: Fri May 13 2016 16:35:27 GMT-0400 (EDT)
 * @license: Apache License 2.0
 */

/**
 *  google-maps-utility-library-v3-keydragzoom
 *
 * @version: 2.0.9
 * @author: Nianwei Liu [nianwei at gmail dot com] & Gary Little [gary at luxcentral dot com]
 * @contributors: undefined
 * @date: Fri May 13 2016 13:45:18 GMT-0400 (EDT)
 * @license: Apache License 2.0
 */

/**
 *  google-maps-utility-library-v3-markerwithlabel
 *
 * @version: 1.1.10
 * @author: Gary Little (inspired by code from Marc Ridey of Google).
 * @contributors: Nicholas McCready
 * @date: Fri May 13 2016 16:29:58 GMT-0400 (EDT)
 * @license: Apache License 2.0
 */

/**
 * @license
 * Copyright 2013 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/** @preserve OverlappingMarkerSpiderfier
https://github.com/jawj/OverlappingMarkerSpiderfier
Copyright (c) 2011 - 2013 George MacKerron
Released under the MIT licence: http://opensource.org/licenses/mit-license
Note: The Google Maps API v3 must be included *before* this code
 */

/*!
 * ui-select
 * http://github.com/angular-ui/ui-select
 * Version: 0.12.1 - 2015-07-28T03:50:59.076Z
 * License: MIT
 */

/**
 * Angular Image Fallback
 * (c) 2014 Daniel Cohen. http://dcb.co.il
 * License: MIT
 * https://github.com/dcohenb/angular-img-fallback
 */

/*
 *  Angular RangeSlider Directive
 * 
 *  Version: 0.0.13
 *
 *  Author: Daniel Crisp, danielcrisp.com
 *
 *  The rangeSlider has been styled to match the default styling
 *  of form elements styled using Twitter's Bootstrap
 *
 *  Originally forked from https://github.com/leongersen/noUiSlider
 *

    This code is released under the MIT Licence - http://opensource.org/licenses/MIT

    Copyright (c) 2013 Daniel Crisp

    Permission is hereby granted, free of charge, to any person obtaining a copy
    of this software and associated documentation files (the "Software"), to deal
    in the Software without restriction, including without limitation the rights
    to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
    copies of the Software, and to permit persons to whom the Software is
    furnished to do so, subject to the following conditions:

    The above copyright notice and this permission notice shall be included in
    all copies or substantial portions of the Software.

    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
    IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
    FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
    AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
    LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
    OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
    THE SOFTWARE.

*/

/**
 * @license
 * lodash <https://lodash.com/>
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/**
 * Copyright (c) 2011-2014 Felix Gnass
 * Licensed under the MIT license
 * http://spin.js.org/
 *
 * Example:
    var opts = {
      lines: 12             // The number of lines to draw
    , length: 7             // The length of each line
    , width: 5              // The line thickness
    , radius: 10            // The radius of the inner circle
    , scale: 1.0            // Scales overall size of the spinner
    , corners: 1            // Roundness (0..1)
    , color: '#000'         // #rgb or #rrggbb
    , opacity: 1/4          // Opacity of the lines
    , rotate: 0             // Rotation offset
    , direction: 1          // 1: clockwise, -1: counterclockwise
    , speed: 1              // Rounds per second
    , trail: 100            // Afterglow percentage
    , fps: 20               // Frames per second when using setTimeout()
    , zIndex: 2e9           // Use a high z-index by default
    , className: 'spinner'  // CSS class to assign to the element
    , top: '50%'            // center vertically
    , left: '50%'           // center horizontally
    , shadow: false         // Whether to render a shadow
    , hwaccel: false        // Whether to use hardware acceleration (might be buggy)
    , position: 'absolute'  // Element positioning
    }
    var target = document.getElementById('foo')
    var spinner = new Spinner(opts).spin(target)
 */

/**
 * angular-spinner version 0.8.1
 * License: MIT.
 * Copyright (C) 2013, 2014, 2015, 2016, Uri Shaked and contributors.
 */

/*!
 * Chart.js
 * http://chartjs.org/
 * Version: 1.0.2
 *
 * Copyright 2015 Nick Downie
 * Released under the MIT license
 * https://github.com/nnnick/Chart.js/blob/master/LICENSE.md
 */

!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.SabreDevStudioWidgets=t()}(this,function(){var e,t,n;!function(r){function i(e,t){return D.call(e,t)}function a(e,t){var n,r,i,a,o,s,l,u,c,d,p,h,f=t&&t.split("/"),g=b.map,m=g&&g["*"]||{};if(e){for(e=e.split("/"),o=e.length-1,b.nodeIdCompat&&A.test(e[o])&&(e[o]=e[o].replace(A,"")),"."===e[0].charAt(0)&&f&&(h=f.slice(0,f.length-1),e=h.concat(e)),c=0;c<e.length;c++)if(p=e[c],"."===p)e.splice(c,1),c-=1;else if(".."===p){if(0===c||1===c&&".."===e[2]||".."===e[c-1])continue;c>0&&(e.splice(c-1,2),c-=2)}e=e.join("/")}if((f||m)&&g){for(n=e.split("/"),c=n.length;c>0;c-=1){if(r=n.slice(0,c).join("/"),f)for(d=f.length;d>0;d-=1)if(i=g[f.slice(0,d).join("/")],i&&(i=i[r])){a=i,s=c;break}if(a)break;!l&&m&&m[r]&&(l=m[r],u=c)}!a&&l&&(a=l,s=u),a&&(n.splice(0,s,a),e=n.join("/"))}return e}function o(e,t){return function(){var n=w.call(arguments,0);return"string"!=typeof n[0]&&1===n.length&&n.push(null),f.apply(r,n.concat([e,t]))}}function s(e){return function(t){return a(t,e)}}function l(e){return function(t){v[e]=t}}function u(e){if(i(y,e)){var t=y[e];delete y[e],S[e]=!0,h.apply(r,t)}if(!i(v,e)&&!i(S,e))throw new Error("No "+e);return v[e]}function c(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function d(e){return e?c(e):[]}function p(e){return function(){return b&&b.config&&b.config[e]||{}}}var h,f,g,m,v={},y={},b={},S={},D=Object.prototype.hasOwnProperty,w=[].slice,A=/\.js$/;g=function(e,t){var n,r=c(e),i=r[0],o=t[1];return e=r[1],i&&(i=a(i,o),n=u(i)),i?e=n&&n.normalize?n.normalize(e,s(o)):a(e,o):(e=a(e,o),r=c(e),i=r[0],e=r[1],i&&(n=u(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},m={require:function(e){return o(e)},exports:function(e){var t=v[e];return"undefined"!=typeof t?t:v[e]={}},module:function(e){return{id:e,uri:"",exports:v[e],config:p(e)}}},h=function(e,t,n,a){var s,c,p,h,f,b,D,w=[],A=typeof n;if(a=a||e,b=d(a),"undefined"===A||"function"===A){for(t=!t.length&&n.length?["require","exports","module"]:t,f=0;f<t.length;f+=1)if(h=g(t[f],b),c=h.f,"require"===c)w[f]=m.require(e);else if("exports"===c)w[f]=m.exports(e),D=!0;else if("module"===c)s=w[f]=m.module(e);else if(i(v,c)||i(y,c)||i(S,c))w[f]=u(c);else{if(!h.p)throw new Error(e+" missing "+c);h.p.load(h.n,o(a,!0),l(c),{}),w[f]=v[c]}p=n?n.apply(v[e],w):void 0,e&&(s&&s.exports!==r&&s.exports!==v[e]?v[e]=s.exports:p===r&&D||(v[e]=p))}else e&&(v[e]=n)},e=t=f=function(e,t,n,i,a){if("string"==typeof e)return m[e]?m[e](t):u(g(e,d(t)).f);if(!e.splice){if(b=e,b.deps&&f(b.deps,b.callback),!t)return;t.splice?(e=t,t=n,n=null):e=r}return t=t||function(){},"function"==typeof n&&(n=i,i=a),i?h(r,e,t,n):setTimeout(function(){h(r,e,t,n)},4),f},f.config=function(e){return f(e)},e._defined=v,n=function(e,t,n){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),i(v,e)||i(y,e)||(y[e]=[e,t,n])},n.amd={jQuery:!0}}(),n("../../node_modules/almond/almond",function(){}),function(e,t,n){"use strict";function r(e){return function(){var t,n=arguments[0];for(t="["+(e?e+":":"")+n+"] http://errors.angularjs.org/1.4.14/"+(e?e+"/":"")+n,n=1;n<arguments.length;n++){t=t+(1==n?"?":"&")+"p"+(n-1)+"=";var r,i=encodeURIComponent;r=arguments[n],r="function"==typeof r?r.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof r?"undefined":"string"!=typeof r?JSON.stringify(r):r,t+=i(r)}return Error(t)}}function i(e){if(null==e||$(e))return!1;if(ar(e)||w(e)||qn&&e instanceof qn)return!0;var t="length"in Object(e)&&e.length;return A(t)&&(t>=0&&(t-1 in e||e instanceof Array)||"function"==typeof e.item)}function a(e,t,n){var r,o;if(e)if(_(e))for(r in e)"prototype"==r||"length"==r||"name"==r||e.hasOwnProperty&&!e.hasOwnProperty(r)||t.call(n,e[r],r,e);else if(ar(e)||i(e)){var s="object"!=typeof e;for(r=0,o=e.length;o>r;r++)(s||r in e)&&t.call(n,e[r],r,e)}else if(e.forEach&&e.forEach!==a)e.forEach(t,n,e);else if(D(e))for(r in e)t.call(n,e[r],r,e);else if("function"==typeof e.hasOwnProperty)for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e);else for(r in e)Vn.call(e,r)&&t.call(n,e[r],r,e);return e}function o(e,t,n){for(var r=Object.keys(e).sort(),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function s(e){return function(t,n){e(n,t)}}function l(){return++rr}function u(e,t,n){for(var r=e.$$hashKey,i=0,a=t.length;a>i;++i){var o=t[i];if(S(o)||_(o))for(var s=Object.keys(o),l=0,c=s.length;c>l;l++){var d=s[l],p=o[d];n&&S(p)?C(p)?e[d]=new Date(p.valueOf()):x(p)?e[d]=new RegExp(p):p.nodeName?e[d]=p.cloneNode(!0):F(p)?e[d]=p.clone():(S(e[d])||(e[d]=ar(p)?[]:{}),u(e[d],[p],!0)):e[d]=p}}return r?e.$$hashKey=r:delete e.$$hashKey,e}function c(e){return u(e,Qn.call(arguments,1),!1)}function d(e){return u(e,Qn.call(arguments,1),!0)}function p(e){return parseInt(e,10)}function h(e,t){return c(Object.create(e),t)}function f(){}function g(e){return e}function m(e){return function(){return e}}function v(e){return _(e.toString)&&e.toString!==Xn}function y(e){return"undefined"==typeof e}function b(e){return"undefined"!=typeof e}function S(e){return null!==e&&"object"==typeof e}function D(e){return null!==e&&"object"==typeof e&&!er(e)}function w(e){return"string"==typeof e}function A(e){return"number"==typeof e}function C(e){return"[object Date]"===Xn.call(e)}function _(e){return"function"==typeof e}function x(e){return"[object RegExp]"===Xn.call(e)}function $(e){return e&&e.window===e}function k(e){return e&&e.$evalAsync&&e.$watch}function M(e){return"boolean"==typeof e}function T(e){return e&&A(e.length)&&or.test(Xn.call(e))}function F(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function O(e){var t={};e=e.split(",");var n;for(n=0;n<e.length;n++)t[e[n]]=!0;return t}function P(e){return Hn(e.nodeName||e[0]&&e[0].nodeName)}function E(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function L(e,t){function n(e,t){var n,i=t.$$hashKey;if(ar(e)){n=0;for(var a=e.length;a>n;n++)t.push(r(e[n]))}else if(D(e))for(n in e)t[n]=r(e[n]);else if(e&&"function"==typeof e.hasOwnProperty)for(n in e)e.hasOwnProperty(n)&&(t[n]=r(e[n]));else for(n in e)Vn.call(e,n)&&(t[n]=r(e[n]));return i?t.$$hashKey=i:delete t.$$hashKey,t}function r(e){if(!S(e))return e;var t=i.indexOf(e);if(-1!==t)return o[t];if($(e)||k(e))throw tr("cpws");var r,t=!1;return ar(e)?(r=[],t=!0):T(e)?r=new e.constructor(e):C(e)?r=new Date(e.getTime()):x(e)?(r=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]),r.lastIndex=e.lastIndex):"[object Blob]"===Xn.call(e)?r=new e.constructor([e],{type:e.type}):_(e.cloneNode)?r=e.cloneNode(!0):(r=Object.create(er(e)),t=!0),i.push(e),o.push(r),t?n(e,r):r}var i=[],o=[];if(t){if(T(t))throw tr("cpta");if(e===t)throw tr("cpi");return ar(t)?t.length=0:a(t,function(e,n){"$$hashKey"!==n&&delete t[n]}),i.push(e),o.push(t),n(e,t)}return r(e)}function I(e,t){if(ar(e)){t=t||[];for(var n=0,r=e.length;r>n;n++)t[n]=e[n]}else if(S(e))for(n in t=t||{},e)("$"!==n.charAt(0)||"$"!==n.charAt(1))&&(t[n]=e[n]);return t||e}function R(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n,r=typeof e;if(r==typeof t&&"object"==r){if(!ar(e)){if(C(e))return C(t)?R(e.getTime(),t.getTime()):!1;if(x(e))return x(t)?e.toString()==t.toString():!1;if(k(e)||k(t)||$(e)||$(t)||ar(t)||C(t)||x(t))return!1;r=ue();for(n in e)if("$"!==n.charAt(0)&&!_(e[n])){if(!R(e[n],t[n]))return!1;r[n]=!0}for(n in t)if(!(n in r)&&"$"!==n.charAt(0)&&b(t[n])&&!_(t[n]))return!1;return!0}if(!ar(t))return!1;if((r=e.length)==t.length){for(n=0;r>n;n++)if(!R(e[n],t[n]))return!1;return!0}}return!1}function N(e,t,n){return e.concat(Qn.call(t,n))}function B(e,t){var n=2<arguments.length?Qn.call(arguments,2):[];return!_(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,N(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function W(e,r){var i=r;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?i=n:$(r)?i="$WINDOW":r&&t===r?i="$DOCUMENT":k(r)&&(i="$SCOPE"),i}function U(e,t){return y(e)?n:(A(t)||(t=t?2:null),JSON.stringify(e,W,t))}function G(e){return w(e)?JSON.parse(e):e}function q(e,t){e=e.replace(dr,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function j(e,t,n){n=n?-1:1;var r=e.getTimezoneOffset();return t=q(t,r),n*=t-r,e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+n),e}function K(e){e=qn(e).clone();try{e.empty()}catch(t){}var n=qn("<div>").append(e).html();try{return e[0].nodeType===gr?Hn(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+Hn(t)})}catch(r){return Hn(n)}}function z(e){try{return decodeURIComponent(e)}catch(t){}}function H(e){var t={};return a((e||"").split("&"),function(e){var n,r,i;e&&(r=e=e.replace(/\+/g,"%20"),n=e.indexOf("="),-1!==n&&(r=e.substring(0,n),i=e.substring(n+1)),r=z(r),b(r)&&(i=b(i)?z(i):!0,Vn.call(t,r)?ar(t[r])?t[r].push(i):t[r]=[t[r],i]:t[r]=i))}),t}function V(e){var t=[];return a(e,function(e,n){ar(e)?a(e,function(e){t.push(Q(n,!0)+(!0===e?"":"="+Q(e,!0)))}):t.push(Q(n,!0)+(!0===e?"":"="+Q(e,!0)))}),t.length?t.join("&"):""}function Y(e){return Q(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Q(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function Z(e,t){var n,r,i=pr.length;for(r=0;i>r;++r)if(n=pr[r]+t,w(n=e.getAttribute(n)))return n;return null}function J(e,t){var n,r,i={};a(pr,function(t){t+="app",!n&&e.hasAttribute&&e.hasAttribute(t)&&(n=e,r=e.getAttribute(t))}),a(pr,function(t){t+="app";var i;!n&&(i=e.querySelector("["+t.replace(":","\\:")+"]"))&&(n=i,r=i.getAttribute(t))}),n&&(i.strictDi=null!==Z(n,"strict-di"),t(n,r?[r]:[],i))}function X(n,r,i){S(i)||(i={}),i=c({strictDi:!1},i);var o=function(){if(n=qn(n),n.injector()){var e=n[0]===t?"document":K(n);throw tr("btstrpd",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}return r=r||[],r.unshift(["$provide",function(e){e.value("$rootElement",n)}]),i.debugInfoEnabled&&r.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),r.unshift("ng"),e=We(r,i.strictDi),e.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),e},s=/^NG_ENABLE_DEBUG_INFO!/,l=/^NG_DEFER_BOOTSTRAP!/;return e&&s.test(e.name)&&(i.debugInfoEnabled=!0,e.name=e.name.replace(s,"")),e&&!l.test(e.name)?o():(e.name=e.name.replace(l,""),nr.resumeBootstrap=function(e){return a(e,function(e){r.push(e)}),o()},void(_(nr.resumeDeferredBootstrap)&&nr.resumeDeferredBootstrap()))}function ee(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function te(e){if(e=nr.element(e).injector(),!e)throw tr("test");return e.get("$$testability")}function ne(e,t){return t=t||"_",e.replace(hr,function(e,n){return(n?t:"")+e.toLowerCase()})}function re(){var t;if(!fr){var r=cr();(jn=y(r)?e.jQuery:r?e[r]:n)&&jn.fn.on?(qn=jn,c(jn.fn,{scope:Mr.scope,isolateScope:Mr.isolateScope,controller:Mr.controller,injector:Mr.injector,inheritedData:Mr.inheritedData}),t=jn.cleanData,jn.cleanData=function(e){var n;if(ir)ir=!1;else for(var r,i=0;null!=(r=e[i]);i++)(n=jn._data(r,"events"))&&n.$destroy&&jn(r).triggerHandler("$destroy");t(e)}):qn=me,nr.element=qn,fr=!0}}function ie(e,t,n){if(!e)throw tr("areq",t||"?",n||"required");return e}function ae(e,t,n){return n&&ar(e)&&(e=e[e.length-1]),ie(_(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function oe(e,t){if("hasOwnProperty"===e)throw tr("badname",t)}function se(e,t,n){if(!t)return e;t=t.split(".");for(var r,i=e,a=t.length,o=0;a>o;o++)r=t[o],e&&(e=(i=e)[r]);return!n&&_(e)?B(i,e):e}function le(e){for(var t,n=e[0],r=e[e.length-1],i=1;n!==r&&(n=n.nextSibling);i++)(t||e[i]!==n)&&(t||(t=qn(Qn.call(e,0,i))),t.push(n));return t||e}function ue(){return Object.create(null)}function ce(e){function t(e,t,n){return e[t]||(e[t]=n())}var n=r("$injector"),i=r("ng");return e=t(e,"angular",Object),e.$$minErr=e.$$minErr||r,t(e,"module",function(){var e={};return function(r,a,o){if("hasOwnProperty"===r)throw i("badname","module");return a&&e.hasOwnProperty(r)&&(e[r]=null),t(e,r,function(){function e(e,t,n,r){return r||(r=i),function(){return r[n||"push"]([e,t,arguments]),c}}function t(e,t){return function(n,a){return a&&_(a)&&(a.$$moduleName=r),i.push([e,t,arguments]),c}}if(!a)throw n("nomod",r);var i=[],s=[],l=[],u=e("$injector","invoke","push",s),c={_invokeQueue:i,_configBlocks:s,_runBlocks:l,requires:a,name:r,provider:t("$provide","provider"),factory:t("$provide","factory"),service:t("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:t("$provide","decorator"),animation:t("$animateProvider","register"),filter:t("$filterProvider","register"),controller:t("$controllerProvider","register"),directive:t("$compileProvider","directive"),config:u,run:function(e){return l.push(e),this}};return o&&u(o),c})}})}function de(t){c(t,{bootstrap:X,copy:L,extend:c,merge:d,equals:R,element:qn,forEach:a,injector:We,noop:f,bind:B,toJson:U,fromJson:G,identity:g,isUndefined:y,isDefined:b,isString:w,isFunction:_,isObject:S,isNumber:A,isElement:F,isArray:ar,version:mr,isDate:C,lowercase:Hn,uppercase:Yn,callbacks:{counter:0},getTestability:te,$$minErr:r,$$csp:ur,reloadWithDebugInfo:ee}),(Kn=ce(e))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Qt}),e.provider("$compile",Ye).directive({a:Fi,input:Vi,textarea:Vi,form:Li,script:Ia,select:Ba,style:Ua,option:Wa,ngBind:Zi,ngBindHtml:Xi,ngBindTemplate:Ji,ngClass:ta,ngClassEven:ra,ngClassOdd:na,ngCloak:ia,ngController:aa,ngForm:Ii,ngHide:Ta,ngIf:la,ngInclude:ua,ngInit:da,ngNonBindable:Aa,ngPluralize:$a,ngRepeat:ka,ngShow:Ma,ngStyle:Fa,ngSwitch:Oa,ngSwitchWhen:Pa,ngSwitchDefault:Ea,ngOptions:xa,ngTransclude:La,ngModel:Sa,ngList:pa,ngChange:ea,pattern:qa,ngPattern:qa,required:Ga,ngRequired:Ga,minlength:Ka,ngMinlength:Ka,maxlength:ja,ngMaxlength:ja,ngValue:Qi,ngModelOptions:wa}).directive({ngInclude:ca}).directive(Oi).directive(oa),e.provider({$anchorScroll:Ue,$animate:Gr,$animateCss:Kr,$$animateJs:Wr,$$animateQueue:Ur,$$AnimateRunner:jr,$$animateAsyncRun:qr,$browser:ze,$cacheFactory:He,$controller:Xe,$document:et,$exceptionHandler:tt,$filter:dn,$$forceReflow:Qr,$interpolate:ht,$interval:ft,$http:ut,$httpParamSerializer:rt,$httpParamSerializerJQLike:it,$httpBackend:dt,$xhrFactory:ct,$location:xt,$log:$t,$parse:jt,$rootScope:Yt,$q:Kt,$$q:zt,$sce:en,$sceDelegate:Xt,$sniffer:tn,$templateCache:Ve,$templateRequest:nn,$$testability:rn,$timeout:an,$window:ln,$$rAF:Vt,$$jqLite:Ie,$$HashMap:Pr,$$cookieReader:cn})}])}function pe(e){return e.replace(br,function(e,t,n,r){return r?n.toUpperCase():n}).replace(Sr,"Moz$1")}function he(e){return e=e.nodeType,1===e||!e||9===e}function fe(e,t){var n,r,i=t.createDocumentFragment(),o=[];if(Cr.test(e)){for(n=n||i.appendChild(t.createElement("div")),r=(_r.exec(e)||["",""])[1].toLowerCase(),r=$r[r]||$r._default,n.innerHTML=r[1]+e.replace(xr,"<$1></$2>")+r[2],r=r[0];r--;)n=n.lastChild;o=N(o,n.childNodes),n=i.firstChild,n.textContent=""}else o.push(t.createTextNode(e));return i.textContent="",i.innerHTML="",a(o,function(e){i.appendChild(e)}),i}function ge(e,t){var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)}function me(e){if(e instanceof me)return e;var n;if(w(e)&&(e=sr(e),n=!0),!(this instanceof me)){if(n&&"<"!=e.charAt(0))throw wr("nosel");return new me(e)}if(n){n=t;var r;e=(r=Ar.exec(e))?[n.createElement(r[1])]:(r=fe(e,n))?r.childNodes:[]}xe(this,e)}function ve(e){return e.cloneNode(!0)}function ye(e,t){if(t||Se(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),r=0,i=n.length;i>r;r++)Se(n[r])}function be(e,t,n,r){if(b(r))throw wr("offargs");var i=(r=De(e))&&r.events,o=r&&r.handle;if(o)if(t){var s=function(t){var r=i[t];b(n)&&E(r||[],n),b(n)&&r&&0<r.length||(e.removeEventListener(t,o,!1),delete i[t])};a(t.split(" "),function(e){s(e),Dr[e]&&s(Dr[e])})}else for(t in i)"$destroy"!==t&&e.removeEventListener(t,o,!1),delete i[t]}function Se(e,t){var r=e.ng339,i=r&&vr[r];i&&(t?delete i.data[t]:(i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),be(e)),delete vr[r],e.ng339=n))}function De(e,t){var r=e.ng339,r=r&&vr[r];return t&&!r&&(e.ng339=r=++yr,r=vr[r]={events:{},data:{},handle:n}),r}function we(e,t,n){if(he(e)){var r=b(n),i=!r&&t&&!S(t),a=!t;if(e=(e=De(e,!i))&&e.data,r)e[t]=n;else{if(a)return e;if(i)return e&&e[t];c(e,t)}}}function Ae(e,t){return e.getAttribute?-1<(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" "):!1}function Ce(e,t){t&&e.setAttribute&&a(t.split(" "),function(t){e.setAttribute("class",sr((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+sr(t)+" "," ")))})}function _e(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");a(t.split(" "),function(e){e=sr(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",sr(n))}}function xe(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;n>r;r++)e[e.length++]=t[r]}else e[e.length++]=t}}function $e(e,t){return ke(e,"$"+(t||"ngController")+"Controller")}function ke(e,t,n){for(9==e.nodeType&&(e=e.documentElement),t=ar(t)?t:[t];e;){for(var r=0,i=t.length;i>r;r++)if(b(n=qn.data(e,t[r])))return n;e=e.parentNode||11===e.nodeType&&e.host}}function Me(e){for(ye(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Te(e,t){t||ye(e);var n=e.parentNode;n&&n.removeChild(e)}function Fe(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):qn(n).on("load",t)}function Oe(e,t){var n=Tr[t.toLowerCase()];return n&&Fr[P(e)]&&n}function Pe(e,t){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=t[r||n.type],a=i?i.length:0;if(a){if(y(n.immediatePropagationStopped)){var o=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),o&&o.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped};var s=i.specialHandlerWrapper||Ee;a>1&&(i=I(i));for(var l=0;a>l;l++)n.isImmediatePropagationStopped()||s(e,n,i[l])}};return n.elem=e,n}function Ee(e,t,n){n.call(e,t)}function Le(e,t,n){var r=t.relatedTarget;r&&(r===e||kr.call(e,r))||n.call(e,t)}function Ie(){this.$get=function(){return c(me,{hasClass:function(e,t){return e.attr&&(e=e[0]),Ae(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),_e(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),Ce(e,t)}})}}function Re(e,t){var n=e&&e.$$hashKey;return n?("function"==typeof n&&(n=e.$$hashKey()),n):(n=typeof e,n="function"==n||"object"==n&&null!==e?e.$$hashKey=n+":"+(t||l)():n+":"+e)}function Ne(e,t){if(t){var n=0;this.nextUid=function(){return++n}}a(e,this.put,this)}function Be(e){return(e=e.toString().replace(Rr,"").match(Er))?"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function We(e,t){function r(e){return function(t,n){return S(t)?void a(t,s(e)):e(t,n)}}function i(e,t){if(oe(e,"service"),(_(t)||ar(t))&&(t=g.instantiate(t)),!t.$get)throw Nr("pget",e);return f[e+"Provider"]=t}function o(e,t){return function(){var n=b.invoke(t,this);if(y(n))throw Nr("undef",e);return n}}function l(e,t,n){return i(e,{$get:!1!==n?o(e,t):t})}function u(e){ie(y(e)||ar(e),"modulesToLoad","not an array");var t,n=[];return a(e,function(e){function r(e){var t,n;for(t=0,n=e.length;n>t;t++){var r=e[t],i=g.get(r[0]);i[r[1]].apply(i,r[2])}}if(!h.get(e)){h.put(e,!0);try{w(e)?(t=Kn(e),n=n.concat(u(t.requires)).concat(t._runBlocks),r(t._invokeQueue),r(t._configBlocks)):_(e)?n.push(g.invoke(e)):ar(e)?n.push(g.invoke(e)):ae(e,"module")}catch(i){throw ar(e)&&(e=e[e.length-1]),i.message&&i.stack&&-1==i.stack.indexOf(i.message)&&(i=i.message+"\n"+i.stack),Nr("modulerr",e,i.stack||i.message||i)}}}),n}function c(e,n){function r(t,r){if(e.hasOwnProperty(t)){if(e[t]===d)throw Nr("cdep",t+" <- "+p.join(" <- "));return e[t]}try{return p.unshift(t),e[t]=d,e[t]=n(t,r)}catch(i){throw e[t]===d&&delete e[t],i}finally{p.shift()}}function i(e,n,i,a){"string"==typeof i&&(a=i,i=null);var o,s,l,u=[],c=We.$$annotate(e,t,a);for(s=0,o=c.length;o>s;s++){if(l=c[s],"string"!=typeof l)throw Nr("itkn",l);u.push(i&&i.hasOwnProperty(l)?i[l]:r(l,a))}return ar(e)&&(e=e[o]),e.apply(n,u)}return{invoke:i,instantiate:function(e,t,n){var r=Object.create((ar(e)?e[e.length-1]:e).prototype||null);return e=i(e,r,t,n),S(e)||_(e)?e:r},get:r,annotate:We.$$annotate,has:function(t){return f.hasOwnProperty(t+"Provider")||e.hasOwnProperty(t)}}}t=!0===t;var d={},p=[],h=new Ne([],!0),f={$provide:{provider:r(i),factory:r(l),service:r(function(e,t){return l(e,["$injector",function(e){return e.instantiate(t)}])}),value:r(function(e,t){return l(e,m(t),!1)}),constant:r(function(e,t){oe(e,"constant"),f[e]=t,v[e]=t}),decorator:function(e,t){var n=g.get(e+"Provider"),r=n.$get;n.$get=function(){var e=b.invoke(r,n);return b.invoke(t,null,{$delegate:e})}}}},g=f.$injector=c(f,function(e,t){throw nr.isString(t)&&p.push(t),Nr("unpr",p.join(" <- "))}),v={},b=v.$injector=c(v,function(e,t){var r=g.get(e+"Provider",t);return b.invoke(r.$get,r,n,e)});return a(u(e),function(e){e&&b.invoke(e)}),b}function Ue(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,r){function i(e){var t=null;return Array.prototype.some.call(e,function(e){return"a"===P(e)?(t=e,!0):void 0}),t}function a(e){if(e){e.scrollIntoView();var n;n=o.yOffset,_(n)?n=n():F(n)?(n=n[0],n="fixed"!==t.getComputedStyle(n).position?0:n.getBoundingClientRect().bottom):A(n)||(n=0),n&&(e=e.getBoundingClientRect().top,t.scrollBy(0,e-n))}else t.scrollTo(0,0)}function o(e){e=w(e)?e:n.hash();var t;e?(t=s.getElementById(e))?a(t):(t=i(s.getElementsByName(e)))?a(t):"top"===e&&a(null):a(null)}var s=t.document;return e&&r.$watch(function(){return n.hash()},function(e,t){e===t&&""===e||Fe(function(){r.$evalAsync(o)})}),o}]}function Ge(e,t){return e||t?e?t?(ar(e)&&(e=e.join(" ")),ar(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function qe(e){w(e)&&(e=e.split(" "));var t=ue();return a(e,function(e){e.length&&(t[e]=!0)}),t}function je(e){return S(e)?e:{}}function Ke(e,t,n,r){function i(e){try{e.apply(null,Qn.call(arguments,1))}finally{if(m--,0===m)for(;v.length;)try{v.pop()()}catch(t){n.error(t)}}}function o(){A=null,s(),l()}function s(){e:{try{b=d.state;break e}catch(e){}b=void 0}b=y(b)?null:b,R(b,x)&&(b=x),x=b}function l(){(D!==u.url()||S!==b)&&(D=u.url(),S=b,a(C,function(e){e(u.url(),b)}))}var u=this,c=e.location,d=e.history,p=e.setTimeout,h=e.clearTimeout,g={};u.isMock=!1;var m=0,v=[];u.$$completeOutstandingRequest=i,u.$$incOutstandingRequestCount=function(){m++},u.notifyWhenNoOutstandingRequests=function(e){0===m?e():v.push(e)};var b,S,D=c.href,w=t.find("base"),A=null;s(),S=b,u.url=function(t,n,i){if(y(i)&&(i=null),c!==e.location&&(c=e.location),d!==e.history&&(d=e.history),t){var a=S===i;if(D===t&&(!r.history||a))return u;var o=D&&bt(D)===bt(t);return D=t,S=i,!r.history||o&&a?((!o||A)&&(A=t),n?c.replace(t):o?(n=c,i=t.indexOf("#"),i=-1===i?"":t.substr(i),n.hash=i):c.href=t,c.href!==t&&(A=t)):(d[n?"replaceState":"pushState"](i,"",t),s(),S=b),u}return A||c.href.replace(/%27/g,"'")},u.state=function(){return b};var C=[],_=!1,x=null;u.onUrlChange=function(t){return _||(r.history&&qn(e).on("popstate",o),qn(e).on("hashchange",o),_=!0),C.push(t),t},u.$$applicationDestroyed=function(){qn(e).off("hashchange popstate",o)},u.$$checkUrlChange=l,u.baseHref=function(){var e=w.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""},u.defer=function(e,t){var n;return m++,n=p(function(){delete g[n],i(e)},t||0),g[n]=!0,n},u.defer.cancel=function(e){return g[e]?(delete g[e],h(e),i(f),!0):!1}}function ze(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new Ke(e,r,t,n)}]}function He(){this.$get=function(){function e(e,n){function i(e){e!=p&&(h?h==e&&(h=e.n):h=e,a(e.n,e.p),a(e,p),p=e,p.n=null)}function a(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw r("$cacheFactory")("iid",e);var o=0,s=c({},n,{id:e}),l=ue(),u=n&&n.capacity||Number.MAX_VALUE,d=ue(),p=null,h=null;return t[e]={put:function(e,t){if(!y(t)){if(u<Number.MAX_VALUE){var n=d[e]||(d[e]={key:e});i(n)}return e in l||o++,l[e]=t,o>u&&this.remove(h.key),t}},get:function(e){if(u<Number.MAX_VALUE){var t=d[e];if(!t)return;i(t)}return l[e]},remove:function(e){if(u<Number.MAX_VALUE){var t=d[e];if(!t)return;t==p&&(p=t.p),t==h&&(h=t.n),a(t.n,t.p),delete d[e]}e in l&&(delete l[e],o--)},removeAll:function(){l=ue(),o=0,d=ue(),p=h=null},destroy:function(){d=s=l=null,delete t[e]},info:function(){return c({},s,{size:o})}}}var t={};return e.info=function(){var e={};return a(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function Ve(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function Ye(e,r){function i(e,t,n){var r=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,i=ue();return a(e,function(e,a){if(e in A)i[a]=A[e];else{var o=e.match(r);if(!o)throw zr("iscp",t,a,e,n?"controller bindings definition":"isolate scope definition");i[a]={mode:o[1][0],collection:"*"===o[2],optional:"?"===o[3],attrName:o[4]||a},o[4]&&(A[e]=i[a])}}),i}function o(e){var t=e.charAt(0);if(!t||t!==Hn(t))throw zr("baddir",e);if(e!==e.trim())throw zr("baddir",e)}var l={},u=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,d=/(([\w\-]+)(?:\:([^;]+))?;?)/,p=O("ngSrc,ngSrcset,src,srcset"),v=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,D=/^(on[a-z]+|formaction)$/,A=ue();this.directive=function x(t,n){return oe(t,"directive"),w(t)?(o(t),ie(n,"directiveFactory"),l.hasOwnProperty(t)||(l[t]=[],e.factory(t+"Directive",["$injector","$exceptionHandler",function(e,n){var r=[];return a(l[t],function(i,a){try{var o=e.invoke(i);_(o)?o={compile:m(o)}:!o.compile&&o.link&&(o.compile=m(o.link)),o.priority=o.priority||0,o.index=a,o.name=o.name||t,o.require=o.require||o.controller&&o.name,o.restrict=o.restrict||"EA",o.$$moduleName=i.$$moduleName,r.push(o)}catch(s){n(s)}}),r}])),l[t].push(n)):a(t,s(x)),this},this.aHrefSanitizationWhitelist=function(e){return b(e)?(r.aHrefSanitizationWhitelist(e),this):r.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return b(e)?(r.imgSrcSanitizationWhitelist(e),this):r.imgSrcSanitizationWhitelist()};var C=!0;this.debugInfoEnabled=function(e){return b(e)?(C=e,this):C},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(e,r,o,s,m,A,x,$,T,F){function O(e,t){try{e.addClass(t)}catch(n){}}function L(e,n,r,i,a){e instanceof qn||(e=qn(e));for(var o=/\S+/,s=0,l=e.length;l>s;s++){var u=e[s];u.nodeType===gr&&u.nodeValue.match(o)&&ge(u,e[s]=t.createElement("span"))}var c=I(e,n,e,r,i,a);L.$$addScopeClass(e);var d=null;return function(t,n,r){ie(t,"scope"),a&&a.needsNewScope&&(t=t.$parent.$new()),r=r||{};var i=r.parentBoundTranscludeFn,o=r.transcludeControllers;if(r=r.futureParentElement,i&&i.$$boundTransclude&&(i=i.$$boundTransclude),d||(d=(r=r&&r[0])&&"foreignobject"!==P(r)&&r.toString().match(/SVG/)?"svg":"html"),r="html"!==d?qn(J(d,qn("<div>").append(e).html())):n?Mr.clone.call(e):e,o)for(var s in o)r.data("$"+s+"Controller",o[s].instance);return L.$$addScopeInfo(r,t),n&&n(r,t),c&&c(t,r,r,i),r}}function I(e,t,r,i,a,o){function s(e,r,i,a){var o,s,l,u,c,d,f;if(p)for(f=Array(r.length),u=0;u<h.length;u+=3)o=h[u],f[o]=r[o];else f=r;for(u=0,c=h.length;c>u;)s=f[h[u++]],r=h[u++],o=h[u++],r?(r.scope?(l=e.$new(),L.$$addScopeInfo(qn(s),l)):l=e,d=r.transcludeOnThisElement?N(e,r.transclude,a):!r.templateOnThisElement&&a?a:!a&&t?N(e,t):null,r(o,l,s,i,d)):o&&o(e,s.childNodes,n,a)}for(var l,u,c,d,p,h=[],f=0;f<e.length;f++)l=new se,u=B(e[f],[],l,0===f?i:n,a),(o=u.length?G(u,e[f],l,t,r,null,[],[],o):null)&&o.scope&&L.$$addScopeClass(l.$$element),l=o&&o.terminal||!(c=e[f].childNodes)||!c.length?null:I(c,o?(o.transcludeOnThisElement||!o.templateOnThisElement)&&o.transclude:t),(o||l)&&(h.push(f,o,l),d=!0,p=p||o),o=null;return d?s:null}function N(e,t,n){return function(r,i,a,o,s){return r||(r=e.$new(!1,s),r.$$transcluded=!0),t(r,i,{parentBoundTranscludeFn:n,transcludeControllers:a,futureParentElement:o})}}function B(e,t,n,r,i){var a,o=n.$attr;switch(e.nodeType){case 1:a=P(e),j(t,Qe(a),"E",r,i);for(var s,l,c,p,h=e.attributes,f=0,g=h&&h.length;g>f;f++){var m=!1,v=!1;s=h[f],l=s.name,c=sr(s.value),s=Qe(l),(p=pe.test(s))&&(l=l.replace(Hr,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()})),(s=s.match(he))&&z(s[1])&&(m=l,v=l.substr(0,l.length-5)+"end",l=l.substr(0,l.length-6)),s=Qe(l.toLowerCase()),o[s]=l,(p||!n.hasOwnProperty(s))&&(n[s]=c,Oe(e,s)&&(n[s]=!0)),ee(e,t,c,s,p),j(t,s,"A",r,i,m,v)}if("input"===a&&"hidden"===e.getAttribute("type")&&e.setAttribute("autocomplete","off"),e=e.className,S(e)&&(e=e.animVal),w(e)&&""!==e)for(;a=d.exec(e);)s=Qe(a[2]),j(t,s,"C",r,i)&&(n[s]=sr(a[3])),e=e.substr(a.index+a[0].length);break;case gr:if(11===Gn)for(;e.parentNode&&e.nextSibling&&e.nextSibling.nodeType===gr;)e.nodeValue+=e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);Z(t,e.nodeValue);break;case 8:try{(a=u.exec(e.nodeValue))&&(s=Qe(a[1]),j(t,s,"M",r,i)&&(n[s]=sr(a[2])))}catch(y){}}return t.sort(Y),t}function W(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw zr("uterdir",t,n);1==e.nodeType&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(i>0)}else r.push(e);return qn(r)}function U(e,t,n){return function(r,i,a,o,s){return i=W(i[0],t,n),e(r,i,a,o,s)}}function G(e,r,i,a,s,l,u,c,d){function p(e,t,n,r){e&&(n&&(e=U(e,n,r)),e.require=m.require,e.directiveName=y,(M===m||m.$$isolateScope)&&(e=re(e,{isolateScope:!0})),u.push(e)),t&&(n&&(t=U(t,n,r)),t.require=m.require,t.directiveName=y,(M===m||m.$$isolateScope)&&(t=re(t,{isolateScope:!0})),c.push(t))}function h(e,t,n,r){var i;if(w(t)){var a=t.match(v);t=t.substring(a[0].length);var o=a[1]||a[3],a="?"===a[2];if("^^"===o?n=n.parent():i=(i=r&&r[t])&&i.instance,i||(r="$"+t+"Controller",i=o?n.inheritedData(r):n.data(r)),!i&&!a)throw zr("ctreq",t,e)}else if(ar(t))for(i=[],o=0,a=t.length;a>o;o++)i[o]=h(e,t[o],n,r);return i||null}function f(e,t,n,r,i,a){var o,s=ue();for(o in r){var l=r[o],u={$scope:l===M||l.$$isolateScope?i:a,$element:e,$attrs:t,$transclude:n},c=l.controller;"@"==c&&(c=t[l.name]),u=A(c,u,!0,l.controllerAs),s[l.name]=u,e.data("$"+l.name+"Controller",u.instance)}return s}function g(e,t,a,o,s){function l(e,t,r){var i;return k(e)||(r=t,t=e,e=n),E&&(i=m),r||(r=E?y.parent():y),s(e,t,i,r,C)}var d,p,g,m,v,y,b;r===a?(o=i,y=i.$$element):(y=qn(a),o=new se(y,i)),g=t,M?p=t.$new(!0):x&&(g=t.$parent),s&&(v=l,v.$$boundTransclude=s),$&&(m=f(y,o,v,$,p,t)),M&&(L.$$addScopeInfo(y,p,!0,!(T&&(T===M||T===M.$$originalDirective))),L.$$addScopeClass(y,!0),p.$$isolateBindings=M.$$isolateBindings,(b=oe(t,o,p,p.$$isolateBindings,M))&&p.$on("$destroy",b));for(var S in m){b=$[S];var D=m[S],w=b.$$bindings.bindToController;D.identifier&&w&&(d=oe(g,o,D.instance,w,b));var A=D();A!==D.instance&&(D.instance=A,y.data("$"+b.name+"Controller",A),d&&d(),d=oe(g,o,D.instance,w,b))}for(N=0,G=u.length;G>N;N++)d=u[N],ae(d,d.isolateScope?p:t,y,o,d.require&&h(d.directiveName,d.require,y,m),v);var C=t;for(M&&(M.template||null===M.templateUrl)&&(C=p),e&&e(C,a.childNodes,n,s),N=c.length-1;N>=0;N--)d=c[N],ae(d,d.isolateScope?p:t,y,o,d.require&&h(d.directiveName,d.require,y,m),v)}d=d||{};for(var m,y,b,D,C=-Number.MAX_VALUE,x=d.newScopeDirective,$=d.controllerDirectives,M=d.newIsolateScopeDirective,T=d.templateDirective,F=d.nonTlbTranscludeDirective,O=!1,P=!1,E=d.hasElementTranscludeDirective,I=i.$$element=qn(r),R=a,N=0,G=e.length;G>N;N++){m=e[N];var j=m.$$start,z=m.$$end;if(j&&(I=W(r,j,z)),b=n,C>m.priority)break;if((b=m.scope)&&(m.templateUrl||(S(b)?(Q("new/isolated scope",M||x,m,I),M=m):Q("new/isolated scope",M,m,I)),x=x||m),y=m.name,!m.templateUrl&&m.controller&&(b=m.controller,$=$||ue(),Q("'"+y+"' controller",$[y],m,I),
$[y]=m),(b=m.transclude)&&(O=!0,m.$$tlb||(Q("transclusion",F,m,I),F=m),"element"==b?(E=!0,C=m.priority,b=I,I=i.$$element=qn(t.createComment(" "+y+": "+i[y]+" ")),r=I[0],te(s,Qn.call(b,0),r),R=L(b,a,C,l&&l.name,{nonTlbTranscludeDirective:F})):(b=qn(ve(r)).contents(),I.empty(),R=L(b,a,n,n,{needsNewScope:m.$$isolateScope||m.$$newScope}))),m.template)if(P=!0,Q("template",T,m,I),T=m,b=_(m.template)?m.template(I,i):m.template,b=de(b),m.replace){if(l=m,b=Cr.test(b)?Je(J(m.templateNamespace,sr(b))):[],r=b[0],1!=b.length||1!==r.nodeType)throw zr("tplrt",y,"");te(s,I,r),b={$attr:{}};var Y=B(r,[],b),Z=e.splice(N+1,e.length-(N+1));(M||x)&&q(Y,M,x),e=e.concat(Y).concat(Z),H(i,b),G=e.length}else I.html(b);if(m.templateUrl)P=!0,Q("template",T,m,I),T=m,m.replace&&(l=m),g=V(e.splice(N,e.length-N),I,i,s,O&&R,u,c,{controllerDirectives:$,newScopeDirective:x!==m&&x,newIsolateScopeDirective:M,templateDirective:T,nonTlbTranscludeDirective:F}),G=e.length;else if(m.compile)try{D=m.compile(I,i,R),_(D)?p(null,D,j,z):D&&p(D.pre,D.post,j,z)}catch(X){o(X,K(I))}m.terminal&&(g.terminal=!0,C=Math.max(C,m.priority))}return g.scope=x&&!0===x.scope,g.transcludeOnThisElement=O,g.templateOnThisElement=P,g.transclude=R,d.hasElementTranscludeDirective=E,g}function q(e,t,n){for(var r=0,i=e.length;i>r;r++)e[r]=h(e[r],{$$isolateScope:t,$$newScope:n})}function j(t,n,r,a,s,u,c){if(n===s)return null;if(s=null,l.hasOwnProperty(n)){var d;n=e.get(n+"Directive");for(var p=0,f=n.length;f>p;p++)try{if(d=n[p],(y(a)||a>d.priority)&&-1!=d.restrict.indexOf(r)){if(u&&(d=h(d,{$$start:u,$$end:c})),!d.$$bindings){var g=d,m=d,v=d.name,b={isolateScope:null,bindToController:null};if(S(m.scope)&&(!0===m.bindToController?(b.bindToController=i(m.scope,v,!0),b.isolateScope={}):b.isolateScope=i(m.scope,v,!1)),S(m.bindToController)&&(b.bindToController=i(m.bindToController,v,!0)),S(b.bindToController)){var D=m.controller,A=m.controllerAs;if(!D)throw zr("noctrl",v);var C;e:{var m=D,_=A;if(_&&w(_))C=_;else{if(w(m)){var x=Yr.exec(m);if(x){C=x[3];break e}}C=void 0}}if(!C)throw zr("noident",v)}var $=g.$$bindings=b;S($.isolateScope)&&(d.$$isolateBindings=$.isolateScope)}t.push(d),s=d}}catch(k){o(k)}}return s}function z(t){if(l.hasOwnProperty(t))for(var n=e.get(t+"Directive"),r=0,i=n.length;i>r;r++)if(t=n[r],t.multiElement)return!0;return!1}function H(e,t){var n=t.$attr,r=e.$attr,i=e.$$element;a(e,function(r,i){"$"!=i.charAt(0)&&(t[i]&&t[i]!==r&&(r+=("style"===i?";":" ")+t[i]),e.$set(i,r,!0,n[i]))}),a(t,function(t,a){"class"==a?(O(i,t),e.class=(e.class?e.class+" ":"")+t):"style"==a?(i.attr("style",i.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==a.charAt(0)||e.hasOwnProperty(a)||(e[a]=t,r[a]=n[a])})}function V(e,t,n,r,i,o,l,u){var c,d,p=[],f=t[0],g=e.shift(),m=h(g,{templateUrl:null,transclude:null,replace:null,$$originalDirective:g}),v=_(g.templateUrl)?g.templateUrl(t,n):g.templateUrl,y=g.templateNamespace;return t.empty(),s(v).then(function(s){var h,b;if(s=de(s),g.replace){if(s=Cr.test(s)?Je(J(y,sr(s))):[],h=s[0],1!=s.length||1!==h.nodeType)throw zr("tplrt",g.name,v);s={$attr:{}},te(r,t,h);var D=B(h,[],s);S(g.scope)&&q(D,!0),e=D.concat(e),H(n,s)}else h=f,t.html(s);for(e.unshift(m),c=G(e,h,n,i,t,g,o,l,u),a(r,function(e,n){e==h&&(r[n]=t[0])}),d=I(t[0].childNodes,i);p.length;){s=p.shift(),b=p.shift();var w=p.shift(),A=p.shift(),D=t[0];if(!s.$$destroyed){if(b!==f){var C=b.className;u.hasElementTranscludeDirective&&g.replace||(D=ve(h)),te(w,qn(b),D),O(qn(D),C)}b=c.transcludeOnThisElement?N(s,c.transclude,A):A,c(d,s,D,r,b)}}p=null}),function(e,t,n,r,i){e=i,t.$$destroyed||(p?p.push(t,n,r,e):(c.transcludeOnThisElement&&(e=N(t,c.transclude,i)),c(d,t,n,r,e)))}}function Y(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function Q(e,t,n,r){function i(e){return e?" (module: "+e+")":""}if(t)throw zr("multidir",t.name,i(t.$$moduleName),n.name,i(n.$$moduleName),e,K(r))}function Z(e,t){var n=r(t,!0);n&&e.push({priority:0,compile:function(e){e=e.parent();var t=!!e.length;return t&&L.$$addBindingClass(e),function(e,r){var i=r.parent();t||L.$$addBindingClass(i),L.$$addBindingInfo(i,n.expressions),e.$watch(n,function(e){r[0].nodeValue=e})}}})}function J(e,n){switch(e=Hn(e||"html")){case"svg":case"math":var r=t.createElement("div");return r.innerHTML="<"+e+">"+n+"</"+e+">",r.childNodes[0].childNodes;default:return n}}function X(e,t){if("srcdoc"==t)return $.HTML;var n=P(e);return"xlinkHref"==t||"form"==n&&"action"==t||"img"!=n&&("src"==t||"ngSrc"==t)?$.RESOURCE_URL:void 0}function ee(e,t,n,i,a){var o=X(e,i);a=p[i]||a;var s=r(n,!0,o,a);if(s){if("multiple"===i&&"select"===P(e))throw zr("selmulti",K(e));t.push({priority:100,compile:function(){return{pre:function(e,t,l){if(t=l.$$observers||(l.$$observers=ue()),D.test(i))throw zr("nodomevents");var u=l[i];u!==n&&(s=u&&r(u,!0,o,a),n=u),s&&(l[i]=s(e),(t[i]||(t[i]=[])).$$inter=!0,(l.$$observers&&l.$$observers[i].$$scope||e).$watch(s,function(e,t){"class"===i&&e!=t?l.$updateClass(e,t):l.$set(i,e)}))}}}})}}function te(e,n,r){var i,a,o=n[0],s=n.length,l=o.parentNode;if(e)for(i=0,a=e.length;a>i;i++)if(e[i]==o){e[i++]=r,a=i+s-1;for(var u=e.length;u>i;i++,a++)u>a?e[i]=e[a]:delete e[i];e.length-=s-1,e.context===o&&(e.context=r);break}for(l&&l.replaceChild(r,o),e=t.createDocumentFragment(),e.appendChild(o),qn.hasData(o)&&(qn.data(r,qn.data(o)),jn?(ir=!0,jn.cleanData([o])):delete qn.cache[o[qn.expando]]),o=1,s=n.length;s>o;o++)l=n[o],qn(l).remove(),e.appendChild(l),delete n[o];n[0]=r,n.length=1}function re(e,t){return c(function(){return e.apply(null,arguments)},e,t)}function ae(e,t,n,r,i,a){try{e(t,n,r,i,a)}catch(s){o(s,K(n))}}function oe(e,t,n,i,o){var s=[];return a(i,function(i,a){var l,u,c,d,p=i.attrName,h=i.optional;switch(i.mode){case"@":h||Vn.call(t,p)||(n[a]=t[p]=void 0),t.$observe(p,function(e){w(e)&&(n[a]=e)}),t.$$observers[p].$$scope=e,l=t[p],w(l)?n[a]=r(l)(e):M(l)&&(n[a]=l);break;case"=":if(!Vn.call(t,p)){if(h)break;t[p]=void 0}if(h&&!t[p])break;u=m(t[p]),d=u.literal?R:function(e,t){return e===t||e!==e&&t!==t},c=u.assign||function(){throw l=n[a]=u(e),zr("nonassign",t[p],p,o.name)},l=n[a]=u(e),h=function(t){return d(t,n[a])||(d(t,l)?c(e,t=n[a]):n[a]=t),l=t},h.$stateful=!0,h=i.collection?e.$watchCollection(t[p],h):e.$watch(m(t[p],h),null,u.literal),s.push(h);break;case"&":if(u=t.hasOwnProperty(p)?m(t[p]):f,u===f&&h)break;n[a]=function(t){return u(e,t)}}}),s.length&&function(){for(var e=0,t=s.length;t>e;++e)s[e]()}}var se=function(e,t){if(t){var n,r,i,a=Object.keys(t);for(n=0,r=a.length;r>n;n++)i=a[n],this[i]=t[i]}else this.$attr={};this.$$element=e};se.prototype={$normalize:Qe,$addClass:function(e){e&&0<e.length&&T.addClass(this.$$element,e)},$removeClass:function(e){e&&0<e.length&&T.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=Ze(e,t);n&&n.length&&T.addClass(this.$$element,n),(n=Ze(t,e))&&n.length&&T.removeClass(this.$$element,n)},$set:function(e,t,n,r){var i=Oe(this.$$element[0],e),s=Or[e],l=e;if(i?(this.$$element.prop(e,t),r=i):s&&(this[s]=t,l=s),this[e]=t,r?this.$attr[e]=r:(r=this.$attr[e])||(this.$attr[e]=r=ne(e,"-")),i=P(this.$$element),"a"===i&&"href"===e||"img"===i&&"src"===e)this[e]=t=F(t,"src"===e);else if("img"===i&&"srcset"===e&&b(t)){for(var i="",s=sr(t),u=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,u=/\s/.test(s)?u:/(,)/,s=s.split(u),u=Math.floor(s.length/2),c=0;u>c;c++)var d=2*c,i=i+F(sr(s[d]),!0),i=i+(" "+sr(s[d+1]));s=sr(s[2*c]).split(/\s/),i+=F(sr(s[0]),!0),2===s.length&&(i+=" "+sr(s[1])),this[e]=t=i}!1!==n&&(null===t||y(t)?this.$$element.removeAttr(r):this.$$element.attr(r,t)),(e=this.$$observers)&&a(e[l],function(e){try{e(t)}catch(n){o(n)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=ue()),i=r[e]||(r[e]=[]);return i.push(t),x.$evalAsync(function(){i.$$inter||!n.hasOwnProperty(e)||y(n[e])||t(n[e])}),function(){E(i,t)}}};var le=r.startSymbol(),ce=r.endSymbol(),de="{{"==le&&"}}"==ce?g:function(e){return e.replace(/\{\{/g,le).replace(/}}/g,ce)},pe=/^ngAttr[A-Z]/,he=/^(.+)Start$/;return L.$$addBindingInfo=C?function(e,t){var n=e.data("$binding")||[];ar(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:f,L.$$addBindingClass=C?function(e){O(e,"ng-binding")}:f,L.$$addScopeInfo=C?function(e,t,n,r){e.data(n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope",t)}:f,L.$$addScopeClass=C?function(e,t){O(e,t?"ng-isolate-scope":"ng-scope")}:f,L}]}function Qe(e){return pe(e.replace(Hr,""))}function Ze(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/),a=0;e:for(;a<r.length;a++){for(var o=r[a],s=0;s<i.length;s++)if(o==i[s])continue e;n+=(0<n.length?" ":"")+o}return n}function Je(e){e=qn(e);var t=e.length;if(1>=t)return e;for(;t--;)8===e[t].nodeType&&Zn.call(e,t,1);return e}function Xe(){var e={},t=!1;this.register=function(t,n){oe(t,"controller"),S(t)?c(e,t):e[t]=n},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(i,a){function o(e,t,n,i){if(!e||!S(e.$scope))throw r("$controller")("noscp",i,t);e.$scope[t]=n}return function(r,s,l,u){var d,p,h;if(l=!0===l,u&&w(u)&&(h=u),w(r)){if(u=r.match(Yr),!u)throw Vr("ctrlfmt",r);p=u[1],h=h||u[3],r=e.hasOwnProperty(p)?e[p]:se(s.$scope,p,!0)||(t?se(a,p,!0):n),ae(r,p,!0)}return l?(l=(ar(r)?r[r.length-1]:r).prototype,d=Object.create(l||null),h&&o(s,h,d,p||r.name),c(function(){var e=i.invoke(r,d,s,p);return e!==d&&(S(e)||_(e))&&(d=e,h&&o(s,h,d,p||r.name)),d},{instance:d,identifier:h})):(d=i.instantiate(r,s,p),h&&o(s,h,d,p||r.name),d)}}]}function et(){this.$get=["$window",function(e){return qn(e.document)}]}function tt(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function nt(e){return S(e)?C(e)?e.toISOString():U(e):e}function rt(){this.$get=function(){return function(e){if(!e)return"";var t=[];return o(e,function(e,n){null===e||y(e)||(ar(e)?a(e,function(e,r){t.push(Q(n)+"="+Q(nt(e)))}):t.push(Q(n)+"="+Q(nt(e))))}),t.join("&")}}}function it(){this.$get=function(){return function(e){function t(e,r,i){null===e||y(e)||(ar(e)?a(e,function(e,n){t(e,r+"["+(S(e)?n:"")+"]")}):S(e)&&!C(e)?o(e,function(e,n){t(e,r+(i?"":"[")+n+(i?"":"]"))}):n.push(Q(r)+"="+Q(nt(e))))}if(!e)return"";var n=[];return t(e,"",!0),n.join("&")}}}function at(e,t){if(w(e)){var n=e.replace(ti,"").trim();if(n){var r=t("Content-Type");(r=r&&0===r.indexOf(Zr))||(r=(r=n.match(Xr))&&ei[r[0]].test(n)),r&&(e=G(n))}}return e}function ot(e){var t,n=ue();return w(e)?a(e.split("\n"),function(e){t=e.indexOf(":");var r=Hn(sr(e.substr(0,t)));e=sr(e.substr(t+1)),r&&(n[r]=n[r]?n[r]+", "+e:e)}):S(e)&&a(e,function(e,t){var r=Hn(t),i=sr(e);r&&(n[r]=n[r]?n[r]+", "+i:i)}),n}function st(e){var t;return function(n){return t||(t=ot(e)),n?(n=t[Hn(n)],void 0===n&&(n=null),n):t}}function lt(e,t,n,r){return _(r)?r(e,t,n):(a(r,function(r){e=r(e,t,n)}),e)}function ut(){var e=this.defaults={transformResponse:[at],transformRequest:[function(e){return S(e)&&"[object File]"!==Xn.call(e)&&"[object Blob]"!==Xn.call(e)&&"[object FormData]"!==Xn.call(e)?U(e):e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:I(Jr),put:I(Jr),patch:I(Jr)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},t=!1;this.useApplyAsync=function(e){return b(e)?(t=!!e,this):t};var i=!0;this.useLegacyPromiseExtensions=function(e){return b(e)?(i=!!e,this):i};var o=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(s,l,u,d,p,h){function f(t){function o(e){var t=c({},e);return t.data=lt(e.data,e.headers,e.status,l.transformResponse),e=e.status,e>=200&&300>e?t:p.reject(t)}function s(e,t){var n,r={};return a(e,function(e,i){_(e)?(n=e(t),null!=n&&(r[i]=n)):r[i]=e}),r}if(!nr.isObject(t))throw r("$http")("badreq",t);if(!w(t.url))throw r("$http")("badreq",t.url);var l=c({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer},t);l.headers=function(t){var n,r,i,a=e.headers,o=c({},t.headers),a=c({},a.common,a[Hn(t.method)]);e:for(n in a){r=Hn(n);for(i in o)if(Hn(i)===r)continue e;o[n]=a[n]}return s(o,I(t))}(t),l.method=Yn(l.method),l.paramSerializer=w(l.paramSerializer)?h.get(l.paramSerializer):l.paramSerializer;var u=[function(t){var r=t.headers,i=lt(t.data,st(r),n,t.transformRequest);return y(i)&&a(r,function(e,t){"content-type"===Hn(t)&&delete r[t]}),y(t.withCredentials)&&!y(e.withCredentials)&&(t.withCredentials=e.withCredentials),g(t,i).then(o,o)},n],d=p.when(l);for(a(D,function(e){(e.request||e.requestError)&&u.unshift(e.request,e.requestError),(e.response||e.responseError)&&u.push(e.response,e.responseError)});u.length;){t=u.shift();var f=u.shift(),d=d.then(t,f)}return i?(d.success=function(e){return ae(e,"fn"),d.then(function(t){e(t.data,t.status,t.headers,l)}),d},d.error=function(e){return ae(e,"fn"),d.then(null,function(t){e(t.data,t.status,t.headers,l)}),d}):(d.success=ri("success"),d.error=ri("error")),d}function g(r,i){function a(e,n,r,i){function a(){o(n,e,r,i)}h&&(e>=200&&300>e?h.put(C,[e,n,ot(r),i]):h.remove(C)),t?d.$applyAsync(a):(a(),d.$$phase||d.$apply())}function o(e,t,n,i){t=t>=-1?t:0,(t>=200&&300>t?D.resolve:D.reject)({data:e,status:t,headers:st(n),config:r,statusText:i})}function u(e){o(e.data,e.status,I(e.headers()),e.statusText)}function c(){var e=f.pendingRequests.indexOf(r);-1!==e&&f.pendingRequests.splice(e,1)}var h,g,D=p.defer(),w=D.promise,A=r.headers,C=m(r.url,r.paramSerializer(r.params));return f.pendingRequests.push(r),w.then(c,c),!r.cache&&!e.cache||!1===r.cache||"GET"!==r.method&&"JSONP"!==r.method||(h=S(r.cache)?r.cache:S(e.cache)?e.cache:v),h&&(g=h.get(C),b(g)?g&&_(g.then)?g.then(u,u):ar(g)?o(g[1],g[0],I(g[2]),g[3]):o(g,200,{},"OK"):h.put(C,w)),y(g)&&((g=sn(r.url)?l()[r.xsrfCookieName||e.xsrfCookieName]:n)&&(A[r.xsrfHeaderName||e.xsrfHeaderName]=g),s(r.method,C,i,a,A,r.timeout,r.withCredentials,r.responseType)),w}function m(e,t){return 0<t.length&&(e+=(-1==e.indexOf("?")?"?":"&")+t),e}var v=u("$http");e.paramSerializer=w(e.paramSerializer)?h.get(e.paramSerializer):e.paramSerializer;var D=[];return a(o,function(e){D.unshift(w(e)?h.get(e):h.invoke(e))}),f.pendingRequests=[],function(e){a(arguments,function(e){f[e]=function(t,n){return f(c({},n||{},{method:e,url:t}))}})}("get","delete","head","jsonp"),function(e){a(arguments,function(e){f[e]=function(t,n,r){return f(c({},r||{},{method:e,url:t,data:n}))}})}("post","put","patch"),f.defaults=e,f}]}function ct(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function dt(){this.$get=["$browser","$window","$document","$xhrFactory",function(e,t,n,r){return pt(e,r,e.defer,t.angular.callbacks,n[0])}]}function pt(e,t,n,r,i){function o(e,t,n){var a=i.createElement("script"),o=null;return a.type="text/javascript",a.src=e,a.async=!0,o=function(e){a.removeEventListener("load",o,!1),a.removeEventListener("error",o,!1),i.body.removeChild(a),a=null;var s=-1,l="unknown";e&&("load"!==e.type||r[t].called||(e={type:"error"}),l=e.type,s="error"===e.type?404:200),n&&n(s,l)},a.addEventListener("load",o,!1),a.addEventListener("error",o,!1),i.body.appendChild(a),o}return function(i,s,l,u,c,d,p,h){function g(){S&&S(),D&&D.abort()}function m(t,r,i,a,o){b(A)&&n.cancel(A),S=D=null,t(r,i,a,o),e.$$completeOutstandingRequest(f)}if(e.$$incOutstandingRequestCount(),s=s||e.url(),"jsonp"==Hn(i)){var v="_"+(r.counter++).toString(36);r[v]=function(e){r[v].data=e,r[v].called=!0};var S=o(s.replace("JSON_CALLBACK","angular.callbacks."+v),v,function(e,t){m(u,e,r[v].data,"",t),r[v]=f})}else{var D=t(i,s);if(D.open(i,s,!0),a(c,function(e,t){b(e)&&D.setRequestHeader(t,e)}),D.onload=function(){var e=D.statusText||"",t="response"in D?D.response:D.responseText,n=1223===D.status?204:D.status;0===n&&(n=t?200:"file"==on(s).protocol?404:0),m(u,n,t,D.getAllResponseHeaders(),e)},i=function(){m(u,-1,null,null,"")},D.onerror=i,D.onabort=i,p&&(D.withCredentials=!0),h)try{D.responseType=h}catch(w){if("json"!==h)throw w}D.send(y(l)?null:l)}if(d>0)var A=n(g,d);else d&&_(d.then)&&d.then(g)}}function ht(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function a(e){return"\\\\\\"+e}function o(n){return n.replace(d,e).replace(p,t)}function s(a,s,d,p){function h(e){try{var t=e;e=d?i.getTrusted(d,t):i.valueOf(t);var n;if(p&&!b(e))n=e;else if(null==e)n="";else{switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=U(e)}n=e}return n}catch(o){r(ii.interr(a,o))}}p=!!p;for(var f,g,m=0,v=[],S=[],D=a.length,w=[],A=[];D>m;){if(-1==(f=a.indexOf(e,m))||-1==(g=a.indexOf(t,f+l))){m!==D&&w.push(o(a.substring(m)));break}m!==f&&w.push(o(a.substring(m,f))),m=a.substring(f+l,g),v.push(m),S.push(n(m,h)),m=g+u,A.push(w.length),w.push("")}if(d&&1<w.length&&ii.throwNoconcat(a),!s||v.length){var C=function(e){for(var t=0,n=v.length;n>t;t++){if(p&&y(e[t]))return;w[A[t]]=e[t]}return w.join("")};return c(function(e){var t=0,n=v.length,i=Array(n);try{for(;n>t;t++)i[t]=S[t](e);return C(i)}catch(o){r(ii.interr(a,o))}},{exp:a,expressions:v,$$watchDelegate:function(e,t){var n;return e.$watchGroup(S,function(r,i){var a=C(r);_(t)&&t.call(this,a,r!==i?n:a,e),n=a})}})}}var l=e.length,u=t.length,d=new RegExp(e.replace(/./g,a),"g"),p=new RegExp(t.replace(/./g,a),"g");return s.startSymbol=function(){return e},s.endSymbol=function(){return t},s}]}function ft(){this.$get=["$rootScope","$window","$q","$$q",function(e,t,n,r){function i(i,o,s,l){var u=4<arguments.length,c=u?Qn.call(arguments,4):[],d=t.setInterval,p=t.clearInterval,h=0,f=b(l)&&!l,g=(f?r:n).defer(),m=g.promise;return s=b(s)?s:0,m.then(null,null,u?function(){i.apply(null,c)}:i),m.$$intervalId=d(function(){g.notify(h++),s>0&&h>=s&&(g.resolve(h),p(m.$$intervalId),delete a[m.$$intervalId]),f||e.$apply()},o),a[m.$$intervalId]=g,m}var a={};return i.cancel=function(e){return e&&e.$$intervalId in a?(a[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete a[e.$$intervalId],!0):!1},i}]}function gt(e){e=e.split("/");for(var t=e.length;t--;)e[t]=Y(e[t]);return e.join("/")}function mt(e,t){var n=on(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=p(n.port)||oi[n.protocol]||null}function vt(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e);var r=on(e);t.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),t.$$search=H(r.search),t.$$hash=decodeURIComponent(r.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function yt(e,t){return 0===t.indexOf(e)?t.substr(e.length):void 0}function bt(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function St(e){return e.replace(/(#.+)|#$/,"$1")}function Dt(e,t,n){this.$$html5=!0,n=n||"",mt(e,this),this.$$parse=function(e){var n=yt(t,e);if(!w(n))throw si("ipthprfx",e,t);vt(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=V(this.$$search),n=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=gt(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1)},this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var a,o;return b(a=yt(e,r))?(o=a,o=b(a=yt(n,a))?t+(yt("/",a)||a):e+o):b(a=yt(t,r))?o=t+a:t==r+"/"&&(o=t),o&&this.$$parse(o),!!o}}function wt(e,t,n){mt(e,this),this.$$parse=function(r){var i,a=yt(e,r)||yt(t,r);y(a)||"#"!==a.charAt(0)?this.$$html5?i=a:(i="",y(a)&&(e=r,this.replace())):(i=yt(n,a),y(i)&&(i=a)),vt(i,this),r=this.$$path;var a=e,o=/^\/[A-Z]:(\/.*)/;0===i.indexOf(a)&&(i=i.replace(a,"")),o.exec(i)||(r=(i=o.exec(r))?i[1]:r),this.$$path=r,this.$$compose()},this.$$compose=function(){var t=V(this.$$search),r=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=gt(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(t,n){return bt(e)==bt(t)?(this.$$parse(t),!0):!1}}function At(e,t,n){this.$$html5=!0,wt.apply(this,arguments),this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var a,o;return e==bt(r)?a=r:(o=yt(t,r))?a=e+n+o:t===r+"/"&&(a=t),a&&this.$$parse(a),!!a},this.$$compose=function(){var t=V(this.$$search),r=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=gt(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+n+this.$$url}}function Ct(e){return function(){return this[e]}}function _t(e,t){return function(n){return y(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function xt(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return b(t)?(e=t,this):e},this.html5Mode=function(e){return M(e)?(t.enabled=e,this):S(e)?(M(e.enabled)&&(t.enabled=e.enabled),M(e.requireBase)&&(t.requireBase=e.requireBase),M(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,a,o){function s(e,t,n){var i=u.url(),a=u.$$state;try{r.url(e,t,n),u.$$state=r.state()}catch(o){throw u.url(i),u.$$state=a,o}}function l(e,t){n.$broadcast("$locationChangeSuccess",u.absUrl(),e,u.$$state,t)}var u,c;c=r.baseHref();var d,p=r.url();if(t.enabled){if(!c&&t.requireBase)throw si("nobase");d=p.substring(0,p.indexOf("/",p.indexOf("//")+2))+(c||"/"),c=i.history?Dt:At}else d=bt(p),c=wt;var h=d.substr(0,bt(d).lastIndexOf("/")+1);u=new c(d,h,"#"+e),u.$$parseLinkUrl(p,p),u.$$state=r.state();var f=/^\s*(javascript|mailto):/i;a.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var i=qn(e.target);"a"!==P(i[0]);)if(i[0]===a[0]||!(i=i.parent())[0])return;var s=i.prop("href"),l=i.attr("href")||i.attr("xlink:href");S(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=on(s.animVal).href),f.test(s)||!s||i.attr("target")||e.isDefaultPrevented()||!u.$$parseLinkUrl(s,l)||(e.preventDefault(),u.absUrl()!=r.url()&&(n.$apply(),o.angular["ff-684208-preventDefault"]=!0))}}),St(u.absUrl())!=St(p)&&r.url(u.absUrl(),!0);var g=!0;return r.onUrlChange(function(e,t){y(yt(h,e))?o.location.href=e:(n.$evalAsync(function(){var r,i=u.absUrl(),a=u.$$state;e=St(e),u.$$parse(e),u.$$state=t,r=n.$broadcast("$locationChangeStart",e,i,t,a).defaultPrevented,u.absUrl()===e&&(r?(u.$$parse(i),u.$$state=a,s(i,!1,a)):(g=!1,l(i,a)))}),n.$$phase||n.$digest())}),n.$watch(function(){var e=St(r.url()),t=St(u.absUrl()),a=r.state(),o=u.$$replace,c=e!==t||u.$$html5&&i.history&&a!==u.$$state;(g||c)&&(g=!1,n.$evalAsync(function(){var t=u.absUrl(),r=n.$broadcast("$locationChangeStart",t,e,u.$$state,a).defaultPrevented;u.absUrl()===t&&(r?(u.$$parse(e),u.$$state=a):(c&&s(t,o,a===u.$$state?null:u.$$state),l(e,a)))})),u.$$replace=!1}),u}]}function $t(){var e=!0,t=this;this.debugEnabled=function(t){return b(t)?(e=t,this):e},this.$get=["$window",function(n){function r(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function i(e){var t=n.console||{},i=t[e]||t.log||f;e=!1;try{e=!!i.apply}catch(o){}return e?function(){var e=[];return a(arguments,function(t){e.push(r(t))}),i.apply(t,e)}:function(e,t){i(e,null==t?"":t)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function kt(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw ui("isecfld",t);return e}function Mt(e,t){if(e+="",!w(e))throw ui("iseccst",t);return e}function Tt(e,t){if(e){if(e.constructor===e)throw ui("isecfn",t);if(e.window===e)throw ui("isecwindow",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw ui("isecdom",t);if(e===Object)throw ui("isecobj",t)}return e}function Ft(e,t){if(e){if(e.constructor===e)throw ui("isecfn",t);if(e===ci||e===di||e===pi)throw ui("isecff",t)}}function Ot(e,t){if(e&&(e===0..constructor||e===(!1).constructor||e==="".constructor||e==={}.constructor||e===[].constructor||e===Function.constructor))throw ui("isecaf",t)}function Pt(e,t){return"undefined"!=typeof e?e:t}function Et(e,t){return"undefined"==typeof e?t:"undefined"==typeof t?e:e+t}function Lt(e,t){var n,r;switch(e.type){case mi.Program:n=!0,a(e.body,function(e){Lt(e.expression,t),n=n&&e.expression.constant}),e.constant=n;break;case mi.Literal:e.constant=!0,e.toWatch=[];break;case mi.UnaryExpression:Lt(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case mi.BinaryExpression:Lt(e.left,t),Lt(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case mi.LogicalExpression:Lt(e.left,t),Lt(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case mi.ConditionalExpression:Lt(e.test,t),Lt(e.alternate,t),Lt(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case mi.Identifier:e.constant=!1,e.toWatch=[e];break;case mi.MemberExpression:Lt(e.object,t),e.computed&&Lt(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case mi.CallExpression:n=e.filter?!t(e.callee.name).$stateful:!1,r=[],a(e.arguments,function(e){Lt(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=n,e.toWatch=e.filter&&!t(e.callee.name).$stateful?r:[e];break;case mi.AssignmentExpression:Lt(e.left,t),Lt(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case mi.ArrayExpression:n=!0,r=[],a(e.elements,function(e){Lt(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=n,e.toWatch=r;break;case mi.ObjectExpression:n=!0,r=[],a(e.properties,function(e){Lt(e.value,t),n=n&&e.value.constant,e.value.constant||r.push.apply(r,e.value.toWatch)}),e.constant=n,e.toWatch=r;break;case mi.ThisExpression:e.constant=!1,e.toWatch=[]}}function It(e){if(1==e.length){e=e[0].expression;var t=e.toWatch;return 1!==t.length?t:t[0]!==e?t:n}}function Rt(e){return e.type===mi.Identifier||e.type===mi.MemberExpression}function Nt(e){return 1===e.body.length&&Rt(e.body[0].expression)?{type:mi.AssignmentExpression,left:e.body[0].expression,right:{type:mi.NGValueParameter},operator:"="}:void 0}function Bt(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===mi.Literal||e.body[0].expression.type===mi.ArrayExpression||e.body[0].expression.type===mi.ObjectExpression)}function Wt(e,t){this.astBuilder=e,this.$filter=t}function Ut(e,t){this.astBuilder=e,this.$filter=t}function Gt(e){return"constructor"==e}function qt(e){return _(e.valueOf)?e.valueOf():yi.call(e)}function jt(){var e=ue(),t=ue();this.$get=["$filter",function(r){function i(n,i,a){var s,h,y;switch(a=a||v,typeof n){case"string":y=n=n.trim();var b=a?t:e;if(s=b[y],!s){":"===n.charAt(0)&&":"===n.charAt(1)&&(h=!0,n=n.substring(2)),s=a?m:g;var S=new gi(s);s=new vi(S,r,s).parse(n),s.constant?s.$$watchDelegate=d:h?s.$$watchDelegate=s.literal?c:u:s.inputs&&(s.$$watchDelegate=l),a&&(s=o(s)),b[y]=s}return p(s,i);case"function":return p(n,i);default:return p(f,i)}}function o(e){function t(t,n,r,i){var a=v;v=!0;try{return e(t,n,r,i)}finally{v=a}}if(!e)return e;t.$$watchDelegate=e.$$watchDelegate,t.assign=o(e.assign),t.constant=e.constant,t.literal=e.literal;for(var n=0;e.inputs&&n<e.inputs.length;++n)e.inputs[n]=o(e.inputs[n]);return t.inputs=e.inputs,t}function s(e,t){return null==e||null==t?e===t:"object"==typeof e&&(e=qt(e),"object"==typeof e)?!1:e===t||e!==e&&t!==t}function l(e,t,r,i,a){var o,l=i.inputs;if(1===l.length){var u=s,l=l[0];return e.$watch(function(e){var t=l(e);return s(t,u)||(o=i(e,n,n,[t]),u=t&&qt(t)),o},t,r,a)}for(var c=[],d=[],p=0,h=l.length;h>p;p++)c[p]=s,d[p]=null;return e.$watch(function(e){for(var t=!1,r=0,a=l.length;a>r;r++){var u=l[r](e);(t||(t=!s(u,c[r])))&&(d[r]=u,c[r]=u&&qt(u))}return t&&(o=i(e,n,n,d)),o},t,r,a)}function u(e,t,n,r){var i,a;return i=e.$watch(function(e){return r(e)},function(e,n,r){a=e,_(t)&&t.apply(this,arguments),b(e)&&r.$$postDigest(function(){b(a)&&i()})},n)}function c(e,t,n,r){function i(e){var t=!0;return a(e,function(e){b(e)||(t=!1)}),t}var o,s;return o=e.$watch(function(e){return r(e)},function(e,n,r){s=e,_(t)&&t.call(this,e,n,r),i(e)&&r.$$postDigest(function(){i(s)&&o()})},n)}function d(e,t,n,r){var i;return i=e.$watch(function(e){return r(e)},function(e,n,r){_(t)&&t.apply(this,arguments),i()},n)}function p(e,t){if(!t)return e;var n=e.$$watchDelegate,r=!1,n=n!==c&&n!==u?function(n,i,a,o){return a=r&&o?o[0]:e(n,i,a,o),t(a,n,i)}:function(n,r,i,a){return i=e(n,r,i,a),n=t(i,n,r),b(i)?n:i};return e.$$watchDelegate&&e.$$watchDelegate!==l?n.$$watchDelegate=e.$$watchDelegate:t.$stateful||(n.$$watchDelegate=l,r=!e.inputs,n.inputs=e.inputs?e.inputs:[e]),n}var h=ur().noUnsafeEval,g={csp:h,expensiveChecks:!1},m={csp:h,expensiveChecks:!0},v=!1;return i.$$runningExpensiveChecks=function(){return v},i}]}function Kt(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return Ht(function(t){e.$evalAsync(t)},t)}]}function zt(){this.$get=["$browser","$exceptionHandler",function(e,t){return Ht(function(t){e.defer(t)},t)}]}function Ht(e,t){function i(e,t,n){function r(t){return function(n){i||(i=!0,t.call(e,n))}}var i=!1;return[r(t),r(n)]}function o(){this.$$state={status:0}}function s(e,t){return function(n){t.call(e,n)}}function l(r){!r.processScheduled&&r.pending&&(r.processScheduled=!0,e(function(){var e,i,a;a=r.pending,r.processScheduled=!1,r.pending=n;for(var o=0,s=a.length;s>o;++o){i=a[o][0],e=a[o][r.status];try{_(e)?i.resolve(e(r.value)):1===r.status?i.resolve(r.value):i.reject(r.value)}catch(l){i.reject(l),t(l)}}}))}function u(){this.promise=new o,this.resolve=s(this,this.resolve),this.reject=s(this,this.reject),this.notify=s(this,this.notify)}var d=r("$q",TypeError);c(o.prototype,{then:function(e,t,n){if(y(e)&&y(t)&&y(n))return this;var r=new u;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),0<this.$$state.status&&l(this.$$state),r.promise},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return h(t,!0,e)},function(t){return h(t,!1,e)},t)}}),c(u.prototype,{resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(d("qcycle",e)):this.$$resolve(e))},$$resolve:function(e){var n,r;r=i(this,this.$$resolve,this.$$reject);try{(S(e)||_(e))&&(n=e&&e.then),_(n)?(this.promise.$$state.status=-1,n.call(e,r[0],r[1],this.notify)):(this.promise.$$state.value=e,this.promise.$$state.status=1,l(this.promise.$$state))}catch(a){r[1](a),t(a)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,l(this.promise.$$state)},notify:function(n){var r=this.promise.$$state.pending;0>=this.promise.$$state.status&&r&&r.length&&e(function(){for(var e,i,a=0,o=r.length;o>a;a++){i=r[a][0],e=r[a][3];try{i.notify(_(e)?e(n):n)}catch(s){t(s)}}})}});var p=function(e,t){var n=new u;return t?n.resolve(e):n.reject(e),n.promise},h=function(e,t,n){var r=null;try{_(n)&&(r=n())}catch(i){return p(i,!1)}return r&&_(r.then)?r.then(function(){return p(e,t)},function(e){return p(e,!1)}):p(e,t)},f=function(e,t,n,r){var i=new u;return i.resolve(e),i.promise.then(t,n,r)},g=function m(e){if(!_(e))throw d("norslvr",e);if(!(this instanceof m))return new m(e);var t=new u;return e(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise};return g.defer=function(){return new u},g.reject=function(e){var t=new u;return t.reject(e),t.promise},g.when=f,g.resolve=f,g.all=function(e){var t=new u,n=0,r=ar(e)?[]:{};return a(e,function(e,i){n++,f(e).then(function(e){r.hasOwnProperty(i)||(r[i]=e,--n||t.resolve(r))},function(e){r.hasOwnProperty(i)||t.reject(e)})}),0===n&&t.resolve(r),t.promise},g}function Vt(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,i=!!n,a=i?function(e){var t=n(e);return function(){r(t)}}:function(e){var n=t(e,16.66,!1);return function(){
t.cancel(n)}};return a.supported=i,a}]}function Yt(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=++rr,this.$$ChildScope=null}return t.prototype=e,t}var t=10,n=r("$rootScope"),o=null,s=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(r,l,u,c){function d(e){e.currentScope.$$destroyed=!0}function p(e){9===Gn&&(e.$$childHead&&p(e.$$childHead),e.$$nextSibling&&p(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function h(){this.$id=++rr,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function g(e){if(A.$$phase)throw n("inprog",A.$$phase);A.$$phase=e}function m(e,t){do e.$$watchersCount+=t;while(e=e.$parent)}function v(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function b(){}function D(){for(;$.length;)try{$.shift()()}catch(e){l(e)}s=null}function w(){null===s&&(s=c.defer(function(){A.$apply(D)}))}h.prototype={constructor:h,$new:function(t,n){var r;return n=n||this,t?(r=new h,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(t||n!=this)&&r.$on("$destroy",d),r},$watch:function(e,t,n,r){var i=u(e);if(i.$$watchDelegate)return i.$$watchDelegate(this,t,n,i,e);var a=this,s=a.$$watchers,l={fn:t,last:b,get:i,exp:r||e,eq:!!n};return o=null,_(t)||(l.fn=f),s||(s=a.$$watchers=[]),s.unshift(l),m(this,1),function(){0<=E(s,l)&&m(a,-1),o=null}},$watchGroup:function(e,t){function n(){l=!1,u?(u=!1,t(i,i,s)):t(i,r,s)}var r=Array(e.length),i=Array(e.length),o=[],s=this,l=!1,u=!0;if(!e.length){var c=!0;return s.$evalAsync(function(){c&&t(i,i,s)}),function(){c=!1}}return 1===e.length?this.$watch(e[0],function(e,n,a){i[0]=e,r[0]=n,t(i,e===n?i:r,a)}):(a(e,function(e,t){var a=s.$watch(e,function(e,a){i[t]=e,r[t]=a,l||(l=!0,s.$evalAsync(n))});o.push(a)}),function(){for(;o.length;)o.shift()()})},$watchCollection:function(e,t){function n(e){r=e;var t,n,o,s;if(!y(r)){if(S(r))if(i(r))for(a!==p&&(a=p,g=a.length=0,c++),e=r.length,g!==e&&(c++,a.length=g=e),t=0;e>t;t++)s=a[t],o=r[t],n=s!==s&&o!==o,n||s===o||(c++,a[t]=o);else{a!==h&&(a=h={},g=0,c++),e=0;for(t in r)Vn.call(r,t)&&(e++,o=r[t],s=a[t],t in a?(n=s!==s&&o!==o,n||s===o||(c++,a[t]=o)):(g++,a[t]=o,c++));if(g>e)for(t in c++,a)Vn.call(r,t)||(g--,delete a[t])}else a!==r&&(a=r,c++);return c}}n.$stateful=!0;var r,a,o,s=this,l=1<t.length,c=0,d=u(e,n),p=[],h={},f=!0,g=0;return this.$watch(d,function(){if(f?(f=!1,t(r,r,s)):t(r,o,s),l)if(S(r))if(i(r)){o=Array(r.length);for(var e=0;e<r.length;e++)o[e]=r[e]}else for(e in o={},r)Vn.call(r,e)&&(o[e]=r[e]);else o=r})},$digest:function(){var e,r,i,a,u,d,p,h,f,m,v,y=t,S=[];g("$digest"),c.$$checkUrlChange(),this===A&&null!==s&&(c.defer.cancel(s),D()),o=null;do{for(h=!1,f=this;C.length;){try{v=C.shift(),v.scope.$eval(v.expression,v.locals)}catch(w){l(w)}o=null}e:do{if(d=f.$$watchers)for(p=d.length;p--;)try{if(e=d[p])if(u=e.get,(r=u(f))===(i=e.last)||(e.eq?R(r,i):"number"==typeof r&&"number"==typeof i&&isNaN(r)&&isNaN(i))){if(e===o){h=!1;break e}}else h=!0,o=e,e.last=e.eq?L(r,null):r,a=e.fn,a(r,i===b?r:i,f),5>y&&(m=4-y,S[m]||(S[m]=[]),S[m].push({msg:_(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:r,oldVal:i}))}catch($){l($)}if(!(d=f.$$watchersCount&&f.$$childHead||f!==this&&f.$$nextSibling))for(;f!==this&&!(d=f.$$nextSibling);)f=f.$parent}while(f=d);if((h||C.length)&&!y--)throw A.$$phase=null,n("infdig",t,S)}while(h||C.length);for(A.$$phase=null;x.length;)try{x.shift()()}catch(k){l(k)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===A&&c.$$applicationDestroyed(),m(this,-this.$$watchersCount);for(var t in this.$$listenerCount)v(this,this.$$listenerCount[t],t);e&&e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=f,this.$on=this.$watch=this.$watchGroup=function(){return f},this.$$listeners={},this.$$nextSibling=null,p(this)}},$eval:function(e,t){return u(e)(this,t)},$evalAsync:function(e,t){A.$$phase||C.length||c.defer(function(){C.length&&A.$digest()}),C.push({scope:this,expression:u(e),locals:t})},$$postDigest:function(e){x.push(e)},$apply:function(e){try{g("$apply");try{return this.$eval(e)}finally{A.$$phase=null}}catch(t){l(t)}finally{try{A.$digest()}catch(n){throw l(n),n}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&$.push(t),e=u(e),w()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++;while(r=r.$parent);var i=this;return function(){var r=n.indexOf(t);-1!==r&&(n[r]=null,v(i,1,e))}},$emit:function(e,t){var n,r,i,a=[],o=this,s=!1,u={name:e,targetScope:o,stopPropagation:function(){s=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},c=N([u],arguments,1);do{for(n=o.$$listeners[e]||a,u.currentScope=o,r=0,i=n.length;i>r;r++)if(n[r])try{n[r].apply(null,c)}catch(d){l(d)}else n.splice(r,1),r--,i--;if(s)return u.currentScope=null,u;o=o.$parent}while(o);return u.currentScope=null,u},$broadcast:function(e,t){var n=this,r=this,i={name:e,targetScope:this,preventDefault:function(){i.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[e])return i;for(var a,o,s=N([i],arguments,1);n=r;){for(i.currentScope=n,r=n.$$listeners[e]||[],a=0,o=r.length;o>a;a++)if(r[a])try{r[a].apply(null,s)}catch(u){l(u)}else r.splice(a,1),a--,o--;if(!(r=n.$$listenerCount[e]&&n.$$childHead||n!==this&&n.$$nextSibling))for(;n!==this&&!(r=n.$$nextSibling);)n=n.$parent}return i.currentScope=null,i}};var A=new h,C=A.$$asyncQueue=[],x=A.$$postDigestQueue=[],$=A.$$applyAsyncQueue=[];return A}]}function Qt(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return b(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return b(e)?(t=e,this):t},this.$get=function(){return function(n,r){var i,a=r?t:e;return i=on(n).href,""===i||i.match(a)?n:"unsafe:"+i}}}function Zt(e){if("self"===e)return e;if(w(e)){if(-1<e.indexOf("***"))throw bi("iwcard",e);return e=lr(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(x(e))return new RegExp("^"+e.source+"$");throw bi("imatcher")}function Jt(e){var t=[];return b(e)&&a(e,function(e){t.push(Zt(e))}),t}function Xt(){this.SCE_CONTEXTS=Si;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=Jt(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=Jt(e)),t},this.$get=["$injector",function(n){function r(e,t){return"self"===e?sn(t):!!e.exec(t.href)}function i(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}var a=function(e){throw bi("unsafe")};n.has("$sanitize")&&(a=n.get("$sanitize"));var o=i(),s={};return s[Si.HTML]=i(o),s[Si.CSS]=i(o),s[Si.URL]=i(o),s[Si.JS]=i(o),s[Si.RESOURCE_URL]=i(s[Si.URL]),{trustAs:function(e,t){var n=s.hasOwnProperty(e)?s[e]:null;if(!n)throw bi("icontext",e,t);if(null===t||y(t)||""===t)return t;if("string"!=typeof t)throw bi("itype",e);return new n(t)},getTrusted:function(n,i){if(null===i||y(i)||""===i)return i;var o=s.hasOwnProperty(n)?s[n]:null;if(o&&i instanceof o)return i.$$unwrapTrustedValue();if(n===Si.RESOURCE_URL){var l,u,o=on(i.toString()),c=!1;for(l=0,u=e.length;u>l;l++)if(r(e[l],o)){c=!0;break}if(c)for(l=0,u=t.length;u>l;l++)if(r(t[l],o)){c=!1;break}if(c)return i;throw bi("insecurl",i.toString())}if(n===Si.HTML)return a(i);throw bi("unsafe")},valueOf:function(e){return e instanceof o?e.$$unwrapTrustedValue():e}}}]}function en(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&8>Gn)throw bi("iequirks");var r=I(Si);r.isEnabled=function(){return e},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,e||(r.trustAs=r.getTrusted=function(e,t){return t},r.valueOf=g),r.parseAs=function(e,n){var i=t(n);return i.literal&&i.constant?i:t(n,function(t){return r.getTrusted(e,t)})};var i=r.parseAs,o=r.getTrusted,s=r.trustAs;return a(Si,function(e,t){var n=Hn(t);r[pe("parse_as_"+n)]=function(t){return i(e,t)},r[pe("get_trusted_"+n)]=function(t){return o(e,t)},r[pe("trust_as_"+n)]=function(t){return s(e,t)}}),r}]}function tn(){this.$get=["$window","$document",function(e,t){var n,r={},i=p((/android (\d+)/.exec(Hn((e.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((e.navigator||{}).userAgent),o=t[0]||{},s=/^(Moz|webkit|ms)(?=[A-Z])/,l=o.body&&o.body.style,u=!1,c=!1;if(l){for(var d in l)if(u=s.exec(d)){n=u[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in l&&"webkit"),u=!!("transition"in l||n+"Transition"in l),c=!!("animation"in l||n+"Animation"in l),!i||u&&c||(u=w(l.webkitTransition),c=w(l.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||4>i||a),hasEvent:function(e){if("input"===e&&11>=Gn)return!1;if(y(r[e])){var t=o.createElement("div");r[e]="on"+e in t}return r[e]},csp:ur(),vendorPrefix:n,transitions:u,animations:c,android:i}}]}function nn(){this.$get=["$templateCache","$http","$q","$sce",function(e,t,n,r){function i(a,o){i.totalPendingRequests++,(!w(a)||y(e.get(a)))&&(a=r.getTrustedResourceUrl(a));var s=t.defaults&&t.defaults.transformResponse;return ar(s)?s=s.filter(function(e){return e!==at}):s===at&&(s=null),t.get(a,{cache:e,transformResponse:s}).finally(function(){i.totalPendingRequests--}).then(function(t){return e.put(a,t.data),t.data},function(e){if(!o)throw zr("tpload",a,e.status,e.statusText);return n.reject(e)})}return i.totalPendingRequests=0,i}]}function rn(){this.$get=["$rootScope","$browser","$location",function(e,t,n){return{findBindings:function(e,t,n){e=e.getElementsByClassName("ng-binding");var r=[];return a(e,function(e){var i=nr.element(e).data("$binding");i&&a(i,function(i){n?new RegExp("(^|\\s)"+lr(t)+"(\\s|\\||$)").test(i)&&r.push(e):-1!=i.indexOf(t)&&r.push(e)})}),r},findModels:function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var a=e.querySelectorAll("["+r[i]+"model"+(n?"=":"*=")+'"'+t+'"]');if(a.length)return a}},getLocation:function(){return n.url()},setLocation:function(t){t!==n.url()&&(n.url(t),e.$digest())},whenStable:function(e){t.notifyWhenNoOutstandingRequests(e)}}}]}function an(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,r,i){function a(a,s,l){_(a)||(l=s,s=a,a=f);var u,c=Qn.call(arguments,3),d=b(l)&&!l,p=(d?r:n).defer(),h=p.promise;return u=t.defer(function(){try{p.resolve(a.apply(null,c))}catch(t){p.reject(t),i(t)}finally{delete o[h.$$timeoutId]}d||e.$apply()},s),h.$$timeoutId=u,o[u]=p,h}var o={};return a.cancel=function(e){return e&&e.$$timeoutId in o?(o[e.$$timeoutId].reject("canceled"),delete o[e.$$timeoutId],t.defer.cancel(e.$$timeoutId)):!1},a}]}function on(e){return Gn&&(Di.setAttribute("href",e),e=Di.href),Di.setAttribute("href",e),{href:Di.href,protocol:Di.protocol?Di.protocol.replace(/:$/,""):"",host:Di.host,search:Di.search?Di.search.replace(/^\?/,""):"",hash:Di.hash?Di.hash.replace(/^#/,""):"",hostname:Di.hostname,port:Di.port,pathname:"/"===Di.pathname.charAt(0)?Di.pathname:"/"+Di.pathname}}function sn(e){return e=w(e)?on(e):e,e.protocol===wi.protocol&&e.host===wi.host}function ln(){this.$get=m(e)}function un(e){function t(e){try{return decodeURIComponent(e)}catch(t){return e}}var n=e[0]||{},r={},i="";return function(){var e,a,o,s,l;if(e=n.cookie||"",e!==i)for(i=e,e=i.split("; "),r={},o=0;o<e.length;o++)a=e[o],s=a.indexOf("="),s>0&&(l=t(a.substring(0,s)),y(r[l])&&(r[l]=t(a.substring(s+1))));return r}}function cn(){this.$get=un}function dn(e){function t(n,r){if(S(n)){var i={};return a(n,function(e,n){i[n]=t(n,e)}),i}return e.factory(n+"Filter",r)}this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+"Filter")}}],t("currency",mn),t("date",$n),t("filter",pn),t("json",kn),t("limitTo",Mn),t("lowercase",Mi),t("number",vn),t("orderBy",Tn),t("uppercase",Ti)}function pn(){return function(e,t,n){if(!i(e)){if(null==e)return e;throw r("filter")("notarray",e)}var a;switch(gn(t)){case"function":break;case"boolean":case"null":case"number":case"string":a=!0;case"object":t=hn(t,n,a);break;default:return e}return Array.prototype.filter.call(e,t)}}function hn(e,t,n){var r=S(e)&&"$"in e;return!0===t?t=R:_(t)||(t=function(e,t){return y(e)?!1:null===e||null===t?e===t:S(t)||S(e)&&!v(e)?!1:(e=Hn(""+e),t=Hn(""+t),-1!==e.indexOf(t))}),function(i){return r&&!S(i)?fn(i,e.$,t,!1):fn(i,e,t,n)}}function fn(e,t,n,r,i){var a=gn(e),o=gn(t);if("string"===o&&"!"===t.charAt(0))return!fn(e,t.substring(1),n,r);if(ar(e))return e.some(function(e){return fn(e,t,n,r)});switch(a){case"object":var s;if(r){for(s in e)if("$"!==s.charAt(0)&&fn(e[s],t,n,!0))return!0;return i?!1:fn(e,t,n,!1)}if("object"===o){for(s in t)if(i=t[s],!_(i)&&!y(i)&&(a="$"===s,!fn(a?e:e[s],i,n,a,a)))return!1;return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function gn(e){return null===e?"null":typeof e}function mn(e){var t=e.NUMBER_FORMATS;return function(e,n,r){return y(n)&&(n=t.CURRENCY_SYM),y(r)&&(r=t.PATTERNS[1].maxFrac),null==e?e:Sn(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function vn(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:Sn(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function yn(e){var t,n,r,i,a,o=0;for(-1<(n=e.indexOf(Ci))&&(e=e.replace(Ci,"")),0<(r=e.search(/e/i))?(0>n&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):0>n&&(n=e.length),r=0;e.charAt(r)==_i;r++);if(r==(a=e.length))t=[0],n=1;else{for(a--;e.charAt(a)==_i;)a--;for(n-=r,t=[],i=0;a>=r;r++,i++)t[i]=+e.charAt(r)}return n>Ai&&(t=t.splice(0,Ai-1),o=n-1,n=1),{d:t,e:o,i:n}}function bn(e,t,n,r){var i=e.d,a=i.length-e.i;if(t=y(t)?Math.min(Math.max(n,a),r):+t,n=t+e.i,r=i[n],n>0)i.splice(n);else{e.i=1,i.length=n=t+1;for(var o=0;n>o;o++)i[o]=0}for(r>=5&&i[n-1]++;t>a;a++)i.push(0);(t=i.reduceRight(function(e,t,n,r){return t+=e,r[n]=t%10,Math.floor(t/10)},0))&&(i.unshift(t),e.i++)}function Sn(e,t,n,r,i){if(!w(e)&&!A(e)||isNaN(e))return"";var a=!isFinite(e),o=!1,s=Math.abs(e)+"",l="";if(a)l="∞";else{for(o=yn(s),bn(o,i,t.minFrac,t.maxFrac),l=o.d,s=o.i,i=o.e,a=[],o=l.reduce(function(e,t){return e&&!t},!0);0>s;)l.unshift(0),s++;for(s>0?a=l.splice(s,l.length):(a=l,l=[0]),s=[],l.length>=t.lgSize&&s.unshift(l.splice(-t.lgSize,l.length).join(""));l.length>t.gSize;)s.unshift(l.splice(-t.gSize,l.length).join(""));l.length&&s.unshift(l.join("")),l=s.join(n),a.length&&(l+=r+a.join("")),i&&(l+="e+"+i)}return 0>e&&!o?t.negPre+l+t.negSuf:t.posPre+l+t.posSuf}function Dn(e,t,n){var r="";for(0>e&&(r="-",e=-e),e=""+e;e.length<t;)e=_i+e;return n&&(e=e.substr(e.length-t)),r+e}function wn(e,t,n,r){return n=n||0,function(i){return i=i["get"+e](),(n>0||i>-n)&&(i+=n),0===i&&-12==n&&(i=12),Dn(i,t,r)}}function An(e,t){return function(n,r){var i=n["get"+e](),a=Yn(t?"SHORT"+e:e);return r[a][i]}}function Cn(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(4>=t?5:12)-t)}function _n(e){return function(t){var n=Cn(t.getFullYear());return t=+new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))-+n,t=1+Math.round(t/6048e5),Dn(t,e)}}function xn(e,t){return 0>=e.getFullYear()?t.ERAS[0]:t.ERAS[1]}function $n(e){function t(e){var t;if(t=e.match(n)){e=new Date(0);var r=0,i=0,a=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(r=p(t[9]+t[10]),i=p(t[9]+t[11])),a.call(e,p(t[1]),p(t[2])-1,p(t[3])),r=p(t[4]||0)-r,i=p(t[5]||0)-i,a=p(t[6]||0),t=Math.round(1e3*parseFloat("0."+(t[7]||0))),o.call(e,r,i,a,t)}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,i){var o,s,l="",u=[];if(r=r||"mediumDate",r=e.DATETIME_FORMATS[r]||r,w(n)&&(n=ki.test(n)?p(n):t(n)),A(n)&&(n=new Date(n)),!C(n)||!isFinite(n.getTime()))return n;for(;r;)(s=$i.exec(r))?(u=N(u,s,1),r=u.pop()):(u.push(r),r=null);var c=n.getTimezoneOffset();return i&&(c=q(i,c),n=j(n,i,!0)),a(u,function(t){o=xi[t],l+=o?o(n,e.DATETIME_FORMATS,c):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function kn(){return function(e,t){return y(t)&&(t=2),U(e,t)}}function Mn(){return function(e,t,n){return t=1/0===Math.abs(Number(t))?Number(t):p(t),isNaN(t)?e:(A(e)&&(e=e.toString()),ar(e)||w(e)?(n=!n||isNaN(n)?0:p(n),n=0>n?Math.max(0,e.length+n):n,t>=0?e.slice(n,n+t):0===n?e.slice(t,e.length):e.slice(Math.max(0,n+t),n)):e)}}function Tn(e){function t(t,n){return n=n?-1:1,t.map(function(t){var r=1,i=g;if(_(t))i=t;else if(w(t)&&(("+"==t.charAt(0)||"-"==t.charAt(0))&&(r="-"==t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(i=e(t),i.constant)))var a=i(),i=function(e){return e[a]};return{get:i,descending:r*n}})}function n(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}return function(e,r,a){if(!i(e))return e;ar(r)||(r=[r]),0===r.length&&(r=["+"]);var o=t(r,a);return o.push({get:function(){return{}},descending:a?-1:1}),e=Array.prototype.map.call(e,function(e,t){return{value:e,predicateValues:o.map(function(r){var i=r.get(e);return r=typeof i,null===i?(r="string",i="null"):"string"===r?i=i.toLowerCase():"object"===r&&("function"==typeof i.valueOf&&(i=i.valueOf(),n(i))||v(i)&&(i=i.toString(),n(i))||(i=t)),{value:i,type:r}})}}),e.sort(function(e,t){for(var n=0,r=0,i=o.length;i>r;++r){var n=e.predicateValues[r],a=t.predicateValues[r],s=0;if(n.type===a.type?n.value!==a.value&&(s=n.value<a.value?-1:1):s=n.type<a.type?-1:1,n=s*o[r].descending)break}return n}),e=e.map(function(e){return e.value})}}function Fn(e){return _(e)&&(e={link:e}),e.restrict=e.restrict||"AC",m(e)}function On(e,t,r,i,o){var s=this,l=[];s.$error={},s.$$success={},s.$pending=n,s.$name=o(t.name||t.ngForm||"")(r),s.$dirty=!1,s.$pristine=!0,s.$valid=!0,s.$invalid=!1,s.$submitted=!1,s.$$parentForm=Pi,s.$rollbackViewValue=function(){a(l,function(e){e.$rollbackViewValue()})},s.$commitViewValue=function(){a(l,function(e){e.$commitViewValue()})},s.$addControl=function(e){oe(e.$name,"input"),l.push(e),e.$name&&(s[e.$name]=e),e.$$parentForm=s},s.$$renameControl=function(e,t){var n=e.$name;s[n]===e&&delete s[n],s[t]=e,e.$name=t},s.$removeControl=function(e){e.$name&&s[e.$name]===e&&delete s[e.$name],a(s.$pending,function(t,n){s.$setValidity(n,null,e)}),a(s.$error,function(t,n){s.$setValidity(n,null,e)}),a(s.$$success,function(t,n){s.$setValidity(n,null,e)}),E(l,e),e.$$parentForm=Pi},Wn({ctrl:this,$element:e,set:function(e,t,n){var r=e[t];r?-1===r.indexOf(n)&&r.push(n):e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(E(r,n),0===r.length&&delete e[t])},$animate:i}),s.$setDirty=function(){i.removeClass(e,ga),i.addClass(e,ma),s.$dirty=!0,s.$pristine=!1,s.$$parentForm.$setDirty()},s.$setPristine=function(){i.setClass(e,ga,ma+" ng-submitted"),s.$dirty=!1,s.$pristine=!0,s.$submitted=!1,a(l,function(e){e.$setPristine()})},s.$setUntouched=function(){a(l,function(e){e.$setUntouched()})},s.$setSubmitted=function(){i.addClass(e,"ng-submitted"),s.$submitted=!0,s.$$parentForm.$setSubmitted()}}function Pn(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function En(e,t,n,r,i,a){var o=Hn(t[0].type);if(!i.android){var s=!1;t.on("compositionstart",function(e){s=!0}),t.on("compositionend",function(){s=!1,u()})}var l,u=function(e){if(l&&(a.defer.cancel(l),l=null),!s){var i=t.val();e=e&&e.type,"password"===o||n.ngTrim&&"false"===n.ngTrim||(i=sr(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,e)}};if(i.hasEvent("input"))t.on("input",u);else{var c=function(e,t,n){l||(l=a.defer(function(){l=null,t&&t.value===n||u(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||t>15&&19>t||t>=37&&40>=t||c(e,this,this.value)}),i.hasEvent("paste")&&t.on("paste cut",c)}t.on("change",u),zi[o]&&r.$$hasNativeValidators&&o===n.type&&t.on("keydown wheel mousedown",function(e){if(!l){var t=this.validity,n=t.badInput,r=t.typeMismatch;l=a.defer(function(){l=null,t.badInput===n&&t.typeMismatch===r||u(e)})}}),r.$render=function(){var e=r.$isEmpty(r.$viewValue)?"":r.$viewValue;t.val()!==e&&t.val(e)}}function Ln(e,t){return function(n,r){var i,o;if(C(n))return n;if(w(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Ri.test(n))return new Date(n);if(e.lastIndex=0,i=e.exec(n))return i.shift(),o=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},a(i,function(e,n){n<t.length&&(o[t[n]]=+e)}),new Date(o.yyyy,o.MM-1,o.dd,o.HH,o.mm,o.ss||0,1e3*o.sss||0)}return NaN}}function In(e,t,r,i){return function(a,o,s,l,u,c,d){function p(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function h(e){return b(e)&&!C(e)?r(e)||n:e}Rn(a,o,s,l),En(a,o,s,l,u,c);var f,g=l&&l.$options&&l.$options.timezone;if(l.$$parserName=e,l.$parsers.push(function(e){return l.$isEmpty(e)?null:t.test(e)?(e=r(e,f),g&&(e=j(e,g)),e):n}),l.$formatters.push(function(e){if(e&&!C(e))throw ya("datefmt",e);return p(e)?((f=e)&&g&&(f=j(f,g,!0)),d("date")(e,i,g)):(f=null,"")}),b(s.min)||s.ngMin){var m;l.$validators.min=function(e){return!p(e)||y(m)||r(e)>=m},s.$observe("min",function(e){m=h(e),l.$validate()})}if(b(s.max)||s.ngMax){var v;l.$validators.max=function(e){return!p(e)||y(v)||r(e)<=v},s.$observe("max",function(e){v=h(e),l.$validate()})}}}function Rn(e,t,r,i){(i.$$hasNativeValidators=S(t[0].validity))&&i.$parsers.push(function(e){var r=t.prop("validity")||{};return r.badInput&&!r.typeMismatch?n:e})}function Nn(e,t,n,r,i){if(b(r)){if(e=e(r),!e.constant)throw ya("constexpr",n,r);return e(t)}return i}function Bn(e,t){return e="ngClass"+e,["$animate",function(n){function r(e,t){var n=[],r=0;e:for(;r<e.length;r++){for(var i=e[r],a=0;a<t.length;a++)if(i==t[a])continue e;n.push(i)}return n}function i(e){var t=[];return ar(e)?(a(e,function(e){t=t.concat(i(e))}),t):w(e)?e.split(" "):S(e)?(a(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t):e}return{restrict:"AC",link:function(o,s,l){function u(e){e=c(e,1),l.$addClass(e)}function c(e,t){var n=s.data("$classCounts")||ue(),r=[];return a(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&r.push(e))}),s.data("$classCounts",n),r.join(" ")}function d(e,t){var i=r(t,e),a=r(e,t),i=c(i,1),a=c(a,-1);i&&i.length&&n.addClass(s,i),a&&a.length&&n.removeClass(s,a)}function p(e){if(!0===t||o.$index%2===t){var n=i(e||[]);if(h){if(!R(e,h)){var r=i(h);d(r,n)}}else u(n)}h=ar(e)?e.map(function(e){return I(e)}):I(e)}var h;o.$watch(l[e],p,!0),l.$observe("class",function(t){p(o.$eval(l[e]))}),"ngClass"!==e&&o.$watch("$index",function(n,r){var a=1&n;if(a!==(1&r)){var s=i(o.$eval(l[e]));a===t?u(s):(a=c(s,-1),l.$removeClass(a))}})}}}]}function Wn(e){function t(e,t){t&&!o[e]?(u.addClass(a,e),o[e]=!0):!t&&o[e]&&(u.removeClass(a,e),o[e]=!1)}function r(e,n){e=e?"-"+ne(e,"-"):"",t(ha+e,!0===n),t(fa+e,!1===n)}var i=e.ctrl,a=e.$element,o={},s=e.set,l=e.unset,u=e.$animate;o[fa]=!(o[ha]=a.hasClass(ha)),i.$setValidity=function(e,a,o){y(a)?(i.$pending||(i.$pending={}),s(i.$pending,e,o)):(i.$pending&&l(i.$pending,e,o),Un(i.$pending)&&(i.$pending=n)),M(a)?a?(l(i.$error,e,o),s(i.$$success,e,o)):(s(i.$error,e,o),l(i.$$success,e,o)):(l(i.$error,e,o),l(i.$$success,e,o)),i.$pending?(t(va,!0),i.$valid=i.$invalid=n,r("",null)):(t(va,!1),i.$valid=Un(i.$error),i.$invalid=!i.$valid,r("",i.$valid)),a=i.$pending&&i.$pending[e]?n:i.$error[e]?!1:i.$$success[e]?!0:null,r(e,a),i.$$parentForm.$setValidity(e,a,i)}}function Un(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var Gn,qn,jn,Kn,zn=/^\/(.+)\/([a-z]*)$/,Hn=function(e){return w(e)?e.toLowerCase():e},Vn=Object.prototype.hasOwnProperty,Yn=function(e){return w(e)?e.toUpperCase():e},Qn=[].slice,Zn=[].splice,Jn=[].push,Xn=Object.prototype.toString,er=Object.getPrototypeOf,tr=r("ng"),nr=e.angular||(e.angular={}),rr=0;Gn=t.documentMode,f.$inject=[],g.$inject=[];var ir,ar=Array.isArray,or=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,sr=function(e){return w(e)?e.trim():e},lr=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},ur=function(){if(!b(ur.rules)){var e=t.querySelector("[ng-csp]")||t.querySelector("[data-ng-csp]");if(e){var n=e.getAttribute("ng-csp")||e.getAttribute("data-ng-csp");ur.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else{e=ur;try{new Function(""),n=!1}catch(r){n=!0}e.rules={noUnsafeEval:n,noInlineStyle:!1}}}return ur.rules},cr=function(){if(b(cr.name_))return cr.name_;var e,n,r,i,a=pr.length;for(n=0;a>n;++n)if(r=pr[n],e=t.querySelector("["+r.replace(":","\\:")+"jq]")){i=e.getAttribute(r+"jq");break}return cr.name_=i},dr=/:/g,pr=["ng-","data-ng-","ng:","x-ng-"],hr=/[A-Z]/g,fr=!1,gr=3,mr={full:"1.4.14",major:1,minor:4,dot:14,codeName:"material-distinction"};me.expando="ng339";var vr=me.cache={},yr=1;me._data=function(e){return this.cache[e[this.expando]]||{}};var br=/([\:\-\_]+(.))/g,Sr=/^moz([A-Z])/,Dr={mouseleave:"mouseout",mouseenter:"mouseover"},wr=r("jqLite"),Ar=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Cr=/<|&#?\w+;/,_r=/<([\w:-]+)/,xr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,$r={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};$r.optgroup=$r.option,$r.tbody=$r.tfoot=$r.colgroup=$r.caption=$r.thead,$r.th=$r.td;var kr=Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))},Mr=me.prototype={ready:function(n){function r(){i||(i=!0,n())}var i=!1;"complete"===t.readyState?setTimeout(r):(this.on("DOMContentLoaded",r),me(e).on("load",r))},toString:function(){var e=[];return a(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return qn(e>=0?this[e]:this[this.length+e])},length:0,push:Jn,sort:[].sort,splice:[].splice},Tr={};a("multiple selected checked disabled readOnly required open".split(" "),function(e){Tr[Hn(e)]=e});var Fr={};a("input select option textarea button form details".split(" "),function(e){Fr[e]=!0});var Or={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};a({data:we,removeData:Se,hasData:function(e){for(var t in vr[e.ng339])return!0;return!1}},function(e,t){me[t]=e}),a({data:we,inheritedData:ke,scope:function(e){return qn.data(e,"$scope")||ke(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return qn.data(e,"$isolateScope")||qn.data(e,"$isolateScopeNoTemplate")},controller:$e,injector:function(e){return ke(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:Ae,css:function(e,t,n){return t=pe(t),b(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,r){var i=e.nodeType;if(i!==gr&&2!==i&&8!==i)if(i=Hn(t),Tr[i]){if(!b(r))return e[t]||(e.attributes.getNamedItem(t)||f).specified?i:n;r?(e[t]=!0,e.setAttribute(t,i)):(e[t]=!1,e.removeAttribute(i))}else if(b(r))e.setAttribute(t,r);else if(e.getAttribute)return e=e.getAttribute(t,2),null===e?n:e},prop:function(e,t,n){return b(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if(y(t)){var n=e.nodeType;return 1===n||n===gr?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(y(t)){if(e.multiple&&"select"===P(e)){var n=[];return a(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){return y(t)?e.innerHTML:(ye(e,!0),void(e.innerHTML=t))},empty:Me},function(e,t){me.prototype[t]=function(t,n){var r,i,a=this.length;if(e!==Me&&y(2==e.length&&e!==Ae&&e!==$e?t:n)){if(S(t)){for(r=0;a>r;r++)if(e===we)e(this[r],t);else for(i in t)e(this[r],i,t[i]);return this}for(r=e.$dv,a=y(r)?Math.min(a,1):a,i=0;a>i;i++){var o=e(this[i],t,n);r=r?r+o:o}return r}for(r=0;a>r;r++)e(this[r],t,n);return this}}),a({removeData:Se,on:function(e,t,r,i){if(b(i))throw wr("onargs");if(he(e)){i=De(e,!0);var a=i.events,o=i.handle;o||(o=i.handle=Pe(e,a)),i=0<=t.indexOf(" ")?t.split(" "):[t];for(var s=i.length,l=function(t,n,i){var s=a[t];s||(s=a[t]=[],s.specialHandlerWrapper=n,"$destroy"===t||i||e.addEventListener(t,o,!1)),s.push(r)};s--;)t=i[s],Dr[t]?(l(Dr[t],Le),l(t,n,!0)):l(t)}},off:be,one:function(e,t,n){e=qn(e),e.on(t,function r(){e.off(t,n),e.off(t,r)}),e.on(t,n)},replaceWith:function(e,t){var n,r=e.parentNode;ye(e),a(new me(t),function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t})},children:function(e){var t=[];return a(e.childNodes,function(e){1===e.nodeType&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(1===n||11===n){t=new me(t);for(var n=0,r=t.length;r>n;n++)e.appendChild(t[n])}},prepend:function(e,t){if(1===e.nodeType){var n=e.firstChild;a(new me(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){ge(e,qn(t).eq(0).clone()[0])},remove:Te,detach:function(e){Te(e,!0)},after:function(e,t){var n=e,r=e.parentNode;t=new me(t);for(var i=0,a=t.length;a>i;i++){var o=t[i];r.insertBefore(o,n.nextSibling),n=o}},addClass:_e,removeClass:Ce,toggleClass:function(e,t,n){t&&a(t.split(" "),function(t){var r=n;y(r)&&(r=!Ae(e,t)),(r?_e:Ce)(e,t)})},parent:function(e){return(e=e.parentNode)&&11!==e.nodeType?e:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:ve,triggerHandler:function(e,t,n){var r,i,o=t.type||t,s=De(e);(s=(s=s&&s.events)&&s[o])&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:f,type:o,target:e},t.type&&(r=c(r,t)),t=I(s),i=n?[r].concat(n):[r],a(t,function(t){r.isImmediatePropagationStopped()||t.apply(e,i)}))}},function(e,t){me.prototype[t]=function(t,n,r){for(var i,a=0,o=this.length;o>a;a++)y(i)?(i=e(this[a],t,n,r),b(i)&&(i=qn(i))):xe(i,e(this[a],t,n,r));return b(i)?i:this},me.prototype.bind=me.prototype.on,me.prototype.unbind=me.prototype.off}),Ne.prototype={put:function(e,t){this[Re(e,this.nextUid)]=t},get:function(e){return this[Re(e,this.nextUid)]},remove:function(e){var t=this[e=Re(e,this.nextUid)];return delete this[e],t}};var Pr=[function(){this.$get=[function(){return Ne}]}],Er=/^[^\(]*\(\s*([^\)]*)\)/m,Lr=/,/,Ir=/^\s*(_?)(\S+?)\1\s*$/,Rr=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Nr=r("$injector");We.$$annotate=function(e,t,n){var r;if("function"==typeof e){if(!(r=e.$inject)){if(r=[],e.length){if(t)throw w(n)&&n||(n=e.name||Be(e)),Nr("strictdi",n);t=e.toString().replace(Rr,""),t=t.match(Er),a(t[1].split(Lr),function(e){e.replace(Ir,function(e,t,n){r.push(n)})})}e.$inject=r}}else ar(e)?(t=e.length-1,ae(e[t],"fn"),r=e.slice(0,t)):ae(e,"fn",!0);return r};var Br=r("$animate"),Wr=function(){this.$get=function(){}},Ur=function(){var e=new Ne,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){
function i(e,t,n){var r=!1;return t&&(t=w(t)?t.split(" "):ar(t)?t:[],a(t,function(t){t&&(r=!0,e[t]=n)})),r}function o(){a(t,function(t){var n=e.get(t);if(n){var r=qe(t.attr("class")),i="",o="";a(n,function(e,t){e!==!!r[t]&&(e?i+=(i.length?" ":"")+t:o+=(o.length?" ":"")+t)}),a(t,function(e){i&&_e(e,i),o&&Ce(e,o)}),e.remove(t)}}),t.length=0}return{enabled:f,on:f,off:f,pin:f,push:function(a,s,l,u){return u&&u(),l=l||{},l.from&&a.css(l.from),l.to&&a.css(l.to),(l.addClass||l.removeClass)&&(s=l.addClass,u=l.removeClass,l=e.get(a)||{},s=i(l,s,!0),u=i(l,u,!1),(s||u)&&(e.put(a,l),t.push(a),1===t.length&&r.$$postDigest(o))),a=new n,a.complete(),a}}}]},Gr=["$provide",function(e){var t=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw Br("notcsel",n);var i=n+"-animation";t.$$registeredAnimations[n.substr(1)]=i,e.factory(i,r)},this.classNameFilter=function(e){if(1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null)&&/(\s+|\/)ng-animate(\s+|\/)/.test(this.$$classNameFilter.toString()))throw Br("nongcls","ng-animate");return this.$$classNameFilter},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var r;e:{for(r=0;r<n.length;r++){var i=n[r];if(1===i.nodeType){r=i;break e}}r=void 0}!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,r,i,a){return r=r&&qn(r),i=i&&qn(i),r=r||i.parent(),t(n,r,i),e.push(n,"enter",je(a))},move:function(n,r,i,a){return r=r&&qn(r),i=i&&qn(i),r=r||i.parent(),t(n,r,i),e.push(n,"move",je(a))},leave:function(t,n){return e.push(t,"leave",je(n),function(){t.remove()})},addClass:function(t,n,r){return r=je(r),r.addClass=Ge(r.addclass,n),e.push(t,"addClass",r)},removeClass:function(t,n,r){return r=je(r),r.removeClass=Ge(r.removeClass,n),e.push(t,"removeClass",r)},setClass:function(t,n,r,i){return i=je(i),i.addClass=Ge(i.addClass,n),i.removeClass=Ge(i.removeClass,r),e.push(t,"setClass",i)},animate:function(t,n,r,i,a){return a=je(a),a.from=a.from?c(a.from,n):n,a.to=a.to?c(a.to,r):r,a.tempClasses=Ge(a.tempClasses,i||"ng-inline-animate"),e.push(t,"animate",a)}}}]}],qr=function(){this.$get=["$$rAF",function(e){function t(t){n.push(t),1<n.length||e(function(){for(var e=0;e<n.length;e++)n[e]();n=[]})}var n=[];return function(){var e=!1;return t(function(){e=!0}),function(n){e?n():t(n)}}}]},jr=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(e,t,n,r,i){function o(e){this.setHost(e);var t=n();this._doneCallbacks=[],this._tick=function(e){var n=r[0];n&&n.hidden?i(e,0,!1):t(e)},this._state=0}return o.chain=function(e,t){function n(){r===e.length?t(!0):e[r](function(e){!1===e?t(!1):(r++,n())})}var r=0;n()},o.all=function(e,t){function n(n){i=i&&n,++r===e.length&&t(i)}var r=0,i=!0;a(e,function(e){e.done(n)})},o.prototype={setHost:function(e){this.host=e||{}},done:function(e){2===this._state?e():this._doneCallbacks.push(e)},progress:f,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){!1===t?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise().catch(e)},"finally":function(e){return this.getPromise().finally(e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;0===t._state&&(t._state=1,t._tick(function(){t._resolve(e)}))},_resolve:function(e){2!==this._state&&(a(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=2)}},o}]},Kr=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,r){function i(){return e(function(){a.addClass&&(t.addClass(a.addClass),a.addClass=null),a.removeClass&&(t.removeClass(a.removeClass),a.removeClass=null),a.to&&(t.css(a.to),a.to=null),o||s.complete(),o=!0}),s}var a=r||{};a.$$prepared||(a=L(a)),a.cleanupStyles&&(a.from=a.to=null),a.from&&(t.css(a.from),a.from=null);var o,s=new n;return{start:i,end:i}}}]},zr=r("$compile");Ye.$inject=["$provide","$$sanitizeUriProvider"];var Hr=/^((?:x|data)[\:\-_])/i,Vr=r("$controller"),Yr=/^(\S+)(\s+as\s+([\w$]+))?$/,Qr=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof qn&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},Zr="application/json",Jr={"Content-Type":Zr+";charset=utf-8"},Xr=/^\[|^\{(?!\{)/,ei={"[":/]$/,"{":/}$/},ti=/^\)\]\}',?\n/,ni=r("$http"),ri=function(e){return function(){throw ni("legacy",e)}},ii=nr.$interpolateMinErr=r("$interpolate");ii.throwNoconcat=function(e){throw ii("noconcat",e)},ii.interr=function(e,t){return ii("interr",e,t.toString())};var ai=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,oi={http:80,https:443,ftp:21},si=r("$location"),li={$$html5:!1,$$replace:!1,absUrl:Ct("$$absUrl"),url:function(e){if(y(e))return this.$$url;var t=ai.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:Ct("$$protocol"),host:Ct("$$host"),port:Ct("$$port"),path:_t("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(w(e)||A(e))e=e.toString(),this.$$search=H(e);else{if(!S(e))throw si("isrcharg");e=L(e,{}),a(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:y(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:_t("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};a([At,wt,Dt],function(e){e.prototype=Object.create(li),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==Dt||!this.$$html5)throw si("nostate");return this.$$state=y(t)?null:t,this}});var ui=r("$parse"),ci=Function.prototype.call,di=Function.prototype.apply,pi=Function.prototype.bind,hi=ue();a("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){hi[e]=!0});var fi={n:"\n",f:"\f",r:"\r",t:"	",v:"\x0B","'":"'",'"':'"'},gi=function(e){this.options=e};gi.prototype={constructor:gi,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;)if(e=this.text.charAt(this.index),'"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(e))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var t=e+this.peek(),n=t+this.peek(2),r=hi[t],i=hi[n];hi[e]||r||i?(e=i?n:r?t:e,this.tokens.push({index:this.index,text:e,operator:!0}),this.index+=e.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){return e=e||1,this.index+e<this.text.length?this.text.charAt(this.index+e):!1},isNumber:function(e){return e>="0"&&"9">=e&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"	"===e||"\n"===e||"\x0B"===e||" "===e},isIdent:function(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){throw n=n||this.index,t=b(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n,ui("lexerr",e,t,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=Hn(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){for(var e=this.index;this.index<this.text.length;){var t=this.text.charAt(this.index);if(!this.isIdent(t)&&!this.isNumber(t))break;this.index++}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=!1;this.index<this.text.length;){var a=this.text.charAt(this.index),r=r+a;if(i)"u"===a?(i=this.text.substring(this.index+1,this.index+5),i.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+i+"]"),this.index+=4,n+=String.fromCharCode(parseInt(i,16))):n+=fi[a]||a,i=!1;else if("\\"===a)i=!0;else{if(a===e)return this.index++,void this.tokens.push({index:t,text:r,constant:!0,value:n});n+=a}this.index++}this.throwError("Unterminated quote",t)}};var mi=function(e,t){this.lexer=e,this.options=t};mi.Program="Program",mi.ExpressionStatement="ExpressionStatement",mi.AssignmentExpression="AssignmentExpression",mi.ConditionalExpression="ConditionalExpression",mi.LogicalExpression="LogicalExpression",mi.BinaryExpression="BinaryExpression",mi.UnaryExpression="UnaryExpression",mi.CallExpression="CallExpression",mi.MemberExpression="MemberExpression",mi.Identifier="Identifier",mi.Literal="Literal",mi.ArrayExpression="ArrayExpression",mi.Property="Property",mi.ObjectExpression="ObjectExpression",mi.ThisExpression="ThisExpression",mi.NGValueParameter="NGValueParameter",mi.prototype={ast:function(e){return this.text=e,this.tokens=this.lexer.lex(e),e=this.program(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var e=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:mi.Program,body:e}},expressionStatement:function(){return{type:mi.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();return this.expect("=")&&(e={type:mi.AssignmentExpression,left:e,right:this.assignment(),operator:"="}),e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:mi.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:mi.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:mi.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:mi.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:mi.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:mi.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:mi.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:mi.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.constants.hasOwnProperty(this.peek().text)?e=L(this.constants[this.consume().text]):this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:mi.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:mi.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:mi.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){e=[e];for(var t={type:mi.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return t},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do e.push(this.expression());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:mi.Identifier,name:e.text}},constant:function(){return{type:mi.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:mi.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:mi.Property,kind:"init"},this.peek().constant?e.key=this.constant():this.peek().identifier?e.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),e.value=this.expression(),t.push(e)}while(this.expect(","));return this.consume("}"),{type:mi.ObjectExpression,properties:t}},throwError:function(e,t){throw ui("syntax",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw ui("ueoe",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw ui("ueoe",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,i){if(this.tokens.length>e){e=this.tokens[e];var a=e.text;if(a===t||a===n||a===r||a===i||!(t||n||r||i))return e}return!1},expect:function(e,t,n,r){return(e=this.peek(e,t,n,r))?(this.tokens.shift(),e):!1},constants:{"true":{type:mi.Literal,value:!0},"false":{type:mi.Literal,value:!1},"null":{type:mi.Literal,value:null},undefined:{type:mi.Literal,value:n},"this":{type:mi.ThisExpression}}},Wt.prototype={compile:function(e,t){var r=this,i=this.astBuilder.ast(e);this.state={nextId:0,filters:{},expensiveChecks:t,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Lt(i,r.$filter);var o,s="";return this.stage="assign",(o=Nt(i))&&(this.state.computing="assign",s=this.nextId(),this.recurse(o,s),this.return_(s),s="fn.assign="+this.generateFunction("assign","s,v,l")),o=It(i.body),r.stage="inputs",a(o,function(e,t){var n="fn"+t;r.state[n]={vars:[],body:[],own:{}},r.state.computing=n;var i=r.nextId();r.recurse(e,i),r.return_(i),r.state.inputs.push(n),e.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(i),s='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+s+this.watchFns()+"return fn;",s=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",s)(this.$filter,kt,Tt,Ft,Mt,Ot,Pt,Et,e),this.state=this.stage=n,s.literal=Bt(i),s.constant=i.constant,s},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return a(t,function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return a(this.state.filters,function(n,r){e.push(n+"=$filter("+t.escape(r)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,r,i,o,s){var l,u,c,d,p=this;if(i=i||f,!s&&b(e.watchId))t=t||this.nextId(),this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,r,i,o,!0));else switch(e.type){case mi.Program:a(e.body,function(t,r){p.recurse(t.expression,n,n,function(e){u=e}),r!==e.body.length-1?p.current().body.push(u,";"):p.return_(u)});break;case mi.Literal:d=this.escape(e.value),this.assign(t,d),i(d);break;case mi.UnaryExpression:this.recurse(e.argument,n,n,function(e){u=e}),d=e.operator+"("+this.ifDefined(u,0)+")",this.assign(t,d),i(d);break;case mi.BinaryExpression:this.recurse(e.left,n,n,function(e){l=e}),this.recurse(e.right,n,n,function(e){u=e}),d="+"===e.operator?this.plus(l,u):"-"===e.operator?this.ifDefined(l,0)+e.operator+this.ifDefined(u,0):"("+l+")"+e.operator+"("+u+")",this.assign(t,d),i(d);break;case mi.LogicalExpression:t=t||this.nextId(),p.recurse(e.left,t),p.if_("&&"===e.operator?t:p.not(t),p.lazyRecurse(e.right,t)),i(t);break;case mi.ConditionalExpression:t=t||this.nextId(),p.recurse(e.test,t),p.if_(t,p.lazyRecurse(e.alternate,t),p.lazyRecurse(e.consequent,t)),i(t);break;case mi.Identifier:t=t||this.nextId(),r&&(r.context="inputs"===p.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),r.computed=!1,r.name=e.name),kt(e.name),p.if_("inputs"===p.stage||p.not(p.getHasOwnProperty("l",e.name)),function(){p.if_("inputs"===p.stage||"s",function(){o&&1!==o&&p.if_(p.not(p.nonComputedMember("s",e.name)),p.lazyAssign(p.nonComputedMember("s",e.name),"{}")),p.assign(t,p.nonComputedMember("s",e.name))})},t&&p.lazyAssign(t,p.nonComputedMember("l",e.name))),(p.state.expensiveChecks||Gt(e.name))&&p.addEnsureSafeObject(t),i(t);break;case mi.MemberExpression:l=r&&(r.context=this.nextId())||this.nextId(),t=t||this.nextId(),p.recurse(e.object,l,n,function(){p.if_(p.notNull(l),function(){o&&1!==o&&p.addEnsureSafeAssignContext(l),e.computed?(u=p.nextId(),p.recurse(e.property,u),p.getStringValue(u),p.addEnsureSafeMemberName(u),o&&1!==o&&p.if_(p.not(p.computedMember(l,u)),p.lazyAssign(p.computedMember(l,u),"{}")),d=p.ensureSafeObject(p.computedMember(l,u)),p.assign(t,d),r&&(r.computed=!0,r.name=u)):(kt(e.property.name),o&&1!==o&&p.if_(p.not(p.nonComputedMember(l,e.property.name)),p.lazyAssign(p.nonComputedMember(l,e.property.name),"{}")),d=p.nonComputedMember(l,e.property.name),(p.state.expensiveChecks||Gt(e.property.name))&&(d=p.ensureSafeObject(d)),p.assign(t,d),r&&(r.computed=!1,r.name=e.property.name))},function(){p.assign(t,"undefined")}),i(t)},!!o);break;case mi.CallExpression:t=t||this.nextId(),e.filter?(u=p.filter(e.callee.name),c=[],a(e.arguments,function(e){var t=p.nextId();p.recurse(e,t),c.push(t)}),d=u+"("+c.join(",")+")",p.assign(t,d),i(t)):(u=p.nextId(),l={},c=[],p.recurse(e.callee,u,l,function(){p.if_(p.notNull(u),function(){p.addEnsureSafeFunction(u),a(e.arguments,function(e){p.recurse(e,p.nextId(),n,function(e){c.push(p.ensureSafeObject(e))})}),l.name?(p.state.expensiveChecks||p.addEnsureSafeObject(l.context),d=p.member(l.context,l.name,l.computed)+"("+c.join(",")+")"):d=u+"("+c.join(",")+")",d=p.ensureSafeObject(d),p.assign(t,d)},function(){p.assign(t,"undefined")}),i(t)}));break;case mi.AssignmentExpression:if(u=this.nextId(),l={},!Rt(e.left))throw ui("lval");this.recurse(e.left,n,l,function(){p.if_(p.notNull(l.context),function(){p.recurse(e.right,u),p.addEnsureSafeObject(p.member(l.context,l.name,l.computed)),p.addEnsureSafeAssignContext(l.context),d=p.member(l.context,l.name,l.computed)+e.operator+u,p.assign(t,d),i(t||d)})},1);break;case mi.ArrayExpression:c=[],a(e.elements,function(e){p.recurse(e,p.nextId(),n,function(e){c.push(e)})}),d="["+c.join(",")+"]",this.assign(t,d),i(d);break;case mi.ObjectExpression:c=[],a(e.properties,function(e){p.recurse(e.value,p.nextId(),n,function(t){c.push(p.escape(e.key.type===mi.Identifier?e.key.name:""+e.key.value)+":"+t)})}),d="{"+c.join(",")+"}",this.assign(t,d),i(d);break;case mi.ThisExpression:this.assign(t,"s"),i("s");break;case mi.NGValueParameter:this.assign(t,"v"),i("v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),r[n]},assign:function(e,t){return e?(this.current().body.push(e,"=",t,";"),e):void 0},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(!0===e)t();else{var r=this.current().body;r.push("if(",e,"){"),t(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(e){return"!("+e+")"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){return e+"."+t},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},addEnsureSafeObject:function(e){this.current().body.push(this.ensureSafeObject(e),";")},addEnsureSafeMemberName:function(e){this.current().body.push(this.ensureSafeMemberName(e),";")},addEnsureSafeFunction:function(e){this.current().body.push(this.ensureSafeFunction(e),";")},addEnsureSafeAssignContext:function(e){this.current().body.push(this.ensureSafeAssignContext(e),";")},ensureSafeObject:function(e){return"ensureSafeObject("+e+",text)"},ensureSafeMemberName:function(e){return"ensureSafeMemberName("+e+",text)"},ensureSafeFunction:function(e){return"ensureSafeFunction("+e+",text)"},getStringValue:function(e){this.assign(e,"getStringValue("+e+",text)")},ensureSafeAssignContext:function(e){return"ensureSafeAssignContext("+e+",text)"},lazyRecurse:function(e,t,n,r,i,a){var o=this;return function(){o.recurse(e,t,n,r,i,a)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(w(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(A(e))return e.toString();if(!0===e)return"true";if(!1===e)return"false";if(null===e)return"null";if("undefined"==typeof e)return"undefined";throw ui("esc")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},Ut.prototype={compile:function(e,t){var n=this,r=this.astBuilder.ast(e);this.expression=e,this.expensiveChecks=t,Lt(r,n.$filter);var i,o;(i=Nt(r))&&(o=this.recurse(i)),i=It(r.body);var s;i&&(s=[],a(i,function(e,t){var r=n.recurse(e);e.input=r,s.push(r),e.watchId=t}));var l=[];return a(r.body,function(e){l.push(n.recurse(e.expression))}),i=0===r.body.length?function(){}:1===r.body.length?l[0]:function(e,t){var n;return a(l,function(r){n=r(e,t)}),n},o&&(i.assign=function(e,t,n){return o(e,n,t)}),s&&(i.inputs=s),i.literal=Bt(r),i.constant=r.constant,i},recurse:function(e,t,r){var i,o,s,l=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case mi.Literal:return this.value(e.value,t);case mi.UnaryExpression:return o=this.recurse(e.argument),this["unary"+e.operator](o,t);case mi.BinaryExpression:return i=this.recurse(e.left),o=this.recurse(e.right),this["binary"+e.operator](i,o,t);case mi.LogicalExpression:return i=this.recurse(e.left),o=this.recurse(e.right),this["binary"+e.operator](i,o,t);case mi.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case mi.Identifier:return kt(e.name,l.expression),l.identifier(e.name,l.expensiveChecks||Gt(e.name),t,r,l.expression);case mi.MemberExpression:return i=this.recurse(e.object,!1,!!r),e.computed||(kt(e.property.name,l.expression),o=e.property.name),e.computed&&(o=this.recurse(e.property)),e.computed?this.computedMember(i,o,t,r,l.expression):this.nonComputedMember(i,o,l.expensiveChecks,t,r,l.expression);case mi.CallExpression:return s=[],a(e.arguments,function(e){s.push(l.recurse(e))}),e.filter&&(o=this.$filter(e.callee.name)),e.filter||(o=this.recurse(e.callee,!0)),e.filter?function(e,r,i,a){for(var l=[],u=0;u<s.length;++u)l.push(s[u](e,r,i,a));return e=o.apply(n,l,a),t?{context:n,name:n,value:e}:e}:function(e,n,r,i){var a,u=o(e,n,r,i);if(null!=u.value){Tt(u.context,l.expression),Ft(u.value,l.expression),a=[];for(var c=0;c<s.length;++c)a.push(Tt(s[c](e,n,r,i),l.expression));a=Tt(u.value.apply(u.context,a),l.expression)}return t?{value:a}:a};case mi.AssignmentExpression:return i=this.recurse(e.left,!0,1),o=this.recurse(e.right),function(e,n,r,a){var s=i(e,n,r,a);return e=o(e,n,r,a),Tt(s.value,l.expression),Ot(s.context),s.context[s.name]=e,t?{value:e}:e};case mi.ArrayExpression:return s=[],a(e.elements,function(e){s.push(l.recurse(e))}),function(e,n,r,i){for(var a=[],o=0;o<s.length;++o)a.push(s[o](e,n,r,i));return t?{value:a}:a};case mi.ObjectExpression:return s=[],a(e.properties,function(e){s.push({key:e.key.type===mi.Identifier?e.key.name:""+e.key.value,value:l.recurse(e.value)})}),function(e,n,r,i){for(var a={},o=0;o<s.length;++o)a[s[o].key]=s[o].value(e,n,r,i);return t?{value:a}:a};case mi.ThisExpression:return function(e){return t?{value:e}:e};case mi.NGValueParameter:return function(e,n,r,i){return t?{value:r}:r}}},"unary+":function(e,t){return function(n,r,i,a){return n=e(n,r,i,a),n=b(n)?+n:0,t?{value:n}:n}},"unary-":function(e,t){return function(n,r,i,a){return n=e(n,r,i,a),n=b(n)?-n:0,t?{value:n}:n}},"unary!":function(e,t){return function(n,r,i,a){return n=!e(n,r,i,a),t?{value:n}:n}},"binary+":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o);return r=t(r,i,a,o),s=Et(s,r),n?{value:s}:s}},"binary-":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o);return r=t(r,i,a,o),s=(b(s)?s:0)-(b(r)?r:0),n?{value:s}:s}},"binary*":function(e,t,n){return function(r,i,a,o){return r=e(r,i,a,o)*t(r,i,a,o),n?{value:r}:r}},"binary/":function(e,t,n){return function(r,i,a,o){return r=e(r,i,a,o)/t(r,i,a,o),n?{value:r}:r}},"binary%":function(e,t,n){return function(r,i,a,o){return r=e(r,i,a,o)%t(r,i,a,o),n?{value:r}:r}},"binary===":function(e,t,n){return function(r,i,a,o){return r=e(r,i,a,o)===t(r,i,a,o),n?{value:r}:r}},"binary!==":function(e,t,n){return function(r,i,a,o){return r=e(r,i,a,o)!==t(r,i,a,o),n?{value:r}:r}},"binary==":function(e,t,n){return function(r,i,a,o){return r=e(r,i,a,o)==t(r,i,a,o),n?{value:r}:r}},"binary!=":function(e,t,n){return function(r,i,a,o){return r=e(r,i,a,o)!=t(r,i,a,o),n?{value:r}:r}},"binary<":function(e,t,n){return function(r,i,a,o){return r=e(r,i,a,o)<t(r,i,a,o),n?{value:r}:r}},"binary>":function(e,t,n){return function(r,i,a,o){return r=e(r,i,a,o)>t(r,i,a,o),n?{value:r}:r}},"binary<=":function(e,t,n){return function(r,i,a,o){return r=e(r,i,a,o)<=t(r,i,a,o),n?{value:r}:r}},"binary>=":function(e,t,n){return function(r,i,a,o){return r=e(r,i,a,o)>=t(r,i,a,o),n?{value:r}:r}},"binary&&":function(e,t,n){return function(r,i,a,o){return r=e(r,i,a,o)&&t(r,i,a,o),n?{value:r}:r}},"binary||":function(e,t,n){return function(r,i,a,o){return r=e(r,i,a,o)||t(r,i,a,o),n?{value:r}:r}},"ternary?:":function(e,t,n,r){return function(i,a,o,s){return i=e(i,a,o,s)?t(i,a,o,s):n(i,a,o,s),r?{value:i}:i}},value:function(e,t){return function(){return t?{context:n,name:n,value:e}:e}},identifier:function(e,t,r,i,a){return function(o,s,l,u){return o=s&&e in s?s:o,i&&1!==i&&o&&!o[e]&&(o[e]={}),s=o?o[e]:n,t&&Tt(s,a),r?{context:o,name:e,value:s}:s}},computedMember:function(e,t,n,r,i){return function(a,o,s,l){var u,c,d=e(a,o,s,l);return null!=d&&(u=t(a,o,s,l),u=Mt(u),kt(u,i),r&&1!==r&&(Ot(d),d&&!d[u]&&(d[u]={})),c=d[u],Tt(c,i)),n?{context:d,name:u,value:c}:c}},nonComputedMember:function(e,t,r,i,a,o){return function(s,l,u,c){return s=e(s,l,u,c),a&&1!==a&&(Ot(s),s&&!s[t]&&(s[t]={})),l=null!=s?s[t]:n,(r||Gt(t))&&Tt(l,o),i?{context:s,name:t,value:l}:l}},inputs:function(e,t){return function(n,r,i,a){return a?a[t]:e(n,r,i)}}};var vi=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n,this.ast=new mi(this.lexer),this.astCompiler=n.csp?new Ut(this.ast,t):new Wt(this.ast,t)};vi.prototype={constructor:vi,parse:function(e){return this.astCompiler.compile(e,this.options.expensiveChecks)}};var yi=Object.prototype.valueOf,bi=r("$sce"),Si={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},zr=r("$compile"),Di=t.createElement("a"),wi=on(e.location.href);un.$inject=["$document"],dn.$inject=["$provide"];var Ai=22,Ci=".",_i="0";mn.$inject=["$locale"],vn.$inject=["$locale"];var xi={yyyy:wn("FullYear",4),yy:wn("FullYear",2,0,!0),y:wn("FullYear",1),MMMM:An("Month"),MMM:An("Month",!0),MM:wn("Month",2,1),M:wn("Month",1,1),dd:wn("Date",2),d:wn("Date",1),HH:wn("Hours",2),H:wn("Hours",1),hh:wn("Hours",2,-12),h:wn("Hours",1,-12),mm:wn("Minutes",2),m:wn("Minutes",1),ss:wn("Seconds",2),s:wn("Seconds",1),sss:wn("Milliseconds",3),EEEE:An("Day"),EEE:An("Day",!0),a:function(e,t){return 12>e.getHours()?t.AMPMS[0]:t.AMPMS[1]},Z:function(e,t,n){return e=-1*n,e=(e>=0?"+":"")+(Dn(Math[e>0?"floor":"ceil"](e/60),2)+Dn(Math.abs(e%60),2))},ww:_n(2),w:_n(1),G:xn,GG:xn,GGG:xn,GGGG:function(e,t){return 0>=e.getFullYear()?t.ERANAMES[0]:t.ERANAMES[1]}},$i=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,ki=/^\-?\d+$/;$n.$inject=["$locale"];var Mi=m(Hn),Ti=m(Yn);Tn.$inject=["$parse"];var Fi=m({restrict:"E",compile:function(e,t){return t.href||t.xlinkHref?void 0:function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Xn.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),Oi={};a(Tr,function(e,t){function n(e,n,i){e.$watch(i[r],function(e){i.$set(t,!!e)})}if("multiple"!=e){var r=Qe("ng-"+t),i=n;"checked"===e&&(i=function(e,t,i){i.ngModel!==i[r]&&n(e,t,i)}),Oi[r]=function(){return{restrict:"A",priority:100,link:i}}}}),a(Or,function(e,t){Oi[t]=function(){return{priority:100,link:function(e,n,r){return"ngPattern"===t&&"/"==r.ngPattern.charAt(0)&&(n=r.ngPattern.match(zn))?void r.$set("ngPattern",new RegExp(n[1],n[2])):void e.$watch(r[t],function(e){r.$set(t,e)})}}}}),a(["src","srcset","href"],function(e){var t=Qe("ng-"+e);Oi[t]=function(){return{priority:99,link:function(n,r,i){var a=e,o=e;"href"===e&&"[object SVGAnimatedString]"===Xn.call(r.prop("href"))&&(o="xlinkHref",i.$attr[o]="xlink:href",a=null),i.$observe(t,function(t){t?(i.$set(o,t),Gn&&a&&r.prop(a,i[o])):"href"===e&&i.$set(o,null)})}}}});var Pi={$addControl:f,$$renameControl:function(e,t){e.$name=t},$removeControl:f,$setValidity:f,$setDirty:f,$setPristine:f,$setSubmitted:f};On.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Ei=function(e){return["$timeout","$parse",function(t,r){function i(e){return""===e?r('this[""]').assign:r(e).assign||f}return{name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:On,compile:function(r,a){r.addClass(ga).addClass(ha);var o=a.name?"name":e&&a.ngForm?"ngForm":!1;return{pre:function(e,r,a,s){var l=s[0];if(!("action"in a)){var u=function(t){e.$apply(function(){l.$commitViewValue(),l.$setSubmitted()}),t.preventDefault()};r[0].addEventListener("submit",u,!1),r.on("$destroy",function(){t(function(){r[0].removeEventListener("submit",u,!1)},0,!1)})}(s[1]||l.$$parentForm).$addControl(l);var d=o?i(l.$name):f;o&&(d(e,l),a.$observe(o,function(t){l.$name!==t&&(d(e,n),l.$$parentForm.$$renameControl(l,t),(d=i(l.$name))(e,l))})),r.on("$destroy",function(){l.$$parentForm.$removeControl(l),d(e,n),c(l,Pi)})}}}}}]},Li=Ei(),Ii=Ei(!0),Ri=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,Ni=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Bi=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Wi=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Ui=/^(\d{4})-(\d{2})-(\d{2})$/,Gi=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,qi=/^(\d{4})-W(\d\d)$/,ji=/^(\d{4})-(\d\d)$/,Ki=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,zi=ue();
a(["date","datetime-local","month","time","week"],function(e){zi[e]=!0});var Hi={text:function(e,t,n,r,i,a){En(e,t,n,r,i,a),Pn(r)},date:In("date",Ui,Ln(Ui,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":In("datetimelocal",Gi,Ln(Gi,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:In("time",Ki,Ln(Ki,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:In("week",qi,function(e,t){if(C(e))return e;if(w(e)){qi.lastIndex=0;var n=qi.exec(e);if(n){var r=+n[1],i=+n[2],a=n=0,o=0,s=0,l=Cn(r),i=7*(i-1);return t&&(n=t.getHours(),a=t.getMinutes(),o=t.getSeconds(),s=t.getMilliseconds()),new Date(r,0,l.getDate()+i,n,a,o,s)}}return NaN},"yyyy-Www"),month:In("month",ji,Ln(ji,["yyyy","MM"]),"yyyy-MM"),number:function(e,t,r,i,a,o){if(Rn(e,t,r,i),En(e,t,r,i,a,o),i.$$parserName="number",i.$parsers.push(function(e){return i.$isEmpty(e)?null:Wi.test(e)?parseFloat(e):n}),i.$formatters.push(function(e){if(!i.$isEmpty(e)){if(!A(e))throw ya("numfmt",e);e=e.toString()}return e}),b(r.min)||r.ngMin){var s;i.$validators.min=function(e){return i.$isEmpty(e)||y(s)||e>=s},r.$observe("min",function(e){b(e)&&!A(e)&&(e=parseFloat(e,10)),s=A(e)&&!isNaN(e)?e:n,i.$validate()})}if(b(r.max)||r.ngMax){var l;i.$validators.max=function(e){return i.$isEmpty(e)||y(l)||l>=e},r.$observe("max",function(e){b(e)&&!A(e)&&(e=parseFloat(e,10)),l=A(e)&&!isNaN(e)?e:n,i.$validate()})}},url:function(e,t,n,r,i,a){En(e,t,n,r,i,a),Pn(r),r.$$parserName="url",r.$validators.url=function(e,t){var n=e||t;return r.$isEmpty(n)||Ni.test(n)}},email:function(e,t,n,r,i,a){En(e,t,n,r,i,a),Pn(r),r.$$parserName="email",r.$validators.email=function(e,t){var n=e||t;return r.$isEmpty(n)||Bi.test(n)}},radio:function(e,t,n,r){y(n.name)&&t.attr("name",++rr),t.on("click",function(e){t[0].checked&&r.$setViewValue(n.value,e&&e.type)}),r.$render=function(){t[0].checked=n.value==r.$viewValue},n.$observe("value",r.$render)},checkbox:function(e,t,n,r,i,a,o,s){var l=Nn(s,e,"ngTrueValue",n.ngTrueValue,!0),u=Nn(s,e,"ngFalseValue",n.ngFalseValue,!1);t.on("click",function(e){r.$setViewValue(t[0].checked,e&&e.type)}),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return!1===e},r.$formatters.push(function(e){return R(e,l)}),r.$parsers.push(function(e){return e?l:u})},hidden:f,button:f,submit:f,reset:f,file:f},Vi=["$browser","$sniffer","$filter","$parse",function(e,t,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,a,o,s){s[0]&&(Hi[Hn(o.type)]||Hi.text)(i,a,o,s[0],t,e,n,r)}}}}],Yi=/^(true|false|\d+)$/,Qi=function(){return{restrict:"A",priority:100,compile:function(e,t){return Yi.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},Zi=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,r){e.$$addBindingInfo(n,r.ngBind),n=n[0],t.$watch(r.ngBind,function(e){n.textContent=y(e)?"":e})}}}}],Ji=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,r,i){n=e(r.attr(i.$attr.ngBindTemplate)),t.$$addBindingInfo(r,n.expressions),r=r[0],i.$observe("ngBindTemplate",function(e){r.textContent=y(e)?"":e})}}}}],Xi=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(r,i){var a=t(i.ngBindHtml),o=t(i.ngBindHtml,function(t){return e.valueOf(t)});return n.$$addBindingClass(r),function(t,r,i){n.$$addBindingInfo(r,i.ngBindHtml),t.$watch(o,function(){var n=a(t);r.html(e.getTrustedHtml(n)||"")})}}}}],ea=m({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),ta=Bn("",!0),na=Bn("Odd",0),ra=Bn("Even",1),ia=Fn({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),aa=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],oa={},sa={blur:!0,focus:!0};a("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=Qe("ng-"+e);oa[t]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,a){var o=n(a[t],null,!0);return function(t,n){n.on(e,function(n){var i=function(){o(t,{$event:n})};sa[e]&&r.$$phase?t.$evalAsync(i):t.$apply(i)})}}}}]});var la=["$animate",function(e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,a,o){var s,l,u;n.$watch(i.ngIf,function(n){n?l||o(function(n,a){l=a,n[n.length++]=t.createComment(" end ngIf: "+i.ngIf+" "),s={clone:n},e.enter(n,r.parent(),r)}):(u&&(u.remove(),u=null),l&&(l.$destroy(),l=null),s&&(u=le(s.clone),e.leave(u).then(function(){u=null}),s=null))})}}}],ua=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:nr.noop,compile:function(r,i){var a=i.ngInclude||i.src,o=i.onload||"",s=i.autoscroll;return function(r,i,l,u,c){var d,p,h,f=0,g=function(){p&&(p.remove(),p=null),d&&(d.$destroy(),d=null),h&&(n.leave(h).then(function(){p=null}),p=h,h=null)};r.$watch(a,function(a){var l=function(){!b(s)||s&&!r.$eval(s)||t()},p=++f;a?(e(a,!0).then(function(e){if(!r.$$destroyed&&p===f){var t=r.$new();u.template=e,e=c(t,function(e){g(),n.enter(e,null,i).then(l)}),d=t,h=e,d.$emit("$includeContentLoaded",a),r.$eval(o)}},function(){r.$$destroyed||p!==f||(g(),r.$emit("$includeContentError",a))}),r.$emit("$includeContentRequested",a)):(g(),u.template=null)})}}}}],ca=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,a){/SVG/.test(r[0].toString())?(r.empty(),e(fe(a.template,t).childNodes)(n,function(e){r.append(e)},{futureParentElement:r})):(r.html(a.template),e(r.contents())(n))}}}],da=Fn({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),pa=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,r,i){var o=t.attr(r.$attr.ngList)||", ",s="false"!==r.ngTrim,l=s?sr(o):o;i.$parsers.push(function(e){if(!y(e)){var t=[];return e&&a(e.split(l),function(e){e&&t.push(s?sr(e):e)}),t}}),i.$formatters.push(function(e){return ar(e)?e.join(o):n}),i.$isEmpty=function(e){return!e||!e.length}}}},ha="ng-valid",fa="ng-invalid",ga="ng-pristine",ma="ng-dirty",va="ng-pending",ya=r("ngModel"),ba=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,r,i,o,s,l,u,c,d){this.$modelValue=this.$viewValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=d(r.name||"",!1)(e),this.$$parentForm=Pi;var p,h=o(r.ngModel),g=h.assign,m=h,v=g,S=null,D=this;this.$$setOptions=function(e){if((D.$options=e)&&e.getterSetter){var t=o(r.ngModel+"()"),n=o(r.ngModel+"($$$p)");m=function(e){var n=h(e);return _(n)&&(n=t(e)),n},v=function(e,t){_(h(e))?n(e,{$$$p:D.$modelValue}):g(e,D.$modelValue)}}else if(!h.assign)throw ya("nonassign",r.ngModel,K(i))},this.$render=f,this.$isEmpty=function(e){return y(e)||""===e||null===e||e!==e};var w=0;Wn({ctrl:this,$element:i,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},$animate:s}),this.$setPristine=function(){D.$dirty=!1,D.$pristine=!0,s.removeClass(i,ma),s.addClass(i,ga)},this.$setDirty=function(){D.$dirty=!0,D.$pristine=!1,s.removeClass(i,ga),s.addClass(i,ma),D.$$parentForm.$setDirty()},this.$setUntouched=function(){D.$touched=!1,D.$untouched=!0,s.setClass(i,"ng-untouched","ng-touched")},this.$setTouched=function(){D.$touched=!0,D.$untouched=!1,s.setClass(i,"ng-touched","ng-untouched")},this.$rollbackViewValue=function(){l.cancel(S),D.$viewValue=D.$$lastCommittedViewValue,D.$render()},this.$validate=function(){if(!A(D.$modelValue)||!isNaN(D.$modelValue)){var e=D.$$rawModelValue,t=D.$valid,r=D.$modelValue,i=D.$options&&D.$options.allowInvalid;D.$$runValidators(e,D.$$lastCommittedViewValue,function(a){i||t===a||(D.$modelValue=a?e:n,D.$modelValue!==r&&D.$$writeModelToScope())})}},this.$$runValidators=function(e,t,r){function i(){var n=!0;return a(D.$validators,function(r,i){var a=r(e,t);n=n&&a,s(i,a)}),n?!0:(a(D.$asyncValidators,function(e,t){s(t,null)}),!1)}function o(){var r=[],i=!0;a(D.$asyncValidators,function(a,o){var l=a(e,t);if(!l||!_(l.then))throw ya("nopromise",l);s(o,n),r.push(l.then(function(){s(o,!0)},function(e){i=!1,s(o,!1)}))}),r.length?c.all(r).then(function(){l(i)},f):l(!0)}function s(e,t){u===w&&D.$setValidity(e,t)}function l(e){u===w&&r(e)}w++;var u=w;(function(){var e=D.$$parserName||"parse";return y(p)?(s(e,null),!0):(p||(a(D.$validators,function(e,t){s(t,null)}),a(D.$asyncValidators,function(e,t){s(t,null)})),s(e,p),p)})()&&i()?o():l(!1)},this.$commitViewValue=function(){var e=D.$viewValue;l.cancel(S),(D.$$lastCommittedViewValue!==e||""===e&&D.$$hasNativeValidators)&&(D.$$lastCommittedViewValue=e,D.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){var t=D.$$lastCommittedViewValue;if(p=y(t)?n:!0)for(var r=0;r<D.$parsers.length;r++)if(t=D.$parsers[r](t),y(t)){p=!1;break}A(D.$modelValue)&&isNaN(D.$modelValue)&&(D.$modelValue=m(e));var i=D.$modelValue,a=D.$options&&D.$options.allowInvalid;D.$$rawModelValue=t,a&&(D.$modelValue=t,D.$modelValue!==i&&D.$$writeModelToScope()),D.$$runValidators(t,D.$$lastCommittedViewValue,function(e){a||(D.$modelValue=e?t:n,D.$modelValue!==i&&D.$$writeModelToScope())})},this.$$writeModelToScope=function(){v(e,D.$modelValue),a(D.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}})},this.$setViewValue=function(e,t){D.$viewValue=e,D.$options&&!D.$options.updateOnDefault||D.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n=0,r=D.$options;r&&b(r.debounce)&&(r=r.debounce,A(r)?n=r:A(r[t])?n=r[t]:A(r.default)&&(n=r.default)),l.cancel(S),n?S=l(function(){D.$commitViewValue()},n):u.$$phase?D.$commitViewValue():e.$apply(function(){D.$commitViewValue()})},e.$watch(function(){var t=m(e);if(t!==D.$modelValue&&(D.$modelValue===D.$modelValue||t===t)){D.$modelValue=D.$$rawModelValue=t,p=n;for(var r=D.$formatters,i=r.length,a=t;i--;)a=r[i](a);D.$viewValue!==a&&(D.$viewValue=D.$$lastCommittedViewValue=a,D.$render(),D.$$runValidators(t,a,f))}return t})}],Sa=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:ba,priority:1,compile:function(t){return t.addClass(ga).addClass("ng-untouched").addClass(ha),{pre:function(e,t,n,r){var i=r[0];t=r[1]||i.$$parentForm,i.$$setOptions(r[2]&&r[2].$options),t.$addControl(i),n.$observe("name",function(e){i.$name!==e&&i.$$parentForm.$$renameControl(i,e)}),e.$on("$destroy",function(){i.$$parentForm.$removeControl(i)})},post:function(t,n,r,i){var a=i[0];a.$options&&a.$options.updateOn&&n.on(a.$options.updateOn,function(e){a.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(n){a.$touched||(e.$$phase?t.$evalAsync(a.$setTouched):t.$apply(a.$setTouched))})}}}}}],Da=/(\s+|^)default(\s+|$)/,wa=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var n=this;this.$options=L(e.$eval(t.ngModelOptions)),b(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=sr(this.$options.updateOn.replace(Da,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},Aa=Fn({terminal:!0,priority:1e3}),Ca=r("ngOptions"),_a=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,xa=["$compile","$parse",function(e,n){function r(e,t,r){function a(e,t,n,r,i){this.selectValue=e,this.viewValue=t,this.label=n,this.group=r,this.disabled=i}function o(e){var t;if(!u&&i(e))t=e;else{t=[];for(var n in e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n)}return t}var s=e.match(_a);if(!s)throw Ca("iexp",e,K(t));var l=s[5]||s[7],u=s[6];e=/ as /.test(s[0])&&s[1];var c=s[9];t=n(s[2]?s[1]:l);var d=e&&n(e)||t,p=c&&n(c),h=c?function(e,t){return p(r,t)}:function(e){return Re(e)},f=function(e,t){return h(e,S(e,t))},g=n(s[2]||s[1]),m=n(s[3]||""),v=n(s[4]||""),y=n(s[8]),b={},S=u?function(e,t){return b[u]=t,b[l]=e,b}:function(e){return b[l]=e,b};return{trackBy:c,getTrackByValue:f,getWatchables:n(y,function(e){var t=[];e=e||[];for(var n=o(e),i=n.length,a=0;i>a;a++){var l=e===n?a:n[a],u=S(e[l],l),l=h(e[l],u);t.push(l),(s[2]||s[1])&&(l=g(r,u),t.push(l)),s[4]&&(u=v(r,u),t.push(u))}return t}),getOptions:function(){for(var e=[],t={},n=y(r)||[],i=o(n),s=i.length,l=0;s>l;l++){var u=n===i?l:i[l],p=S(n[u],u),b=d(r,p),u=h(b,p),D=g(r,p),w=m(r,p),p=v(r,p),b=new a(u,b,D,w,p);e.push(b),t[u]=b}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[f(e)]},getViewValueFromOption:function(e){return c?nr.copy(e.viewValue):e.viewValue}}}}}var o=t.createElement("option"),s=t.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:{pre:function(e,t,n,r){r[0].registerOption=f},post:function(t,n,i,l){function u(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),e.value!==t.value&&(t.value=e.selectValue)}function c(e,t,n,r){return t&&Hn(t.nodeName)===n?n=t:(n=r.cloneNode(!1),t?e.insertBefore(n,t):e.appendChild(n)),n}function d(e){for(var t;e;)t=e.nextSibling,Te(e),e=t}function p(e){var t=g&&g[0],n=D&&D[0];if(t||n)for(;e&&(e===t||e===n||8===e.nodeType||"option"===P(e)&&""===e.value);)e=e.nextSibling;return e}function h(){var e=w&&m.readValue();w=A.getOptions();var t={},r=n[0].firstChild;if(S&&n.prepend(g),r=p(r),w.items.forEach(function(e){var i,a;e.group?(i=t[e.group],i||(i=c(n[0],r,"optgroup",s),r=i.nextSibling,i.label=e.group,i=t[e.group]={groupElement:i,currentOptionElement:i.firstChild}),a=c(i.groupElement,i.currentOptionElement,"option",o),u(e,a),i.currentOptionElement=a.nextSibling):(a=c(n[0],r,"option",o),u(e,a),r=a.nextSibling)}),Object.keys(t).forEach(function(e){d(t[e].currentOptionElement)}),d(r),f.$render(),!f.$isEmpty(e)){var i=m.readValue();(A.trackBy||v?R(e,i):e===i)||(f.$setViewValue(i),f.$render())}}var f=l[1];if(f){var g,m=l[0],v=i.multiple;l=0;for(var y=n.children(),b=y.length;b>l;l++)if(""===y[l].value){g=y.eq(l);break}var S=!!g,D=qn(o.cloneNode(!1));D.val("?");var w,A=r(i.ngOptions,n,t);v?(f.$isEmpty=function(e){return!e||0===e.length},m.writeValue=function(e){w.items.forEach(function(e){e.element.selected=!1}),e&&e.forEach(function(e){(e=w.getOptionFromViewValue(e))&&!e.disabled&&(e.element.selected=!0)})},m.readValue=function(){var e=n.val()||[],t=[];return a(e,function(e){(e=w.selectValueMap[e])&&!e.disabled&&t.push(w.getViewValueFromOption(e))}),t},A.trackBy&&t.$watchCollection(function(){return ar(f.$viewValue)?f.$viewValue.map(function(e){return A.getTrackByValue(e)}):void 0},function(){f.$render()})):(m.writeValue=function(e){var t=w.getOptionFromViewValue(e);t&&!t.disabled?(n[0].value!==t.selectValue&&(D.remove(),S||g.remove(),n[0].value=t.selectValue,t.element.selected=!0),t.element.setAttribute("selected","selected")):null===e||S?(D.remove(),S||n.prepend(g),n.val(""),g.prop("selected",!0),g.attr("selected",!0)):(S||g.remove(),n.prepend(D),n.val("?"),D.prop("selected",!0),D.attr("selected",!0))},m.readValue=function(){var e=w.selectValueMap[n.val()];return e&&!e.disabled?(S||g.remove(),D.remove(),w.getViewValueFromOption(e)):null},A.trackBy&&t.$watch(function(){return A.getTrackByValue(f.$viewValue)},function(){f.$render()})),S?(g.remove(),e(g)(t),g.removeClass("ng-scope")):g=qn(o.cloneNode(!1)),h(),t.$watchCollection(A.getWatchables,h)}}}}}],$a=["$locale","$interpolate","$log",function(e,t,n){var r=/{}/g,i=/^when(Minus)?(.+)$/;return{link:function(o,s,l){function u(e){s.text(e||"")}var c,d=l.count,p=l.$attr.when&&s.attr(l.$attr.when),h=l.offset||0,g=o.$eval(p)||{},m={},v=t.startSymbol(),b=t.endSymbol(),S=v+d+"-"+h+b,D=nr.noop;a(l,function(e,t){var n=i.exec(t);n&&(n=(n[1]?"-":"")+Hn(n[2]),g[n]=s.attr(l.$attr[t]))}),a(g,function(e,n){m[n]=t(e.replace(r,S))}),o.$watch(d,function(t){var r=parseFloat(t),i=isNaN(r);i||r in g||(r=e.pluralCat(r-h)),r===c||i&&A(c)&&isNaN(c)||(D(),i=m[r],y(i)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+p),D=f,u()):D=o.$watch(i,u),c=r)})}}}],ka=["$parse","$animate",function(e,o){var s=r("ngRepeat"),l=function(e,t,n,r,i,a,o){e[n]=r,i&&(e[i]=a),e.$index=t,e.$first=0===t,e.$last=t===o-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(r,u){var c=u.ngRepeat,d=t.createComment(" end ngRepeat: "+c+" "),p=c.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!p)throw s("iexp",c);var h=p[1],f=p[2],g=p[3],m=p[4],p=h.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!p)throw s("iidexp",h);var v=p[3]||p[1],y=p[2];if(g&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(g)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(g)))throw s("badident",g);var b,S,D,w,A={$id:Re};return m?b=e(m):(D=function(e,t){return Re(t)},w=function(e){return e}),function(e,t,r,u,p){b&&(S=function(t,n,r){return y&&(A[y]=t),A[v]=n,A.$index=r,b(e,A)});var h=ue();e.$watchCollection(f,function(r){var u,f,m,b,A,C,_,x,$,k,M=t[0],T=ue();if(g&&(e[g]=r),i(r))x=r,f=S||D;else for(k in f=S||w,x=[],r)Vn.call(r,k)&&"$"!==k.charAt(0)&&x.push(k);for(b=x.length,k=Array(b),u=0;b>u;u++)if(A=r===x?u:x[u],C=r[A],_=f(A,C,u),h[_])$=h[_],delete h[_],T[_]=$,k[u]=$;else{if(T[_])throw a(k,function(e){e&&e.scope&&(h[e.id]=e)}),s("dupes",c,_,C);k[u]={id:_,scope:n,clone:n},T[_]=!0}for(m in h){if($=h[m],_=le($.clone),o.leave(_),_[0].parentNode)for(u=0,f=_.length;f>u;u++)_[u].$$NG_REMOVED=!0;$.scope.$destroy()}for(u=0;b>u;u++)if(A=r===x?u:x[u],C=r[A],$=k[u],$.scope){m=M;do m=m.nextSibling;while(m&&m.$$NG_REMOVED);$.clone[0]!=m&&o.move(le($.clone),null,M),M=$.clone[$.clone.length-1],l($.scope,u,v,C,y,A,b)}else p(function(e,t){$.scope=t;var n=d.cloneNode(!1);e[e.length++]=n,o.enter(e,null,M),M=n,$.clone=e,T[$.id]=$,l($.scope,u,v,C,y,A,b)});h=T})}}}}],Ma=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngShow,function(t){e[t?"removeClass":"addClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Ta=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngHide,function(t){e[t?"addClass":"removeClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Fa=Fn(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&a(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),Oa=["$animate",function(e){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,o){var s=[],l=[],u=[],c=[],d=function(e,t){return function(){e.splice(t,1)}};n.$watch(i.ngSwitch||i.on,function(n){var r,i;for(r=0,i=u.length;i>r;++r)e.cancel(u[r]);for(r=u.length=0,i=c.length;i>r;++r){var p=le(l[r].clone);c[r].$destroy(),(u[r]=e.leave(p)).then(d(u,r))}l.length=0,c.length=0,(s=o.cases["!"+n]||o.cases["?"])&&a(s,function(n){n.transclude(function(r,i){c.push(i);var a=n.element;r[r.length++]=t.createComment(" end ngSwitchWhen: "),l.push({clone:r}),e.enter(r,a.parent(),a)})})})}}}],Pa=Fn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:t})}}),Ea=Fn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),La=Fn({restrict:"EAC",link:function(e,t,n,i,a){if(!a)throw r("ngTransclude")("orphan",K(t));a(function(e){t.empty(),t.append(e)})}}),Ia=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){"text/ng-template"==n.type&&e.put(n.id,t[0].text)}}}],Ra={$setViewValue:f,$render:f},Na=["$element","$scope","$attrs",function(e,r,i){var a=this,o=new Ne;a.ngModelCtrl=Ra,a.unknownOption=qn(t.createElement("option")),a.renderUnknownOption=function(t){t="? "+Re(t)+" ?",a.unknownOption.val(t),e.prepend(a.unknownOption),e.val(t)},r.$on("$destroy",function(){a.renderUnknownOption=f}),a.removeUnknownOption=function(){a.unknownOption.parent()&&a.unknownOption.remove()},a.readValue=function(){return a.removeUnknownOption(),e.val()},a.writeValue=function(t){a.hasOption(t)?(a.removeUnknownOption(),e.val(t),""===t&&a.emptyOption.prop("selected",!0)):null==t&&a.emptyOption?(a.removeUnknownOption(),e.val("")):a.renderUnknownOption(t)},a.addOption=function(e,t){if(8!==t[0].nodeType){oe(e,'"option value"'),""===e&&(a.emptyOption=t);var n=o.get(e)||0;o.put(e,n+1),a.ngModelCtrl.$render(),t[0].hasAttribute("selected")&&(t[0].selected=!0)}},a.removeOption=function(e){var t=o.get(e);t&&(1===t?(o.remove(e),""===e&&(a.emptyOption=n)):o.put(e,t-1))},a.hasOption=function(e){return!!o.get(e)},a.registerOption=function(e,t,n,r,i){if(r){var o;n.$observe("value",function(e){b(o)&&a.removeOption(o),o=e,a.addOption(e,t)})}else i?e.$watch(i,function(e,r){n.$set("value",e),r!==e&&a.removeOption(r),a.addOption(e,t)}):a.addOption(n.value,t);t.on("$destroy",function(){a.removeOption(n.value),a.ngModelCtrl.$render()})}}],Ba=function(){return{restrict:"E",require:["select","?ngModel"],controller:Na,priority:1,link:{pre:function(e,t,n,r){var i=r[1];if(i){var o=r[0];if(o.ngModelCtrl=i,t.on("change",function(){e.$apply(function(){i.$setViewValue(o.readValue())})}),n.multiple){o.readValue=function(){var e=[];return a(t.find("option"),function(t){t.selected&&e.push(t.value)}),e},o.writeValue=function(e){var n=new Ne(e);a(t.find("option"),function(e){e.selected=b(n.get(e.value))})};var s,l=NaN;e.$watch(function(){l!==i.$viewValue||R(s,i.$viewValue)||(s=I(i.$viewValue),i.$render()),l=i.$viewValue}),i.$isEmpty=function(e){return!e||0===e.length}}}},post:function(e,t,n,r){var i=r[1];if(i){var a=r[0];i.$render=function(){a.writeValue(i.$viewValue)}}}}}},Wa=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){if(b(n.value))var r=e(n.value,!0);else{var i=e(t.text(),!0);i||n.$set("value",t.text())}return function(e,t,n){var a=t.parent();(a=a.data("$selectController")||a.parent().data("$selectController"))&&a.registerOption(e,t,n,r,i)}}}}],Ua=m({restrict:"E",terminal:!1}),Ga=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){r&&(n.required=!0,r.$validators.required=function(e,t){return!n.required||!r.$isEmpty(t)},n.$observe("required",function(){r.$validate()}))}}},qa=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,i,a){if(a){var o,s=i.ngPattern||i.pattern;i.$observe("pattern",function(e){if(w(e)&&0<e.length&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw r("ngPattern")("noregexp",s,e,K(t));o=e||n,a.$validate()}),a.$validators.pattern=function(e,t){return a.$isEmpty(t)||y(o)||o.test(t)}}}}},ja=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=-1;n.$observe("maxlength",function(e){e=p(e),i=isNaN(e)?-1:e,r.$validate()}),r.$validators.maxlength=function(e,t){return 0>i||r.$isEmpty(t)||t.length<=i}}}}},Ka=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=0;n.$observe("minlength",function(e){i=p(e)||0,r.$validate()}),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=i}}}}};e.angular.bootstrap?e.console&&void 0:(re(),de(nr),nr.module("ngLocale",[],["$provide",function(e){function t(e){e+="";var t=e.indexOf(".");return-1==t?0:e.length-t-1}e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONEMONTH:"January February March April May June July August September October November December".split(" "),WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,r){var i=0|e,a=r;return n===a&&(a=Math.min(t(e),3)),Math.pow(10,a),1==i&&0==a?"one":"other"}})}]),qn(t).ready(function(){J(t,X)}))}(window,document),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),n("angular",function(e){return function(){var t;return t||e.angular}}(this)),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof n&&n.amd?n("moment",t):e.moment=t()}(this,function(){"use strict";function e(){return Ln.apply(null,arguments)}function n(e){Ln=e}function r(e){return"[object Array]"===Object.prototype.toString.call(e)}function i(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function a(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function s(e,t){for(var n in t)o(t,n)&&(e[n]=t[n]);return o(t,"toString")&&(e.toString=t.toString),o(t,"valueOf")&&(e.valueOf=t.valueOf),e}function l(e,t,n,r){return Me(e,t,n,r,!0).utc()}function u(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function c(e){return null==e._pf&&(e._pf=u()),e._pf}function d(e){if(null==e._isValid){var t=c(e);e._isValid=!(isNaN(e._d.getTime())||!(t.overflow<0)||t.empty||t.invalidMonth||t.invalidWeekday||t.nullInput||t.invalidFormat||t.userInvalidated),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function p(e){var t=l(NaN);return null!=e?s(c(t),e):c(t).userInvalidated=!0,t}function h(e,t){var n,r,i;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=c(t)),"undefined"!=typeof t._locale&&(e._locale=t._locale),Rn.length>0)for(n in Rn)r=Rn[n],i=t[r],"undefined"!=typeof i&&(e[r]=i);return e}function f(t){h(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),Nn===!1&&(Nn=!0,e.updateOffset(this),Nn=!1)}function g(e){return e instanceof f||null!=e&&null!=e._isAMomentObject}function m(e){return 0>e?Math.ceil(e):Math.floor(e)}function v(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=m(t)),n}function y(e,t,n){var r,i=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0;for(r=0;i>r;r++)(n&&e[r]!==t[r]||!n&&v(e[r])!==v(t[r]))&&o++;return o+a}function b(){}function S(e){return e?e.toLowerCase().replace("_","-"):e}function D(e){for(var t,n,r,i,a=0;a<e.length;){for(i=S(e[a]).split("-"),t=i.length,n=S(e[a+1]),n=n?n.split("-"):null;t>0;){if(r=w(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&y(i,n,!0)>=t-1)break;t--}a++}return null}function w(e){var n=null;if(!Bn[e]&&"undefined"!=typeof module&&module&&module.exports)try{n=In._abbr,t("./locale/"+e),A(n)}catch(r){}return Bn[e]}function A(e,t){var n;return e&&(n="undefined"==typeof t?_(e):C(e,t),n&&(In=n)),In._abbr}function C(e,t){return null!==t?(t.abbr=e,Bn[e]=Bn[e]||new b,Bn[e].set(t),A(e),Bn[e]):(delete Bn[e],null)}function _(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return In;if(!r(e)){if(t=w(e))return t;e=[e]}return D(e)}function x(e,t){var n=e.toLowerCase();Wn[n]=Wn[n+"s"]=Wn[t]=e}function $(e){return"string"==typeof e?Wn[e]||Wn[e.toLowerCase()]:void 0}function k(e){var t,n,r={};for(n in e)o(e,n)&&(t=$(n),t&&(r[t]=e[n]));return r}function M(t,n){return function(r){return null!=r?(F(this,t,r),e.updateOffset(this,n),this):T(this,t)}}function T(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function F(e,t,n){return e._d["set"+(e._isUTC?"UTC":"")+t](n)}function O(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else if(e=$(e),"function"==typeof this[e])return this[e](t);return this}function P(e,t,n){var r=""+Math.abs(e),i=t-r.length,a=e>=0;return(a?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function E(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(jn[e]=i),t&&(jn[t[0]]=function(){return P(i.apply(this,arguments),t[1],t[2])}),n&&(jn[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function L(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function I(e){var t,n,r=e.match(Un);for(t=0,n=r.length;n>t;t++)jn[r[t]]?r[t]=jn[r[t]]:r[t]=L(r[t]);return function(i){var a="";for(t=0;n>t;t++)a+=r[t]instanceof Function?r[t].call(i,e):r[t];return a}}function R(e,t){return e.isValid()?(t=N(t,e.localeData()),qn[t]=qn[t]||I(t),qn[t](e)):e.localeData().invalidDate()}function N(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(Gn.lastIndex=0;r>=0&&Gn.test(e);)e=e.replace(Gn,n),Gn.lastIndex=0,r-=1;return e}function B(e){return"function"==typeof e&&"[object Function]"===Object.prototype.toString.call(e)}function W(e,t,n){ar[e]=B(t)?t:function(e){return e&&n?n:t}}function U(e,t){return o(ar,e)?ar[e](t._strict,t._locale):new RegExp(G(e))}function G(e){return e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function q(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(r=function(e,n){n[t]=v(e)}),n=0;n<e.length;n++)or[e[n]]=r}function j(e,t){q(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function K(e,t,n){null!=t&&o(or,e)&&or[e](t,n._a,n,e)}function z(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function H(e){return this._months[e.month()]}function V(e){return this._monthsShort[e.month()]}function Y(e,t,n){var r,i,a;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;12>r;r++){if(i=l([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function Q(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),z(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function Z(t){return null!=t?(Q(this,t),e.updateOffset(this,!0),this):T(this,"Month")}function J(){return z(this.year(),this.month())}function X(e){var t,n=e._a;return n&&-2===c(e).overflow&&(t=n[lr]<0||n[lr]>11?lr:n[ur]<1||n[ur]>z(n[sr],n[lr])?ur:n[cr]<0||n[cr]>24||24===n[cr]&&(0!==n[dr]||0!==n[pr]||0!==n[hr])?cr:n[dr]<0||n[dr]>59?dr:n[pr]<0||n[pr]>59?pr:n[hr]<0||n[hr]>999?hr:-1,
c(e)._overflowDayOfYear&&(sr>t||t>ur)&&(t=ur),c(e).overflow=t),e}function ee(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn}function te(e,t){var n=!0;return s(function(){return n&&(ee(e+"\n"+(new Error).stack),n=!1),t.apply(this,arguments)},t)}function ne(e,t){mr[e]||(ee(t),mr[e]=!0)}function re(e){var t,n,r=e._i,i=vr.exec(r);if(i){for(c(e).iso=!0,t=0,n=yr.length;n>t;t++)if(yr[t][1].exec(r)){e._f=yr[t][0];break}for(t=0,n=br.length;n>t;t++)if(br[t][1].exec(r)){e._f+=(i[6]||" ")+br[t][0];break}r.match(nr)&&(e._f+="Z"),we(e)}else e._isValid=!1}function ie(t){var n=Sr.exec(t._i);return null!==n?void(t._d=new Date(+n[1])):(re(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function ae(e,t,n,r,i,a,o){var s=new Date(e,t,n,r,i,a,o);return 1970>e&&s.setFullYear(e),s}function oe(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function se(e){return le(e)?366:365}function le(e){return e%4===0&&e%100!==0||e%400===0}function ue(){return le(this.year())}function ce(e,t,n){var r,i=n-t,a=n-e.day();return a>i&&(a-=7),i-7>a&&(a+=7),r=Te(e).add(a,"d"),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function de(e){return ce(e,this._week.dow,this._week.doy).week}function pe(){return this._week.dow}function he(){return this._week.doy}function fe(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function ge(e){var t=ce(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function me(e,t,n,r,i){var a,o=6+i-r,s=oe(e,0,1+o),l=s.getUTCDay();return i>l&&(l+=7),n=null!=n?1*n:i,a=1+o+7*(t-1)-l+n,{year:a>0?e:e-1,dayOfYear:a>0?a:se(e-1)+a}}function ve(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function ye(e,t,n){return null!=e?e:null!=t?t:n}function be(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Se(e){var t,n,r,i,a=[];if(!e._d){for(r=be(e),e._w&&null==e._a[ur]&&null==e._a[lr]&&De(e),e._dayOfYear&&(i=ye(e._a[sr],r[sr]),e._dayOfYear>se(i)&&(c(e)._overflowDayOfYear=!0),n=oe(i,0,e._dayOfYear),e._a[lr]=n.getUTCMonth(),e._a[ur]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=a[t]=r[t];for(;7>t;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[cr]&&0===e._a[dr]&&0===e._a[pr]&&0===e._a[hr]&&(e._nextDay=!0,e._a[cr]=0),e._d=(e._useUTC?oe:ae).apply(null,a),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[cr]=24)}}function De(e){var t,n,r,i,a,o,s;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(a=1,o=4,n=ye(t.GG,e._a[sr],ce(Te(),1,4).year),r=ye(t.W,1),i=ye(t.E,1)):(a=e._locale._week.dow,o=e._locale._week.doy,n=ye(t.gg,e._a[sr],ce(Te(),a,o).year),r=ye(t.w,1),null!=t.d?(i=t.d,a>i&&++r):i=null!=t.e?t.e+a:a),s=me(n,r,i,o,a),e._a[sr]=s.year,e._dayOfYear=s.dayOfYear}function we(t){if(t._f===e.ISO_8601)return void re(t);t._a=[],c(t).empty=!0;var n,r,i,a,o,s=""+t._i,l=s.length,u=0;for(i=N(t._f,t._locale).match(Un)||[],n=0;n<i.length;n++)a=i[n],r=(s.match(U(a,t))||[])[0],r&&(o=s.substr(0,s.indexOf(r)),o.length>0&&c(t).unusedInput.push(o),s=s.slice(s.indexOf(r)+r.length),u+=r.length),jn[a]?(r?c(t).empty=!1:c(t).unusedTokens.push(a),K(a,r,t)):t._strict&&!r&&c(t).unusedTokens.push(a);c(t).charsLeftOver=l-u,s.length>0&&c(t).unusedInput.push(s),c(t).bigHour===!0&&t._a[cr]<=12&&t._a[cr]>0&&(c(t).bigHour=void 0),t._a[cr]=Ae(t._locale,t._a[cr],t._meridiem),Se(t),X(t)}function Ae(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&12>t&&(t+=12),r||12!==t||(t=0),t):t}function Ce(e){var t,n,r,i,a;if(0===e._f.length)return c(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)a=0,t=h({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],we(t),d(t)&&(a+=c(t).charsLeftOver,a+=10*c(t).unusedTokens.length,c(t).score=a,(null==r||r>a)&&(r=a,n=t));s(e,n||t)}function _e(e){if(!e._d){var t=k(e._i);e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],Se(e)}}function xe(e){var t=new f(X($e(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function $e(e){var t=e._i,n=e._f;return e._locale=e._locale||_(e._l),null===t||void 0===n&&""===t?p({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),g(t)?new f(X(t)):(r(n)?Ce(e):n?we(e):i(t)?e._d=t:ke(e),e))}function ke(t){var n=t._i;void 0===n?t._d=new Date:i(n)?t._d=new Date(+n):"string"==typeof n?ie(t):r(n)?(t._a=a(n.slice(0),function(e){return parseInt(e,10)}),Se(t)):"object"==typeof n?_e(t):"number"==typeof n?t._d=new Date(n):e.createFromInputFallback(t)}function Me(e,t,n,r,i){var a={};return"boolean"==typeof n&&(r=n,n=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=i,a._l=n,a._i=e,a._f=t,a._strict=r,xe(a)}function Te(e,t,n,r){return Me(e,t,n,r,!1)}function Fe(e,t){var n,i;if(1===t.length&&r(t[0])&&(t=t[0]),!t.length)return Te();for(n=t[0],i=1;i<t.length;++i)(!t[i].isValid()||t[i][e](n))&&(n=t[i]);return n}function Oe(){var e=[].slice.call(arguments,0);return Fe("isBefore",e)}function Pe(){var e=[].slice.call(arguments,0);return Fe("isAfter",e)}function Ee(e){var t=k(e),n=t.year||0,r=t.quarter||0,i=t.month||0,a=t.week||0,o=t.day||0,s=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+36e5*s,this._days=+o+7*a,this._months=+i+3*r+12*n,this._data={},this._locale=_(),this._bubble()}function Le(e){return e instanceof Ee}function Ie(e,t){E(e,0,0,function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+P(~~(e/60),2)+t+P(~~e%60,2)})}function Re(e){var t=(e||"").match(nr)||[],n=t[t.length-1]||[],r=(n+"").match(_r)||["-",0,0],i=+(60*r[1])+v(r[2]);return"+"===r[0]?i:-i}function Ne(t,n){var r,a;return n._isUTC?(r=n.clone(),a=(g(t)||i(t)?+t:+Te(t))-+r,r._d.setTime(+r._d+a),e.updateOffset(r,!1),r):Te(t).local()}function Be(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function We(t,n){var r,i=this._offset||0;return null!=t?("string"==typeof t&&(t=Re(t)),Math.abs(t)<16&&(t=60*t),!this._isUTC&&n&&(r=Be(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==t&&(!n||this._changeInProgress?nt(this,Ze(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:Be(this)}function Ue(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Ge(e){return this.utcOffset(0,e)}function qe(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Be(this),"m")),this}function je(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Re(this._i)),this}function Ke(e){return e=e?Te(e).utcOffset():0,(this.utcOffset()-e)%60===0}function ze(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function He(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var e={};if(h(e,this),e=$e(e),e._a){var t=e._isUTC?l(e._a):Te(e._a);this._isDSTShifted=this.isValid()&&y(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Ve(){return!this._isUTC}function Ye(){return this._isUTC}function Qe(){return this._isUTC&&0===this._offset}function Ze(e,t){var n,r,i,a=e,s=null;return Le(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(a={},t?a[t]=e:a.milliseconds=e):(s=xr.exec(e))?(n="-"===s[1]?-1:1,a={y:0,d:v(s[ur])*n,h:v(s[cr])*n,m:v(s[dr])*n,s:v(s[pr])*n,ms:v(s[hr])*n}):(s=$r.exec(e))?(n="-"===s[1]?-1:1,a={y:Je(s[2],n),M:Je(s[3],n),d:Je(s[4],n),h:Je(s[5],n),m:Je(s[6],n),s:Je(s[7],n),w:Je(s[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(i=et(Te(a.from),Te(a.to)),a={},a.ms=i.milliseconds,a.M=i.months),r=new Ee(a),Le(e)&&o(e,"_locale")&&(r._locale=e._locale),r}function Je(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Xe(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function et(e,t){var n;return t=Ne(t,e),e.isBefore(t)?n=Xe(e,t):(n=Xe(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function tt(e,t){return function(n,r){var i,a;return null===r||isNaN(+r)||(ne(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),a=n,n=r,r=a),n="string"==typeof n?+n:n,i=Ze(n,r),nt(this,i,e),this}}function nt(t,n,r,i){var a=n._milliseconds,o=n._days,s=n._months;i=null==i?!0:i,a&&t._d.setTime(+t._d+a*r),o&&F(t,"Date",T(t,"Date")+o*r),s&&Q(t,T(t,"Month")+s*r),i&&e.updateOffset(t,o||s)}function rt(e,t){var n=e||Te(),r=Ne(n,this).startOf("day"),i=this.diff(r,"days",!0),a=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse";return this.format(t&&t[a]||this.localeData().calendar(a,this,Te(n)))}function it(){return new f(this)}function at(e,t){var n;return t=$("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=g(e)?e:Te(e),+this>+e):(n=g(e)?+e:+Te(e),n<+this.clone().startOf(t))}function ot(e,t){var n;return t=$("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=g(e)?e:Te(e),+e>+this):(n=g(e)?+e:+Te(e),+this.clone().endOf(t)<n)}function st(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)}function lt(e,t){var n;return t=$(t||"millisecond"),"millisecond"===t?(e=g(e)?e:Te(e),+this===+e):(n=+Te(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))}function ut(e,t,n){var r,i,a=Ne(e,this),o=6e4*(a.utcOffset()-this.utcOffset());return t=$(t),"year"===t||"month"===t||"quarter"===t?(i=ct(this,a),"quarter"===t?i/=3:"year"===t&&(i/=12)):(r=this-a,i="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-o)/864e5:"week"===t?(r-o)/6048e5:r),n?i:m(i)}function ct(e,t){var n,r,i=12*(t.year()-e.year())+(t.month()-e.month()),a=e.clone().add(i,"months");return 0>t-a?(n=e.clone().add(i-1,"months"),r=(t-a)/(a-n)):(n=e.clone().add(i+1,"months"),r=(t-a)/(n-a)),-(i+r)}function dt(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function pt(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():R(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):R(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function ht(t){var n=R(this,t||e.defaultFormat);return this.localeData().postformat(n)}function ft(e,t){return this.isValid()?Ze({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function gt(e){return this.from(Te(),e)}function mt(e,t){return this.isValid()?Ze({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function vt(e){return this.to(Te(),e)}function yt(e){var t;return void 0===e?this._locale._abbr:(t=_(e),null!=t&&(this._locale=t),this)}function bt(){return this._locale}function St(e){switch(e=$(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function Dt(e){return e=$(e),void 0===e||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")}function wt(){return+this._d-6e4*(this._offset||0)}function At(){return Math.floor(+this/1e3)}function Ct(){return this._offset?new Date(+this):this._d}function _t(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function xt(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function $t(){return d(this)}function kt(){return s({},c(this))}function Mt(){return c(this).overflow}function Tt(e,t){E(0,[e,e.length],0,t)}function Ft(e,t,n){return ce(Te([e,11,31+t-n]),t,n).week}function Ot(e){var t=ce(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")}function Pt(e){var t=ce(this,1,4).year;return null==e?t:this.add(e-t,"y")}function Et(){return Ft(this.year(),1,4)}function Lt(){var e=this.localeData()._week;return Ft(this.year(),e.dow,e.doy)}function It(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Rt(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Nt(e){return this._weekdays[e.day()]}function Bt(e){return this._weekdaysShort[e.day()]}function Wt(e){return this._weekdaysMin[e.day()]}function Ut(e){var t,n,r;for(this._weekdaysParse=this._weekdaysParse||[],t=0;7>t;t++)if(this._weekdaysParse[t]||(n=Te([2e3,1]).day(t),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t}function Gt(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Rt(e,this.localeData()),this.add(e-t,"d")):t}function qt(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function jt(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)}function Kt(e,t){E(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function zt(e,t){return t._meridiemParse}function Ht(e){return"p"===(e+"").toLowerCase().charAt(0)}function Vt(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Yt(e,t){t[hr]=v(1e3*("0."+e))}function Qt(){return this._isUTC?"UTC":""}function Zt(){return this._isUTC?"Coordinated Universal Time":""}function Jt(e){return Te(1e3*e)}function Xt(){return Te.apply(null,arguments).parseZone()}function en(e,t,n){var r=this._calendar[e];return"function"==typeof r?r.call(t,n):r}function tn(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function nn(){return this._invalidDate}function rn(e){return this._ordinal.replace("%d",e)}function an(e){return e}function on(e,t,n,r){var i=this._relativeTime[n];return"function"==typeof i?i(e,t,n,r):i.replace(/%d/i,e)}function sn(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)}function ln(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function un(e,t,n,r){var i=_(),a=l().set(r,t);return i[n](a,e)}function cn(e,t,n,r,i){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return un(e,t,n,i);var a,o=[];for(a=0;r>a;a++)o[a]=un(e,a,n,i);return o}function dn(e,t){return cn(e,t,"months",12,"month")}function pn(e,t){return cn(e,t,"monthsShort",12,"month")}function hn(e,t){return cn(e,t,"weekdays",7,"day")}function fn(e,t){return cn(e,t,"weekdaysShort",7,"day")}function gn(e,t){return cn(e,t,"weekdaysMin",7,"day")}function mn(){var e=this._data;return this._milliseconds=Qr(this._milliseconds),this._days=Qr(this._days),this._months=Qr(this._months),e.milliseconds=Qr(e.milliseconds),e.seconds=Qr(e.seconds),e.minutes=Qr(e.minutes),e.hours=Qr(e.hours),e.months=Qr(e.months),e.years=Qr(e.years),this}function vn(e,t,n,r){var i=Ze(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function yn(e,t){return vn(this,e,t,1)}function bn(e,t){return vn(this,e,t,-1)}function Sn(e){return 0>e?Math.floor(e):Math.ceil(e)}function Dn(){var e,t,n,r,i,a=this._milliseconds,o=this._days,s=this._months,l=this._data;return a>=0&&o>=0&&s>=0||0>=a&&0>=o&&0>=s||(a+=864e5*Sn(An(s)+o),o=0,s=0),l.milliseconds=a%1e3,e=m(a/1e3),l.seconds=e%60,t=m(e/60),l.minutes=t%60,n=m(t/60),l.hours=n%24,o+=m(n/24),i=m(wn(o)),s+=i,o-=Sn(An(i)),r=m(s/12),s%=12,l.days=o,l.months=s,l.years=r,this}function wn(e){return 4800*e/146097}function An(e){return 146097*e/4800}function Cn(e){var t,n,r=this._milliseconds;if(e=$(e),"month"===e||"year"===e)return t=this._days+r/864e5,n=this._months+wn(t),"month"===e?n:n/12;switch(t=this._days+Math.round(An(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function _n(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12)}function xn(e){return function(){return this.as(e)}}function $n(e){return e=$(e),this[e+"s"]()}function kn(e){return function(){return this._data[e]}}function Mn(){return m(this.days()/7)}function Tn(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function Fn(e,t,n){var r=Ze(e).abs(),i=pi(r.as("s")),a=pi(r.as("m")),o=pi(r.as("h")),s=pi(r.as("d")),l=pi(r.as("M")),u=pi(r.as("y")),c=i<hi.s&&["s",i]||1===a&&["m"]||a<hi.m&&["mm",a]||1===o&&["h"]||o<hi.h&&["hh",o]||1===s&&["d"]||s<hi.d&&["dd",s]||1===l&&["M"]||l<hi.M&&["MM",l]||1===u&&["y"]||["yy",u];return c[2]=t,c[3]=+e>0,c[4]=n,Tn.apply(null,c)}function On(e,t){return void 0===hi[e]?!1:void 0===t?hi[e]:(hi[e]=t,!0)}function Pn(e){var t=this.localeData(),n=Fn(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function En(){var e,t,n,r=fi(this._milliseconds)/1e3,i=fi(this._days),a=fi(this._months);e=m(r/60),t=m(e/60),r%=60,e%=60,n=m(a/12),a%=12;var o=n,s=a,l=i,u=t,c=e,d=r,p=this.asSeconds();return p?(0>p?"-":"")+"P"+(o?o+"Y":"")+(s?s+"M":"")+(l?l+"D":"")+(u||c||d?"T":"")+(u?u+"H":"")+(c?c+"M":"")+(d?d+"S":""):"P0D"}var Ln,In,Rn=e.momentProperties=[],Nn=!1,Bn={},Wn={},Un=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Gn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,qn={},jn={},Kn=/\d/,zn=/\d\d/,Hn=/\d{3}/,Vn=/\d{4}/,Yn=/[+-]?\d{6}/,Qn=/\d\d?/,Zn=/\d{1,3}/,Jn=/\d{1,4}/,Xn=/[+-]?\d{1,6}/,er=/\d+/,tr=/[+-]?\d+/,nr=/Z|[+-]\d\d:?\d\d/gi,rr=/[+-]?\d+(\.\d{1,3})?/,ir=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ar={},or={},sr=0,lr=1,ur=2,cr=3,dr=4,pr=5,hr=6;E("M",["MM",2],"Mo",function(){return this.month()+1}),E("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),E("MMMM",0,0,function(e){return this.localeData().months(this,e)}),x("month","M"),W("M",Qn),W("MM",Qn,zn),W("MMM",ir),W("MMMM",ir),q(["M","MM"],function(e,t){t[lr]=v(e)-1}),q(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[lr]=i:c(n).invalidMonth=e});var fr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),gr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),mr={};e.suppressDeprecationWarnings=!1;var vr=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],br=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Sr=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=te("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),E(0,["YY",2],0,function(){return this.year()%100}),E(0,["YYYY",4],0,"year"),E(0,["YYYYY",5],0,"year"),E(0,["YYYYYY",6,!0],0,"year"),x("year","y"),W("Y",tr),W("YY",Qn,zn),W("YYYY",Jn,Vn),W("YYYYY",Xn,Yn),W("YYYYYY",Xn,Yn),q(["YYYYY","YYYYYY"],sr),q("YYYY",function(t,n){n[sr]=2===t.length?e.parseTwoDigitYear(t):v(t)}),q("YY",function(t,n){n[sr]=e.parseTwoDigitYear(t)}),e.parseTwoDigitYear=function(e){return v(e)+(v(e)>68?1900:2e3)};var Dr=M("FullYear",!1);E("w",["ww",2],"wo","week"),E("W",["WW",2],"Wo","isoWeek"),x("week","w"),x("isoWeek","W"),W("w",Qn),W("ww",Qn,zn),W("W",Qn),W("WW",Qn,zn),j(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=v(e)});var wr={dow:0,doy:6};E("DDD",["DDDD",3],"DDDo","dayOfYear"),x("dayOfYear","DDD"),W("DDD",Zn),W("DDDD",Hn),q(["DDD","DDDD"],function(e,t,n){n._dayOfYear=v(e)}),e.ISO_8601=function(){};var Ar=te("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=Te.apply(null,arguments);return this>e?this:e}),Cr=te("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=Te.apply(null,arguments);return e>this?this:e});Ie("Z",":"),Ie("ZZ",""),W("Z",nr),W("ZZ",nr),q(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Re(e)});var _r=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var xr=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,$r=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Ze.fn=Ee.prototype;var kr=tt(1,"add"),Mr=tt(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Tr=te("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});E(0,["gg",2],0,function(){return this.weekYear()%100}),E(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Tt("gggg","weekYear"),Tt("ggggg","weekYear"),Tt("GGGG","isoWeekYear"),Tt("GGGGG","isoWeekYear"),x("weekYear","gg"),x("isoWeekYear","GG"),W("G",tr),W("g",tr),W("GG",Qn,zn),W("gg",Qn,zn),W("GGGG",Jn,Vn),W("gggg",Jn,Vn),W("GGGGG",Xn,Yn),W("ggggg",Xn,Yn),j(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=v(e)}),j(["gg","GG"],function(t,n,r,i){n[i]=e.parseTwoDigitYear(t)}),E("Q",0,0,"quarter"),x("quarter","Q"),W("Q",Kn),q("Q",function(e,t){t[lr]=3*(v(e)-1)}),E("D",["DD",2],"Do","date"),x("date","D"),W("D",Qn),W("DD",Qn,zn),W("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),q(["D","DD"],ur),q("Do",function(e,t){t[ur]=v(e.match(Qn)[0],10)});var Fr=M("Date",!0);E("d",0,"do","day"),E("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),E("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),E("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),E("e",0,0,"weekday"),E("E",0,0,"isoWeekday"),x("day","d"),x("weekday","e"),x("isoWeekday","E"),W("d",Qn),W("e",Qn),W("E",Qn),W("dd",ir),W("ddd",ir),W("dddd",ir),j(["dd","ddd","dddd"],function(e,t,n){var r=n._locale.weekdaysParse(e);null!=r?t.d=r:c(n).invalidWeekday=e}),j(["d","e","E"],function(e,t,n,r){t[r]=v(e)});var Or="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Pr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Er="Su_Mo_Tu_We_Th_Fr_Sa".split("_");E("H",["HH",2],0,"hour"),E("h",["hh",2],0,function(){return this.hours()%12||12}),Kt("a",!0),Kt("A",!1),x("hour","h"),W("a",zt),W("A",zt),W("H",Qn),W("h",Qn),W("HH",Qn,zn),W("hh",Qn,zn),q(["H","HH"],cr),q(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),q(["h","hh"],function(e,t,n){t[cr]=v(e),c(n).bigHour=!0});var Lr=/[ap]\.?m?\.?/i,Ir=M("Hours",!0);E("m",["mm",2],0,"minute"),x("minute","m"),W("m",Qn),W("mm",Qn,zn),q(["m","mm"],dr);var Rr=M("Minutes",!1);E("s",["ss",2],0,"second"),x("second","s"),W("s",Qn),W("ss",Qn,zn),q(["s","ss"],pr);var Nr=M("Seconds",!1);E("S",0,0,function(){return~~(this.millisecond()/100)}),E(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),E(0,["SSS",3],0,"millisecond"),E(0,["SSSS",4],0,function(){return 10*this.millisecond()}),E(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),E(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),E(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),E(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),E(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),x("millisecond","ms"),W("S",Zn,Kn),W("SS",Zn,zn),W("SSS",Zn,Hn);var Br;for(Br="SSSS";Br.length<=9;Br+="S")W(Br,er);for(Br="S";Br.length<=9;Br+="S")q(Br,Yt);var Wr=M("Milliseconds",!1);E("z",0,0,"zoneAbbr"),E("zz",0,0,"zoneName");var Ur=f.prototype;Ur.add=kr,Ur.calendar=rt,Ur.clone=it,Ur.diff=ut,Ur.endOf=Dt,Ur.format=ht,Ur.from=ft,Ur.fromNow=gt,Ur.to=mt,Ur.toNow=vt,Ur.get=O,Ur.invalidAt=Mt,Ur.isAfter=at,Ur.isBefore=ot,Ur.isBetween=st,Ur.isSame=lt,Ur.isValid=$t,Ur.lang=Tr,Ur.locale=yt,Ur.localeData=bt,Ur.max=Cr,Ur.min=Ar,Ur.parsingFlags=kt,Ur.set=O,Ur.startOf=St,Ur.subtract=Mr,Ur.toArray=_t,Ur.toObject=xt,Ur.toDate=Ct,Ur.toISOString=pt,Ur.toJSON=pt,Ur.toString=dt,Ur.unix=At,Ur.valueOf=wt,Ur.year=Dr,Ur.isLeapYear=ue,Ur.weekYear=Ot,Ur.isoWeekYear=Pt,Ur.quarter=Ur.quarters=It,Ur.month=Z,Ur.daysInMonth=J,Ur.week=Ur.weeks=fe,Ur.isoWeek=Ur.isoWeeks=ge,Ur.weeksInYear=Lt,Ur.isoWeeksInYear=Et,Ur.date=Fr,Ur.day=Ur.days=Gt,Ur.weekday=qt,Ur.isoWeekday=jt,Ur.dayOfYear=ve,Ur.hour=Ur.hours=Ir,Ur.minute=Ur.minutes=Rr,Ur.second=Ur.seconds=Nr,Ur.millisecond=Ur.milliseconds=Wr,Ur.utcOffset=We,Ur.utc=Ge,Ur.local=qe,Ur.parseZone=je,Ur.hasAlignedHourOffset=Ke,Ur.isDST=ze,Ur.isDSTShifted=He,Ur.isLocal=Ve,Ur.isUtcOffset=Ye,Ur.isUtc=Qe,Ur.isUTC=Qe,Ur.zoneAbbr=Qt,Ur.zoneName=Zt,Ur.dates=te("dates accessor is deprecated. Use date instead.",Fr),Ur.months=te("months accessor is deprecated. Use month instead",Z),Ur.years=te("years accessor is deprecated. Use year instead",Dr),Ur.zone=te("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Ue);var Gr=Ur,qr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},jr={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Kr="Invalid date",zr="%d",Hr=/\d{1,2}/,Vr={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Yr=b.prototype;Yr._calendar=qr,Yr.calendar=en,Yr._longDateFormat=jr,Yr.longDateFormat=tn,Yr._invalidDate=Kr,Yr.invalidDate=nn,Yr._ordinal=zr,Yr.ordinal=rn,Yr._ordinalParse=Hr,Yr.preparse=an,Yr.postformat=an,Yr._relativeTime=Vr,Yr.relativeTime=on,Yr.pastFuture=sn,Yr.set=ln,Yr.months=H,Yr._months=fr,Yr.monthsShort=V,Yr._monthsShort=gr,Yr.monthsParse=Y,Yr.week=de,Yr._week=wr,Yr.firstDayOfYear=he,Yr.firstDayOfWeek=pe,Yr.weekdays=Nt,Yr._weekdays=Or,Yr.weekdaysMin=Wt,Yr._weekdaysMin=Er,Yr.weekdaysShort=Bt,Yr._weekdaysShort=Pr,Yr.weekdaysParse=Ut,Yr.isPM=Ht,Yr._meridiemParse=Lr,Yr.meridiem=Vt,A("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===v(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=te("moment.lang is deprecated. Use moment.locale instead.",A),e.langData=te("moment.langData is deprecated. Use moment.localeData instead.",_);var Qr=Math.abs,Zr=xn("ms"),Jr=xn("s"),Xr=xn("m"),ei=xn("h"),ti=xn("d"),ni=xn("w"),ri=xn("M"),ii=xn("y"),ai=kn("milliseconds"),oi=kn("seconds"),si=kn("minutes"),li=kn("hours"),ui=kn("days"),ci=kn("months"),di=kn("years"),pi=Math.round,hi={s:45,m:45,h:22,d:26,M:11},fi=Math.abs,gi=Ee.prototype;gi.abs=mn,gi.add=yn,gi.subtract=bn,gi.as=Cn,gi.asMilliseconds=Zr,gi.asSeconds=Jr,gi.asMinutes=Xr,gi.asHours=ei,gi.asDays=ti,gi.asWeeks=ni,gi.asMonths=ri,gi.asYears=ii,gi.valueOf=_n,gi._bubble=Dn,gi.get=$n,gi.milliseconds=ai,gi.seconds=oi,gi.minutes=si,gi.hours=li,gi.days=ui,gi.weeks=Mn,gi.months=ci,gi.years=di,gi.humanize=Pn,gi.toISOString=En,gi.toString=En,gi.toJSON=En,gi.locale=yt,gi.localeData=bt,gi.toIsoString=te("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",En),gi.lang=Tr,E("X",0,0,"unix"),E("x",0,0,"valueOf"),W("x",tr),W("X",rr),q("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),q("x",function(e,t,n){n._d=new Date(v(e))}),e.version="2.10.6",n(Te),e.fn=Gr,e.min=Oe,e.max=Pe,e.utc=l,e.unix=Jt,e.months=dn,e.isDate=i,e.locale=A,e.invalid=p,e.duration=Ze,e.isMoment=g,e.weekdays=hn,e.parseZone=Xt,e.localeData=_,e.isDuration=Le,e.monthsShort=pn,e.weekdaysMin=gn,e.defineLocale=C,e.weekdaysShort=fn,e.normalizeUnits=$,e.relativeTimeThreshold=On;var mi=e;return mi}),function(){function e(e,t){if(e!==t){var n=null===e,r=e===A,i=e===e,a=null===t,o=t===A,s=t===t;if(e>t&&!a||!i||n&&!o&&s||r&&s)return 1;if(t>e&&!n||!s||a&&!r&&i||o&&i)return-1}return 0}function t(e,t,n){for(var r=e.length,i=n?r:-1;n?i--:++i<r;)if(t(e[i],i,e))return i;return-1}function r(e,t,n){if(t!==t)return f(e,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function i(e){return"function"==typeof e||!1}function a(e){return null==e?"":e+""}function o(e,t){for(var n=-1,r=e.length;++n<r&&t.indexOf(e.charAt(n))>-1;);return n}function s(e,t){for(var n=e.length;n--&&t.indexOf(e.charAt(n))>-1;);return n}function l(t,n){return e(t.criteria,n.criteria)||t.index-n.index}function u(t,n,r){for(var i=-1,a=t.criteria,o=n.criteria,s=a.length,l=r.length;++i<s;){var u=e(a[i],o[i]);if(u){if(i>=l)return u;var c=r[i];return u*("asc"===c||c===!0?1:-1)}}return t.index-n.index}function c(e){return Ge[e]}function d(e){return qe[e]}function p(e,t,n){return t?e=ze[e]:n&&(e=He[e]),"\\"+e}function h(e){return"\\"+He[e]}function f(e,t,n){for(var r=e.length,i=t+(n?0:-1);n?i--:++i<r;){var a=e[i];if(a!==a)return i}return-1}function g(e){return!!e&&"object"==typeof e}function m(e){return 160>=e&&e>=9&&13>=e||32==e||160==e||5760==e||6158==e||e>=8192&&(8202>=e||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function v(e,t){for(var n=-1,r=e.length,i=-1,a=[];++n<r;)e[n]===t&&(e[n]=G,a[++i]=n);return a}function y(e,t){for(var n,r=-1,i=e.length,a=-1,o=[];++r<i;){var s=e[r],l=t?t(s,r,e):s;r&&n===l||(n=l,o[++a]=s)}return o}function b(e){for(var t=-1,n=e.length;++t<n&&m(e.charCodeAt(t)););return t}function S(e){for(var t=e.length;t--&&m(e.charCodeAt(t)););return t}function D(e){return je[e]}function w(n){function m(e){if(g(e)&&!Ms(e)&&!(e instanceof te)){if(e instanceof X)return e;if(eo.call(e,"__chain__")&&eo.call(e,"__wrapped__"))return hr(e)}return new X(e)}function Y(){}function X(e,t,n){this.__wrapped__=e,this.__actions__=n||[],this.__chain__=!!t}function te(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ko,this.__views__=[]}function Ge(){var e=new te(this.__wrapped__);return e.__actions__=nt(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=nt(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=nt(this.__views__),e}function qe(){if(this.__filtered__){var e=new te(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function je(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ms(e),r=0>t,i=n?e.length:0,a=zn(0,i,this.__views__),o=a.start,s=a.end,l=s-o,u=r?s:o-1,c=this.__iteratees__,d=c.length,p=0,h=Ao(l,this.__takeCount__);if(!n||N>i||i==l&&h==l)return nn(e,this.__actions__);var f=[];e:for(;l--&&h>p;){u+=t;for(var g=-1,m=e[u];++g<d;){var v=c[g],y=v.iteratee,b=v.type,S=y(m);if(b==W)m=S;else if(!S){if(b==B)continue e;break e}}f[p++]=m}return f}function Ke(){this.__data__={}}function ze(e){return this.has(e)&&delete this.__data__[e]}function He(e){return"__proto__"==e?A:this.__data__[e]}function Ve(e){return"__proto__"!=e&&eo.call(this.__data__,e)}function Ye(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this}function Qe(e){var t=e?e.length:0;for(this.data={hash:vo(null),set:new co};t--;)this.push(e[t])}function Ze(e,t){var n=e.data,r="string"==typeof t||Ei(t)?n.set.has(t):n.hash[t];return r?0:-1}function Je(e){var t=this.data;"string"==typeof e||Ei(e)?t.set.add(e):t.hash[e]=!0}function Xe(e,t){
for(var n=-1,r=e.length,i=-1,a=t.length,o=Wa(r+a);++n<r;)o[n]=e[n];for(;++i<a;)o[n++]=t[i];return o}function nt(e,t){var n=-1,r=e.length;for(t||(t=Wa(r));++n<r;)t[n]=e[n];return t}function rt(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function it(e,t){for(var n=e.length;n--&&t(e[n],n,e)!==!1;);return e}function at(e,t){for(var n=-1,r=e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function ot(e,t,n,r){for(var i=-1,a=e.length,o=r,s=o;++i<a;){var l=e[i],u=+t(l);n(u,o)&&(o=u,s=l)}return s}function st(e,t){for(var n=-1,r=e.length,i=-1,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[++i]=o)}return a}function lt(e,t){for(var n=-1,r=e.length,i=Wa(r);++n<r;)i[n]=t(e[n],n,e);return i}function ut(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function ct(e,t,n,r){var i=-1,a=e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function dt(e,t,n,r){var i=e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function pt(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function ht(e,t){for(var n=e.length,r=0;n--;)r+=+t(e[n])||0;return r}function ft(e,t){return e===A?t:e}function gt(e,t,n,r){return e!==A&&eo.call(r,n)?e:t}function mt(e,t,n){for(var r=-1,i=Ws(t),a=i.length;++r<a;){var o=i[r],s=e[o],l=n(s,t[o],o,e,t);(l===l?l===s:s!==s)&&(s!==A||o in e)||(e[o]=l)}return e}function vt(e,t){return null==t?e:bt(t,Ws(t),e)}function yt(e,t){for(var n=-1,r=null==e,i=!r&&Zn(e),a=i?e.length:0,o=t.length,s=Wa(o);++n<o;){var l=t[n];i?s[n]=Jn(l,a)?e[l]:A:s[n]=r?A:e[l]}return s}function bt(e,t,n){n||(n={});for(var r=-1,i=t.length;++r<i;){var a=t[r];n[a]=e[a]}return n}function St(e,t,n){var r=typeof e;return"function"==r?t===A?e:on(e,t,n):null==e?$a:"object"==r?Bt(e):t===A?Pa(e):Wt(e,t)}function Dt(e,t,n,r,i,a,o){var s;if(n&&(s=i?n(e,r,i):n(e)),s!==A)return s;if(!Ei(e))return e;var l=Ms(e);if(l){if(s=Hn(e),!t)return nt(e,s)}else{var u=no.call(e),c=u==V;if(u!=Z&&u!=q&&(!c||i))return Ue[u]?Yn(e,u,t):i?e:{};if(s=Vn(c?{}:e),!t)return vt(s,e)}a||(a=[]),o||(o=[]);for(var d=a.length;d--;)if(a[d]==e)return o[d];return a.push(e),o.push(s),(l?rt:Ft)(e,function(r,i){s[i]=Dt(r,t,n,i,e,a,o)}),s}function wt(e,t,n){if("function"!=typeof e)throw new Ya(U);return po(function(){e.apply(A,n)},t)}function At(e,t){var n=e?e.length:0,i=[];if(!n)return i;var a=-1,o=qn(),s=o===r,l=s&&t.length>=N?gn(t):null,u=t.length;l&&(o=Ze,s=!1,t=l);e:for(;++a<n;){var c=e[a];if(s&&c===c){for(var d=u;d--;)if(t[d]===c)continue e;i.push(c)}else o(t,c,0)<0&&i.push(c)}return i}function Ct(e,t){var n=!0;return Io(e,function(e,r,i){return n=!!t(e,r,i)}),n}function _t(e,t,n,r){var i=r,a=i;return Io(e,function(e,o,s){var l=+t(e,o,s);(n(l,i)||l===r&&l===a)&&(i=l,a=e)}),a}function xt(e,t,n,r){var i=e.length;for(n=null==n?0:+n||0,0>n&&(n=-n>i?0:i+n),r=r===A||r>i?i:+r||0,0>r&&(r+=i),i=n>r?0:r>>>0,n>>>=0;i>n;)e[n++]=t;return e}function $t(e,t){var n=[];return Io(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function kt(e,t,n,r){var i;return n(e,function(e,n,a){return t(e,n,a)?(i=r?n:e,!1):void 0}),i}function Mt(e,t,n,r){r||(r=[]);for(var i=-1,a=e.length;++i<a;){var o=e[i];g(o)&&Zn(o)&&(n||Ms(o)||_i(o))?t?Mt(o,t,n,r):ut(r,o):n||(r[r.length]=o)}return r}function Tt(e,t){return No(e,t,ea)}function Ft(e,t){return No(e,t,Ws)}function Ot(e,t){return Bo(e,t,Ws)}function Pt(e,t){for(var n=-1,r=t.length,i=-1,a=[];++n<r;){var o=t[n];Pi(e[o])&&(a[++i]=o)}return a}function Et(e,t,n){if(null!=e){n!==A&&n in dr(e)&&(t=[n]);for(var r=0,i=t.length;null!=e&&i>r;)e=e[t[r++]];return r&&r==i?e:A}}function Lt(e,t,n,r,i,a){return e===t?!0:null==e||null==t||!Ei(e)&&!g(t)?e!==e&&t!==t:It(e,t,Lt,n,r,i,a)}function It(e,t,n,r,i,a,o){var s=Ms(e),l=Ms(t),u=j,c=j;s||(u=no.call(e),u==q?u=Z:u!=Z&&(s=qi(e))),l||(c=no.call(t),c==q?c=Z:c!=Z&&(l=qi(t)));var d=u==Z,p=c==Z,h=u==c;if(h&&!s&&!d)return Bn(e,t,u);if(!i){var f=d&&eo.call(e,"__wrapped__"),g=p&&eo.call(t,"__wrapped__");if(f||g)return n(f?e.value():e,g?t.value():t,r,i,a,o)}if(!h)return!1;a||(a=[]),o||(o=[]);for(var m=a.length;m--;)if(a[m]==e)return o[m]==t;a.push(e),o.push(t);var v=(s?Nn:Wn)(e,t,n,r,i,a,o);return a.pop(),o.pop(),v}function Rt(e,t,n){var r=t.length,i=r,a=!n;if(null==e)return!i;for(e=dr(e);r--;){var o=t[r];if(a&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++r<i;){o=t[r];var s=o[0],l=e[s],u=o[1];if(a&&o[2]){if(l===A&&!(s in e))return!1}else{var c=n?n(l,u,s):A;if(!(c===A?Lt(u,l,n,!0):c))return!1}}return!0}function Nt(e,t){var n=-1,r=Zn(e)?Wa(e.length):[];return Io(e,function(e,i,a){r[++n]=t(e,i,a)}),r}function Bt(e){var t=jn(e);if(1==t.length&&t[0][2]){var n=t[0][0],r=t[0][1];return function(e){return null==e?!1:e[n]===r&&(r!==A||n in dr(e))}}return function(e){return Rt(e,t)}}function Wt(e,t){var n=Ms(e),r=er(e)&&rr(t),i=e+"";return e=pr(e),function(a){if(null==a)return!1;var o=i;if(a=dr(a),(n||!r)&&!(o in a)){if(a=1==e.length?a:Et(a,Vt(e,0,-1)),null==a)return!1;o=xr(e),a=dr(a)}return a[o]===t?t!==A||o in a:Lt(t,a[o],A,!0)}}function Ut(e,t,n,r,i){if(!Ei(e))return e;var a=Zn(t)&&(Ms(t)||qi(t)),o=a?A:Ws(t);return rt(o||t,function(s,l){if(o&&(l=s,s=t[l]),g(s))r||(r=[]),i||(i=[]),Gt(e,t,l,Ut,n,r,i);else{var u=e[l],c=n?n(u,s,l,e,t):A,d=c===A;d&&(c=s),c===A&&(!a||l in e)||!d&&(c===c?c===u:u!==u)||(e[l]=c)}}),e}function Gt(e,t,n,r,i,a,o){for(var s=a.length,l=t[n];s--;)if(a[s]==l)return void(e[n]=o[s]);var u=e[n],c=i?i(u,l,n,e,t):A,d=c===A;d&&(c=l,Zn(l)&&(Ms(l)||qi(l))?c=Ms(u)?u:Zn(u)?nt(u):[]:Wi(l)||_i(l)?c=_i(u)?Vi(u):Wi(u)?u:{}:d=!1),a.push(l),o.push(c),d?e[n]=r(c,l,i,a,o):(c===c?c!==u:u===u)&&(e[n]=c)}function qt(e){return function(t){return null==t?A:t[e]}}function jt(e){var t=e+"";return e=pr(e),function(n){return Et(n,e,t)}}function Kt(e,t){for(var n=e?t.length:0;n--;){var r=t[n];if(r!=i&&Jn(r)){var i=r;ho.call(e,r,1)}}return e}function zt(e,t){return e+yo(xo()*(t-e+1))}function Ht(e,t,n,r,i){return i(e,function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)}),n}function Vt(e,t,n){var r=-1,i=e.length;t=null==t?0:+t||0,0>t&&(t=-t>i?0:i+t),n=n===A||n>i?i:+n||0,0>n&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Wa(i);++r<i;)a[r]=e[r+t];return a}function Yt(e,t){var n;return Io(e,function(e,r,i){return n=t(e,r,i),!n}),!!n}function Qt(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function Zt(e,t,n){var r=Un(),i=-1;t=lt(t,function(e){return r(e)});var a=Nt(e,function(e){var n=lt(t,function(t){return t(e)});return{criteria:n,index:++i,value:e}});return Qt(a,function(e,t){return u(e,t,n)})}function Jt(e,t){var n=0;return Io(e,function(e,r,i){n+=+t(e,r,i)||0}),n}function Xt(e,t){var n=-1,i=qn(),a=e.length,o=i===r,s=o&&a>=N,l=s?gn():null,u=[];l?(i=Ze,o=!1):(s=!1,l=t?[]:u);e:for(;++n<a;){var c=e[n],d=t?t(c,n,e):c;if(o&&c===c){for(var p=l.length;p--;)if(l[p]===d)continue e;t&&l.push(d),u.push(c)}else i(l,d,0)<0&&((t||s)&&l.push(d),u.push(c))}return u}function en(e,t){for(var n=-1,r=t.length,i=Wa(r);++n<r;)i[n]=e[t[n]];return i}function tn(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?Vt(e,r?0:a,r?a+1:i):Vt(e,r?a+1:0,r?i:a)}function nn(e,t){var n=e;n instanceof te&&(n=n.value());for(var r=-1,i=t.length;++r<i;){var a=t[r];n=a.func.apply(a.thisArg,ut([n],a.args))}return n}function rn(e,t,n){var r=0,i=e?e.length:r;if("number"==typeof t&&t===t&&Fo>=i){for(;i>r;){var a=r+i>>>1,o=e[a];(n?t>=o:t>o)&&null!==o?r=a+1:i=a}return i}return an(e,t,$a,n)}function an(e,t,n,r){t=n(t);for(var i=0,a=e?e.length:0,o=t!==t,s=null===t,l=t===A;a>i;){var u=yo((i+a)/2),c=n(e[u]),d=c!==A,p=c===c;if(o)var h=p||r;else h=s?p&&d&&(r||null!=c):l?p&&(r||d):null==c?!1:r?t>=c:t>c;h?i=u+1:a=u}return Ao(a,To)}function on(e,t,n){if("function"!=typeof e)return $a;if(t===A)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,a){return e.call(t,n,r,i,a)};case 5:return function(n,r,i,a,o){return e.call(t,n,r,i,a,o)}}return function(){return e.apply(t,arguments)}}function sn(e){var t=new ao(e.byteLength),n=new fo(t);return n.set(new fo(e)),t}function ln(e,t,n){for(var r=n.length,i=-1,a=wo(e.length-r,0),o=-1,s=t.length,l=Wa(s+a);++o<s;)l[o]=t[o];for(;++i<r;)l[n[i]]=e[i];for(;a--;)l[o++]=e[i++];return l}function un(e,t,n){for(var r=-1,i=n.length,a=-1,o=wo(e.length-i,0),s=-1,l=t.length,u=Wa(o+l);++a<o;)u[a]=e[a];for(var c=a;++s<l;)u[c+s]=t[s];for(;++r<i;)u[c+n[r]]=e[a++];return u}function cn(e,t){return function(n,r,i){var a=t?t():{};if(r=Un(r,i,3),Ms(n))for(var o=-1,s=n.length;++o<s;){var l=n[o];e(a,l,r(l,o,n),n)}else Io(n,function(t,n,i){e(a,t,r(t,n,i),i)});return a}}function dn(e){return vi(function(t,n){var r=-1,i=null==t?0:n.length,a=i>2?n[i-2]:A,o=i>2?n[2]:A,s=i>1?n[i-1]:A;for("function"==typeof a?(a=on(a,s,5),i-=2):(a="function"==typeof s?s:A,i-=a?1:0),o&&Xn(n[0],n[1],o)&&(a=3>i?A:a,i=1);++r<i;){var l=n[r];l&&e(t,l,a)}return t})}function pn(e,t){return function(n,r){var i=n?Go(n):0;if(!nr(i))return e(n,r);for(var a=t?i:-1,o=dr(n);(t?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}function hn(e){return function(t,n,r){for(var i=dr(t),a=r(t),o=a.length,s=e?o:-1;e?s--:++s<o;){var l=a[s];if(n(i[l],l,i)===!1)break}return t}}function fn(e,t){function n(){var i=this&&this!==et&&this instanceof n?r:e;return i.apply(t,arguments)}var r=vn(e);return n}function gn(e){return vo&&co?new Qe(e):null}function mn(e){return function(t){for(var n=-1,r=Ca(ca(t)),i=r.length,a="";++n<i;)a=e(a,r[n],n);return a}}function vn(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Lo(e.prototype),r=e.apply(n,t);return Ei(r)?r:n}}function yn(e){function t(n,r,i){i&&Xn(n,r,i)&&(r=A);var a=Rn(n,e,A,A,A,A,A,r);return a.placeholder=t.placeholder,a}return t}function bn(e,t){return vi(function(n){var r=n[0];return null==r?r:(n.push(t),e.apply(A,n))})}function Sn(e,t){return function(n,r,i){if(i&&Xn(n,r,i)&&(r=A),r=Un(r,i,3),1==r.length){n=Ms(n)?n:cr(n);var a=ot(n,r,e,t);if(!n.length||a!==t)return a}return _t(n,r,e,t)}}function Dn(e,n){return function(r,i,a){if(i=Un(i,a,3),Ms(r)){var o=t(r,i,n);return o>-1?r[o]:A}return kt(r,i,e)}}function wn(e){return function(n,r,i){return n&&n.length?(r=Un(r,i,3),t(n,r,e)):-1}}function An(e){return function(t,n,r){return n=Un(n,r,3),kt(t,n,e,!0)}}function Cn(e){return function(){for(var t,n=arguments.length,r=e?n:-1,i=0,a=Wa(n);e?r--:++r<n;){var o=a[i++]=arguments[r];if("function"!=typeof o)throw new Ya(U);!t&&X.prototype.thru&&"wrapper"==Gn(o)&&(t=new X([],!0))}for(r=t?-1:n;++r<n;){o=a[r];var s=Gn(o),l="wrapper"==s?Uo(o):A;t=l&&tr(l[0])&&l[1]==(O|k|T|P)&&!l[4].length&&1==l[9]?t[Gn(l[0])].apply(t,l[3]):1==o.length&&tr(o)?t[s]():t.thru(o)}return function(){var e=arguments,r=e[0];if(t&&1==e.length&&Ms(r)&&r.length>=N)return t.plant(r).value();for(var i=0,o=n?a[i].apply(this,e):r;++i<n;)o=a[i].call(this,o);return o}}}function _n(e,t){return function(n,r,i){return"function"==typeof r&&i===A&&Ms(n)?e(n,r):t(n,on(r,i,3))}}function xn(e){return function(t,n,r){return("function"!=typeof n||r!==A)&&(n=on(n,r,3)),e(t,n,ea)}}function $n(e){return function(t,n,r){return("function"!=typeof n||r!==A)&&(n=on(n,r,3)),e(t,n)}}function kn(e){return function(t,n,r){var i={};return n=Un(n,r,3),Ft(t,function(t,r,a){var o=n(t,r,a);r=e?o:r,t=e?t:o,i[r]=t}),i}}function Mn(e){return function(t,n,r){return t=a(t),(e?t:"")+Pn(t,n,r)+(e?"":t)}}function Tn(e){var t=vi(function(n,r){var i=v(r,t.placeholder);return Rn(n,e,A,r,i)});return t}function Fn(e,t){return function(n,r,i,a){var o=arguments.length<3;return"function"==typeof r&&a===A&&Ms(n)?e(n,r,i,o):Ht(n,Un(r,a,4),i,o,t)}}function On(e,t,n,r,i,a,o,s,l,u){function c(){for(var b=arguments.length,S=b,D=Wa(b);S--;)D[S]=arguments[S];if(r&&(D=ln(D,r,i)),a&&(D=un(D,a,o)),f||m){var w=c.placeholder,C=v(D,w);if(b-=C.length,u>b){var $=s?nt(s):A,k=wo(u-b,0),M=f?C:A,O=f?A:C,P=f?D:A,E=f?A:D;t|=f?T:F,t&=~(f?F:T),g||(t&=~(_|x));var L=[e,t,n,P,M,E,O,$,l,k],I=On.apply(A,L);return tr(e)&&qo(I,L),I.placeholder=w,I}}var R=p?n:this,N=h?R[e]:e;return s&&(D=lr(D,s)),d&&l<D.length&&(D.length=l),this&&this!==et&&this instanceof c&&(N=y||vn(e)),N.apply(R,D)}var d=t&O,p=t&_,h=t&x,f=t&k,g=t&$,m=t&M,y=h?A:vn(e);return c}function Pn(e,t,n){var r=e.length;if(t=+t,r>=t||!So(t))return"";var i=t-r;return n=null==n?" ":n+"",ma(n,mo(i/n.length)).slice(0,i)}function En(e,t,n,r){function i(){for(var t=-1,s=arguments.length,l=-1,u=r.length,c=Wa(u+s);++l<u;)c[l]=r[l];for(;s--;)c[l++]=arguments[++t];var d=this&&this!==et&&this instanceof i?o:e;return d.apply(a?n:this,c)}var a=t&_,o=vn(e);return i}function Ln(e){var t=ja[e];return function(e,n){return n=n===A?0:+n||0,n?(n=lo(10,n),t(e*n)/n):t(e)}}function In(e){return function(t,n,r,i){var a=Un(r);return null==r&&a===St?rn(t,n,e):an(t,n,a(r,i,1),e)}}function Rn(e,t,n,r,i,a,o,s){var l=t&x;if(!l&&"function"!=typeof e)throw new Ya(U);var u=r?r.length:0;if(u||(t&=~(T|F),r=i=A),u-=i?i.length:0,t&F){var c=r,d=i;r=i=A}var p=l?A:Uo(e),h=[e,t,n,r,i,c,d,a,o,s];if(p&&(ir(h,p),t=h[1],s=h[9]),h[9]=null==s?l?0:e.length:wo(s-u,0)||0,t==_)var f=fn(h[0],h[2]);else f=t!=T&&t!=(_|T)||h[4].length?On.apply(A,h):En.apply(A,h);var g=p?Wo:qo;return g(f,h)}function Nn(e,t,n,r,i,a,o){var s=-1,l=e.length,u=t.length;if(l!=u&&!(i&&u>l))return!1;for(;++s<l;){var c=e[s],d=t[s],p=r?r(i?d:c,i?c:d,s):A;if(p!==A){if(p)continue;return!1}if(i){if(!pt(t,function(e){return c===e||n(c,e,r,i,a,o)}))return!1}else if(c!==d&&!n(c,d,r,i,a,o))return!1}return!0}function Bn(e,t,n){switch(n){case K:case z:return+e==+t;case H:return e.name==t.name&&e.message==t.message;case Q:return e!=+e?t!=+t:e==+t;case J:case ee:return e==t+""}return!1}function Wn(e,t,n,r,i,a,o){var s=Ws(e),l=s.length,u=Ws(t),c=u.length;if(l!=c&&!i)return!1;for(var d=l;d--;){var p=s[d];if(!(i?p in t:eo.call(t,p)))return!1}for(var h=i;++d<l;){p=s[d];var f=e[p],g=t[p],m=r?r(i?g:f,i?f:g,p):A;if(!(m===A?n(f,g,r,i,a,o):m))return!1;h||(h="constructor"==p)}if(!h){var v=e.constructor,y=t.constructor;if(v!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y))return!1}return!0}function Un(e,t,n){var r=m.callback||_a;return r=r===_a?St:r,n?r(e,t,n):r}function Gn(e){for(var t=e.name+"",n=Eo[t],r=n?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function qn(e,t,n){var i=m.indexOf||Cr;return i=i===Cr?r:i,e?i(e,t,n):i}function jn(e){for(var t=ta(e),n=t.length;n--;)t[n][2]=rr(t[n][1]);return t}function Kn(e,t){var n=null==e?A:e[t];return Ri(n)?n:A}function zn(e,t,n){for(var r=-1,i=n.length;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=Ao(t,e+o);break;case"takeRight":e=wo(e,t-o)}}return{start:e,end:t}}function Hn(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&eo.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Vn(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=za),new t}function Yn(e,t,n){var r=e.constructor;switch(t){case ne:return sn(e);case K:case z:return new r(+e);case re:case ie:case ae:case oe:case se:case le:case ue:case ce:case de:var i=e.buffer;return new r(n?sn(i):i,e.byteOffset,e.length);case Q:case ee:return new r(e);case J:var a=new r(e.source,Te.exec(e));a.lastIndex=e.lastIndex}return a}function Qn(e,t,n){null==e||er(t,e)||(t=pr(t),e=1==t.length?e:Et(e,Vt(t,0,-1)),t=xr(t));var r=null==e?e:e[t];return null==r?A:r.apply(e,n)}function Zn(e){return null!=e&&nr(Go(e))}function Jn(e,t){return e="number"==typeof e||Pe.test(e)?+e:-1,t=null==t?Oo:t,e>-1&&e%1==0&&t>e}function Xn(e,t,n){if(!Ei(n))return!1;var r=typeof t;if("number"==r?Zn(n)&&Jn(t,n.length):"string"==r&&t in n){var i=n[t];return e===e?e===i:i!==i}return!1}function er(e,t){var n=typeof e;if("string"==n&&Ae.test(e)||"number"==n)return!0;if(Ms(e))return!1;var r=!we.test(e);return r||null!=t&&e in dr(t)}function tr(e){var t=Gn(e),n=m[t];if("function"!=typeof n||!(t in te.prototype))return!1;if(e===n)return!0;var r=Uo(n);return!!r&&e===r[0]}function nr(e){return"number"==typeof e&&e>-1&&e%1==0&&Oo>=e}function rr(e){return e===e&&!Ei(e)}function ir(e,t){var n=e[1],r=t[1],i=n|r,a=O>i,o=r==O&&n==k||r==O&&n==P&&e[7].length<=t[8]||r==(O|P)&&n==k;if(!a&&!o)return e;r&_&&(e[2]=t[2],i|=n&_?0:$);var s=t[3];if(s){var l=e[3];e[3]=l?ln(l,s,t[4]):nt(s),e[4]=l?v(e[3],G):nt(t[4])}return s=t[5],s&&(l=e[5],e[5]=l?un(l,s,t[6]):nt(s),e[6]=l?v(e[5],G):nt(t[6])),s=t[7],s&&(e[7]=nt(s)),r&O&&(e[8]=null==e[8]?t[8]:Ao(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function ar(e,t){return e===A?t:Ts(e,t,ar)}function or(e,t){e=dr(e);for(var n=-1,r=t.length,i={};++n<r;){var a=t[n];a in e&&(i[a]=e[a])}return i}function sr(e,t){var n={};return Tt(e,function(e,r,i){t(e,r,i)&&(n[r]=e)}),n}function lr(e,t){for(var n=e.length,r=Ao(t.length,n),i=nt(e);r--;){var a=t[r];e[r]=Jn(a,n)?i[a]:A}return e}function ur(e){for(var t=ea(e),n=t.length,r=n&&e.length,i=!!r&&nr(r)&&(Ms(e)||_i(e)),a=-1,o=[];++a<n;){var s=t[a];(i&&Jn(s,r)||eo.call(e,s))&&o.push(s)}return o}function cr(e){return null==e?[]:Zn(e)?Ei(e)?e:za(e):aa(e)}function dr(e){return Ei(e)?e:za(e)}function pr(e){if(Ms(e))return e;var t=[];return a(e).replace(Ce,function(e,n,r,i){t.push(r?i.replace(ke,"$1"):n||e)}),t}function hr(e){return e instanceof te?e.clone():new X(e.__wrapped__,e.__chain__,nt(e.__actions__))}function fr(e,t,n){t=(n?Xn(e,t,n):null==t)?1:wo(yo(t)||1,1);for(var r=0,i=e?e.length:0,a=-1,o=Wa(mo(i/t));i>r;)o[++a]=Vt(e,r,r+=t);return o}function gr(e){for(var t=-1,n=e?e.length:0,r=-1,i=[];++t<n;){var a=e[t];a&&(i[++r]=a)}return i}function mr(e,t,n){var r=e?e.length:0;return r?((n?Xn(e,t,n):null==t)&&(t=1),Vt(e,0>t?0:t)):[]}function vr(e,t,n){var r=e?e.length:0;return r?((n?Xn(e,t,n):null==t)&&(t=1),t=r-(+t||0),Vt(e,0,0>t?0:t)):[]}function yr(e,t,n){return e&&e.length?tn(e,Un(t,n,3),!0,!0):[]}function br(e,t,n){return e&&e.length?tn(e,Un(t,n,3),!0):[]}function Sr(e,t,n,r){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&Xn(e,t,n)&&(n=0,r=i),xt(e,t,n,r)):[]}function Dr(e){return e?e[0]:A}function wr(e,t,n){var r=e?e.length:0;return n&&Xn(e,t,n)&&(t=!1),r?Mt(e,t):[]}function Ar(e){var t=e?e.length:0;return t?Mt(e,!0):[]}function Cr(e,t,n){var i=e?e.length:0;if(!i)return-1;if("number"==typeof n)n=0>n?wo(i+n,0):n;else if(n){var a=rn(e,t);return i>a&&(t===t?t===e[a]:e[a]!==e[a])?a:-1}return r(e,t,n||0)}function _r(e){return vr(e,1)}function xr(e){var t=e?e.length:0;return t?e[t-1]:A}function $r(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=r;if("number"==typeof n)i=(0>n?wo(r+n,0):Ao(n||0,r-1))+1;else if(n){i=rn(e,t,!0)-1;var a=e[i];return(t===t?t===a:a!==a)?i:-1}if(t!==t)return f(e,i,!0);for(;i--;)if(e[i]===t)return i;return-1}function kr(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var n=0,r=qn(),i=e.length;++n<i;)for(var a=0,o=e[n];(a=r(t,o,a))>-1;)ho.call(t,a,1);return t}function Mr(e,t,n){var r=[];if(!e||!e.length)return r;var i=-1,a=[],o=e.length;for(t=Un(t,n,3);++i<o;){var s=e[i];t(s,i,e)&&(r.push(s),a.push(i))}return Kt(e,a),r}function Tr(e){return mr(e,1)}function Fr(e,t,n){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&Xn(e,t,n)&&(t=0,n=r),Vt(e,t,n)):[]}function Or(e,t,n){var r=e?e.length:0;return r?((n?Xn(e,t,n):null==t)&&(t=1),Vt(e,0,0>t?0:t)):[]}function Pr(e,t,n){var r=e?e.length:0;return r?((n?Xn(e,t,n):null==t)&&(t=1),t=r-(+t||0),Vt(e,0>t?0:t)):[]}function Er(e,t,n){return e&&e.length?tn(e,Un(t,n,3),!1,!0):[]}function Lr(e,t,n){return e&&e.length?tn(e,Un(t,n,3)):[]}function Ir(e,t,n,i){var a=e?e.length:0;if(!a)return[];null!=t&&"boolean"!=typeof t&&(i=n,n=Xn(e,t,i)?A:t,t=!1);var o=Un();return(null!=n||o!==St)&&(n=o(n,i,3)),t&&qn()===r?y(e,n):Xt(e,n)}function Rr(e){if(!e||!e.length)return[];var t=-1,n=0;e=st(e,function(e){return Zn(e)?(n=wo(e.length,n),!0):void 0});for(var r=Wa(n);++t<n;)r[t]=lt(e,qt(t));return r}function Nr(e,t,n){var r=e?e.length:0;if(!r)return[];var i=Rr(e);return null==t?i:(t=on(t,n,4),lt(i,function(e){return ct(e,t,A,!0)}))}function Br(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(Zn(n))var r=r?ut(At(r,n),At(n,r)):n}return r?Xt(r):[]}function Wr(e,t){var n=-1,r=e?e.length:0,i={};for(!r||t||Ms(e[0])||(t=[]);++n<r;){var a=e[n];t?i[a]=t[n]:a&&(i[a[0]]=a[1])}return i}function Ur(e){var t=m(e);return t.__chain__=!0,t}function Gr(e,t,n){return t.call(n,e),e}function qr(e,t,n){return t.call(n,e)}function jr(){return Ur(this)}function Kr(){return new X(this.value(),this.__chain__)}function zr(e){for(var t,n=this;n instanceof Y;){var r=hr(n);t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t}function Hr(){var e=this.__wrapped__,t=function(e){return e.reverse()};if(e instanceof te){var n=e;return this.__actions__.length&&(n=new te(this)),n=n.reverse(),n.__actions__.push({func:qr,args:[t],thisArg:A}),new X(n,this.__chain__)}return this.thru(t)}function Vr(){return this.value()+""}function Yr(){return nn(this.__wrapped__,this.__actions__)}function Qr(e,t,n){var r=Ms(e)?at:Ct;return n&&Xn(e,t,n)&&(t=A),("function"!=typeof t||n!==A)&&(t=Un(t,n,3)),r(e,t)}function Zr(e,t,n){var r=Ms(e)?st:$t;return t=Un(t,n,3),r(e,t)}function Jr(e,t){return is(e,Bt(t))}function Xr(e,t,n,r){var i=e?Go(e):0;return nr(i)||(e=aa(e),i=e.length),n="number"!=typeof n||r&&Xn(t,n,r)?0:0>n?wo(i+n,0):n||0,"string"==typeof e||!Ms(e)&&Gi(e)?i>=n&&e.indexOf(t,n)>-1:!!i&&qn(e,t,n)>-1}function ei(e,t,n){var r=Ms(e)?lt:Nt;return t=Un(t,n,3),r(e,t)}function ti(e,t){return ei(e,Pa(t))}function ni(e,t,n){var r=Ms(e)?st:$t;return t=Un(t,n,3),r(e,function(e,n,r){return!t(e,n,r)})}function ri(e,t,n){if(n?Xn(e,t,n):null==t){e=cr(e);var r=e.length;return r>0?e[zt(0,r-1)]:A}var i=-1,a=Hi(e),r=a.length,o=r-1;for(t=Ao(0>t?0:+t||0,r);++i<t;){var s=zt(i,o),l=a[s];a[s]=a[i],a[i]=l}return a.length=t,a}function ii(e){return ri(e,ko)}function ai(e){var t=e?Go(e):0;return nr(t)?t:Ws(e).length}function oi(e,t,n){var r=Ms(e)?pt:Yt;return n&&Xn(e,t,n)&&(t=A),("function"!=typeof t||n!==A)&&(t=Un(t,n,3)),r(e,t)}function si(e,t,n){if(null==e)return[];n&&Xn(e,t,n)&&(t=A);var r=-1;t=Un(t,n,3);var i=Nt(e,function(e,n,i){return{criteria:t(e,n,i),index:++r,value:e}});return Qt(i,l)}function li(e,t,n,r){return null==e?[]:(r&&Xn(t,n,r)&&(n=A),Ms(t)||(t=null==t?[]:[t]),Ms(n)||(n=null==n?[]:[n]),Zt(e,t,n))}function ui(e,t){return Zr(e,Bt(t))}function ci(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new Ya(U);var n=e;e=t,t=n}return e=So(e=+e)?e:0,function(){return--e<1?t.apply(this,arguments):void 0}}function di(e,t,n){return n&&Xn(e,t,n)&&(t=A),t=e&&null==t?e.length:wo(+t||0,0),Rn(e,O,A,A,A,A,t)}function pi(e,t){var n;if("function"!=typeof t){if("function"!=typeof e)throw new Ya(U);var r=e;e=t,t=r}return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=A),n}}function hi(e,t,n){function r(){h&&oo(h),u&&oo(u),g=0,u=h=f=A}function i(t,n){n&&oo(n),u=h=f=A,t&&(g=gs(),c=e.apply(p,l),h||u||(l=p=A))}function a(){var e=t-(gs()-d);0>=e||e>t?i(f,u):h=po(a,e)}function o(){i(v,h)}function s(){if(l=arguments,d=gs(),p=this,f=v&&(h||!y),m===!1)var n=y&&!h;else{u||y||(g=d);var r=m-(d-g),i=0>=r||r>m;i?(u&&(u=oo(u)),g=d,c=e.apply(p,l)):u||(u=po(o,r))}return i&&h?h=oo(h):h||t===m||(h=po(a,t)),n&&(i=!0,c=e.apply(p,l)),!i||h||u||(l=p=A),c}var l,u,c,d,p,h,f,g=0,m=!1,v=!0;if("function"!=typeof e)throw new Ya(U);if(t=0>t?0:+t||0,n===!0){var y=!0;v=!1}else Ei(n)&&(y=!!n.leading,m="maxWait"in n&&wo(+n.maxWait||0,t),v="trailing"in n?!!n.trailing:v);return s.cancel=r,s}function fi(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new Ya(U);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o),o};return n.cache=new fi.Cache,n}function gi(e){if("function"!=typeof e)throw new Ya(U);return function(){return!e.apply(this,arguments)}}function mi(e){return pi(2,e)}function vi(e,t){if("function"!=typeof e)throw new Ya(U);return t=wo(t===A?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,i=wo(n.length-t,0),a=Wa(i);++r<i;)a[r]=n[t+r];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,n[0],a);case 2:return e.call(this,n[0],n[1],a)}var o=Wa(t+1);for(r=-1;++r<t;)o[r]=n[r];return o[t]=a,e.apply(this,o)}}function yi(e){if("function"!=typeof e)throw new Ya(U);return function(t){return e.apply(this,t)}}function bi(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ya(U);return n===!1?r=!1:Ei(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),hi(e,t,{leading:r,maxWait:+t,trailing:i})}function Si(e,t){return t=null==t?$a:t,Rn(t,T,A,[e],[])}function Di(e,t,n,r){return t&&"boolean"!=typeof t&&Xn(e,t,n)?t=!1:"function"==typeof t&&(r=n,n=t,t=!1),"function"==typeof n?Dt(e,t,on(n,r,3)):Dt(e,t)}function wi(e,t,n){return"function"==typeof t?Dt(e,!0,on(t,n,3)):Dt(e,!0)}function Ai(e,t){return e>t}function Ci(e,t){return e>=t}function _i(e){return g(e)&&Zn(e)&&eo.call(e,"callee")&&!uo.call(e,"callee")}function xi(e){return e===!0||e===!1||g(e)&&no.call(e)==K}function $i(e){return g(e)&&no.call(e)==z}function ki(e){return!!e&&1===e.nodeType&&g(e)&&!Wi(e)}function Mi(e){return null==e?!0:Zn(e)&&(Ms(e)||Gi(e)||_i(e)||g(e)&&Pi(e.splice))?!e.length:!Ws(e).length}function Ti(e,t,n,r){n="function"==typeof n?on(n,r,3):A;var i=n?n(e,t):A;return i===A?Lt(e,t,n):!!i}function Fi(e){return g(e)&&"string"==typeof e.message&&no.call(e)==H}function Oi(e){return"number"==typeof e&&So(e)}function Pi(e){return Ei(e)&&no.call(e)==V}function Ei(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Li(e,t,n,r){return n="function"==typeof n?on(n,r,3):A,Rt(e,jn(t),n)}function Ii(e){return Bi(e)&&e!=+e}function Ri(e){return null==e?!1:Pi(e)?io.test(Xa.call(e)):g(e)&&Oe.test(e)}function Ni(e){return null===e}function Bi(e){return"number"==typeof e||g(e)&&no.call(e)==Q}function Wi(e){var t;if(!g(e)||no.call(e)!=Z||_i(e)||!eo.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var n;return Tt(e,function(e,t){n=t}),n===A||eo.call(e,n)}function Ui(e){return Ei(e)&&no.call(e)==J}function Gi(e){return"string"==typeof e||g(e)&&no.call(e)==ee}function qi(e){return g(e)&&nr(e.length)&&!!We[no.call(e)]}function ji(e){return e===A}function Ki(e,t){return t>e}function zi(e,t){return t>=e}function Hi(e){var t=e?Go(e):0;return nr(t)?t?nt(e):[]:aa(e)}function Vi(e){return bt(e,ea(e))}function Yi(e,t,n){var r=Lo(e);return n&&Xn(e,t,n)&&(t=A),t?vt(r,t):r}function Qi(e){return Pt(e,ea(e))}function Zi(e,t,n){var r=null==e?A:Et(e,pr(t),t+"");return r===A?n:r}function Ji(e,t){if(null==e)return!1;var n=eo.call(e,t);if(!n&&!er(t)){if(t=pr(t),e=1==t.length?e:Et(e,Vt(t,0,-1)),null==e)return!1;t=xr(t),n=eo.call(e,t)}return n||nr(e.length)&&Jn(t,e.length)&&(Ms(e)||_i(e))}function Xi(e,t,n){n&&Xn(e,t,n)&&(t=A);for(var r=-1,i=Ws(e),a=i.length,o={};++r<a;){var s=i[r],l=e[s];t?eo.call(o,l)?o[l].push(s):o[l]=[s]:o[l]=s}return o}function ea(e){if(null==e)return[];Ei(e)||(e=za(e));var t=e.length;t=t&&nr(t)&&(Ms(e)||_i(e))&&t||0;for(var n=e.constructor,r=-1,i="function"==typeof n&&n.prototype===e,a=Wa(t),o=t>0;++r<t;)a[r]=r+"";for(var s in e)o&&Jn(s,t)||"constructor"==s&&(i||!eo.call(e,s))||a.push(s);return a}function ta(e){e=dr(e);for(var t=-1,n=Ws(e),r=n.length,i=Wa(r);++t<r;){var a=n[t];i[t]=[a,e[a]]}return i}function na(e,t,n){var r=null==e?A:e[t];return r===A&&(null==e||er(t,e)||(t=pr(t),e=1==t.length?e:Et(e,Vt(t,0,-1)),r=null==e?A:e[xr(t)]),r=r===A?n:r),Pi(r)?r.call(e):r}function ra(e,t,n){if(null==e)return e;var r=t+"";t=null!=e[r]||er(t,e)?[r]:pr(t);for(var i=-1,a=t.length,o=a-1,s=e;null!=s&&++i<a;){var l=t[i];Ei(s)&&(i==o?s[l]=n:null==s[l]&&(s[l]=Jn(t[i+1])?[]:{})),s=s[l]}return e}function ia(e,t,n,r){var i=Ms(e)||qi(e);if(t=Un(t,r,4),null==n)if(i||Ei(e)){var a=e.constructor;n=i?Ms(e)?new a:[]:Lo(Pi(a)?a.prototype:A)}else n={};return(i?rt:Ft)(e,function(e,r,i){return t(n,e,r,i)}),n}function aa(e){return en(e,Ws(e))}function oa(e){return en(e,ea(e))}function sa(e,t,n){return t=+t||0,n===A?(n=t,t=0):n=+n||0,e>=Ao(t,n)&&e<wo(t,n)}function la(e,t,n){n&&Xn(e,t,n)&&(t=n=A);var r=null==e,i=null==t;if(null==n&&(i&&"boolean"==typeof e?(n=e,e=1):"boolean"==typeof t&&(n=t,i=!0)),r&&i&&(t=1,i=!1),e=+e||0,i?(t=e,e=0):t=+t||0,n||e%1||t%1){var a=xo();return Ao(e+a*(t-e+so("1e-"+((a+"").length-1))),t)}return zt(e,t)}function ua(e){return e=a(e),e&&e.charAt(0).toUpperCase()+e.slice(1)}function ca(e){return e=a(e),e&&e.replace(Ee,c).replace($e,"")}function da(e,t,n){e=a(e),t+="";var r=e.length;return n=n===A?r:Ao(0>n?0:+n||0,r),n-=t.length,n>=0&&e.indexOf(t,n)==n}function pa(e){return e=a(e),e&&ye.test(e)?e.replace(me,d):e}function ha(e){return e=a(e),e&&xe.test(e)?e.replace(_e,p):e||"(?:)"}function fa(e,t,n){e=a(e),t=+t;var r=e.length;if(r>=t||!So(t))return e;var i=(t-r)/2,o=yo(i),s=mo(i);return n=Pn("",s,n),n.slice(0,o)+e+n}function ga(e,t,n){return(n?Xn(e,t,n):null==t)?t=0:t&&(t=+t),e=ba(e),_o(e,t||(Fe.test(e)?16:10))}function ma(e,t){var n="";if(e=a(e),t=+t,1>t||!e||!So(t))return n;do t%2&&(n+=e),t=yo(t/2),e+=e;while(t);return n}function va(e,t,n){return e=a(e),n=null==n?0:Ao(0>n?0:+n||0,e.length),e.lastIndexOf(t,n)==n}function ya(e,t,n){var r=m.templateSettings;n&&Xn(e,t,n)&&(t=n=A),e=a(e),t=mt(vt({},n||t),r,gt);var i,o,s=mt(vt({},t.imports),r.imports,gt),l=Ws(s),u=en(s,l),c=0,d=t.interpolate||Le,p="__p += '",f=Ha((t.escape||Le).source+"|"+d.source+"|"+(d===De?Me:Le).source+"|"+(t.evaluate||Le).source+"|$","g"),g="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Be+"]")+"\n";e.replace(f,function(t,n,r,a,s,l){return r||(r=a),p+=e.slice(c,l).replace(Ie,h),n&&(i=!0,p+="' +\n__e("+n+") +\n'"),s&&(o=!0,p+="';\n"+s+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+t.length,t}),p+="';\n";var v=t.variable;v||(p="with (obj) {\n"+p+"\n}\n"),p=(o?p.replace(pe,""):p).replace(he,"$1").replace(fe,"$1;"),p="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var y=Zs(function(){return qa(l,g+"return "+p).apply(A,u)});if(y.source=p,Fi(y))throw y;return y}function ba(e,t,n){var r=e;return(e=a(e))?(n?Xn(r,t,n):null==t)?e.slice(b(e),S(e)+1):(t+="",e.slice(o(e,t),s(e,t)+1)):e}function Sa(e,t,n){var r=e;return e=a(e),e?(n?Xn(r,t,n):null==t)?e.slice(b(e)):e.slice(o(e,t+"")):e}function Da(e,t,n){var r=e;return e=a(e),e?(n?Xn(r,t,n):null==t)?e.slice(0,S(e)+1):e.slice(0,s(e,t+"")+1):e}function wa(e,t,n){n&&Xn(e,t,n)&&(t=A);var r=E,i=L;if(null!=t)if(Ei(t)){var o="separator"in t?t.separator:o;r="length"in t?+t.length||0:r,i="omission"in t?a(t.omission):i}else r=+t||0;if(e=a(e),r>=e.length)return e;var s=r-i.length;if(1>s)return i;var l=e.slice(0,s);if(null==o)return l+i;if(Ui(o)){if(e.slice(s).search(o)){var u,c,d=e.slice(0,s);for(o.global||(o=Ha(o.source,(Te.exec(o)||"")+"g")),o.lastIndex=0;u=o.exec(d);)c=u.index;l=l.slice(0,null==c?s:c)}}else if(e.indexOf(o,s)!=s){var p=l.lastIndexOf(o);p>-1&&(l=l.slice(0,p))}return l+i}function Aa(e){return e=a(e),e&&ve.test(e)?e.replace(ge,D):e}function Ca(e,t,n){return n&&Xn(e,t,n)&&(t=A),e=a(e),e.match(t||Re)||[]}function _a(e,t,n){return n&&Xn(e,t,n)&&(t=A),g(e)?ka(e):St(e,t)}function xa(e){return function(){return e}}function $a(e){return e}function ka(e){return Bt(Dt(e,!0))}function Ma(e,t){return Wt(e,Dt(t,!0))}function Ta(e,t,n){if(null==n){var r=Ei(t),i=r?Ws(t):A,a=i&&i.length?Pt(t,i):A;(a?a.length:r)||(a=!1,n=t,t=e,e=this)}a||(a=Pt(t,Ws(t)));var o=!0,s=-1,l=Pi(e),u=a.length;n===!1?o=!1:Ei(n)&&"chain"in n&&(o=n.chain);for(;++s<u;){var c=a[s],d=t[c];e[c]=d,l&&(e.prototype[c]=function(t){return function(){var n=this.__chain__;if(o||n){var r=e(this.__wrapped__),i=r.__actions__=nt(this.__actions__);return i.push({func:t,args:arguments,thisArg:e}),r.__chain__=n,r}return t.apply(e,ut([this.value()],arguments))}}(d));
}return e}function Fa(){return et._=ro,this}function Oa(){}function Pa(e){return er(e)?qt(e):jt(e)}function Ea(e){return function(t){return Et(e,pr(t),t+"")}}function La(e,t,n){n&&Xn(e,t,n)&&(t=n=A),e=+e||0,n=null==n?1:+n||0,null==t?(t=e,e=0):t=+t||0;for(var r=-1,i=wo(mo((t-e)/(n||1)),0),a=Wa(i);++r<i;)a[r]=e,e+=n;return a}function Ia(e,t,n){if(e=yo(e),1>e||!So(e))return[];var r=-1,i=Wa(Ao(e,Mo));for(t=on(t,n,1);++r<e;)Mo>r?i[r]=t(r):t(r);return i}function Ra(e){var t=++to;return a(e)+t}function Na(e,t){return(+e||0)+(+t||0)}function Ba(e,t,n){return n&&Xn(e,t,n)&&(t=A),t=Un(t,n,3),1==t.length?ht(Ms(e)?e:cr(e),t):Jt(e,t)}n=n?tt.defaults(et.Object(),n,tt.pick(et,Ne)):et;var Wa=n.Array,Ua=n.Date,Ga=n.Error,qa=n.Function,ja=n.Math,Ka=n.Number,za=n.Object,Ha=n.RegExp,Va=n.String,Ya=n.TypeError,Qa=Wa.prototype,Za=za.prototype,Ja=Va.prototype,Xa=qa.prototype.toString,eo=Za.hasOwnProperty,to=0,no=Za.toString,ro=et._,io=Ha("^"+Xa.call(eo).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ao=n.ArrayBuffer,oo=n.clearTimeout,so=n.parseFloat,lo=ja.pow,uo=Za.propertyIsEnumerable,co=Kn(n,"Set"),po=n.setTimeout,ho=Qa.splice,fo=n.Uint8Array,go=Kn(n,"WeakMap"),mo=ja.ceil,vo=Kn(za,"create"),yo=ja.floor,bo=Kn(Wa,"isArray"),So=n.isFinite,Do=Kn(za,"keys"),wo=ja.max,Ao=ja.min,Co=Kn(Ua,"now"),_o=n.parseInt,xo=ja.random,$o=Ka.NEGATIVE_INFINITY,ko=Ka.POSITIVE_INFINITY,Mo=4294967295,To=Mo-1,Fo=Mo>>>1,Oo=9007199254740991,Po=go&&new go,Eo={};m.support={};m.templateSettings={escape:be,evaluate:Se,interpolate:De,variable:"",imports:{_:m}};var Lo=function(){function e(){}return function(t){if(Ei(t)){e.prototype=t;var n=new e;e.prototype=A}return n||{}}}(),Io=pn(Ft),Ro=pn(Ot,!0),No=hn(),Bo=hn(!0),Wo=Po?function(e,t){return Po.set(e,t),e}:$a,Uo=Po?function(e){return Po.get(e)}:Oa,Go=qt("length"),qo=function(){var e=0,t=0;return function(n,r){var i=gs(),a=R-(i-t);if(t=i,a>0){if(++e>=I)return n}else e=0;return Wo(n,r)}}(),jo=vi(function(e,t){return g(e)&&Zn(e)?At(e,Mt(t,!1,!0)):[]}),Ko=wn(),zo=wn(!0),Ho=vi(function(e){for(var t=e.length,n=t,i=Wa(d),a=qn(),o=a===r,s=[];n--;){var l=e[n]=Zn(l=e[n])?l:[];i[n]=o&&l.length>=120?gn(n&&l):null}var u=e[0],c=-1,d=u?u.length:0,p=i[0];e:for(;++c<d;)if(l=u[c],(p?Ze(p,l):a(s,l,0))<0){for(var n=t;--n;){var h=i[n];if((h?Ze(h,l):a(e[n],l,0))<0)continue e}p&&p.push(l),s.push(l)}return s}),Vo=vi(function(t,n){n=Mt(n);var r=yt(t,n);return Kt(t,n.sort(e)),r}),Yo=In(),Qo=In(!0),Zo=vi(function(e){return Xt(Mt(e,!1,!0))}),Jo=vi(function(e,t){return Zn(e)?At(e,t):[]}),Xo=vi(Rr),es=vi(function(e){var t=e.length,n=t>2?e[t-2]:A,r=t>1?e[t-1]:A;return t>2&&"function"==typeof n?t-=2:(n=t>1&&"function"==typeof r?(--t,r):A,r=A),e.length=t,Nr(e,n,r)}),ts=vi(function(e){return e=Mt(e),this.thru(function(t){return Xe(Ms(t)?t:[dr(t)],e)})}),ns=vi(function(e,t){return yt(e,Mt(t))}),rs=cn(function(e,t,n){eo.call(e,n)?++e[n]:e[n]=1}),is=Dn(Io),as=Dn(Ro,!0),os=_n(rt,Io),ss=_n(it,Ro),ls=cn(function(e,t,n){eo.call(e,n)?e[n].push(t):e[n]=[t]}),us=cn(function(e,t,n){e[n]=t}),cs=vi(function(e,t,n){var r=-1,i="function"==typeof t,a=er(t),o=Zn(e)?Wa(e.length):[];return Io(e,function(e){var s=i?t:a&&null!=e?e[t]:A;o[++r]=s?s.apply(e,n):Qn(e,t,n)}),o}),ds=cn(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),ps=Fn(ct,Io),hs=Fn(dt,Ro),fs=vi(function(e,t){if(null==e)return[];var n=t[2];return n&&Xn(t[0],t[1],n)&&(t.length=1),Zt(e,Mt(t),[])}),gs=Co||function(){return(new Ua).getTime()},ms=vi(function(e,t,n){var r=_;if(n.length){var i=v(n,ms.placeholder);r|=T}return Rn(e,r,t,n,i)}),vs=vi(function(e,t){t=t.length?Mt(t):Qi(e);for(var n=-1,r=t.length;++n<r;){var i=t[n];e[i]=Rn(e[i],_,e)}return e}),ys=vi(function(e,t,n){var r=_|x;if(n.length){var i=v(n,ys.placeholder);r|=T}return Rn(t,r,e,n,i)}),bs=yn(k),Ss=yn(M),Ds=vi(function(e,t){return wt(e,1,t)}),ws=vi(function(e,t,n){return wt(e,t,n)}),As=Cn(),Cs=Cn(!0),_s=vi(function(e,t){if(t=Mt(t),"function"!=typeof e||!at(t,i))throw new Ya(U);var n=t.length;return vi(function(r){for(var i=Ao(r.length,n);i--;)r[i]=t[i](r[i]);return e.apply(this,r)})}),xs=Tn(T),$s=Tn(F),ks=vi(function(e,t){return Rn(e,P,A,A,A,Mt(t))}),Ms=bo||function(e){return g(e)&&nr(e.length)&&no.call(e)==j},Ts=dn(Ut),Fs=dn(function(e,t,n){return n?mt(e,t,n):vt(e,t)}),Os=bn(Fs,ft),Ps=bn(Ts,ar),Es=An(Ft),Ls=An(Ot),Is=xn(No),Rs=xn(Bo),Ns=$n(Ft),Bs=$n(Ot),Ws=Do?function(e){var t=null==e?A:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&Zn(e)?ur(e):Ei(e)?Do(e):[]}:ur,Us=kn(!0),Gs=kn(),qs=vi(function(e,t){if(null==e)return{};if("function"!=typeof t[0]){var t=lt(Mt(t),Va);return or(e,At(ea(e),t))}var n=on(t[0],t[1],3);return sr(e,function(e,t,r){return!n(e,t,r)})}),js=vi(function(e,t){return null==e?{}:"function"==typeof t[0]?sr(e,on(t[0],t[1],3)):or(e,Mt(t))}),Ks=mn(function(e,t,n){return t=t.toLowerCase(),e+(n?t.charAt(0).toUpperCase()+t.slice(1):t)}),zs=mn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Hs=Mn(),Vs=Mn(!0),Ys=mn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Qs=mn(function(e,t,n){return e+(n?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Zs=vi(function(e,t){try{return e.apply(A,t)}catch(n){return Fi(n)?n:new Ga(n)}}),Js=vi(function(e,t){return function(n){return Qn(n,e,t)}}),Xs=vi(function(e,t){return function(n){return Qn(e,n,t)}}),el=Ln("ceil"),tl=Ln("floor"),nl=Sn(Ai,$o),rl=Sn(Ki,ko),il=Ln("round");return m.prototype=Y.prototype,X.prototype=Lo(Y.prototype),X.prototype.constructor=X,te.prototype=Lo(Y.prototype),te.prototype.constructor=te,Ke.prototype.delete=ze,Ke.prototype.get=He,Ke.prototype.has=Ve,Ke.prototype.set=Ye,Qe.prototype.push=Je,fi.Cache=Ke,m.after=ci,m.ary=di,m.assign=Fs,m.at=ns,m.before=pi,m.bind=ms,m.bindAll=vs,m.bindKey=ys,m.callback=_a,m.chain=Ur,m.chunk=fr,m.compact=gr,m.constant=xa,m.countBy=rs,m.create=Yi,m.curry=bs,m.curryRight=Ss,m.debounce=hi,m.defaults=Os,m.defaultsDeep=Ps,m.defer=Ds,m.delay=ws,m.difference=jo,m.drop=mr,m.dropRight=vr,m.dropRightWhile=yr,m.dropWhile=br,m.fill=Sr,m.filter=Zr,m.flatten=wr,m.flattenDeep=Ar,m.flow=As,m.flowRight=Cs,m.forEach=os,m.forEachRight=ss,m.forIn=Is,m.forInRight=Rs,m.forOwn=Ns,m.forOwnRight=Bs,m.functions=Qi,m.groupBy=ls,m.indexBy=us,m.initial=_r,m.intersection=Ho,m.invert=Xi,m.invoke=cs,m.keys=Ws,m.keysIn=ea,m.map=ei,m.mapKeys=Us,m.mapValues=Gs,m.matches=ka,m.matchesProperty=Ma,m.memoize=fi,m.merge=Ts,m.method=Js,m.methodOf=Xs,m.mixin=Ta,m.modArgs=_s,m.negate=gi,m.omit=qs,m.once=mi,m.pairs=ta,m.partial=xs,m.partialRight=$s,m.partition=ds,m.pick=js,m.pluck=ti,m.property=Pa,m.propertyOf=Ea,m.pull=kr,m.pullAt=Vo,m.range=La,m.rearg=ks,m.reject=ni,m.remove=Mr,m.rest=Tr,m.restParam=vi,m.set=ra,m.shuffle=ii,m.slice=Fr,m.sortBy=si,m.sortByAll=fs,m.sortByOrder=li,m.spread=yi,m.take=Or,m.takeRight=Pr,m.takeRightWhile=Er,m.takeWhile=Lr,m.tap=Gr,m.throttle=bi,m.thru=qr,m.times=Ia,m.toArray=Hi,m.toPlainObject=Vi,m.transform=ia,m.union=Zo,m.uniq=Ir,m.unzip=Rr,m.unzipWith=Nr,m.values=aa,m.valuesIn=oa,m.where=ui,m.without=Jo,m.wrap=Si,m.xor=Br,m.zip=Xo,m.zipObject=Wr,m.zipWith=es,m.backflow=Cs,m.collect=ei,m.compose=Cs,m.each=os,m.eachRight=ss,m.extend=Fs,m.iteratee=_a,m.methods=Qi,m.object=Wr,m.select=Zr,m.tail=Tr,m.unique=Ir,Ta(m,m),m.add=Na,m.attempt=Zs,m.camelCase=Ks,m.capitalize=ua,m.ceil=el,m.clone=Di,m.cloneDeep=wi,m.deburr=ca,m.endsWith=da,m.escape=pa,m.escapeRegExp=ha,m.every=Qr,m.find=is,m.findIndex=Ko,m.findKey=Es,m.findLast=as,m.findLastIndex=zo,m.findLastKey=Ls,m.findWhere=Jr,m.first=Dr,m.floor=tl,m.get=Zi,m.gt=Ai,m.gte=Ci,m.has=Ji,m.identity=$a,m.includes=Xr,m.indexOf=Cr,m.inRange=sa,m.isArguments=_i,m.isArray=Ms,m.isBoolean=xi,m.isDate=$i,m.isElement=ki,m.isEmpty=Mi,m.isEqual=Ti,m.isError=Fi,m.isFinite=Oi,m.isFunction=Pi,m.isMatch=Li,m.isNaN=Ii,m.isNative=Ri,m.isNull=Ni,m.isNumber=Bi,m.isObject=Ei,m.isPlainObject=Wi,m.isRegExp=Ui,m.isString=Gi,m.isTypedArray=qi,m.isUndefined=ji,m.kebabCase=zs,m.last=xr,m.lastIndexOf=$r,m.lt=Ki,m.lte=zi,m.max=nl,m.min=rl,m.noConflict=Fa,m.noop=Oa,m.now=gs,m.pad=fa,m.padLeft=Hs,m.padRight=Vs,m.parseInt=ga,m.random=la,m.reduce=ps,m.reduceRight=hs,m.repeat=ma,m.result=na,m.round=il,m.runInContext=w,m.size=ai,m.snakeCase=Ys,m.some=oi,m.sortedIndex=Yo,m.sortedLastIndex=Qo,m.startCase=Qs,m.startsWith=va,m.sum=Ba,m.template=ya,m.trim=ba,m.trimLeft=Sa,m.trimRight=Da,m.trunc=wa,m.unescape=Aa,m.uniqueId=Ra,m.words=Ca,m.all=Qr,m.any=oi,m.contains=Xr,m.eq=Ti,m.detect=is,m.foldl=ps,m.foldr=hs,m.head=Dr,m.include=Xr,m.inject=ps,Ta(m,function(){var e={};return Ft(m,function(t,n){m.prototype[n]||(e[n]=t)}),e}(),!1),m.sample=ri,m.prototype.sample=function(e){return this.__chain__||null!=e?this.thru(function(t){return ri(t,e)}):ri(this.value())},m.VERSION=C,rt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){m[e].placeholder=m}),rt(["drop","take"],function(e,t){te.prototype[e]=function(n){var r=this.__filtered__;if(r&&!t)return new te(this);n=null==n?1:wo(yo(n)||0,0);var i=this.clone();return r?i.__takeCount__=Ao(i.__takeCount__,n):i.__views__.push({size:n,type:e+(i.__dir__<0?"Right":"")}),i},te.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),rt(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n!=W;te.prototype[e]=function(e,t){var i=this.clone();return i.__iteratees__.push({iteratee:Un(e,t,1),type:n}),i.__filtered__=i.__filtered__||r,i}}),rt(["first","last"],function(e,t){var n="take"+(t?"Right":"");te.prototype[e]=function(){return this[n](1).value()[0]}}),rt(["initial","rest"],function(e,t){var n="drop"+(t?"":"Right");te.prototype[e]=function(){return this.__filtered__?new te(this):this[n](1)}}),rt(["pluck","where"],function(e,t){var n=t?"filter":"map",r=t?Bt:Pa;te.prototype[e]=function(e){return this[n](r(e))}}),te.prototype.compact=function(){return this.filter($a)},te.prototype.reject=function(e,t){return e=Un(e,t,1),this.filter(function(t){return!e(t)})},te.prototype.slice=function(e,t){e=null==e?0:+e||0;var n=this;return n.__filtered__&&(e>0||0>t)?new te(n):(0>e?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==A&&(t=+t||0,n=0>t?n.dropRight(-t):n.take(t-e)),n)},te.prototype.takeRightWhile=function(e,t){return this.reverse().takeWhile(e,t).reverse()},te.prototype.toArray=function(){return this.take(ko)},Ft(te.prototype,function(e,t){var n=/^(?:filter|map|reject)|While$/.test(t),r=/^(?:first|last)$/.test(t),i=m[r?"take"+("last"==t?"Right":""):t];i&&(m.prototype[t]=function(){var t=r?[1]:arguments,a=this.__chain__,o=this.__wrapped__,s=!!this.__actions__.length,l=o instanceof te,u=t[0],c=l||Ms(o);c&&n&&"function"==typeof u&&1!=u.length&&(l=c=!1);var d=function(e){return r&&a?i(e,1)[0]:i.apply(A,ut([e],t))},p={func:qr,args:[d],thisArg:A},h=l&&!s;if(r&&!a)return h?(o=o.clone(),o.__actions__.push(p),e.call(o)):i.call(A,this.value())[0];if(!r&&c){o=h?o:new te(this);var f=e.apply(o,t);return f.__actions__.push(p),new X(f,a)}return this.thru(d)})}),rt(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(e){var t=(/^(?:replace|split)$/.test(e)?Ja:Qa)[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:join|pop|replace|shift)$/.test(e);m.prototype[e]=function(){var e=arguments;return r&&!this.__chain__?t.apply(this.value(),e):this[n](function(n){return t.apply(n,e)})}}),Ft(te.prototype,function(e,t){var n=m[t];if(n){var r=n.name+"",i=Eo[r]||(Eo[r]=[]);i.push({name:t,func:n})}}),Eo[On(A,x).name]=[{name:"wrapper",func:A}],te.prototype.clone=Ge,te.prototype.reverse=qe,te.prototype.value=je,m.prototype.chain=jr,m.prototype.commit=Kr,m.prototype.concat=ts,m.prototype.plant=zr,m.prototype.reverse=Hr,m.prototype.toString=Vr,m.prototype.run=m.prototype.toJSON=m.prototype.valueOf=m.prototype.value=Yr,m.prototype.collect=m.prototype.map,m.prototype.head=m.prototype.first,m.prototype.select=m.prototype.filter,m.prototype.tail=m.prototype.rest,m}var A,C="3.10.1",_=1,x=2,$=4,k=8,M=16,T=32,F=64,O=128,P=256,E=30,L="...",I=150,R=16,N=200,B=1,W=2,U="Expected a function",G="__lodash_placeholder__",q="[object Arguments]",j="[object Array]",K="[object Boolean]",z="[object Date]",H="[object Error]",V="[object Function]",Y="[object Map]",Q="[object Number]",Z="[object Object]",J="[object RegExp]",X="[object Set]",ee="[object String]",te="[object WeakMap]",ne="[object ArrayBuffer]",re="[object Float32Array]",ie="[object Float64Array]",ae="[object Int8Array]",oe="[object Int16Array]",se="[object Int32Array]",le="[object Uint8Array]",ue="[object Uint8ClampedArray]",ce="[object Uint16Array]",de="[object Uint32Array]",pe=/\b__p \+= '';/g,he=/\b(__p \+=) '' \+/g,fe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ge=/&(?:amp|lt|gt|quot|#39|#96);/g,me=/[&<>"'`]/g,ve=RegExp(ge.source),ye=RegExp(me.source),be=/<%-([\s\S]+?)%>/g,Se=/<%([\s\S]+?)%>/g,De=/<%=([\s\S]+?)%>/g,we=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,Ae=/^\w*$/,Ce=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,_e=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,xe=RegExp(_e.source),$e=/[\u0300-\u036f\ufe20-\ufe23]/g,ke=/\\(\\)?/g,Me=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Te=/\w*$/,Fe=/^0[xX]/,Oe=/^\[object .+?Constructor\]$/,Pe=/^\d+$/,Ee=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Le=/($^)/,Ie=/['\n\r\u2028\u2029\\]/g,Re=function(){var e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(e+"+(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")}(),Ne=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Be=-1,We={};We[re]=We[ie]=We[ae]=We[oe]=We[se]=We[le]=We[ue]=We[ce]=We[de]=!0,We[q]=We[j]=We[ne]=We[K]=We[z]=We[H]=We[V]=We[Y]=We[Q]=We[Z]=We[J]=We[X]=We[ee]=We[te]=!1;var Ue={};Ue[q]=Ue[j]=Ue[ne]=Ue[K]=Ue[z]=Ue[re]=Ue[ie]=Ue[ae]=Ue[oe]=Ue[se]=Ue[Q]=Ue[Z]=Ue[J]=Ue[ee]=Ue[le]=Ue[ue]=Ue[ce]=Ue[de]=!0,Ue[H]=Ue[V]=Ue[Y]=Ue[X]=Ue[te]=!1;var Ge={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},qe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},je={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Ke={"function":!0,object:!0},ze={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},He={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ve=Ke[typeof exports]&&exports&&!exports.nodeType&&exports,Ye=Ke[typeof module]&&module&&!module.nodeType&&module,Qe=Ve&&Ye&&"object"==typeof global&&global&&global.Object&&global,Ze=Ke[typeof self]&&self&&self.Object&&self,Je=Ke[typeof window]&&window&&window.Object&&window,Xe=Ye&&Ye.exports===Ve&&Ve,et=Qe||Je!==(this&&this.window)&&Je||Ze||this,tt=w();"function"==typeof n&&"object"==typeof n.amd&&n.amd?(et._=tt,n("lodash",[],function(){return tt})):Ve&&Ye?Xe?(Ye.exports=tt)._=tt:Ve._=tt:et._=tt}.call(this),function(e,r){"use strict";"function"==typeof n&&n.amd?n("ngStorage",["angular"],r):e.hasOwnProperty("angular")?r(e.angular):"object"==typeof exports&&(module.exports=r(t("angular")))}(this,function(e){"use strict";function t(e,t){var n;try{n=e[t]}catch(r){n=!1}if(n){var i="__"+Math.round(1e7*Math.random());try{e[t].setItem(i,i),e[t].removeItem(i,i)}catch(r){n=!1}}return n}function n(n){var r=t(window,n);return function(){var i="ngStorage-";this.setKeyPrefix=function(e){if("string"!=typeof e)throw new TypeError("[ngStorage] - "+n+"Provider.setKeyPrefix() expects a String.");i=e};var a=e.toJson,o=e.fromJson;this.setSerializer=function(e){if("function"!=typeof e)throw new TypeError("[ngStorage] - "+n+"Provider.setSerializer expects a function.");a=e},this.setDeserializer=function(e){if("function"!=typeof e)throw new TypeError("[ngStorage] - "+n+"Provider.setDeserializer expects a function.");o=e},this.supported=function(){return!!r},this.get=function(e){return r&&o(r.getItem(i+e))},this.set=function(e,t){return r&&r.setItem(i+e,a(t))},this.remove=function(e){r&&r.removeItem(i+e)},this.$get=["$rootScope","$window","$log","$timeout","$document",function(r,s,l,u,c){var d,p,h=i.length,f=t(s,n),g=f||(l.warn("This browser does not support Web Storage!"),{setItem:e.noop,getItem:e.noop,removeItem:e.noop}),m={$default:function(t){for(var n in t)e.isDefined(m[n])||(m[n]=e.copy(t[n]));return m.$sync(),m},$reset:function(e){for(var t in m)"$"===t[0]||delete m[t]&&g.removeItem(i+t);return m.$default(e)},$sync:function(){for(var e,t=0,n=g.length;n>t;t++)(e=g.key(t))&&i===e.slice(0,h)&&(m[e.slice(h)]=o(g.getItem(e)))},$apply:function(){var t;if(p=null,!e.equals(m,d)){t=e.copy(d),e.forEach(m,function(n,r){e.isDefined(n)&&"$"!==r[0]&&(g.setItem(i+r,a(n)),delete t[r])});for(var n in t)g.removeItem(i+n);d=e.copy(m)}},$supported:function(){return!!f}};return m.$sync(),d=e.copy(m),r.$watch(function(){p||(p=u(m.$apply,100,!1))}),s.addEventListener&&s.addEventListener("storage",function(t){if(t.key){var n=c[0];n.hasFocus&&n.hasFocus()||i!==t.key.slice(0,h)||(t.newValue?m[t.key.slice(h)]=o(t.newValue):delete m[t.key.slice(h)],d=e.copy(m),r.$apply())}}),s.addEventListener&&s.addEventListener("beforeunload",function(){m.$apply()}),m}]}}return e=e&&e.module?e:window.angular,e.module("ngStorage",[]).provider("$localStorage",n("localStorage")).provider("$sessionStorage",n("sessionStorage"))}),function(e,t,n){"use strict";function r(e){return null!=e&&""!==e&&"hasOwnProperty"!==e&&s.test("."+e)}function i(e,i){if(!r(i))throw o("badmember",'Dotted member path "@{0}" is invalid.',i);for(var a=i.split("."),s=0,l=a.length;l>s&&t.isDefined(e);s++){var u=a[s];e=null!==e?e[u]:n}return e}function a(e,n){n=n||{},t.forEach(n,function(e,t){delete n[t]});for(var r in e)!e.hasOwnProperty(r)||"$"===r.charAt(0)&&"$"===r.charAt(1)||(n[r]=e[r]);return n}var o=t.$$minErr("$resource"),s=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;t.module("ngResource",["ng"]).provider("$resource",function(){var e=/^https?:\/\/[^\/]*/,r=this;this.defaults={stripTrailingSlashes:!0,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$log","$q",function(s,l,u){function c(e){return d(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function d(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function p(e,t){this.template=e,this.defaults=m({},r.defaults,t),this.urlParams={}}function h(e,c,d,b){function S(e,t){var n={};return t=m({},c,t),g(t,function(t,r){y(t)&&(t=t()),n[r]=t&&t.charAt&&"@"==t.charAt(0)?i(e,t.substr(1)):t}),n}function D(e){return e.resource}function w(e){a(e||{},this)}var A=new p(e,b);return d=m({},r.defaults.actions,d),w.prototype.toJSON=function(){var e=m({},this);return delete e.$promise,delete e.$resolved,e},g(d,function(e,r){var i=/^(POST|PUT|PATCH)$/i.test(e.method);w[r]=function(c,d,p,h){var b,C,_,x={};switch(arguments.length){case 4:_=h,C=p;case 3:case 2:if(!y(d)){x=c,b=d,C=p;break}if(y(c)){C=c,_=d;break}C=d,_=p;case 1:y(c)?C=c:i?b=c:x=c;break;case 0:break;default:throw o("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var $=this instanceof w,k=$?b:e.isArray?[]:new w(b),M={},T=e.interceptor&&e.interceptor.response||D,F=e.interceptor&&e.interceptor.responseError||n;g(e,function(e,n){switch(n){default:M[n]=v(e);break;case"params":case"isArray":case"interceptor":break;case"timeout":e&&!t.isNumber(e)&&l.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests.\n  If you need support for cancellable $resource actions, you should upgrade to version 1.5 or higher.")}}),i&&(M.data=b),A.setUrlParams(M,m({},S(b,e.params||{}),x),e.url);var O=s(M).then(function(n){var i=n.data,s=k.$promise;if(i){if(t.isArray(i)!==!!e.isArray)throw o("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",r,e.isArray?"array":"object",t.isArray(i)?"array":"object",M.method,M.url);e.isArray?(k.length=0,g(i,function(e){"object"==typeof e?k.push(new w(e)):k.push(e)})):(a(i,k),k.$promise=s)}return k.$resolved=!0,n.resource=k,n},function(e){return k.$resolved=!0,(_||f)(e),u.reject(e)});return O=O.then(function(e){var t=T(e);return(C||f)(t,e.headers),t},F),$?O:(k.$promise=O,k.$resolved=!1,k)},w.prototype["$"+r]=function(e,t,n){y(e)&&(n=t,t=e,e={});var i=w[r].call(this,e,this,t,n);return i.$promise||i}}),w.bind=function(t){return h(e,m({},c,t),d)},w}var f=t.noop,g=t.forEach,m=t.extend,v=t.copy,y=t.isFunction;return p.prototype={setUrlParams:function(n,r,i){var a,s,l=this,u=i||l.template,d="",p=l.urlParams={};g(u.split(/\W/),function(e){if("hasOwnProperty"===e)throw o("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(e)&&e&&new RegExp("(^|[^\\\\]):"+e+"(\\W|$)").test(u)&&(p[e]=!0)}),u=u.replace(/\\:/g,":"),u=u.replace(e,function(e){return d=e,""}),r=r||{},g(l.urlParams,function(e,n){a=r.hasOwnProperty(n)?r[n]:l.defaults[n],t.isDefined(a)&&null!==a?(s=c(a),u=u.replace(new RegExp(":"+n+"(\\W|$)","g"),function(e,t){return s+t})):u=u.replace(new RegExp("(/?):"+n+"(\\W|$)","g"),function(e,t,n){return"/"==n.charAt(0)?n:t+n})}),l.defaults.stripTrailingSlashes&&(u=u.replace(/\/+$/,"")||"/"),u=u.replace(/\/\.(?=\w+($|\?))/,"."),n.url=d+u.replace(/\/\\\./,"/."),g(r,function(e,t){l.urlParams[t]||(n.params=n.params||{},n.params[t]=e)})}},h}]})}(window,window.angular),n("angular_resource",["angular"],function(e){return function(){var t;return t||e.ngResource}}(this)),function(e){"use strict";var t=function(t,n){if(e.isArray(t))return t.map(n);var r={};return Object.keys(t).forEach(function(e,i){r[e]=n(t[e],e)}),r};e.module("ngPromiseExtras",[]).config(["$provide",function(e){e.decorator("$q",["$delegate",function(e){var n=e;return n.allSettled=function(e){return n.all(t(e,function(e){return e.then?e.then(function(e){return{state:"fulfilled",value:e}},function(e){return{state:"rejected",reason:e}}):{state:"fulfilled",value:e}}))},n.map=function(e,r){return n.all(t(e,r))},n.mapSettled=function(e,r){return n.allSettled(t(e,r))},n.resolve||(n.resolve=function(e){return e&&e.then?e:n(function(t){t(e)})}),n}])}])}(window.angular),n("ngPromiseExtras",["angular"],function(){}),n("Configuration",["require","exports","lodash","angular"],function(e,t,n,r){"use strict";var i={US:{apiURL:"http://airports.ds36.net/api/sabre",apiSpecificHeaders:{"application-key":"YWQ3NmM5ZWYtZGNmYi00ODA0LTg0YzgtNjYwNGYzOGJkMzhhNGE4YzY5NWQtMjZjMy00NmZmLTg5ZDEtYzVhODU0MzYwN2Uz"},pointOfSaleCountry:"US",bfmRequestPcc:"E8KE"},DE:{apiURL:"http://10.14.54.160:8088/sabreapibridge/api",apiSpecificHeaders:{},pointOfSaleCountry:"DE",bfmRequestPcc:"F8SE"}},a=n.cloneDeep(i.DE),o=r.module("configuration",[]).value("selectedCountryConfigs",a).constant("countryConfigs",i).value("fareNabberApiURL","http://farenabber.prod.ha.sabre.com/v1/AirShopping/FNB_Subscriptions").value("fareNabberRegistrationPCC","E8KE");t.Configuration=o}),n("webservices/WebService",["require","exports"],function(e,t){"use strict";var n=function(){function e(e,t,n,r,i){this.url=e,this.$resource=t,this.selectedCountryConfigs=n,this.requestHeadersFactory=r,this.cachingDecorator=i}return e.prototype.createPostResource=function(e){void 0===e&&(e=3e4);var t=this.selectedCountryConfigs.apiURL+this.url,n=this.$resource(t,null,{sendRequest:{method:"POST",headers:this.requestHeadersFactory.getHeaders(),timeout:e}});return this.cachingDecorator.addCaching(n.sendRequest,[404])},e.prototype.createGetResource=function(e,t){void 0===e&&(e={}),void 0===t&&(t=2e4);var n=this.selectedCountryConfigs.apiURL+this.url;return this.$resource(n,e,{get:{method:"GET",cache:!0,headers:this.requestHeadersFactory.getHeaders(),timeout:t}})},e}();return n});var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};n("webservices/advancedCalendar/AdvancedCalendarSearchService",["require","exports","../WebService"],function(e,t,n){"use strict";var i=function(e){function t(t,n,r,i){var a=e.call(this,"/v1.9.4/shop/calendar/flights",t,n,r,i)||this;return a.$resource=t,a.selectedCountryConfigs=n,a.requestHeadersFactory=r,a.cachingDecorator=i,a}return r(t,e),t.prototype.sendRequest=function(e){return this.createPostResource()(e)},t}(n);return i}),n("util/LodashExtensions",["lodash"],function(e){"use strict";var t=e.runInContext();return t.mixin({isDefined:e.negate(e.isUndefined),cancellable:function(e){var t=function(){return t.cancelled?void 0:e.apply(this,arguments)};return t.cancel=function(){t.cancelled=!0},t},minOfValues:function(t){var n=e.values(t);return Math.min.apply(void 0,n)},groupByAndGetCountAndMin:function(t,n,r,i){function a(t,n,a){e.isUndefined(t.keysAcc[n])&&(t.keysAcc[n]=n,t.valuesAcc[n]={min:1/0,count:0}),t.valuesAcc[n].count++;var o=e.result(a,r),s=e.result(a,i);if(i&&t.valuesAcc[n].mustBeEqualPropertyValue&&t.valuesAcc[n].mustBeEqualPropertyValue!==s)throw new Error('Error while calculating min value. The property to be equal "'+i+"' while calculating minimum was different across values");return o<t.valuesAcc[n].min&&(t.valuesAcc[n].min=o,t.valuesAcc[n].mustBeEqualPropertyValue=s),t}var o=t.reduce(function(t,r){var i=e.result(r,n);return e.isArray(i)?i.reduce(function(e,t){return a(e,t,r)},t):a(t,i,r)},{keysAcc:{},valuesAcc:{}}),s=e.map(o.keysAcc,function(e){return{value:o.keysAcc[e],count:o.valuesAcc[e].count,min:o.valuesAcc[e].min,mustBeEqualPropertyValue:o.valuesAcc[e].mustBeEqualPropertyValue}});return s},median:function(e){e.sort(function(e,t){return e-t});var t=Math.floor(e.length/2);return e.length%2?e[t]:(e[t-1]+e[t])/2},pushAll:function(e,t){return e.push.apply(e,t),e},pushIfNotContains:function(t,n){return e.contains(t,n)||t.push(n),t},leafValues:function n(t,r){var i=e.values(t);return e.isUndefined(r)||r--,e.isObject(i[0])&&0!==r?e.flatten(i.map(function(e){return n(e,r)})):i},dateDiffDays:function(e,t){var n=Math.abs(t.getTime()-e.getTime());return Math.ceil(n/864e5)}}),t}),n("util/validator",["moment"],function(e){"use strict";var t=new RegExp("^[A-Z]{3}$"),n=new RegExp("^[A-Z]{3}$"),r=new RegExp("^[1-9]\\d*$"),i=new RegExp("^[1-9][0-9]?$|^100$"),a=function(e,t){if("undefined"==typeof e)throw new Error(t);return!0},o=function(e,t,n){if(a(e,n),!t.test(e))throw new Error(n);return!0},s=function(e,t){if(a(e,t),0===Object.keys(e).length)throw new Error(t);return!0};return{NON_ZERO_POSITIVE_INTEGER_REGEX:r,PERCENTAGE_VALUE_REGEX:i,notEmpty:s,defined:a,definedAndMatches:o,onlyOneDefined:function(e,t,n){if("undefined"==typeof e&&"undefined"==typeof t)throw new Error(n);if(e&&t)throw new Error(n);return!0},currencySymbol:function(e,n){return o(e,t,n)},airportCode:function(e,t){return o(e,n,t)},arrayHasLength:function(e,t,n){if(a(e,n),e.length!==t)throw new Error(n);return!0},year:function(t,n){if(a(t),!e([t,0,1]).isValid())throw new Error(n);return!0},month:function(t,n){if(a(t),!e([2e3,t,1]).isValid())throw new Error(n);return!0},validDate:function(t,n){if(!e(t,n).isValid())throw new Error("invalid date for date format '"+n+"'")},notAfter:function(t,n,r,i,a){var o=e(t,r),s=e(n,r);if(o.isAfter(s))throw new Error(i+"='"+o.format(r)+"' cannot be after "+a+"='"+s.format(r)+"'")},notGreaterThan:function(e,t,n,r){if(e>t)throw new Error(n+": "+e+" cannot be greater than "+r+": "+t)},atLeast:function(e,t){if(t>e)throw new Error(e+": "+e+" is less than required: "+t)},notLowerThan:function(e,t){if(t>e)throw new Error(e+" cannot be lower than "+t)}}}),n("webservices/common/validators/BasicSearchCriteriaValidator",["lodash","util/LodashExtensions","util/validator"],function(e,t,n){"use strict";function r(){}return r.prototype.validateRoundTripTravelSpecification=function(e){var n=[];return this.validateAirportCodes(e),t.pushAll(n,this.validateTravelDatesRelations(e)),n},r.prototype.validateAirportCodes=function(e){n.airportCode(e.getFirstLeg().origin,"You have to specify origin location, and it must be valid 3 letter airport or city code, for example LAX"),n.airportCode(e.getFirstLeg().destination,"You have to specify destination location, and it must be valid 3 letter airport or city code, for example LAX"),n.airportCode(e.getSecondLeg().origin,"You have to specify origin location, and it must be valid 3 letter airport or city code, for example LAX"),n.airportCode(e.getSecondLeg().destination,"You have to specify destination location, and it must be valid 3 letter airport or city code, for example LAX")},r.prototype.validateTravelDatesRelations=function(t){var n=[],r=t.getFirstLeg().departureDateTime,i=t.getSecondLeg().departureDateTime,a=t.getEarliestDepartureDateTime(),o=t.getLatestReturnDateTime();return e.isUndefined(r)&&e.isUndefined(a)&&n.push("departureDateTime or earliestDepartureDateTime must be defined for round trip travel"),e.isUndefined(i)&&e.isUndefined(o)&&n.push("return date or latest return date must be defined for round trip travel"),e.isDate(r),e.isDate(i),e.isUndefined(i)&&e.isUndefined(o)&&e.isUndefined(t.lengthOfStay)&&n.push("returnDate or latestReturnDateTime or lengthOfStay is not defined for round trip travel. You must define one of them."),e.isUndefined(i)||e.isDate(r),i&&r&&(i.isBefore(r)||i.isSame(r))&&n.push("return date must be after departureDate"),o&&a&&(o.isBefore(a)||o.isSame(a))&&n.push("latest return date must be after earliest departureDate"),n},r}),n("webservices/common/validators/TravelInsightEngineSearchCriteriaValidator",["util/LodashExtensions","webservices/common/validators/BasicSearchCriteriaValidator"],function(e,t){"use strict";function n(){this.basicValidator=new t}return n.prototype.validateLengthOfStay=function(e){var t=[];return 0>e&&t.push("Length of stay must be non-negative"),e>this.MAX_LENGTH_OF_STAY_DAYS&&t.push("Length of stay over "+this.MAX_LENGTH_OF_STAY_DAYS+" not supported. Please select other travel dates"),t},n.prototype.validate=function(t){var n=[];if(!t.isRoundTripTravel())return n.push("Travel Insight Engine services support only round trip travel"),n;var r=this.basicValidator.validateRoundTripTravelSpecification(t);e.pushAll(n,r),e.pushAll(n,this.validateLengthOfStay(t.getLengthOfStay())),e.pushAll(n,this.validateLengthOfStay(t.getMinLengthOfStay())),e.pushAll(n,this.validateLengthOfStay(t.getMaxLengthOfStay())),t.isEconomyCabinRequested()||n.push("Travel Insight Engine services support only Economy cabin requests, or requests without cabin preference - then economy fares will be returned)");var i=this.validatePaxCountAndType(t);return e.pushAll(n,i),n},n.prototype.validatePaxCountAndType=function(e){var t=[];return e.passengerSpecifications.length>1&&t.push("Travel Insight Engine services do not support multiple passenger type definitions. Use only 1 passenger type definition (for example 1 ADT)."),(e.passengerSpecifications[0].count>1||"ADT"!==e.passengerSpecifications[0].passengerTypeCode)&&t.push("Travel Insight Engine services support only 1 passenger number and only of type ADT. The only supported passenger type is 1 ADT."),t},n.prototype.MAX_LENGTH_OF_STAY_DAYS=16,n}),n("webservices/advancedCalendar/AdvancedCalendarSearchCriteriaValidator",["util/LodashExtensions","moment","webservices/common/validators/TravelInsightEngineSearchCriteriaValidator"],function(e,t,n){
"use strict";function r(){this.travelInsightEngineSearchCriteriaValidator=new n}return r.prototype.validate=function(t){var n=[],r=this.travelInsightEngineSearchCriteriaValidator.validate(t);return e.pushAll(n,r),n},r}),n("webservices/common/OTARequestFactory",[],function(){"use strict";function e(){}return e.prototype.createRequest=function(e,t){var n=e.optionsPerDay||100;return{OTA_AirLowFareSearchRQ:{OriginDestinationInformation:this.createOriginDestinationInfos(e),POS:this.createPOS(t),TPA_Extensions:this.createRequestTPAExtensions(n,e),TravelPreferences:this.createTravelPreferences(n,e.preferredCabin,e.maxStops),TravelerInfoSummary:this.createTravelerInfoSummary(e.passengerSpecifications)}}},e.prototype.createLegTPAExtensions=function(e){return{IncludeVendorPref:e.map(function(e){return{Code:e}})}},e.prototype.createPOS=function(e){return{Source:[{RequestorID:{CompanyName:{Code:"TN"},ID:"REQ.ID",Type:"0.AAA.X"},PseudoCityCode:e.bfmRequestPcc}]}},e.prototype.createTravelPreferences=function(e,t,n){return{CabinPref:[{Cabin:t.code}],MaxStopsQuantity:n,TPA_Extensions:{NumTrips:this.createNumTrips(e)}}},e.prototype.createTravelerInfoSummary=function(e){return{AirTravelerAvail:[{PassengerTypeQuantity:e.map(function(e){return{Code:e.passengerTypeCode,Quantity:e.count}})}],PriceRequestInformation:this.createPriceRequestInformation()}},e.prototype.createRequestTPAExtensions=function(e,t){return{IntelliSellTransaction:{RequestType:{Name:this.getRequestType(e,t.dateFlexibilityDays)}}}},e.prototype.createPriceRequestInformation=function(){return{}},e.prototype.dateTimeFormat="YYYY-MM-DDTHH:mm:ss",e}),n("webservices/common/WebServiceSerializationUtils",[],function(){"use strict";return{createWeekDaysString:function(e){var t=["S","M","T","W","T","F","S"],n="_";return e.map(function(e,r){return e?t[r]:n}).join("")}}}),n("webservices/advancedCalendar/AdvancedCalendarRequestFactory",["moment","webservices/common/OTARequestFactory","webservices/common/WebServiceSerializationUtils"],function(e,t,n){"use strict";function r(e){this.requestDatesExpander=e,t.apply(this)}return r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.prototype.dateFormat="YYYY-MM-DD",r.prototype.createOriginDestinationInfos=function(e){var t=this,n=this.createDaysRangeFormatted(e.getDepartureDateFrom(),e.getDepartureDateTo(),e.getDepartureDaysOfWeek()),r={DepartureDates:{DaysRange:[n]},DestinationLocation:{LocationCode:e.legs[0].destination},OriginLocation:{LocationCode:e.legs[0].origin},RPH:"1",TPA_Extensions:t.createLegTPAExtensions(e.preferredAirlines)},i=this.createDaysRangeFormatted(e.getReturnDateFrom(),e.getReturnDateTo(),e.getReturnDaysOfWeek()),a={DepartureDates:{DaysRange:[i]},DestinationLocation:{LocationCode:e.legs[1].destination},OriginLocation:{LocationCode:e.legs[1].origin},RPH:"2",TPA_Extensions:t.createLegTPAExtensions(e.preferredAirlines)};return e.isPlusMinusDaysDateFlexibilityRequest()||(a.DepartureDates.LengthOfStayRange=[{MinDays:e.getMinLengthOfStay()||e.getLengthOfStay(),MaxDays:e.getMaxLengthOfStay()||e.getLengthOfStay()}]),[r,a]},r.prototype.createDaysRangeFormatted=function(e,t,r){var i={FromDate:e,ToDate:t};this.requestDatesExpander&&(i=this.requestDatesExpander.expandReturnDaysRange(i));var a={FromDate:i.FromDate.format(this.dateFormat),ToDate:i.ToDate.format(this.dateFormat)};return r&&(a.WeekDays=n.createWeekDaysString(r)),a},r.prototype.getRequestType=function(e){return"ADC1000"},r.prototype.createNumTrips=function(e){return{PerDateMin:1,PerDateMax:e}},r}),n("webservices/advancedCalendar/AdvancedCalendarRequestDatesExpander",["moment"],function(e){"use strict";function t(){this.today=e().startOf("day"),this.lastTravelDateAvailableInWebService=this.today.clone().add(this.MAX_ADVANCE_PURCHASE_DAYS_FROM_NOW,"days")}return t.prototype.MAX_ADVANCE_PURCHASE_DAYS_FROM_NOW=192,t.prototype.expandDepartureDaysRange=function(e){return{FromDate:this.today,ToDate:this.lastTravelDateAvailableInWebService}},t.prototype.expandReturnDaysRange=function(e){return{FromDate:this.today,ToDate:this.lastTravelDateAvailableInWebService}},t}),n("util/ItinerariesDedupper",["lodash"],function(e){"use strict";function t(){}return t.prototype.dedupMerge=function(t,n){var r=this.createFlightStructureToItinerariesMap(t),i=e.keys(r),a=this;n.forEach(function(t){var n=t.getFlightStructure();if(e.contains(i,n)){var o=r[n].getPricingSource(),s=t.getPricingSource(),l=a.comparePricingSources(o,s);-1===l&&(r[n]=t)}else r[n]=t});var o=e.values(r);return o},t.prototype.comparePricingSources=function(e,t){return e.indexOf("MIP")>-1?1:t.indexOf("MIP")>-1?-1:0},t.prototype.createFlightStructureToItinerariesMap=function(t){return e.indexBy(t,function(e){return e.getFlightStructure()})},t}),n("datamodel/ItinerariesList",["lodash","util/ItinerariesDedupper"],function(e,t){"use strict";function n(){this.itineraries=[]}function r(e){return e.map(function(e,t){return e.id=t,e})}return n.prototype.getPermittedItineraries=function(){return e.reject(this.itineraries,"filteredOut")},n.prototype.getItineraries=function(){return this.itineraries},n.prototype.add=function(e){this.itineraries.push(e)},n.prototype.addAll=function(e){var t=this;e.forEach(function(e){return t.itineraries.push(e)})},n.prototype.addItinerariesList=function(e){var t=this;return e.getItineraries().forEach(function(e){t.add(e)}),this},n.prototype.addItinerariesListWithDedup=function(e){var n=new t,i=n.dedupMerge(this.itineraries,e.itineraries);return this.itineraries=r(i),this},n.prototype.size=function(){return this.getPermittedItineraries().length},n.prototype.getLeadPrice=function(){var t=e.min(this.getPermittedItineraries(),"totalFareAmount");return{price:t.totalFareAmountWithCurrency.amount,currency:t.totalFareAmountWithCurrency.currency}},n.prototype.getCheapestItinerary=function(t){return e.first(e.sortByAll(this.getPermittedItineraries(),e.union(["totalFareAmount"],t)))},n.prototype.getShortestItinerary=function(t){return e.first(e.sortByAll(this.getPermittedItineraries(),e.union(["duration"],t)))},n.prototype.applyFilters=function(e){this.getItineraries().forEach(function(t){t.filteredOut=!e(t)})},n}),n("datamodel/ShoppingData",["moment","datamodel/ItinerariesList","util/LodashExtensions"],function(e,t,n){"use strict";function r(){this.data={},this.maxAvailableDates={},this.minDateAndPricePairs={}}return r.prototype.DATE_FORMAT_FOR_KEYS="YYYY-MM-DD",r.prototype.updateMaxAvailableDate=function(e,t){var r=this.maxAvailableDates[e];(n.isUndefined(r)||t.isAfter(r))&&(this.maxAvailableDates[e]=t)},r.prototype.updateMinDateAndPricePair=function(e,t,r){var i=this.minDateAndPricePairs[e];if(i&&i.totalFareAmountWithCurrency.currency&&r.currency!==i.totalFareAmountWithCurrency.currency)throw new Error("Unable to update minimum price as currencies different");(n.isUndefined(i)||r.amount<=i.totalFareAmountWithCurrency.amount&&t.isBefore(i.date))&&(this.minDateAndPricePairs[e]={date:t,totalFareAmountWithCurrency:r})},r.prototype.markRequestedData=function(t,n,r){var i=this;e().range(n.clone().startOf("month"),r).by("months",function(e){var n=e.format(this.DATE_FORMAT_FOR_KEYS);i.initKeyEntries(i.data,t,n)})},r.prototype.contains=function(e,t){var r=t.format(this.DATE_FORMAT_FOR_KEYS);return n.has(this.data,e)&&n.has(this.data[e],[r])},r.prototype.addUpdate=function(e){var t=this;n.each(e.data,function(e,r){n.isUndefined(e)||(n.each(e,function(e,n){t.initKeyEntries(t.data,r,n),t.addUpdateForMonth(r,e)}),t.updateLeadPrices(r))})},r.prototype.addUpdateForMonth=function(t,r){var i=this;n.isUndefined(r)||n.each(r,function(r,a){n.isUndefined(r)||n.each(r.itinerariesList.getItineraries(),function(n){i.addItinerary(t,n,e(a,i.DATE_FORMAT_FOR_KEYS))})})},r.prototype.addItinerary=function(e,t,n){var r=n.clone().startOf("month").format(this.DATE_FORMAT_FOR_KEYS),i=n.clone().startOf("day").format(this.DATE_FORMAT_FOR_KEYS);this.initKeyEntries(this.data,e,r,i),this.data[e][r][i].itinerariesList.add(t),this.updateMaxAvailableDate(e,n),this.updateMinDateAndPricePair(e,n,t.totalFareAmountWithCurrency)},r.prototype.getItinerariesList=function(e,t){var r=t.clone().startOf("month").format(this.DATE_FORMAT_FOR_KEYS),i=t.format(this.DATE_FORMAT_FOR_KEYS);return n.has(this.data,e)&&n.has(this.data[e],[r])&&n.has(this.data[e][r],[i])?this.data[e][r][i].itinerariesList:void 0},r.prototype.getLeadPricesForMonth=function(e,t){var r={},i=this,a=t.format(this.DATE_FORMAT_FOR_KEYS);return n.has(this.data,e)&&n.has(this.data[e],[a])&&Object.keys(this.data[e][a]).forEach(function(t){r[t]=i.data[e][a][t].leadPrice}),r},r.prototype.getLeadPricesForRange=function(t,r,i){var a={},o=this;return e.range(r,i).by("days",function(e){var r=o.getLeadPriceForDay(t,e);n.extend(a,r)}),a},r.prototype.getLeadPriceForDay=function(e,t){var r={},i=t.clone().startOf("month").format(this.DATE_FORMAT_FOR_KEYS),a=t.format(this.DATE_FORMAT_FOR_KEYS);return n.isUndefined(this.data[e])||n.isUndefined(this.data[e][i])||n.isUndefined(this.data[e][i][a])?{}:(r[t.format(this.DATE_FORMAT_FOR_KEYS)]=this.data[e][i][a].leadPrice,r)},r.prototype.getMonthLeadPrice=function(e,t){return n.min(n.values(this.getLeadPricesForMonth(e,t)))},r.prototype.getMinDateAndPricePair=function(e){return this.minDateAndPricePairs[e]},r.prototype.getMaxAvailableDate=function(e){return this.maxAvailableDates[e]},r.prototype.updateLeadPrices=function(e){n.has(this.data,e)&&n.each(this.data[e],function(e){n.isUndefined(e)||n.each(e,function(t,n){var r=t.itinerariesList.getLeadPrice();e[n].leadPrice=r})})},r.prototype.initKeyEntries=function(e,r,i,a){n.isUndefined(e)&&(this.data={}),this.data[r]||(this.data[r]={}),this.data[r][i]||(this.data[r][i]={}),a&&!this.data[r][i][a]&&(this.data[r][i][a]={itinerariesList:new t})},r}),n("datamodel/Itinerary",["lodash","util/LodashExtensions"],function(e,t){"use strict";function n(){this.legs=[],this.itineraryPricingInfo=void 0,this.weightedPriceAmount=void 0,Object.defineProperty(this,"duration",{get:function(){var e=this.legs.reduce(function(e,t){return e+t.getDuration()},0);return e}}),Object.defineProperty(this,"outboundLegDuration",{get:function(){return t.first(this.legs).getDuration()}}),Object.defineProperty(this,"outboundDepartureDateTime",{get:function(){return this.getOutboundDepartureDateTime()}}),Object.defineProperty(this,"outboundArrivalDateTime",{get:function(){return this.getOutboundArrivalDateTime()}}),Object.defineProperty(this,"numberOfStops",{get:function(){return this.getNumberOfStops()}}),Object.defineProperty(this,"sumNumberOfStopsForAllLegs",{get:function(){return this.getSumNumberOfStopsForAllLegs()}}),Object.defineProperty(this,"totalFareAmountWithCurrency",{get:function(){return this.itineraryPricingInfo.fareAmounts.totalFare},configurable:!0}),Object.defineProperty(this,"totalFareAmount",{get:function(){return this.itineraryPricingInfo.fareAmounts.totalFare.amount},configurable:!0}),Object.defineProperty(this,"totalFareCurrency",{get:function(){return this.itineraryPricingInfo.fareAmounts.totalFare.currency}}),Object.defineProperty(this,"baseFareAmount",{get:function(){return this.itineraryPricingInfo.fareAmounts.baseFare.amount}}),Object.defineProperty(this,"baseFareCurrency",{get:function(){return this.itineraryPricingInfo.fareAmounts.baseFare.currency}}),Object.defineProperty(this,"totalTaxAmount",{get:function(){return this.itineraryPricingInfo.fareAmounts.totalTax.amount}}),Object.defineProperty(this,"totalTaxCurrency",{get:function(){return this.itineraryPricingInfo.fareAmounts.totalTax.currency}})}function r(e){var n=[];e.legs.forEach(function(e){t.pushAll(n,e.getAllMarketingAirlines())}),e.allMarketingAirlines=t.uniq(n)}function i(e){e.hasRedEyeFlight=e.legs.some(function(e){return e.hasRedEyeFlight()})}function a(e){e.hasShortConnection=e.legs.some(function(e){return e.hasShortConnection()})}function o(e){e.hasLongConnection=e.legs.some(function(e){return e.hasLongConnection()})}function s(e){e.hasLowSeatsRemaining=e.itineraryPricingInfo.hasLowSeatsRemaining()}return n.prototype.addLeg=function(e){this.legs.push(e)},n.prototype.build=function(){this.updateLegsChangeOfAirportAtDeparture(),this.updateLegsChangeOfAirportAtArrival(),i(this),a(this),o(this),s(this),r(this)},n.prototype.getLegsSegmentCounts=function(){return this.legs.map(function(e){return e.segments.length})},n.prototype.updateLegsChangeOfAirportAtDeparture=function(){if(!this.isOneWayTravel()){var e=this;this.legs.forEach(function(t,n,r){0===n?t.hasAirportChangeAtDeparture=!e.isTripDepartureAndReturnSameAirport():t.hasAirportChangeAtDeparture=t.departureAirport!==r[n-1].arrivalAirport})}},n.prototype.updateLegsChangeOfAirportAtArrival=function(){if(!this.isOneWayTravel()){var e=this;this.legs.forEach(function(t,n,r){e.isLastLeg(n)?t.hasAirportChangeAtArrival=!e.isTripDepartureAndReturnSameAirport():t.hasAirportChangeAtArrival=t.arrivalAirport!==r[n+1].departureAirport})}},n.prototype.isLastLeg=function(e){return e===this.legs.length-1},n.prototype.getOutboundDepartureDateTime=function(){var e=t.first(this.legs);return t.first(e.segments).departureDateTime},n.prototype.getOutboundArrivalDateTime=function(){var e=t.first(this.legs);return t.last(e.segments).arrivalDateTime},n.prototype.getInboundDepartureDateTime=function(){var e=t.last(this.legs);return t.first(e.segments).arrivalDateTime},n.prototype.getInboundArrivalDateTime=function(){var e=t.last(this.legs);return t.last(e.segments).arrivalDateTime},n.prototype.getNumberOfStops=function(){return t.max(this.legs.map(function(e){return e.getNumberOfStops()}))},n.prototype.getSumNumberOfStopsForAllLegs=function(){return this.legs.reduce(function(e,t){return e+t.getNumberOfStops()},0)},n.prototype.getFirstLeg=function(){return t.first(this.legs)},n.prototype.getFirstMarketingAirline=function(){return this.legs[0].segments[0].marketingAirline},n.prototype.getConnectionAirports=function(){var e=this.legs.map(function(e){return e.getConnectionAirports()});return t.union(t.flatten(e))},n.prototype.getTripDepartureAirport=function(){return t.first(this.legs).departureAirport},n.prototype.getTripArrivalAirport=function(){return t.last(this.legs).arrivalAirport},n.prototype.getFirstLegArrivalAirport=function(){return t.first(this.legs).arrivalAirport},n.prototype.isTripDepartureAndReturnSameAirport=function(){return this.getTripDepartureAirport()===this.getTripArrivalAirport()},n.prototype.departureAndArrivalDifferentForComplexTravel=function(){return this.isOneWayTravel()?void 0:!this.isTripDepartureAndReturnSameAirport()},n.prototype.isOneWayTravel=function(){return 1===this.legs.length},n.prototype.isNonRefundableIndicatorDefined=function(){return t.isDefined(this.itineraryPricingInfo.nonRefundableIndicator)},n.prototype.hasChangeOfAirportsAtAnyStopover=function(){return this.isOneWayTravel()?void 0:(e.isUndefined(this.hasChangeOfAirportsAtAnyStopoverIndicator)&&(this.hasChangeOfAirportsAtAnyStopoverIndicator=this.legs.some(function(e,t,n){return 0===t&&e.hasAirportChangeAtArrival||t>0&&t<n.length-1&&(e.hasAirportChangeAtDeparture||e.hasAirportChangeAtArrival)||t>0&&e.hasAirportChangeAtDeparture})),this.hasChangeOfAirportsAtAnyStopoverIndicator)},n.prototype.getPricingSource=function(){return this.pricingSource},n.prototype.getFlightStructure=function(){return this.legs.map(function(e){return e.getFlightStructure()}).join(" ||| ")},n.prototype.getSeatsRemaining=function(e,t){return this.itineraryPricingInfo.getSeatsRemaining(e,t)},n.prototype.getCabin=function(e,t){return this.itineraryPricingInfo.getCabin(e,t)},n.prototype.getMeals=function(e,t){return this.itineraryPricingInfo.getMeals(e,t)},n.prototype.getBaggageAllowance=function(e,t){return this.itineraryPricingInfo.getBaggageAllowance(e,t)},n.prototype.getMinBaggageAllowance=function(){return this.itineraryPricingInfo.getMinBaggageAllowance()},n.prototype.equals=function(e){if(this.legs.length!==e.legs.length)return!1;for(var t=0;t<this.legs.length;t++)if(!this.legs[t].equals(e.legs[t]))return!1;return this.itineraryPricingInfo.equals(e.itineraryPricingInfo)?!0:!1},n}),n("datamodel/Leg",["lodash","moment"],function(e,t){"use strict";function n(){this.segments=[]}function r(t){t.departureAirport=e.first(t.segments).departureAirport}function i(t){t.arrivalAirport=e.last(t.segments).arrivalAirport}function a(t){t.departureDateTime=e.first(t.segments).departureDateTime}function o(t){t.arrivalDateTime=e.last(t.segments).arrivalDateTime}return n.prototype.addSegment=function(e){this.segments.push(e)},n.prototype.build=function(){r(this),i(this),a(this),o(this)},n.prototype.getNumberOfStops=function(){return this.segments.length-1},n.prototype.getDuration=function(){return this.duration},n.prototype.getFirstFlightMarketingAirline=function(){return e.first(this.segments).marketingAirline},n.prototype.getAllMarketingAirlines=function(){var t=[];return this.segments.forEach(function(e){t.push(e.marketingAirline)}),e.uniq(t)},n.prototype.hasConnection=function(){return this.segments.length>1},n.prototype.getConnectionAirports=function(){if(!this.hasConnection())return[];var t=e.initial(this.segments);return t.map(function(e){return e.arrivalAirport})},n.prototype.getConnectionTimeMillis=function(e){if(this.hasConnection()&&e<this.segments.length-1){var t=this.segments[e].arrivalDateTime,n=this.segments[e+1].departureDateTime,r=n.diff(t);return r}},n.prototype.getConnectionTime=function(e){return t.duration(this.getConnectionTimeMillis(e))},n.prototype.getConnectionTimeMinutes=function(e){return this.getConnectionTimeMillis(e)/1e3/60},n.prototype.getFlightStructure=function(){return this.segments.map(function(e){return e.getFlightStructure()}).join("||")},n.prototype.hasRedEyeFlight=function(){return this.segments.some(function(e){return e.isRedEyeFlight()})},n.prototype.hasLongConnection=function(){var e=300,t=this;return this.segments.some(function(n,r){return t.getConnectionTimeMinutes(r)>=e})},n.prototype.hasShortConnection=function(){var e=60,t=this;return this.segments.some(function(n,r){return t.getConnectionTimeMinutes(r)<=e})},n.prototype.equals=function(e){if(this.segments.length!==e.segments.length)return!1;for(var t=0;t<this.segments.length;t++)if(!this.segments[t].equals(e.segments[t]))return!1;return this.duration!==e.duration?!1:this.hasAirportChangeAtDeparture!==e.hasAirportChangeAtDeparture?!1:this.hasAirportChangeAtArrival!==e.hasAirportChangeAtArrival?!1:!0},n}),n("datamodel/Segment",[],function(){"use strict";function e(e){this.departureAirport=e.departureAirport,this.departureDateTime=e.departureDateTime,this.arrivalAirport=e.arrivalAirport,this.arrivalDateTime=e.arrivalDateTime,this.elapsedTime=e.elapsedTime,this.equipment=e.equipment,this.marketingFlightNumber=e.marketingFlightNumber,this.marketingAirline=e.marketingAirline,this.operatingFlightNumber=e.operatingFlightNumber,this.operatingAirline=e.operatingAirline}return e.prototype.getFlightStructure=function(){return[this.departureDateTime.format(),this.departureAirport,this.arrivalDateTime,this.arrivalAirport,this.cabin,this.marketingAirline,this.marketingFlightNumber,this.operatingAirline,this.operatingFlightNumber].join("|")},e.prototype.isRedEyeFlight=function(){return this.flightTimeCrossesMidnight()},e.prototype.flightTimeCrossesMidnight=function(){var e=this.departureDateTime.clone().endOf("day");return this.arrivalDateTime.isAfter(e)},e.prototype.equals=function(e){return this.departureAirport===e.departureAirport&&this.departureDateTime.isSame(e.departureDateTime)&&this.arrivalAirport===e.arrivalAirport&&this.arrivalDateTime.isSame(e.arrivalDateTime)&&this.elapsedTime===e.elapsedTime&&this.equipment===e.equipment&&this.marketingFlightNumber===e.marketingFlightNumber&&this.marketingAirline===e.marketingAirline&&this.operatingFlightNumber===e.operatingFlightNumber&&this.operatingAirline===e.operatingAirline},e}),n("datamodel/SegmentBaggageAllowance",["lodash","util/LodashExtensions"],function(e,t){"use strict";function n(e){this.legSegmentBaggageAllowance=e||{}}var r=2;return n.prototype.addLegSegmentsAllowance=function(t,n,r){e.isUndefined(this.legSegmentBaggageAllowance[t])&&(this.legSegmentBaggageAllowance[t]={}),this.legSegmentBaggageAllowance[t][n]=r},n.prototype.getSegmentAllowance=function(e,t){return this.legSegmentBaggageAllowance[e]&&this.legSegmentBaggageAllowance[e][t]},n.prototype.uniqueBaggageAllowance=function(){var n=function(e){return JSON.stringify(e)};return e.uniq(t.leafValues(this.legSegmentBaggageAllowance,r),n)},n.prototype.getMinBaggageAllowance=function(){var n=t.leafValues(this.legSegmentBaggageAllowance,r);return e.min(n,"Pieces").Pieces},n.prototype.equals=function(t){return e.isEqual(this.legSegmentBaggageAllowance,t.legSegmentBaggageAllowance)},n}),n("datamodel/ItineraryPricingInfo",["lodash","util/LodashExtensions","datamodel/SegmentBaggageAllowance"],function(e,t,n){"use strict";function r(e){this.legsSegmentCounts=e,this.nonRefundableIndicator=void 0,this.OBFees=[],this.baggageAllowance=new n,this.segmentCabins={},this.segmentSeatsRemaining={},this.segmentMeals={},this.fareAmounts={baseFare:void 0,totalFare:void 0,totalTax:void 0},this.summaries={}}return r.prototype.calculateLegAndSegmentRelativeIndices=function(e){for(var t=0,n=0,r=0;r<this.legsSegmentCounts.length;r++){if(t+=this.legsSegmentCounts[r],t>e){var i=e-n;return{legIdx:r,relativeSegmentIdx:i}}n=t}},r.prototype.setCabin=function(t,n){var r=this.calculateLegAndSegmentRelativeIndices(t);e.isUndefined(this.segmentCabins[r.legIdx])&&(this.segmentCabins[r.legIdx]={}),this.segmentCabins[r.legIdx][r.relativeSegmentIdx]=n},r.prototype.setMeal=function(t,n){var r=this.calculateLegAndSegmentRelativeIndices(t);e.isUndefined(this.segmentMeals[r.legIdx])&&(this.segmentMeals[r.legIdx]={}),this.segmentMeals[r.legIdx][r.relativeSegmentIdx]=n},r.prototype.setSeatsRemaining=function(t,n){var r=this.calculateLegAndSegmentRelativeIndices(t);e.isUndefined(this.segmentSeatsRemaining[r.legIdx])&&(this.segmentSeatsRemaining[r.legIdx]={}),this.segmentSeatsRemaining[r.legIdx][r.relativeSegmentIdx]=n},r.prototype.getSeatsRemaining=function(e,t){return this.segmentSeatsRemaining[e]&&this.segmentSeatsRemaining[e][t]},r.prototype.getCabin=function(e,t){return this.segmentCabins[e]&&this.segmentCabins[e][t]},r.prototype.getUniqueCabins=function(){return e.uniq(t.leafValues(this.segmentCabins))},r.prototype.getMeals=function(e,t){return this.segmentMeals[e]&&this.segmentMeals[e][t]},r.prototype.getUniqueMeals=function(){return e.uniq(t.leafValues(this.segmentMeals))},r.prototype.setBaggageAllowance=function(e){var t=this;e.forEach(function(e){e.segmentsAbsoluteIndexes.forEach(function(n){var r=t.calculateLegAndSegmentRelativeIndices(n);t.baggageAllowance.addLegSegmentsAllowance(r.legIdx,r.relativeSegmentIdx,e.allowance)})})},r.prototype.getBaggageAllowance=function(e,t){return this.baggageAllowance.getSegmentAllowance(e,t)},r.prototype.getMinBaggageAllowance=function(){return this.baggageAllowance.getMinBaggageAllowance()},r.prototype.getUniqueBaggageAllowance=function(){return this.baggageAllowance.uniqueBaggageAllowance()},r.prototype.hasLowSeatsRemaining=function(){var t=4;return e.values(this.segmentSeatsRemaining).some(function(n){return e.values(n).some(function(e){return t>=e})})},r.prototype.updateSummaries=function(){this.summaries={uniqueCabins:this.getUniqueCabins(),uniqueMeals:this.getUniqueMeals(),uniqueBaggageAllowance:this.getUniqueBaggageAllowance()}},r.prototype.equals=function(t){return e.isEqual(this.legsSegmentCounts,t.legsSegmentCounts)&&e.isEqual(this.nonRefundableIndicator,t.nonRefundableIndicator)&&e.isEqual(this.OBFees,t.OBFees)&&this.baggageAllowance.equals(t.baggageAllowance)&&e.isEqual(this.segmentCabins,t.segmentCabins)&&e.isEqual(this.segmentSeatsRemaining,t.segmentSeatsRemaining)&&e.isEqual(this.segmentMeals,t.segmentMeals)&&e.isEqual(this.fareAmounts,t.fareAmounts)&&e.isEqual(this.summaries,t.summaries)},r}),n("datamodel/MonetaryAmount",[],function(){"use strict";function e(e,t){this.amount=e,this.currency=t}return e}),n("datamodel/AlternateDatesAbstractPriceMatrix",["lodash"],function(e){"use strict";function t(){this.leadFaresForDates=[]}return t.prototype.getAllLeadFares=function(){return this.leadFaresForDates},t.prototype.findEntryForDepartureDate=function(t){var n=e.partial(this.datesAreSameDay,t),r=e.find(this.leadFaresForDates,function(e){return n(e.departureDate)});if(e.isUndefined(r)){var i={departureDate:t},a=e.sortedIndex(this.leadFaresForDates,i,function(e){return e.departureDate.unix()});return this.leadFaresForDates.splice(a,0,i),i}return r},t.prototype.updateEntry=function(t,n,r){if(t.currency&&t.currency!==r)throw new Error("Different currency when trying to update price for dates. Cannot compare the already cheapest fare in "+t.currency+" to candidate fare in "+r);e.isUndefined(t.currency)&&(t.currency=r),(e.isUndefined(t.price)||t.price>n)&&(t.price=n)},t.prototype.datesAreSameDay=function(e,t){return e.date()===t.date()&&e.month()===t.month()&&e.year()===t.year()},t.prototype.hasAtLeastOnePrice=function(){return!e.isEmpty(this.leadFaresForDates)},t}),n("datamodel/AlternateDatesOneWayPriceMatrix",["lodash","datamodel/AlternateDatesAbstractPriceMatrix"],function(e,t){"use strict";function n(){t.apply(this,arguments)}return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.addLeadFareForDate=function(e){var t=this.findEntryForDepartureDate(e.departureDate);this.updateEntry(t,e.price,e.currency)},n.prototype.getLeadFareForTravelDate=function(t){var n=e.partial(this.datesAreSameDay,t),r=e.find(this.leadFaresForDates,function(e){return n(e.departureDate)});return e.isUndefined(r)?void 0:{price:r.price,currency:r.currency}},n}),n("datamodel/AlternateDatesRoundTripPriceMatrix",["lodash","datamodel/AlternateDatesAbstractPriceMatrix"],function(e,t){"use strict";function n(){t.apply(this,arguments)}return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.addLeadFareForDate=function(e){var t=this.findEntryForDepartureAndReturnDates(e.departureDate,e.returnDate);this.updateEntry(t,e.price,e.currency)},n.prototype.getLeadFareForTravelDates=function(t,n){var r=e.partial(this.datesAreSameDay,t),i=e.find(this.leadFaresForDates,function(e){return r(e.departureDate)});if(!e.isUndefined(i)){var a=e.partial(this.datesAreSameDay,n),o=e.find(i.pricesForReturnDates,function(e){return a(e.returnDate)});if(!e.isUndefined(o))return{price:o.price,currency:o.currency}}},n.prototype.getAllReturnDates=function(){var t=e.flattenDeep(this.leadFaresForDates.map(function(e){return e.pricesForReturnDates.map(function(e){return e.returnDate})}));return e.uniq(t,!1,function(e){return e.unix()})},n.prototype.findEntryForDepartureAndReturnDates=function(e,t){var n=this.findEntryForDepartureDate(e);return this.findEntryForReturnDate(n,t)},n.prototype.findEntryForReturnDate=function(t,n){e.isUndefined(t.pricesForReturnDates)&&(t.pricesForReturnDates=[]);var r=t.pricesForReturnDates,i=e.partial(this.datesAreSameDay,n),a=e.find(r,function(e){return i(e.returnDate)});if(e.isUndefined(a)){var o={returnDate:n},s=e.sortedIndex(r,o,function(e){return e.returnDate.unix()});return r.splice(s,0,o),o}return a},n}),n("webservices/common/parsers/AbstractOTAResponseParser",["lodash","moment","datamodel/Itinerary","datamodel/Leg","datamodel/Segment","datamodel/ItineraryPricingInfo","datamodel/MonetaryAmount","datamodel/ItinerariesList","datamodel/AlternateDatesOneWayPriceMatrix","datamodel/AlternateDatesRoundTripPriceMatrix"],function(e,t,n,r,i,a,o,s,l,u){"use strict";function c(){}return c.prototype.getFirstItineraryTripType=function(t){var n=e.first(this.getPricedItinerariesArray(t));return"OneWay"===n.AirItinerary.DirectionInd?"OneWay":"Return"===n.AirItinerary.DirectionInd?"RoundTrip":void 0},c.prototype.createAlternateDatesPriceMatrixForTripType=function(e){return"OneWay"===e?new l:"RoundTrip"===e?new u:void 0},c.prototype.parse=function(e){var t=new s;if(!this.itinerariesFound(e))return t;var n=this;return this.getPricedItinerariesArray(e).forEach(function(e,r){var i=n.parseItinerary(e);t.add(i)}),t},c.prototype.extractAlternateDatesPriceMatrix=function(e){var t=this.getFirstItineraryTripType(e),n=this.createAlternateDatesPriceMatrixForTripType(t);if(!this.itinerariesFound(e))return n;var r=this;return this.getPricedItinerariesArray(e).forEach(function(e){var t=r.getTravelDatesWithLeadPrice(e);n.addLeadFareForDate(t)}),n},c.prototype.parseItinerary=function(e){var t=this,r=new n;if(e.AirItinerary.OriginDestinationOptions.OriginDestinationOption.forEach(function(e){r.addLeg(t.parseLeg(e))}),e.AirItineraryPricingInfo.length>1)throw new Error("parser unsupported");var i=this.getItineraryPricingInfoResponsePart(e),a=r.getLegsSegmentCounts();return r.itineraryPricingInfo=this.parseItineraryPricingInfo(i,a),r.pricingSource=this.parsePricingSource(e),r.id=e.SequenceNumber,r.build(),r},c.prototype.parseItineraryPricingInfo=function(e,t){var n=new a(t);this.parseCabinAndSeatsRemaining(n,e.FareInfos.FareInfo);var r=e.ItinTotalFare;return n.fareAmounts=this.parseFareAmounts(r),n},c.prototype.parseCabinAndSeatsRemaining=function(e,t){t.forEach(function(t,n){e.setCabin(n,t.TPA_Extensions.Cabin.Cabin),t.TPA_Extensions.Meal&&e.setMeal(n,t.TPA_Extensions.Meal.Code),e.setSeatsRemaining(n,t.TPA_Extensions.SeatsRemaining.Number)})},c.prototype.parseOBFees=function(e){return e.OBFee.map(function(e){return new o(e.Amount,e.CurrencyCode)})},c.prototype.parseFareAmounts=function(t){var n={};if(n.baseFare=new o(t.BaseFare.Amount,t.BaseFare.CurrencyCode),t.Taxes.Tax.length>1)throw new Error("parser unsupported");n.totalTax=new o(t.Taxes.Tax[0].Amount,t.Taxes.Tax[0].CurrencyCode);var r=t.TotalFare.Amount,i=e.isString(r)?parseFloat(r):r;return n.totalFare=new o(i,t.TotalFare.CurrencyCode),n},c.prototype.getTravelDatesWithLeadPrice=function(e){var t=this.parseItinerary(e),n={departureDate:t.getOutboundDepartureDateTime(),returnDate:t.getInboundDepartureDateTime(),price:t.totalFareAmountWithCurrency.amount,currency:t.totalFareAmountWithCurrency.currency};return n},c.prototype.parseLeg=function(e){var n=this,a=new r;return a.duration=parseInt(e.ElapsedTime),a.segments=e.FlightSegment.map(function(e){return new i({departureAirport:e.DepartureAirport.LocationCode,departureDateTime:t(new Date(e.DepartureDateTime)),arrivalAirport:e.ArrivalAirport.LocationCode,arrivalDateTime:t(new Date(e.ArrivalDateTime)),elapsedTime:e.ElapsedTime,equipment:n.parseEquipment(e),marketingFlightNumber:e.FlightNumber,marketingAirline:e.MarketingAirline.Code,operatingFlightNumber:e.OperatingAirline.FlightNumber,operatingAirline:e.OperatingAirline.Code})}),a.build(),a},c}),n("webservices/common/parsers/OTAResponseParser",["lodash","webservices/common/parsers/AbstractOTAResponseParser"],function(e,t){"use strict";function n(){t.apply(this,arguments)}return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.getPricedItinerariesArray=function(e){return e.OTA_AirLowFareSearchRS.PricedItineraries.PricedItinerary},n.prototype.itinerariesFound=function(t){return e.has(t,"OTA_AirLowFareSearchRS","Success")},n.prototype.getItineraryPricingInfoResponsePart=function(e){return e.AirItineraryPricingInfo[0]},n.prototype.parseEquipment=function(e){return e.Equipment[0].AirEquipType},n.prototype.getBusinessErrorMessages=function(t){var n=["WORKERTHREAD","SERVER","DEFAULT","DRE","IF2","DSFCLIENT","JRCHILD"];try{var r=JSON.parse(t).OTA_AirLowFareSearchRS.Errors.Error.filter(function(t){return!e.contains(n,t.Type)}).map(function(e){return e.ShortText})||[];return e.unique(r)}catch(i){return[t]}},n.prototype.parsePricingSource=function(e){var t=e.AirItineraryPricingInfo[0];return t.PricingSource+":"+t.PricingSubSource},n}),n("webservices/advancedCalendar/AdvancedCalendarService",["angular","lodash","webservices/advancedCalendar/AdvancedCalendarSearchCriteriaValidator","webservices/advancedCalendar/AdvancedCalendarRequestFactory","webservices/advancedCalendar/AdvancedCalendarRequestDatesExpander","datamodel/ShoppingData","webservices/common/parsers/OTAResponseParser"],function(e,t,n,r,i,a,o){
"use strict";function s(e,s,l,u,c,d,p){function h(e){var t=[e.getFirstLeg().origin,e.getFirstLeg().destination,e.getLengthOfStay(),JSON.stringify(e.preferredAirlines),e.maxStops,JSON.stringify(e.passengerSpecifications)];return t.join("-")}function f(e){return!e.isAlternateDatesRequest()}var g=new i,m={bfmRequestPcc:p.bfmRequestPcc},v=new r(g),y=new r(void 0),b=new o,S=new n;return{getLeadPricesForRange:function(n,r){return e(function(e,i){var o=S.validate(n);if(o.length>0)return c.reportErrors(o,"Unsupported search criteria"),i(o);var p=h(n),f=l.getLeadPricesForRange(p,r.start,r.end);if(t.size(f)>0)return e(f);var g=v.createRequest(n,m);s.sendRequest(g).then(function(t){var n=b.parse(t),i=new a;i.markRequestedData(p,r.start,r.end),n.getItineraries().forEach(function(e){i.addItinerary(p,e,e.getOutboundDepartureDateTime())}),i.updateLeadPrices(p),l.addUpdate(i);var o=i.getLeadPricesForRange(p,r.start,r.end);return e(o)},function(e){u.reportError("Advanced Calendar: Could not get lead prices for dates "+r.start.format("YYYY-MM-DD")+" thru "+r.end.format("YYYY-MM-DD"),n),d.handle(i,e,b.getBusinessErrorMessages)})})},getItineraries:function(t){return e(function(e,n){var r=S.validate(t);if(r.length>0)return c.reportErrors(r,"Unsupported search criteria"),n(r);if(f(t)){var i=h(t),a=t.getFirstLeg().departureDateTime.clone().startOf("day"),o=l.getItinerariesList(i,a);if(o&&o.size()>0)return e(o)}var p=y.createRequest(t,m);s.sendRequest(p).then(function(t){var n=b.parse(t);return e(n)},function(e){u.reportError("Advanced Calendar: Could not get itineraries",t),d.handle(n,e,b.getBusinessErrorMessages)})})},getAlternateDatesPriceMatrix:function(t){if(!t.isAlternateDatesRequest())throw new Error("Calling Alternative Dates service for non alternative dates request");var n=y.createRequest(t,m);return e(function(e,r){var i=S.validate(t);return i.length>0?(c.reportErrors(i,"Unsupported search criteria"),r(i)):void s.sendRequest(n).then(function(t){var n=b.extractAlternateDatesPriceMatrix(t);e(n)},function(e){u.reportError("Advanced Calendar: Could not get alternate dates lead prices",t),d.handle(r,e,b.getBusinessErrorMessages)})})},getMinDateAndPricePair:function(e){var t=h(e),n=l.getMinDateAndPricePair(t);return{totalFareAmount:n.totalFareAmountWithCurrency.amount,currency:n.totalFareAmountWithCurrency.currency,date:n.date}},getMaxAvailableDate:function(e){var t=h(e);return l.getMaxAvailableDate(t)}}}return s}),n("webservices/advancedCalendar/advancedCalendar.mod",["angular","webservices/advancedCalendar/AdvancedCalendarSearchService","webservices/advancedCalendar/AdvancedCalendarService"],function(e,t,n){"use strict";e.module("sabreDevStudioWebServices.advancedCalendar",[]).service("AdvancedCalendarSearchService",["$resource","selectedCountryConfigs","requestHeadersFactory","CachingDecorator",t]).factory("AdvancedCalendarDataService",["$q","AdvancedCalendarSearchService","ShoppingOptionsCacheService","ErrorReportingService","ValidationErrorReportingService","businessMessagesErrorHandler","selectedCountryConfigs",n])});var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};n("webservices/bargainFinderMax/BargainFinderMaxAlternateDateWebService",["require","exports","../WebService"],function(e,t,n){"use strict";var i=function(e){function t(t,n,r,i){var a=e.call(this,"/v1.8.6/shop/altdates/flights?mode=live",t,n,r,i)||this;return a.$resource=t,a.selectedCountryConfigs=n,a.requestHeadersFactory=r,a.cachingDecorator=i,a}return r(t,e),t.prototype.sendRequest=function(e){return this.createPostResource()(e)},t}(n);return i});var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};n("webservices/bargainFinderMax/BargainFinderMaxWebService",["require","exports","../WebService"],function(e,t,n){"use strict";var i=function(e){function t(t,n,r,i){var a=e.call(this,"/v1.9.5/shop/flights?mode=live",t,n,r,i)||this;return a.$resource=t,a.selectedCountryConfigs=n,a.requestHeadersFactory=r,a.cachingDecorator=i,a}return r(t,e),t.prototype.sendRequest=function(e){return this.createPostResource()(e)},t}(n);return i}),n("webservices/bargainFinderMax/BargainFinderMaxRequestFactory",["lodash","util/LodashExtensions","moment","webservices/common/OTARequestFactory"],function(e,t,n,r){"use strict";function i(){r.apply(this)}function a(e){return e.map(function(e){var t={Direction:e.direction.description,Endpoint:e.endpoint.description};return e.ranges.length>0&&(t.Range=o(e.ranges)),t})}function o(e){return e.map(function(e){return{Begin:n(e.begin).format("HH:mm"),End:n(e.end).format("HH:mm"),Options:e.options+"%"}})}return i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype.requestBrandedFares=!1,i.prototype.createOriginDestinationInfos=function(e){var t=this;return e.legs.map(function(n,r){return{DepartureDateTime:n.departureDateTime.format(t.dateTimeFormat),DestinationLocation:{LocationCode:n.destination},OriginLocation:{LocationCode:n.origin},RPH:""+(r+1),TPA_Extensions:t.createLegTPAExtensions(e.preferredAirlines,e.dateFlexibilityDays)}})},i.prototype.createLegTPAExtensions=function(t,n){var r={IncludeVendorPref:t.map(function(e){return{Code:e}})};return n=parseInt(n),n>0&&e.extend(r,{DateFlexibility:{NbrOfDays:n}}),r},i.prototype.getRequestType=function(e,t){return t>0?"AD1":50>=e?"50ITINS":100>=e?"100ITINS":"200ITINS"},i.prototype.createNumTrips=function(e){return{Number:e}},i.prototype.createPriceRequestInformation=function(){return this.requestBrandedFares?{TPA_Extensions:{BrandedFareIndicators:{ReturnCheapestUnbrandedFare:{Ind:!0},SingleBrandedFare:!0,MultipleBrandedFares:!0}}}:r.prototype.createPriceRequestInformation.call(this)},i.prototype.createRequestTPAExtensions=function(t,n){var r=this.createIntelliSellTransaction(t,n.dateFlexibilityDays);return n.diversityModelOptions&&e.extend(r,this.createDiversityControl(n.diversityModelOptions)),r},i.prototype.createIntelliSellTransaction=function(e,t){return{IntelliSellTransaction:{RequestType:{Name:this.getRequestType(e,t)}}}},i.prototype.createDiversityControl=function(n){var r={DiversityControl:{}};return e.extend(r.DiversityControl,this.createLowFareBucket(n)),e.extend(r.DiversityControl,this.createPriceWeight(n)),e.isNumber(n.travelTimeWeight)&&e.extend(r.DiversityControl.Dimensions,this.createTravelTimeWeight(n.travelTimeWeight)),t.isNumber(n.carrier.weight)&&e.extend(r.DiversityControl.Dimensions,this.createCarrierOptions(n)),t.isNumber(n.operatingDuplicate.weight)&&e.extend(r.DiversityControl.Dimensions,this.createOperatingDuplicateOptions(n)),t.isNumber(n.inboundOutboundPairing.weight)&&e.extend(r.DiversityControl.Dimensions,this.createinboundOutboundPairingOptions(n)),t.isNumber(n.timeOfDay.weight)&&e.extend(r.DiversityControl.Dimensions,this.createTimeOfDayOptions(n)),t.isNumber(n.numberOfStopsWeight)&&e.extend(r.DiversityControl.Dimensions,this.createNonStopWeight(n.numberOfStopsWeight)),r},i.prototype.createLowFareBucket=function(e){var t;return e.lowFareBucketMode==e.LowFareBucketModeEnum.OPTION?t={LowFareBucket:{Options:e.lowFareBucket.toString()}}:e.lowFareBucketMode==e.LowFareBucketModeEnum.FARE_CUT_OFF&&(t={LowFareBucket:{FareCutOff:e.fareCutOff+"%"}}),t},i.prototype.createPriceWeight=function(t){return{Dimensions:{PriceWeight:e.isNumber(t.priceWeight)?t.priceWeight:t.PRICE_WEIGHT_DEFAULT_VALUE}}},i.prototype.createTravelTimeWeight=function(e){return{TravelTime:{Weight:e}}},i.prototype.createCarrierOptions=function(n){var r={Carrier:{Weight:n.carrier.weight,OnlineIndicator:n.carrier.onlineIndicator}};if(t.isDefined(n.carrier.default.options)&&e.extend(r.Carrier,{Default:{Options:n.carrier.default.options.toString()}}),n.carrier.override.length>0){var i={Override:[]};n.carrier.override.forEach(function(e){i.Override.push({Code:e.code,Options:e.options.toString()})}),e.extend(r.Carrier,i)}return r},i.prototype.createOperatingDuplicateOptions=function(n){var r={OperatingDuplicate:{Weight:n.operatingDuplicate.weight}};if(t.isDefined(n.operatingDuplicate.preferredCarriers.selected.length>0)){var i={PreferredCarrier:[]};n.operatingDuplicate.preferredCarriers.selected.forEach(function(e){i.PreferredCarrier.push({Code:e})}),e.extend(r.OperatingDuplicate,i)}return r},i.prototype.createinboundOutboundPairingOptions=function(t){return{InboundOutboundPairing:{Weight:t.inboundOutboundPairing.weight,Duplicates:e.isNumber(t.inboundOutboundPairing.duplicates)?t.inboundOutboundPairing.duplicates:t.INBOUND_OUTBOUND_PAIRING_DUPLICATES_DEFAULT_VALUE}}},i.prototype.createTimeOfDayOptions=function(e){var t={TimeOfDay:{Weight:e.timeOfDay.weight}};return e.getDistributions().length>0&&(t.TimeOfDay.Distribution=a(e.getDistributions())),t},i.prototype.createNonStopWeight=function(e){return{StopsNumber:{Weight:e}}},i}),n("webservices/bargainFinderMax/BFMResponseParser",["webservices/common/parsers/OTAResponseParser","webservices/common/parsers/AbstractOTAResponseParser"],function(e,t){"use strict";function n(){e.apply(this,arguments)}return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype.parseItineraryPricingInfo=function(t,n){var r=e.prototype.parseItineraryPricingInfo.call(this,t,n);if(t.PTC_FareBreakdowns.PTC_FareBreakdown.length>1)throw new Error("itineraryPricingInfoResponsePart.PTC_FareBreakdowns.PTC_FareBreakdown.length > 1 not supported. There is one entry in this array for every passenger type requested. Currently only ADT passenger type requested (one type, regardless of number of ADT passengers)");var i=t.PTC_FareBreakdowns.PTC_FareBreakdown[0];r.nonRefundableIndicator=i.Endorsements.NonRefundableIndicator;var a=i.PassengerFare.OBFees;if(r.OBFees=a&&this.parseOBFees(a),i.PassengerFare.TPA_Extensions.BaggageInformationList){var o=this.parseBaggageAllowance(i.PassengerFare.TPA_Extensions.BaggageInformationList);r.setBaggageAllowance(o)}return r},n.prototype.parseBaggageAllowance=function(e){return e.BaggageInformation.map(function(e){var t=e.Allowance,n=e.Segment.map(function(e){return e.Id});return{allowance:t,segmentsAbsoluteIndexes:n}})},n.prototype.parseItinerary=function(e){var n=t.prototype.parseItinerary.call(this,e);return e.TPA_Extensions.DiversitySwapper&&(n.weightedPriceAmount=e.TPA_Extensions.DiversitySwapper.WeighedPriceAmount),n},n}),n("datamodel/BrandedItinerary",["lodash","util/LodashExtensions","datamodel/Itinerary"],function(e,t,n){"use strict";function r(){n.apply(this,arguments),this.additionalFaresPricingInfos=[]}return r.prototype=Object.create(n.prototype),r.prototype.constructor=r,r.prototype.createBrandedItinerary=function(t){return t.additionalFaresPricingInfos=[],e.extend(t,r.prototype),t},r.prototype.addAdditionalFare=function(e){this.additionalFaresPricingInfos.push(e)},r.prototype.hasAnyBrands=function(){return this.additionalFaresPricingInfos.length>0},r.prototype.getBrandsMatchedToFlight=function(e,n){var r=this.itineraryPricingInfo.getBrandMatchedToFlight(e,n),i=this.additionalFaresPricingInfos.filter(function(e){return e.fareReturned}).map(function(t){return t.getBrandMatchedToFlight(e,n)});return[r].concat(i).filter(t.isDefined)},r}),n("datamodel/BrandToSegmentMatchingItem",[],function(){"use strict";function e(e){this.brandName=e,this.matchedSegments=[]}return e.prototype.addMatchedSegment=function(e,t){this.matchedSegments.push({legIndex:e,segmentIndex:t})},e.prototype.hasMatchingForFlight=function(e,t){return this.matchedSegments.some(function(n){return n.legIndex===e&&n.segmentIndex===t})},e.prototype.getBrandMatchedForFlight=function(e,t){return this.hasMatchingForFlight(e,t)?this.brandName:void 0},e}),n("datamodel/BrandedItineraryPricingInfo",["lodash","datamodel/ItineraryPricingInfo"],function(e,t){"use strict";function n(){t.apply(this,arguments),this.brandToSegmentMatchings=[]}return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.createBrandedItineraryPricingInfo=function(t){return t.brandToSegmentMatchings=[],e.extend(t,n.prototype),t},n.prototype.fareReturned=!0,n.prototype.getBrandMatchedToFlight=function(t,n){var r=e.find(this.brandToSegmentMatchings,function(e){return e.hasMatchingForFlight(t,n)});return r&&r.brandName},n.prototype.getUniqueBrandsMatchedToAllFlights=function(){return e.isUndefined(this.brandToSegmentMatchings)?[]:e.uniq(this.brandToSegmentMatchings.map(function(e){return e.brandName}))},n.prototype.updateSummaries=function(){t.prototype.updateSummaries.call(this),this.summaries.uniqueBrandsMatchedToAllFlights=this.getUniqueBrandsMatchedToAllFlights()},n}),n("datamodel/BrandedItineraryPricingInfoNotReturnedFare",["datamodel/BrandedItineraryPricingInfo"],function(e){"use strict";function t(){e.apply(this,arguments),this.fareStatus=void 0}return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.fareReturned=!1,t.prototype.getTranslatedFareStatus=function(){switch(this.fareStatus){case"A":return"Class is not available";case"O":return"Class is not offered";case"F":return"No fare found or applicable";case"N":return"Unknown status"}},t}),n("webservices/bargainFinderMax/BrandedBFMResponseParser",["lodash","util/LodashExtensions","datamodel/BrandedItinerary","datamodel/BrandToSegmentMatchingItem","datamodel/ItineraryPricingInfo","datamodel/BrandedItineraryPricingInfo","datamodel/BrandedItineraryPricingInfoNotReturnedFare","webservices/bargainFinderMax/BFMResponseParser"],function(e,t,n,r,i,a,o,s){"use strict";function l(){s.apply(this,arguments)}return l.prototype=Object.create(s.prototype),l.prototype.constructor=l,l.prototype.parseItinerary=function(e){var t=s.prototype.parseItinerary.call(this,e),r=n.prototype.createBrandedItinerary(t);if(e.TPA_Extensions.AdditionalFares){var i=t.getLegsSegmentCounts(),a=this.parseAdditionalFares(e.TPA_Extensions.AdditionalFares,i);a.forEach(function(e){r.addAdditionalFare(e)})}return r},l.prototype.parseAdditionalFares=function(e,t){var n=this;return e.map(function(e){return n.parseItineraryPricingInfo(e.AirItineraryPricingInfo,t)})},l.prototype.parseItineraryPricingInfo=function(e,t){function n(e){var t=new r(e.BrandName);return e.Segment.forEach(function(e){t.addMatchedSegment(e.LegIndex-1,e.FlightIndex-1)}),t}if(e.FareReturned===!1){var i=new o(t);i.fareStatus=e.FareStatus;var l=e.TPA_Extensions.Legs;return i.brandToSegmentMatchings=this.parseBrandToSegmentMatchingForNotReturnedFare(l),i}var u=s.prototype.parseItineraryPricingInfo.call(this,e,t),c=a.prototype.createBrandedItineraryPricingInfo(u),d=e.PTC_FareBreakdowns.PTC_FareBreakdown[0].PassengerFare.TPA_Extensions.FareComponents;return c.brandToSegmentMatchings=d&&d.FareComponent.map(n),c.updateSummaries(),c},l.prototype.parseBrandToSegmentMatchingForNotReturnedFare=function(n){function i(e,t){return t.Segment.filter(function(e){return e.BrandName}).map(function(t){var n=new r(t.BrandName),i=t.Number-1;return n.addMatchedSegment(e,i),n})}var a=e.flatten(n.Leg);return a.reduce(function(e,n){var r=n.Number-1,a=i(r,n);return t.pushAll(e,a)},[])},l}),n("util/NGPromiseUtils",["angular","ngPromiseExtras"],function(e,t){"use strict";return e.module("NGPromiseUtils",["ngPromiseExtras"]).config(["$provide",function(e){e.decorator("$q",["$delegate",function(e){function t(e){return a(function(t,a){if(n(e)){var o=r(e);t(o)}else{var s=i(e);a(s)}})}function n(e){return e.some(function(e){return"fulfilled"===e.state})}function r(e){return e.filter(function(e){return"fulfilled"===e.state}).map(function(e){return e.value})}function i(e){return e.filter(function(e){return"rejected"===e.state}).map(function(e){return e.reason})}var a=e;return a.mergePromises=function(e,n,r){return a(function(i,o){a.allSettled(e).then(t).then(function(e){var t=e.reduce(n);i(t)},function(e){var t=e.reduce(r);o(t)})})},a}])}])}),n("webservices/bargainFinderMax/BargainFinderMaxDataService",["util/LodashExtensions","angular","webservices/bargainFinderMax/BargainFinderMaxRequestFactory","webservices/bargainFinderMax/BFMResponseParser","webservices/bargainFinderMax/BrandedBFMResponseParser","datamodel/ItinerariesList","util/NGPromiseUtils"],function(e,t,n,r,i,a,o){"use strict";function s(t,o,s,l,u,c){function d(e){if(!e.isAlternateDatesRequest())return f(o,e);if(e.isAlternateDatesRequest()){if(e.returnAlternateDatesOnly)return f(s,e);var n=e.cloneWithoutDateFlexibility(),r=f(o,n),i=f(s,e);return t.mergePromises([r,i],g,m)}}function p(e){var n=b.createRequest(e,{bfmRequestPcc:c.bfmRequestPcc});return t(function(t,r){o.sendRequest(n).then(function(e){var n=S.parse(e);t(n)},function(t){l.reportError("Could not find branded itineraries",e),u.handle(r,t,S.getBusinessErrorMessages)})})}function h(e){if(!e.isAlternateDatesRequest())throw new Error("Calling Alternative Dates service for non alternative dates request");var n=v.createRequest(e,{bfmRequestPcc:c.bfmRequestPcc});return t(function(t,r){s.sendRequest(n).then(function(e){var n=y.extractAlternateDatesPriceMatrix(e);t(n)},function(t){l.reportError("BFM: Could not find alternate dates prices",e),u.handle(r,t,y.getBusinessErrorMessages)})})}function f(e,n){var r=v.createRequest(n,{bfmRequestPcc:c.bfmRequestPcc});return t(function(t,i){e.sendRequest(r).then(function(e){var n=y.parse(e);t(n)},function(e){l.reportError("BFM: Could not find itineraries",n),u.handle(i,e,y.getBusinessErrorMessages)})})}function g(e,t){return e=e||new a,e.addItinerariesListWithDedup(t)}function m(t,n){return t=t||[],e.unique(e.pushAll(t,n))}var v=new n,y=new r,b=new n;b.requestBrandedFares=!0;var S=new i;return{getItineraries:d,getBrandedItineraries:p,getAlternateDatesPriceMatrix:h}}return s}),n("webservices/bargainFinderMax/bargainFinderMax.mod",["angular","webservices/bargainFinderMax/BargainFinderMaxAlternateDateWebService","webservices/bargainFinderMax/BargainFinderMaxWebService","webservices/bargainFinderMax/BargainFinderMaxDataService"],function(e,t,n,r){"use strict";e.module("sabreDevStudioWebServices.bargainFinderMax",[]).service("BargainFinderMaxAlternateDateWebService",["$resource","selectedCountryConfigs","requestHeadersFactory","CachingDecorator",t]).service("BargainFinderMaxWebService",["$resource","selectedCountryConfigs","requestHeadersFactory","CachingDecorator",n]).factory("BargainFinderMaxDataService",["$q","BargainFinderMaxWebService","BargainFinderMaxAlternateDateWebService","ErrorReportingService","businessMessagesErrorHandler","selectedCountryConfigs",r])});var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};n("webservices/leadPriceCalendar/LeadPriceCalendarWebService",["require","exports","../WebService"],function(e,t,n){"use strict";var i=function(e){function t(t,n,r){var i=e.call(this,"/v1/shop/flights/fares",t,n,r,{})||this;return i.$resource=t,i.selectedCountryConfigs=n,i.requestHeadersFactory=r,i}return r(t,e),t.prototype.get=function(e){return this.createGetResource().get(e)},t}(n);return i}),n("webservices/leadPriceCalendar/LeadPriceCalendarSearchCriteriaValidator",["util/LodashExtensions","moment","webservices/common/validators/TravelInsightEngineSearchCriteriaValidator"],function(e,t,n){"use strict";function r(){this.travelInsightEngineSearchCriteriaValidator=new n}return r.prototype.validate=function(t){var n=[],r=this.travelInsightEngineSearchCriteriaValidator.validate(t);return e.pushAll(n,r),t.getPreferredAirlines().length>0&&n.push("Lead Price calendar does not support airline preference"),n},r}),n("webservices/leadPriceCalendar/LeadPriceCalendarResponseParser",["angular","moment","lodash","datamodel/AlternateDatesRoundTripPriceMatrix"],function(e,t,n,r){"use strict";function i(){return{parse:function(e){function t(e){return!isNaN(parseFloat(e.LowestFare))&&isFinite(e.LowestFare)||!isNaN(parseFloat(e.LowestNonStopFare))&&isFinite(e.LowestNonStopFare)}return e.FareInfo.filter(t).map(function(e){return{departureDateTime:e.DepartureDateTime,lowestFare:e.LowestFare,lowestNonStopFare:e.LowestNonStopFare,currency:e.CurrencyCode}})},extractAlternateDatesPriceMatrix:function(e){return e.FareInfo.map(function(e){return{departureDate:t(e.DepartureDateTime,t.ISO_8601),returnDate:t(e.ReturnDateTime,t.ISO_8601),price:e.LowestFare,currency:e.CurrencyCode}}).reduce(function(e,t){return e.addLeadFareForDate(t),e},new r)},getBusinessErrorMessages:function(e){return e}}}return i}),n("webservices/leadPriceCalendar/LeadPriceCalendarDataService",["angular","moment","lodash","webservices/leadPriceCalendar/LeadPriceCalendarSearchCriteriaValidator","datamodel/ShoppingData","webservices/leadPriceCalendar/LeadPriceCalendarResponseParser"],function(e,t,n,r,i,a){"use strict";function o(e,a,o,s,l,u,c,d){function p(e){var t={origin:e.getFirstLeg().origin,destination:e.getFirstLeg().destination,lengthofstay:e.getLengthOfStay()};return l.pointOfSaleCountry.length>0&&n.extend(t,{pointofsalecountry:l.pointOfSaleCountry}),t}function h(e){var t=e.getRequestedDepartureDates(),r=e.getRequestedLengthOfStayValues();r=r.filter(f);var i=e.getLengthOfStay(),a=10;r.length>a&&(r=g(r,i,a));var o={origin:e.getFirstLeg().origin,destination:e.getFirstLeg().destination,departuredate:t.map(function(e){return e.format("YYYY-MM-DD")}).join(","),lengthofstay:r.join(",")};return l.pointOfSaleCountry.length>0&&n.extend(o,{pointofsalecountry:l.pointOfSaleCountry}),o}function f(e){return 16>=e}function g(e,t,r){function i(e){return Math.abs(t-e)}var a=n.sortBy(e,i);return n.slice(a,0,r)}function m(e,n){return e.filter(function(e){var r=t(e.departureDateTime,t.ISO_8601);return n.contains(r)})}function v(e,r){var i=n.min(e,function(e){return 0===r?e.lowestNonStopFare:e.lowestFare});return{totalFareAmount:0===r?i.lowestNonStopFare:i.lowestFare,currency:i.currency,date:t(i.departureDateTime,t.ISO_8601)}}function y(e){var r=e.reduce(function(e,t){return n.isUndefined(e)||t.departureDateTime>e?t.departureDateTime:void 0});return t(r,t.ISO_8601)}function b(e,n){return e.reduce(function(e,r){var a=t(r.departureDateTime,t.ISO_8601).format(i.prototype.DATE_FORMAT_FOR_KEYS),o=0===n?r.lowestNonStopFare:r.lowestFare;return e[a]={price:o,currency:r.currency},e},{})}var S=a("leadPricesCache"),D=new r;return{getLeadPricesForRange:function(t,n){return e(function(e,r){var i=D.validate(t);if(i.length>0)return c.reportErrors(i,"Unsupported search criteria"),r(i);var a=S.get(t);if(a){var l=m(a,n),h=b(l,t.maxStops);return e(h)}var f=p(t);o.get(f).$promise.then(function(r){var i=s.parse(r);S.put(t,i);var a=m(i,n),o=b(a,t.maxStops);return e(o)},function(e){u.reportError("Lead Price Calendar: Could not get lead prices for dates "+n.start.format("YYYY-MM-DD")+" thru "+n.end.format("YYYY-MM-DD"),t),d.handle(r,e,s.getBusinessErrorMessages)})})},getAlternateDatesPriceMatrix:function(t){if(!t.isAlternateDatesRequest())throw new Error("Calling Alternative Dates service for non alternative dates request");var n=h(t);return e(function(e,r){var i=D.validate(t);return i.length>0?(c.reportErrors(i,"Unsupported search criteria"),r(i)):void o.get(n).$promise.then(function(t){var n=s.extractAlternateDatesPriceMatrix(t);e(n)},function(e){u.reportError("Lead Price Calendar: Could not get alternate dates lead prices",t),d.handle(r,e,s.getBusinessErrorMessages)})})},getMinDateAndPricePair:function(e){var t=S.get(e);if(n.isUndefined(t))throw new Error("trying to get aggregate from lead prices data while first call not done yet");return v(t,e.maxStops)},getMaxAvailableDate:function(e){var t=S.get(e);if(n.isUndefined(t))throw new Error("trying to get aggregate from lead prices data while first call not done yet");return y(t)}}}return o}),n("webservices/leadPriceCalendar/leadPriceCalendar.mod",["angular","webservices/leadPriceCalendar/LeadPriceCalendarWebService","webservices/leadPriceCalendar/LeadPriceCalendarDataService","webservices/leadPriceCalendar/LeadPriceCalendarResponseParser"],function(e,t,n,r){"use strict";e.module("sabreDevStudioWebServices.leadPriceCalendar",[]).factory("LeadPriceCalendarResponseParser",r).service("LeadPriceCalendarWebService",["$resource","selectedCountryConfigs","requestHeadersFactory",t]).factory("LeadPriceCalendarDataService",["$q","$cacheFactory","LeadPriceCalendarWebService","LeadPriceCalendarResponseParser","selectedCountryConfigs","ErrorReportingService","ValidationErrorReportingService","businessMessagesErrorHandler",n])}),n("webservices/informational/TravelSeasonalityDataService",["require","exports"],function(e,t){"use strict";function n(e,t,n,r){function i(t){return e(function(e,n){var r=t.destination;a(r).then(e,n)})}function a(i){return e(function(e,a){var o={destination:i};t.get(o).$promise.then(function(t){e(t)},function(e){n.reportError("Could not get seasonality information for destination: "+i),r.handle(a,e)})})}return{getDestinationSeasonality:a,getSeasonality:i}}return n}),n("webservices/informational/informational.mod",["angular","webservices/informational/TravelSeasonalityDataService"],function(e,t){"use strict";e.module("sabreDevStudioWebServices.informational",[]).factory("TravelSeasonalityDataService",["$q","TravelSeasonalityWebService","ErrorReportingService","businessMessagesErrorHandler",t])});var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};n("webservices/instaflights/InstaFlightsWebService",["require","exports","../WebService"],function(e,t,n){"use strict";var i=function(e){function t(t,n,r){var i=e.call(this,"/v1/shop/flights",t,n,r,{})||this;return i.$resource=t,i.selectedCountryConfigs=n,i.requestHeadersFactory=r,i}return r(t,e),t.prototype.get=function(e){return this.createGetResource().get(e)},t}(n);return i});var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};n("webservices/informational/FareForecastWebService",["require","exports","../WebService"],function(e,t,n){"use strict";var i=function(e){function t(t,n,r){var i=e.call(this,"/v1/forecast/flights/fares",t,n,r,{})||this;return i.$resource=t,i.selectedCountryConfigs=n,i.requestHeadersFactory=r,i}return r(t,e),t.prototype.get=function(e){return this.createGetResource().get(e)},t}(n);return i});var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};n("webservices/informational/FareRangeWebService",["require","exports","../WebService"],function(e,t,n){"use strict";var i=function(e){function t(t,n,r){var i=e.call(this,"/v1/historical/flights/fares",t,n,r,{})||this;return i.$resource=t,i.selectedCountryConfigs=n,i.requestHeadersFactory=r,i}return r(t,e),t.prototype.get=function(e){return this.createGetResource().get(e)},t}(n);return i});var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};n("webservices/informational/LowFareHistoryWebService",["require","exports","../WebService"],function(e,t,n){"use strict";var i=function(e){function t(t,n,r){var i=e.call(this,"/v1/historical/shop/flights/fares",t,n,r,{})||this;return i.$resource=t,i.selectedCountryConfigs=n,i.requestHeadersFactory=r,i}return r(t,e),t.prototype.get=function(e){return this.createGetResource().get(e)},t}(n);return i});var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};n("webservices/informational/TravelSeasonalityWebService",["require","exports","../WebService"],function(e,t,n){"use strict";var i=function(e){function t(t,n,r){var i=e.call(this,"/v1/historical/flights/:destination/seasonality",t,n,r,{})||this;return i.$resource=t,i.selectedCountryConfigs=n,i.requestHeadersFactory=r,i}return r(t,e),t.prototype.get=function(e){return this.createGetResource({destination:"@_destination"}).get(e)},t}(n);return i});var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};n("webservices/inspirational/DestinationPricerWebService",["require","exports","../WebService"],function(e,t,n){"use strict";var i=function(e){function t(t,n,r){var i=e.call(this,"/v1/shop/flights/cheapest/fares/:destination",t,n,r,{})||this;return i.$resource=t,i.selectedCountryConfigs=n,i.requestHeadersFactory=r,i}return r(t,e),t.prototype.get=function(e){return this.createGetResource({destination:"@_destination"}).get(e)},t}(n);return i});var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};n("webservices/inspirational/DestinationFinderWebService",["require","exports","../WebService"],function(e,t,n){"use strict";var i=function(e){function t(t,n,r){var i=e.call(this,"/v2/shop/flights/fares/",t,n,r,{})||this;return i.$resource=t,i.selectedCountryConfigs=n,i.requestHeadersFactory=r,i}return r(t,e),t.prototype.get=function(e){return this.createGetResource().get(e)},t}(n);return i});var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};n("webservices/lookup/AirlineLookupWebService",["require","exports","../WebService"],function(e,t,n){"use strict";var i=function(e){function t(t,n,r){var i=e.call(this,"/v1/lists/utilities/airlines/",t,n,r,{})||this;return i.$resource=t,i.selectedCountryConfigs=n,i.requestHeadersFactory=r,i}return r(t,e),t.prototype.get=function(e){return this.createGetResource().get(e)},t}(n);return i});var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};n("webservices/lookup/EquipmentLookupWebService",["require","exports","../WebService"],function(e,t,n){"use strict";var i=function(e){function t(t,n,r){var i=e.call(this,"/v1/lists/utilities/aircraft/equipment/",t,n,r,{})||this;return i.$resource=t,i.selectedCountryConfigs=n,i.requestHeadersFactory=r,i}return r(t,e),t.prototype.get=function(e){return this.createGetResource().get(e)},t}(n);return i});var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};n("webservices/lookup/PointOfSaleCountryLookupWebService",["require","exports","../WebService"],function(e,t,n){"use strict";var i=function(e){function t(t,n,r){var i=e.call(this,"/v1/lists/supported/pointofsalecountries/",t,n,r,{})||this;return i.$resource=t,i.selectedCountryConfigs=n,i.requestHeadersFactory=r,i}return r(t,e),t.prototype.get=function(e){return this.createGetResource().get(e)},t}(n);return i});var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};n("webservices/lookup/ShoppingAirportsAndCitiesLookupWebService",["require","exports","../WebService"],function(e,t,n){"use strict";var i=function(e){function t(t,n,r){var i=e.call(this,"/v1/lists/supported/shop/flights/origins-destinations/",t,n,r,{})||this;return i.$resource=t,i.selectedCountryConfigs=n,i.requestHeadersFactory=r,i}return r(t,e),t.prototype.get=function(e){return this.createGetResource().get(e)},t}(n);return i});var r=this&&this.__extends||function(e,t){
function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};n("webservices/lookup/FareRangeAirportsAndCitiesLookupWebService",["require","exports","../WebService"],function(e,t,n){"use strict";var i=function(e){function t(t,n,r){var i=e.call(this,"/v1/lists/supported/historical/flights/origins-destinations/",t,n,r,{})||this;return i.$resource=t,i.selectedCountryConfigs=n,i.requestHeadersFactory=r,i}return r(t,e),t.prototype.get=function(e){return this.createGetResource().get(e)},t}(n);return i});var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};n("webservices/lookup/LowFareForecastAirportsAndCitiesLookupWebService",["require","exports","../WebService"],function(e,t,n){"use strict";var i=function(e){function t(t,n,r){var i=e.call(this,"/v1/lists/supported/forecast/flights/origins-destinations/",t,n,r,{})||this;return i.$resource=t,i.selectedCountryConfigs=n,i.requestHeadersFactory=r,i}return r(t,e),t.prototype.get=function(e){return this.createGetResource().get(e)},t}(n);return i});var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};n("webservices/lookup/TravelThemeLookupWebService",["require","exports","../WebService"],function(e,t,n){"use strict";var i=function(e){function t(t,n,r){var i=e.call(this,"/v1/lists/supported/shop/themes/",t,n,r,{})||this;return i.$resource=t,i.selectedCountryConfigs=n,i.requestHeadersFactory=r,i}return r(t,e),t.prototype.get=function(e){return this.createGetResource().get(e)},t}(n);return i});var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};n("webservices/geo/GeoSearchWebService",["require","exports","../WebService"],function(e,t,n){"use strict";var i=function(e){function t(t,n,r,i){var a=e.call(this,"/v1/lists/utilities/geosearch/locations",t,n,r,i)||this;return a.$resource=t,a.selectedCountryConfigs=n,a.requestHeadersFactory=r,a.cachingDecorator=i,a}return r(t,e),t.prototype.sendRequest=function(e){return this.createPostResource()(e)},t}(n);return i});var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};return n("webservices/geo/GeoCodeWebService",["require","exports","../WebService"],function(e,t,n){"use strict";var i=function(e){function t(t,n,r,i){var a=e.call(this,"/v1/lists/utilities/geocode/locations",t,n,r,i)||this;return a.$resource=t,a.selectedCountryConfigs=n,a.requestHeadersFactory=r,a.cachingDecorator=i,a}return r(t,e),t.prototype.sendRequest=function(e){return this.createPostResource()(e)},t}(n);return i}),n("webservices/CachingDecorator",["require","exports","lodash"],function(e,t,n){"use strict";function r(e,t){var r=0;return{addCaching:function(i,a){var o=t("CachingDecoratorCache_"+r++);return function(t){var r=JSON.stringify(t);return e(function(e,s){var l=o.get(r);return l&&l.success?e(l.success):l&&l.error?s(l.error):void i({},t).$promise.then(function(t){return o.put(r,{success:t}),e(t)},function(e){return n.contains(a,e.status)&&o.put(r,{error:e}),s(e)})})}}}}return r}),n("webservices/common/searchStrategyFactories/DaysRangeSearchStrategyFactory",["require","exports"],function(e,t){"use strict";function n(e,t){return{createSearchStrategy:function(n){switch(n=n||"leadPriceCalendar"){case"advancedCalendar":return e;case"leadPriceCalendar":return t;default:throw new Error("unrecognized web service: "+n)}}}}return n}),n("webservices/SabreDevStudioWebServicesModule",["require","exports","angular","lodash","./instaflights/InstaFlightsWebService","./informational/FareForecastWebService","./informational/FareRangeWebService","./informational/LowFareHistoryWebService","./informational/TravelSeasonalityWebService","./inspirational/DestinationPricerWebService","./inspirational/DestinationFinderWebService","./lookup/AirlineLookupWebService","./lookup/EquipmentLookupWebService","./lookup/PointOfSaleCountryLookupWebService","./lookup/ShoppingAirportsAndCitiesLookupWebService","./lookup/FareRangeAirportsAndCitiesLookupWebService","./lookup/LowFareForecastAirportsAndCitiesLookupWebService","./lookup/TravelThemeLookupWebService","./geo/GeoSearchWebService","./geo/GeoCodeWebService","./CachingDecorator","./common/searchStrategyFactories/DaysRangeSearchStrategyFactory"],function(e,t,n,r,i,a,o,s,l,u,c,d,p,h,f,g,m,v,y,b,S,D){"use strict";n.module("sabreDevStudioWebServices",["ngResource","configuration","NGPromiseUtils","ngStorage","sabreDevStudioWebServices.advancedCalendar","sabreDevStudioWebServices.bargainFinderMax","sabreDevStudioWebServices.leadPriceCalendar","sabreDevStudioWebServices.informational"]).constant("dateTimeFormat","YYYY-MM-DDTHH:mm:ss").constant("dateFormat","YYYY-MM-DD").constant("errorEvent","errorEvent").constant("networkErrorEvent","networkErrorEvent").constant("validationErrorEvent","validationErrorEvent").constant("resetErrorsEvent","resetErrorsEvent").factory("requestHeadersFactory",["selectedCountryConfigs",function(e){var t={"Content-Type":"application/JSON"};return{getHeaders:function(){return r.extend({},t,e.apiSpecificHeaders)}}}]).factory("CachingDecorator",["$q","$cacheFactory",S]).factory("DaysRangeSearchStrategyFactory",["AdvancedCalendarDataService","LeadPriceCalendarDataService",D]).service("InstaFlightsWebService",["$resource","selectedCountryConfigs","requestHeadersFactory",i]).service("FareForecastWebService",["$resource","selectedCountryConfigs","requestHeadersFactory",a]).service("FareRangeWebService",["$resource","selectedCountryConfigs","requestHeadersFactory",o]).service("LowFareHistoryWebService",["$resource","selectedCountryConfigs","requestHeadersFactory",s]).service("DestinationPricerWebService",["$resource","selectedCountryConfigs","requestHeadersFactory",u]).service("DestinationFinderWebService",["$resource","selectedCountryConfigs","requestHeadersFactory",c]).service("AirlineLookupWebService",["$resource","selectedCountryConfigs","requestHeadersFactory",d]).service("EquipmentLookupWebService",["$resource","selectedCountryConfigs","requestHeadersFactory",p]).service("PointOfSaleCountryLookupWebService",["$resource","selectedCountryConfigs","requestHeadersFactory",h]).service("ShoppingAirportsAndCitiesLookupWebService",["$resource","selectedCountryConfigs","requestHeadersFactory",f]).service("FareRangeAirportsAndCitiesLookupWebService",["$resource","selectedCountryConfigs","requestHeadersFactory",g]).service("LowFareForecastAirportsAndCitiesLookupWebService",["$resource","selectedCountryConfigs","requestHeadersFactory",m]).service("TravelThemeLookupWebService",["$resource","selectedCountryConfigs","requestHeadersFactory",v]).service("TravelSeasonalityWebService",["$resource","selectedCountryConfigs","requestHeadersFactory",l]).service("GeoSearchWebService",["$resource","selectedCountryConfigs","requestHeadersFactory","CachingDecorator",y]).service("GeoCodeWebService",["$resource","selectedCountryConfigs","requestHeadersFactory","CachingDecorator",b]).factory("businessMessagesErrorHandler",["ErrorReportingService",function(e){function t(e){return[e]}return{handle:function(n,r,i){if(i=i||t,null!==r.data){var a=i(r.data.message);e.reportErrors(a)}return n(a)}}}]).service("ErrorReportingService",["$rootScope","errorEvent",function(e,t){return{reportError:function(n,r){e.$broadcast(t,[n],r)},reportErrors:function(n,r){e.$broadcast(t,n,r)}}}]).service("NetworkErrorReportingService",["$rootScope","networkErrorEvent",function(e,t){return{reportError:function(n){e.$broadcast(t,[n],"Network error")}}}]).factory("ValidationErrorReportingService",["$rootScope","validationErrorEvent",function(e,t){return{reportErrors:function(n,r){e.$broadcast(t,n,r)}}}])}),n("util/BaseServices",["moment","angular","datamodel/ShoppingData"],function(e,t,n){"use strict";return t.module("baseServices",[]).service("DateService",function(){return{now:function(){return e()}}}).service("ShoppingOptionsCacheService",function(){return new n}).service("WidgetIdGeneratorService",function(){var e=0;return{next:function(){return e++}}})}),n("util/CommonDirectives",["angular"],function(e){"use strict";return e.module("commonDirectives",[]).directive("stringToNumber",function(){return{require:"ngModel",link:function(e,t,n,r){r.$parsers.push(function(e){return""+e}),r.$formatters.push(function(e){return parseFloat(e)})}}}).directive("hideOnClick",function(){return{scope:"A",link:function(t,n,r){e.element(n).on("click",function(){e.element(n).addClass("ng-hide")}),t.$on("$destroy",function(){e.element(n).off("click")})}}})}),n("util/CommonGenericFilters",["lodash","util/LodashExtensions","moment","angular"],function(e,t,n,r){"use strict";return r.module("commonFilters",[]).filter("startFrom",function(){return function(e,t){return t=parseInt(t),e.slice(t)}}).filter("moment",function(){return function(e,t){return n(e,t)}}).filter("stringJoiner",function(){return function(e,t,n,r){return n=n||"",r=r||"",t=t||", ",n+(e||[]).join(t)+r}}).filter("capitalize",function(){return function(t){return e.startCase(t.toLowerCase())}}).filter("unixTimeToMoment",function(){return function(e){return n.unix(e)}}).filter("momentDateFormat",function(){return function(t,n){return e.isUndefined(t)||null===t?"":t.format(n)}}).filter("passAllFilter",function(){return function(e){return e}}).filter("forEachApplyFilter",["$filter",function(t){var n=t("applyFilter");return function(){var t=Array.prototype.slice.call(arguments),r=t.shift();if(!e.isUndefined(r)){var i=r.map(function(e){t.unshift(e);var r=n.apply(null,t);return t.shift(e),r});return i}}}]).filter("applyFilter",["$filter",function(t){return function(){var n=Array.prototype.slice.call(arguments),r=n.shift(),i=n.shift();e.isUndefined(i)&&(i="passAllFilter");var a=t(i);return n.unshift(r),a.apply(null,n)}}])}),n("util/CommonDisplayFilters",["lodash","util/LodashExtensions","moment","angular","util/CommonGenericFilters"],function(e,t,n,r,i){"use strict";return r.module("commonFilters").filter("cabin",function(){return function(e){switch(e){case"Y":return"Economy";case"S":return"Premium Economy";case"C":return"Business";case"J":return"Premium Business";case"F":return"First";case"P":return"Premium First";default:return e}}}).filter("ticketRefundability",function(){return function(e){return e?"Non-refundable ticket":"Refundable ticket"}}).filter("baggageAllowance",function(){return function(n){if(e.isUndefined(n))return n;if(t.isDefined(n.Pieces)){var r;switch(n.Pieces){case 0:r="0 pieces";break;case 1:r="1 piece";break;default:r=n.Pieces+" pieces"}}if(n.Weight&&n.Unit)var i=n.Weight+" "+n.Unit;return[r,i].filter(t.isDefined).join(", ")}}).filter("meal",function(){var e={};return e.P="Alcoholic beverages for purchase",e.B="Breakfast",e.O="Cold meal",e.C="Complimentary alcoholic beverages",e.K="Continental Breakfast",e.D="Dinner ",e.F="Food for purchase",e.G="Food and Beverage / for purchase",e.H="Hot Meal",e.L="Lunch",e.M="Meal",e.N="No meal service",e.R="Refreshment",e.V="Refreshment / for purchase",e.S="Snack",function(t){return e[t]||t}}).filter("humanizeNumberOfStops",function(){return function(e){switch(e){case 0:return"Non-stop";case 1:return"One stop";default:return"Two+ stops"}}}).filter("passengerType",function(){var e={};return e.ADT="Adult",e.CNN="Child",e.SNN="Senior",e.SRC="Senior citizen",e.INS="Infant with a seat",e.INF="Infant without a seat",e.FFY="Frequent flyer",function(t){return e[t]||t}}).filter("humanizeDurationDays",function(){return function(e){return 1===e?"1 day":e>1&&7>e?e+" days":7===e?"1 week":14===e?"2 weeks":e+" days"}}).filter("humanizeMinutes",function(){return function(e){var t=Math.floor(e/60),n=e%60;return 0===t?e+" min.":1===t?t+" hour, "+n+" min.":t>1?t+" hour, "+n+" min.":void 0}})}),function(e,t){"function"==typeof n&&n.amd?n("ResizeSensor",t):"object"==typeof exports?module.exports=t():e.ResizeSensor=t()}(this,function(){function e(e,t){var n=Object.prototype.toString.call(e),r="[object Array]"===n||"[object NodeList]"===n||"[object HTMLCollection]"===n||"undefined"!=typeof jQuery&&e instanceof jQuery||"undefined"!=typeof Elements&&e instanceof Elements,i=0,a=e.length;if(r)for(;a>i;i++)t(e[i]);else t(e)}var t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)},n=function(r,i){function a(){var e=[];this.add=function(t){e.push(t)};var t,n;this.call=function(){for(t=0,n=e.length;n>t;t++)e[t].call()},this.remove=function(r){var i=[];for(t=0,n=e.length;n>t;t++)e[t]!==r&&i.push(e[t]);e=i},this.length=function(){return e.length}}function o(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle?window.getComputedStyle(e,null).getPropertyValue(t):e.style[t]}function s(e,n){if(e.resizedAttached){if(e.resizedAttached)return void e.resizedAttached.add(n)}else e.resizedAttached=new a,e.resizedAttached.add(n);e.resizeSensor=document.createElement("div"),e.resizeSensor.className="resize-sensor";var r="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;",i="position: absolute; left: 0; top: 0; transition: 0s;";e.resizeSensor.style.cssText=r,e.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+r+'"><div style="'+i+'"></div></div><div class="resize-sensor-shrink" style="'+r+'"><div style="'+i+' width: 200%; height: 200%"></div></div>',e.appendChild(e.resizeSensor),"static"==o(e,"position")&&(e.style.position="relative");var s=e.resizeSensor.childNodes[0],l=s.childNodes[0],u=e.resizeSensor.childNodes[1],c=function(){l.style.width=1e5+"px",l.style.height=1e5+"px",s.scrollLeft=1e5,s.scrollTop=1e5,u.scrollLeft=1e5,u.scrollTop=1e5};c();var d=!1,p=function(){e.resizedAttached&&(d&&(e.resizedAttached.call(),d=!1),t(p))};t(p);var h,f,g,m,v=function(){((g=e.offsetWidth)!=h||(m=e.offsetHeight)!=f)&&(d=!0,h=g,f=m),c()},y=function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n)};y(s,"scroll",v),y(u,"scroll",v)}e(r,function(e){s(e,i)}),this.detach=function(e){n.detach(r,e)}};return n.detach=function(t,n){e(t,function(e){e.resizedAttached&&"function"==typeof n&&(e.resizedAttached.remove(n),e.resizedAttached.length())||e.resizeSensor&&(e.removeChild(e.resizeSensor),delete e.resizeSensor,delete e.resizedAttached)})},n}),function(e,r){"function"==typeof n&&n.amd?n("elementQuery",["ResizeSensor"],r):"object"==typeof exports?module.exports=r(t("./ResizeSensor.js")):e.ElementQueries=r(e.ResizeSensor)}(this,function(e){var t=function(){function n(e){e||(e=document.documentElement);var t=window.getComputedStyle(e,null).fontSize;return parseFloat(t)||16}function r(e,t){var r=t.split(/\d/),i=r[r.length-1];switch(t=parseFloat(t),i){case"px":return t;case"em":return t*n(e);case"rem":return t*n();case"vw":return t*document.documentElement.clientWidth/100;case"vh":return t*document.documentElement.clientHeight/100;case"vmin":case"vmax":var a=document.documentElement.clientWidth/100,o=document.documentElement.clientHeight/100,s=Math["vmin"===i?"min":"max"];return t*s(a,o);default:return t}}function i(e){this.element=e,this.options={};var t,n,i,a,o,s,l,u=0,c=0;this.addOption=function(e){var t=[e.mode,e.property,e.value].join(",");this.options[t]=e};var d=["min-width","min-height","max-width","max-height"];this.call=function(){u=this.element.offsetWidth,c=this.element.offsetHeight,o={};for(t in this.options)this.options.hasOwnProperty(t)&&(n=this.options[t],i=r(this.element,n.value),a="width"==n.property?u:c,l=n.mode+"-"+n.property,s="","min"==n.mode&&a>=i&&(s+=n.value),"max"==n.mode&&i>=a&&(s+=n.value),o[l]||(o[l]=""),s&&-1===(" "+o[l]+" ").indexOf(" "+s+" ")&&(o[l]+=" "+s));for(var e in d)d.hasOwnProperty(e)&&(o[d[e]]?this.element.setAttribute(d[e],o[d[e]].substr(1)):this.element.removeAttribute(d[e]))}}function a(t,n){t.elementQueriesSetupInformation?t.elementQueriesSetupInformation.addOption(n):(t.elementQueriesSetupInformation=new i(t),t.elementQueriesSetupInformation.addOption(n),t.elementQueriesSensor=new e(t,function(){t.elementQueriesSetupInformation.call()})),t.elementQueriesSetupInformation.call(),h&&f.indexOf(t)<0&&f.push(t)}function o(e,t,n,r){"undefined"==typeof g[t]&&(g[t]={}),"undefined"==typeof g[t][n]&&(g[t][n]={}),"undefined"==typeof g[t][n][r]?g[t][n][r]=e:g[t][n][r]+=","+e}function s(){var e;if(document.querySelectorAll&&(e=document.querySelectorAll.bind(document)),e||"undefined"==typeof $$||(e=$$),e||"undefined"==typeof jQuery||(e=jQuery),!e)throw"No document.querySelectorAll, jQuery or Mootools's $$ found.";return e}function l(){var e=s();for(var t in g)if(g.hasOwnProperty(t))for(var n in g[t])if(g[t].hasOwnProperty(n))for(var r in g[t][n])if(g[t][n].hasOwnProperty(r))for(var i=e(g[t][n][r]),o=0,l=i.length;l>o;o++)a(i[o],{mode:t,property:n,value:r})}function u(t){function n(){var e,n=!1;for(e in r)r.hasOwnProperty(e)&&i[e].minWidth&&t.offsetWidth>i[e].minWidth&&(n=e);if(n||(n=o),s!=n)if(l[n])r[s].style.display="none",r[n].style.display="block",s=n;else{var u=new Image;u.onload=function(){r[n].src=a[n],r[s].style.display="none",r[n].style.display="block",l[n]=!0,s=n},u.src=a[n]}else r[n].src=a[n]}var r=[],i=[],a=[],o=0,s=-1,l=[];for(var u in t.children)if(t.children.hasOwnProperty(u)&&t.children[u].tagName&&"img"===t.children[u].tagName.toLowerCase()){r.push(t.children[u]);var c=t.children[u].getAttribute("min-width")||t.children[u].getAttribute("data-min-width"),d=t.children[u].getAttribute("data-src")||t.children[u].getAttribute("url");a.push(d);var p={minWidth:c};i.push(p),c?t.children[u].style.display="none":(o=r.length-1,t.children[u].style.display="block")}s=o,t.resizeSensor=new e(t,n),n(),h&&f.push(t)}function c(){for(var e=s(),t=e("[data-responsive-image],[responsive-image]"),n=0,r=t.length;r>n;n++)u(t[n])}function d(e){var t,n;for(e=e.replace(/'/g,'"');null!==(t=m.exec(e));)for(n=t[1]+t[3],attrs=t[2];null!==(attrMatch=v.exec(attrs));)o(n,attrMatch[1],attrMatch[2],attrMatch[3])}function p(e){var t="";if(e)if("string"==typeof e)e=e.toLowerCase(),(-1!==e.indexOf("min-width")||-1!==e.indexOf("max-width"))&&d(e);else for(var n=0,r=e.length;r>n;n++)1===e[n].type?(t=e[n].selectorText||e[n].cssText,-1!==t.indexOf("min-height")||-1!==t.indexOf("max-height")?d(t):(-1!==t.indexOf("min-width")||-1!==t.indexOf("max-width"))&&d(t)):4===e[n].type&&p(e[n].cssRules||e[n].rules)}var h=!1,f=[],g={},m=/,?[\s\t]*([^,\n]*?)((?:\[[\s\t]*?(?:min|max)-(?:width|height)[\s\t]*?[~$\^]?=[\s\t]*?"[^"]*?"[\s\t]*?])+)([^,\n\s\{]*)/gim,v=/\[[\s\t]*?(min|max)-(width|height)[\s\t]*?[~$\^]?=[\s\t]*?"([^"]*?)"[\s\t]*?]/gim,y=!1;this.init=function(e){h="undefined"==typeof e?!1:e;for(var t=0,n=document.styleSheets.length;n>t;t++)try{p(document.styleSheets[t].cssRules||document.styleSheets[t].rules||document.styleSheets[t].cssText)}catch(r){if("SecurityError"!==r.name)throw r}if(!y){var i=document.createElement("style");i.type="text/css",i.innerHTML="[responsive-image] > img, [data-responsive-image] {overflow: hidden; padding: 0; } [responsive-image] > img, [data-responsive-image] > img { width: 100%;}",document.getElementsByTagName("head")[0].appendChild(i),y=!0}l(),c()},this.update=function(e){this.init(e)},this.detach=function(){if(!this.withTracking)throw"withTracking is not enabled. We can not detach elements since we don not store it.Use ElementQueries.withTracking = true; before domready or call ElementQueryes.update(true).";for(var e;e=f.pop();)t.detach(e);f=[]}};t.update=function(e){t.instance.update(e)},t.detach=function(e){e.elementQueriesSetupInformation?(e.elementQueriesSensor.detach(),delete e.elementQueriesSetupInformation,delete e.elementQueriesSensor):e.resizeSensor&&(e.resizeSensor.detach(),delete e.resizeSensor)},t.withTracking=!1,t.init=function(){t.instance||(t.instance=new t),t.instance.init(t.withTracking)};var n=function(e){if(document.addEventListener)document.addEventListener("DOMContentLoaded",e,!1);else if(/KHTML|WebKit|iCab/i.test(navigator.userAgent))var t=setInterval(function(){/loaded|complete/i.test(document.readyState)&&(e(),clearInterval(t))},10);else window.onload=e};return t.listen=function(){n(t.init)},"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=t:(window.ElementQueries=t,t.listen()),t}),n("widgets/WidgetGlobalCallbacks",["elementQuery"],function(e){"use strict";return{linkComplete:function(t,n){e.init(),t.$on("$destroy",function(){e.detach(n)})}}}),n("datamodel/inspirationalSearch/InspirationalSearchCriteria",[],function(){"use strict";function e(e){this.origin=e.origin,this.pointofsalecountry=e.pointofsalecountry,this.inspirationalSearchPolicy=e.inspirationalSearchPolicy,this.theme=e.theme}return e}),n("datamodel/inspirationalSearch/InspirationalSearchPolicy",[],function(){"use strict";function e(e){this.lengthOfStayDays=e.lengthOfStayDays,this.earliestdeparturedate=e.earliestdeparturedate,this.latestdeparturedate=e.latestdeparturedate,this.topdestinations=e.topdestinations||50,this.maxOffersPerDestination=e.maxOffersPerDestination||10}return e}),n("datamodel/inspirationalSearch/SimpleInspirationalSearchPolicy",["moment"],function(e){"use strict";var t=2,n=e().add(2,"months"),r={lengthOfStayDays:[7,13,14,15],earliestdeparturedate:n,latestdeparturedate:n.clone().add(t,"days")};return r}),n("datamodel/inspirationalSearch/InspirationalSearchCriteriaFactory",["datamodel/inspirationalSearch/InspirationalSearchCriteria","datamodel/inspirationalSearch/InspirationalSearchPolicy","datamodel/inspirationalSearch/SimpleInspirationalSearchPolicy"],function(e,t,n){"use strict";return{create:function(r,i){return new e({origin:r,pointofsalecountry:i,inspirationalSearchPolicy:new t(n)})}}}),n("widgets/inspirational/ThemedDestinationFinderWidget.ctr",["moment","angular","lodash","util/LodashExtensions","widgets/SDSWidgets","util/BaseServices","widgets/WidgetGlobalCallbacks","util/CommonGenericFilters","datamodel/inspirationalSearch/InspirationalSearchCriteriaFactory"],function(e,t,n,r,i,a,o,s,l){"use strict";function u(e,t,r,i,a,o,s){function u(){e.model.originForPricesForDestinations=void 0,e.model.pricesForDestinationsGrouped=[]}function c(t,r){var a=n.extend(h,{theme:t});e.searchStartedCallback&&e.searchStartedCallback({searchCriteria:h}),i.getOffersOrderedSummary(a).then(function(t){t.pricesForDestinationsGrouped=t.pricesForDestinationsGrouped.map(d),e.model.pricesForDestinationsGrouped=t.pricesForDestinationsGrouped,e.model.originForPricesForDestinations=t.originForPricesForDestinations,e.model.priceTiersStatistics=t.priceTiersStatistics,e.searchSuccessCallback&&e.searchSuccessCallback({searchResults:t,searchCriteria:h})},function(t){u(),e.searchErrorCallback&&e.searchErrorCallback({errorMessages:t,searchCriteria:h})}).finally(r)}function d(t){return n.extend({},t,{searchOfferClicked:e.searchOfferClicked})}function p(i,a){void 0===a&&(a=n.noop),t.getClosestAirportData(i).then(function(t){h.origin=t.airportCode,h.pointofsalecountry=t.countryCode,r.getAirportGeoCoordinates(t.airportCode).then(function(t){e.closestAirportGeoCoordinates=t,a()})})}var h=l.create();e.model={originForPricesForDestinations:void 0,pricesForDestinationsGrouped:[]},e.closestAirportGeoCoordinates={latitude:0,longitude:0},e.isAnyDataToDisplayAvailable=function(){return!n.isEmpty(e.model.pricesForDestinationsGrouped)},e.$on("newThemedInspirationalSearchCriteriaEvent",function(){var e=a.searchCriteria.theme,t=function(){o.themeSearched=e,o.broadcast()};c(e,t)}),e.$on("tripOriginChangedEvent",function(e,t){var r=t;p(r,function(){c(h.theme,n.noop)})}),p(e.closestAirport)}return u}),n("widgets/inspirational/TilesThemedDestinationFinderWidget.drv",["widgets/WidgetGlobalCallbacks"],function(e){"use strict";function t(){return{scope:{closestAirport:"@?",searchOfferClicked:"&?",searchStartedCallback:"&?",searchSuccessCallback:"&?",searchErrorCallback:"&?"},templateUrl:"../widgets/view-templates/widgets/TilesThemedDestinationFinderWidget.tpl.html",controller:"TilesThemedDestinationFinderWidgetController",link:function(t,n){e.linkComplete(t,n)}}}return t}),n("widgets/inspirational/MapThemedDestinationFinderWidget.drv",["lodash"],function(e){"use strict";function t(e){return{scope:{closestAirport:"@?",searchOfferClicked:"&?",initialZoom:"@?",searchStartedCallback:"&?",searchSuccessCallback:"&?",searchErrorCallback:"&?"},templateUrl:"../widgets/view-templates/widgets/MapThemedDestinationFinderWidget.tpl.html",controller:"MapThemedDestinationFinderWidgetController",link:function(t){e.then(function(e){t.initialZoom=parseInt(t.initialZoom)||4;var n=[{icon:"http://analytics.sabre.com/sdsdemo/dslab/widgets/static/icons/bullets/bullet_sm_green.png"},{icon:"http://analytics.sabre.com/sdsdemo/dslab/widgets/static/icons/bullets/bullet_sm_yellow.png"},{icon:"http://analytics.sabre.com/sdsdemo/dslab/widgets/static/icons/bullets/bullet_sm_red.png"}];t.markerEvents={mouseover:function(e,t,n){n.control.shortDetailsShown=!0},mouseout:function(e,t,n){n.control.shortDetailsShown=!1}},t.getTierIcon=function(e){return t.getMarkerOptions(e).icon},t.getMarkerOptions=function(e){return n[e-1]}})}}}return t.$inject=["uiGmapGoogleMapApi"],t}),n("widgets/inspirational/ThemedInspirationalSearchCriteriaBroadcastingService.srv",[],function(){"use strict";function e(e,t){var n={searchCriteria:void 0,broadcast:function(){e.$broadcast(t)}};return n}return e.$inject=["$rootScope","newThemedInspirationalSearchCriteriaEvent"],e}),n("widgets/inspirational/ThemedInspirationalSearchCompleteBroadcastingService.srv",[],function(){"use strict";function e(e,t){var n={themeSearched:void 0,broadcast:function(){e.$broadcast(t)}};return n}return e.$inject=["$rootScope","themedInspirationalSearchCompleteEvent"],e}),n("widgets/inspirational/TripOriginChangedBroadcastingService.srv",[],function(){"use strict";function e(e,t){var n={onOriginChange:function(n){e.$broadcast(t,n)}};return n}return e.$inject=["$rootScope","tripOriginChangedEvent"],e}),n("widgets/inspirational/TripOriginChangedLocalStorageService.srv",[],function(){"use strict";function e(e){var t={onOriginChange:function(t){e.origin=t}};return t}return e}),n("widgets/inspirational/TripOriginChangedCompositeService.srv",[],function(){"use strict";function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n={onOriginChange:function(t){e.forEach(function(e){e.onOriginChange(t)})}};return n}return e}),n("widgets/inspirational/TripOriginLocalStorageProvider.srv",[],function(){"use strict";function e(e){var t={get:function(){return e.origin}};return t}return e}),n("webservices/lookup/TravelThemeLookupDataService",["angular","lodash","webservices/SabreDevStudioWebServicesModule"],function(e,t,n){"use strict";return e.module("sabreDevStudioWebServices").factory("TravelThemeLookupDataService",["$q","TravelThemeLookupWebService","$localStorage","ErrorReportingService","businessMessagesErrorHandler",function(e,n,r,i,a){function o(e){return e.Themes.map(function(e){return e.Theme})}return{getTravelThemes:function(){return e(function(e,s){return r.travelThemesList?e(t.clone(r.travelThemesList)):void n.get().$promise.then(function(n){var i=o(n);r.travelThemesList=i,e(t.clone(i))},function(e){i.reportError("Cannot get travel themes dictionary"),a.handle(s,e)})})}}}])}),n("widgets/inspirational/TravelThemesSelectionBar.drv",["angular","lodash","util/LodashExtensions","webservices/lookup/TravelThemeLookupDataService"],function(e,t,n,r){"use strict";function i(r,i,a,o,s){return{scope:{closestAirport:"@?",themeSelectedCallback:"&?"},templateUrl:"../widgets/view-templates/widgets/TravelThemesSelectionBar.tpl.html",link:function(a){function l(){r.getTravelThemes().then(function(e){a.travelThemes=e;var n=t.random(a.travelThemes.length-1),r=a.travelThemes[n];s(function(){u(r)})})}function u(e){var n={theme:e};t.isFunction(a.themeSelectedCallback)&&a.themeSelectedCallback(n),i.searchCriteria=n,i.broadcast()}a.travelThemes=[],a.selectedTravelTheme=void 0;var c;a.travelThemeClicked=function(t,n){var r=t.target||t.srcElement;c=e.element(r),c.addClass("SDSSearchInProgressUponClicked"),u(n)},a.$on("themedInspirationalSearchCompleteEvent",function(){n.isDefined(c)&&c.removeClass("SDSSearchInProgressUponClicked"),a.selectedTravelTheme=o.themeSearched}),l()}}}return i.$inject=["TravelThemeLookupDataService","ThemedInspirationalSearchCriteriaBroadcastingService","themedInspirationalSearchCompleteEvent","ThemedInspirationalSearchCompleteBroadcastingService","$timeout"],i}),function i(e,n,r){function a(s,l){if(!n[s]){if(!e[s]){var u="function"==typeof t&&t;if(!l&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[s]={exports:{}};e[s][0].call(d.exports,function(t){var n=e[s][1][t];return a(n?n:t)},d,d.exports,i,e,n,r)}return n[s].exports}for(var o="function"==typeof t&&t,s=0;s<r.length;s++)a(r[s]);return a}({1:[function(e,t,n){angular.module("nemLogging",[]),angular.module("nemLogging").provider("nemDebug",function(){var t=null;return t=e("debug"),this.$get=function(){return t},this.debug=t,this});var r=function(e,t){return function(){return e.apply(t,arguments)}},i=[].slice;angular.module("nemLogging").provider("nemSimpleLogger",["nemDebugProvider",function(e){var t,n,a,o,s,l,u,c,d,p,h,f;for(h=e.debug,a={},o=["debug","info","warn","error","log"],t={},d=c=0,p=o.length;p>c;d=++c)f=o[d],t[f]=d;return l=function(e,t,n){return e>=t?n():void 0},s=function(e){var t,n,r;if(t=!1,!e)return t;for(n=0,r=o.length;r>n&&(f=o[n],t=null!=e[f]&&"function"==typeof e[f],t);n++);return t},u=function(e,t){var n,r,i,s;for(null==a[e]&&(a[e]=h(e)),n=a[e],s={},r=0,i=o.length;i>r;r++)f=o[r],s[f]="debug"===f?n:t[f];return s},n=function(){function e(e){var n,a,u,c,d;if(this.$log=e,this.spawn=r(this.spawn,this),!this.$log)throw"internalLogger undefined";if(!s(this.$log))throw"@$log is invalid";for(this.doLog=!0,d={},n=function(e){return function(n){return d[n]=function(){var r;return r=1<=arguments.length?i.call(arguments,0):[],e.doLog?l(t[n],e.currentLevel,function(){var t;return(t=e.$log)[n].apply(t,r)}):void 0},e[n]=d[n]}}(this),a=0,u=o.length;u>a;a++)c=o[a],n(c);this.LEVELS=t,this.currentLevel=t.error}return e.prototype.spawn=function(t){if("string"==typeof t){if(!s(this.$log))throw"@$log is invalid";if(!h)throw"nemDebug is undefined this is probably the light version of this library sep debug logggers is not supported!";return u(t,this.$log)}return new e(t||this.$log)},e}(),this.decorator=["$log",function(e){var r;return r=new n(e),r.currentLevel=t.debug,r}],this.$get=["$log",function(e){return new n(e)}],this}])},{debug:2}],2:[function(e,t,n){function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function i(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var i=0,a=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(a=i))}),e.splice(a,0,r),e}function a(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(t){}}function s(){var e;try{e=n.storage.debug}catch(t){}return e}function l(){try{return window.localStorage}catch(e){}}n=t.exports=e("./debug"),n.log=a,n.formatArgs=i,n.save=o,n.load=s,n.useColors=r,n.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:l(),
n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){return JSON.stringify(e)},n.enable(s())},{"./debug":3}],3:[function(e,t,n){function r(){return n.colors[c++%n.colors.length]}function i(e){function t(){}function i(){var e=i,t=+new Date,a=t-(u||t);e.diff=a,e.prev=u,e.curr=t,u=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=r());var o=Array.prototype.slice.call(arguments);o[0]=n.coerce(o[0]),"string"!=typeof o[0]&&(o=["%o"].concat(o));var s=0;o[0]=o[0].replace(/%([a-z%])/g,function(t,r){if("%%"===t)return t;s++;var i=n.formatters[r];if("function"==typeof i){var a=o[s];t=i.call(e,a),o.splice(s,1),s--}return t}),"function"==typeof n.formatArgs&&(o=n.formatArgs.apply(e,o));var l=i.log||n.log||void 0;l.apply(e,o)}t.enabled=!1,i.enabled=!0;var a=n.enabled(e)?i:t;return a.namespace=e,a}function a(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),r=t.length,i=0;r>i;i++)t[i]&&(e=t[i].replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function o(){n.enable("")}function s(e){var t,r;for(t=0,r=n.skips.length;r>t;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;r>t;t++)if(n.names[t].test(e))return!0;return!1}function l(e){return e instanceof Error?e.stack||e.message:e}n=t.exports=i,n.coerce=l,n.disable=o,n.enable=a,n.enabled=s,n.humanize=e("ms"),n.names=[],n.skips=[],n.formatters={};var u,c=0},{ms:4}],4:[function(e,t,n){function r(e){if(e=""+e,!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*d;case"days":case"day":case"d":return n*c;case"hours":case"hour":case"hrs":case"hr":case"h":return n*u;case"minutes":case"minute":case"mins":case"min":case"m":return n*l;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}}function i(e){return e>=c?Math.round(e/c)+"d":e>=u?Math.round(e/u)+"h":e>=l?Math.round(e/l)+"m":e>=s?Math.round(e/s)+"s":e+"ms"}function a(e){return o(e,c,"day")||o(e,u,"hour")||o(e,l,"minute")||o(e,s,"second")||e+" ms"}function o(e,t,n){return t>e?void 0:1.5*t>e?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var s=1e3,l=60*s,u=60*l,c=24*u,d=365.25*c;t.exports=function(e,t){return t=t||{},"string"==typeof e?r(e):t.long?a(e):i(e)}},{}]},{},[1]),n("angular-simple-logger",["angular"],function(){}),function(e,t,n,r){"use strict";(function(){t.module("uiGmapgoogle-maps.providers",["nemLogging"]),t.module("uiGmapgoogle-maps.wrapped",[]),t.module("uiGmapgoogle-maps.extensions",["uiGmapgoogle-maps.wrapped","uiGmapgoogle-maps.providers"]),t.module("uiGmapgoogle-maps.directives.api.utils",["uiGmapgoogle-maps.extensions"]),t.module("uiGmapgoogle-maps.directives.api.managers",[]),t.module("uiGmapgoogle-maps.directives.api.options",["uiGmapgoogle-maps.directives.api.utils"]),t.module("uiGmapgoogle-maps.directives.api.options.builders",[]),t.module("uiGmapgoogle-maps.directives.api.models.child",["uiGmapgoogle-maps.directives.api.utils","uiGmapgoogle-maps.directives.api.options","uiGmapgoogle-maps.directives.api.options.builders"]),t.module("uiGmapgoogle-maps.directives.api.models.parent",["uiGmapgoogle-maps.directives.api.managers","uiGmapgoogle-maps.directives.api.models.child","uiGmapgoogle-maps.providers"]),t.module("uiGmapgoogle-maps.directives.api",["uiGmapgoogle-maps.directives.api.models.parent"]),t.module("uiGmapgoogle-maps",["uiGmapgoogle-maps.directives.api","uiGmapgoogle-maps.providers"])}).call(this),function(){t.module("uiGmapgoogle-maps.providers").factory("uiGmapMapScriptLoader",["$q","uiGmapuuid",function(r,i){var a,o,s,l,u;return l=void 0,u=void 0,a=function(e){return e.china?"http://maps.google.cn/maps/api/js?":"auto"===e.transport?"//maps.googleapis.com/maps/api/js?":e.transport+"://maps.googleapis.com/maps/api/js?"},o=function(e){var t,r,o,s;return t=["transport","isGoogleMapsForWork","china","preventLoad"],e.isGoogleMapsForWork&&t.push("key"),r=n.map(n.omit(e,t),function(e,t){return t+"="+e}),l&&(s=document.getElementById(l),s.parentNode.removeChild(s)),r=r.join("&"),o=document.createElement("script"),o.id=l="ui_gmap_map_load_"+i.generate(),o.type="text/javascript",o.src=a(e)+r,document.head.appendChild(o)},s=function(){return t.isDefined(e.google)&&t.isDefined(e.google.maps)},{load:function(t){var n,i;return n=r.defer(),s()?(n.resolve(e.google.maps),n.promise):(i=t.callback="onGoogleMapsReady"+Math.round(1e3*Math.random()),e[i]=function(){e[i]=null,n.resolve(e.google.maps)},e.navigator.connection&&e.Connection&&e.navigator.connection.type===e.Connection.NONE&&!t.preventLoad?document.addEventListener("online",function(){return s()?void 0:o(t)}):t.preventLoad||o(t),u=t,u.randomizedFunctionName=i,n.promise)},manualLoad:function(){var t;return t=u,s()?e[t.randomizedFunctionName]?e[t.randomizedFunctionName]():void 0:o(t)}}}]).provider("uiGmapGoogleMapApi",function(){return this.options={transport:"https",isGoogleMapsForWork:!1,china:!1,v:"3",libraries:"",language:"en",preventLoad:!1},this.configure=function(e){t.extend(this.options,e)},this.$get=["uiGmapMapScriptLoader",function(e){return function(t){return t.load(e.options)}}(this)],this}).service("uiGmapGoogleMapApiManualLoader",["uiGmapMapScriptLoader",function(e){return{load:function(){e.manualLoad()}}}])}.call(this),function(){var r=function(e,t){return function(){return e.apply(t,arguments)}},i=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;t.module("uiGmapgoogle-maps.extensions").service("uiGmapExtendGWin",function(){return{init:n.once(function(){var t;if(google||("undefined"!=typeof google&&null!==google?google.maps:void 0)||null!=google.maps.InfoWindow)return google.maps.InfoWindow.prototype._open=google.maps.InfoWindow.prototype.open,google.maps.InfoWindow.prototype._close=google.maps.InfoWindow.prototype.close,google.maps.InfoWindow.prototype._isOpen=!1,google.maps.InfoWindow.prototype.open=function(e,t,n){null==n&&(this._isOpen=!0,this._open(e,t,!0))},google.maps.InfoWindow.prototype.close=function(e){null==e&&(this._isOpen=!1,this._close(!0))},google.maps.InfoWindow.prototype.isOpen=function(e){return null==e&&(e=void 0),null==e?this._isOpen:this._isOpen=e},e.InfoBox&&(e.InfoBox.prototype._open=e.InfoBox.prototype.open,e.InfoBox.prototype._close=e.InfoBox.prototype.close,e.InfoBox.prototype._isOpen=!1,e.InfoBox.prototype.open=function(e,t){this._isOpen=!0,this._open(e,t)},e.InfoBox.prototype.close=function(){this._isOpen=!1,this._close()},e.InfoBox.prototype.isOpen=function(e){return null==e&&(e=void 0),null==e?this._isOpen:this._isOpen=e},t=function(t){function a(t){this.getOrigCloseBoxImg_=r(this.getOrigCloseBoxImg_,this),this.getCloseBoxDiv_=r(this.getCloseBoxDiv_,this);var i;i=new e.InfoBox(t),n.extend(this,i),null!=t.closeBoxDiv&&(this.closeBoxDiv_=t.closeBoxDiv)}return i(a,t),a.prototype.getCloseBoxDiv_=function(){return this.closeBoxDiv_},a.prototype.getCloseBoxImg_=function(){var e,t;return e=this.getCloseBoxDiv_(),t=this.getOrigCloseBoxImg_(),e||t},a.prototype.getOrigCloseBoxImg_=function(){var e;return e="",""!==this.closeBoxURL_&&(e="<img",e+=" src='"+this.closeBoxURL_+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin_+";",e+="'>"),e},a}(e.InfoBox),e.uiGmapInfoBox=t),e.MarkerLabel_?e.MarkerLabel_.prototype.setContent=function(){var e;e=this.marker_.get("labelContent"),e&&!n.isEqual(this.oldContent,e)&&("undefined"==typeof(null!=e?e.nodeType:void 0)?(this.labelDiv_.innerHTML=e,this.eventDiv_.innerHTML=this.labelDiv_.innerHTML,this.oldContent=e):(this.labelDiv_.innerHTML="",this.labelDiv_.appendChild(e),e=e.cloneNode(!0),this.labelDiv_.innerHTML="",this.eventDiv_.appendChild(e),this.oldContent=e))}:void 0})}})}.call(this),function(){t.module("uiGmapgoogle-maps.extensions").service("uiGmapLodash",function(){var e,t,r,i,a,o,s,l;return o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,a=/\\(\\)?/g,r=function(e){var t,r,i;return r=e.missingName,i=e.swapName,t=e.isProto,null==n[r]&&(n[r]=n[i],t)?n.prototype[r]=n[i]:void 0},[{missingName:"contains",swapName:"includes",isProto:!0},{missingName:"includes",swapName:"contains",isProto:!0},{missingName:"object",swapName:"zipObject"},{missingName:"zipObject",swapName:"object"},{missingName:"all",swapName:"every"},{missingName:"every",swapName:"all"},{missingName:"any",swapName:"some"},{missingName:"some",swapName:"any"},{missingName:"first",swapName:"head"},{missingName:"head",swapName:"first"}].forEach(function(e){return r(e)}),null==n.get&&(s=function(e){return n.isObject(e)?e:Object(e)},t=function(e){return null===e?"":e+""},l=function(e){var r;return n.isArray(e)?e:(r=[],t(e).replace(o,function(e,t,n,i){r.push(n?i.replace(a,"$1"):t||e)}),r)},e=function(e,t,r){var i,a;if(null!==e){void 0!==r&&r in s(e)&&(t=[r]),i=0,a=t.length;for(;!n.isUndefined(e)&&a>i;)e=e[t[i++]];return i&&i===a?e:void 0}},i=function(t,n,r){var i;return i=null===t?void 0:e(t,l(n),n+""),void 0===i?r:i},n.get=i),this.intersectionObjects=function(e,t,r){var i;return null==r&&(r=void 0),i=n.map(e,function(e){return n.find(t,function(t){return null!=r?r(e,t):n.isEqual(e,t)})}),n.filter(i,function(e){return null!=e})},this.containsObject=n.includeObject=function(e,t,r){return null==r&&(r=void 0),null===e?!1:n.some(e,function(e){return null!=r?r(e,t):n.isEqual(e,t)})},this.differenceObjects=function(e,t,r){return null==r&&(r=void 0),n.filter(e,function(e){return function(n){return!e.containsObject(t,n,r)}}(this))},this.withoutObjects=this.differenceObjects,this.indexOfObject=function(e,t,r,i){var a,o;if(null==e)return-1;if(a=0,o=e.length,i){if("number"!=typeof i)return a=n.sortedIndex(e,t),e[a]===t?a:-1;a=0>i?Math.max(0,o+i):i}for(;o>a;){if(null!=r){if(r(e[a],t))return a}else if(n.isEqual(e[a],t))return a;a++}return-1},this.isNullOrUndefined=function(e){return n.isNull(e||n.isUndefined(e))},this})}.call(this),function(){t.module("uiGmapgoogle-maps.extensions").factory("uiGmapString",function(){return function(e){return this.contains=function(t,n){return-1!==e.indexOf(t,n)},this}})}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmap_sync",[function(){return{fakePromise:function(){var e;return e=void 0,{then:function(t){return e=t},resolve:function(){return e.apply(void 0,arguments)}}}}}]).service("uiGmap_async",["$timeout","uiGmapPromise","uiGmapLogger","$q","uiGmapDataStructures","uiGmapGmapUtil",function(e,r,i,a,o,s){var l,u,c,d,p,h,f,g,m,v,y,b,S,D,w,A,C,_,x,$;return x=r.promiseTypes,b=r.isInProgress,_=r.promiseStatus,l=r.ExposedPromise,c=r.SniffedPromise,S=function(e,t){var n;return n=e.promise(),n.promiseType=e.promiseType,n.$$state&&i.debug("promiseType: "+n.promiseType+", state: "+_(n.$$state.status)),n.cancelCb=t,n},g=function(e,t){return e.promiseType===x.create&&t.promiseType!==x.delete&&t.promiseType!==x.init?(i.debug("lastPromise.promiseType "+t.promiseType+", newPromiseType: "+e.promiseType+", SKIPPED MUST COME AFTER DELETE ONLY"),!0):!1},C=function(e,t,r){var a;return t.promiseType===x.delete&&r.promiseType!==x.delete&&null!=r.cancelCb&&n.isFunction(r.cancelCb)&&b(r)&&(i.debug("promiseType: "+t.promiseType+", CANCELING LAST PROMISE type: "+r.promiseType),r.cancelCb("cancel safe"),a=e.peek(),null!=a&&b(a))?a.hasOwnProperty("cancelCb")&&n.isFunction(a.cancelCb)?(i.debug("promiseType: "+a.promiseType+", CANCELING FIRST PROMISE type: "+a.promiseType),a.cancelCb("cancel safe")):i.warn("first promise was not cancelable"):void 0},u=function(e,t,r){var i,a;if(e.existingPieces){if(i=n.last(e.existingPieces._content),g(t,i))return;return C(e.existingPieces,t,i),a=l(i.finally(function(){return S(t,r)})),a.cancelCb=r,a.promiseType=t.promiseType,e.existingPieces.enqueue(a),i.finally(function(){return e.existingPieces.dequeue()})}return e.existingPieces=new o.Queue,e.existingPieces.enqueue(S(t,r))},w=function(e,t,r,a,o){var s;return null==r&&(r=""),s=function(e){return i.debug(e+": "+e),null!=a&&n.isFunction(a)?a(e):void 0},u(e,c(o,t),s)},h=80,v={value:null},$=function(e,t,n){var r,i;try{return e.apply(t,n)}catch(i){return r=i,v.value=r,v}},D=function(e,t,n,r){var a,o;return o=$(e,t,r),o===v&&(a="error within chunking iterator: "+v.value,i.error(a),n.reject(a)),"cancel safe"===o?!1:!0},d=function(e,t,n){var r,i;return r=e===t,i=t[n],r?i:e[i]},p=["length","forEach","map"],y=function(e,r,i,a){var o,s,l;if(t.isArray(e))o=e;else if(r)o=r;else{o=[];for(s in e)l=e[s],e.hasOwnProperty(s)&&!n.includes(p,s)&&o.push(s)}return null==a&&(a=i),t.isArray(o)&&!(null!=o?o.length:void 0)&&a!==i?i():a(o,r)},f=function(r,i,a,o,s,l,u,c){return y(r,c,function(c,p){var h,g,m,v;for(h=i&&i<c.length?i:c.length,g=u,m=!0;m&&h--&&g<(c?c.length:g+1);)v=d(r,c,g),m=t.isFunction(v)?!0:D(o,void 0,l,[v,g]),++g;if(c){if(!(m&&g<c.length))return l.resolve();if(u=g,i)return null!=s&&n.isFunction(s)&&D(s,void 0,l,[]),e(function(){return f(r,i,a,o,s,l,u,p)},a,!1)}})},m=function(e,t,n,a,o,s,l){var u,c,d;return null==n&&(n=h),null==o&&(o=0),null==s&&(s=1),d=void 0,c=r.defer(),d=c.promise,s?y(e,l,function(){return c.resolve(),d},function(r,i){return f(e,n,s,t,a,c,o,i),d}):(u="pause (delay) must be set from _async!",i.error(u),c.reject(u),d)},A=function(e,t,n,i,a,o,s){var l;return l=[],y(e,s,function(){return r.resolve(l)},function(r,s){return m(e,function(e){return l.push(t(e))},n,i,a,o,s).then(function(){return l})})},{each:m,map:A,managePromiseQueue:w,promiseLock:w,defaultChunkSize:h,getArrayAndKeys:y,chunkSizeFrom:function(e,t){return null==t&&(t=void 0),n.isNumber(e)&&(t=e),(s.isFalse(e)||e===!1)&&(t=!1),t}}}])}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapBaseObject",function(){var t,n;return n=["extended","included"],t=function(){function t(){}return t.extend=function(t){var r,i,a;for(r in t)a=t[r],e.call(n,r)<0&&(this[r]=a);return null!=(i=t.extended)&&i.apply(this),this},t.include=function(t){var r,i,a;for(r in t)a=t[r],e.call(n,r)<0&&(this.prototype[r]=a);return null!=(i=t.included)&&i.apply(this),this},t}()})}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapChildEvents",function(){return{onChildCreation:function(e){}}})}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapCtrlHandle",["$q",function(e){var t;return t={handle:function(n,r){return n.$on("$destroy",function(){return t.handle(n)}),n.deferred=e.defer(),{getScope:function(){return n}}},mapPromise:function(e,t){var n;return n=t.getScope(),n.deferred.promise.then(function(t){return e.map=t}),n.deferred.promise}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapEventsHelper",["uiGmapLogger",function(e){var r,i;return i=function(e){return t.isDefined(e.events)&&null!=e.events&&t.isObject(e.events)},r=function(e,t){return i(e)?e:i(t)?t:void 0},{setEvents:function(e,i,a,o){var s;return s=r(i,a),null!=s?n.compact(n.map(s.events,function(r,l){var u;return o&&(u=n(o).includes(l)),s.events.hasOwnProperty(l)&&t.isFunction(s.events[l])&&!u?google.maps.event.addListener(e,l,function(){return i.$evalAsync||(i.$evalAsync=function(){}),i.$evalAsync(r.apply(i,[e,l,a,arguments]))}):void 0})):void 0},removeEvents:function(e){var t,n;if(e)for(t in e)n=e[t],n&&e.hasOwnProperty(t)&&google.maps.event.removeListener(n)}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapFitHelper",["uiGmapLogger","$timeout",function(e,t){return{fit:function(e,r){var i,a,o,s,l;if(r&&(null!=e?e.length:void 0)){i=new google.maps.LatLngBounds,a=!1;for(o in e)s=e[o],s&&(a||(a=!0),l=n.isFunction(s.getPosition)?s.getPosition():s),i.extend(l);if(a)return t(function(){return r.fitBounds(i)})}}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapGmapUtil",["uiGmapLogger","$compile",function(e,r){var i,a,o,s,l,u;return a=function(e,t,n){return e===t||-1!==n.indexOf(e)},i=function(e){return a(e,!1,["false","FALSE",0,"n","N","no","NO"])},s=function(e){return Array.isArray(e)&&2===e.length?e[1]:t.isDefined(e.type)&&"Point"===e.type?e.coordinates[1]:e.latitude},l=function(e){return Array.isArray(e)&&2===e.length?e[0]:t.isDefined(e.type)&&"Point"===e.type?e.coordinates[0]:e.longitude},o=function(e){return e?e instanceof google.maps.LatLng?e:Array.isArray(e)&&2===e.length?new google.maps.LatLng(e[1],e[0]):t.isDefined(e.type)&&"Point"===e.type?new google.maps.LatLng(e.coordinates[1],e.coordinates[0]):new google.maps.LatLng(e.latitude,e.longitude):void 0},u=function(e){if(t.isUndefined(e))return!1;if(n.isArray(e)){if(2===e.length)return!0}else if(null!=e&&(null!=e?e.type:void 0)&&"Point"===e.type&&n.isArray(e.coordinates)&&2===e.coordinates.length)return!0;return e&&t.isDefined((null!=e?e.latitude:void 0)&&t.isDefined(null!=e?e.longitude:void 0))?!0:!1},{setCoordsFromEvent:function(e,n){return e?(Array.isArray(e)&&2===e.length?(e[1]=n.lat(),e[0]=n.lng()):t.isDefined(e.type)&&"Point"===e.type?(e.coordinates[1]=n.lat(),e.coordinates[0]=n.lng()):(e.latitude=n.lat(),e.longitude=n.lng()),e):void 0},getLabelPositionPoint:function(e){var t,n;if(void 0!==e)return e=/^([-\d\.]+)\s([-\d\.]+)$/.exec(e),t=parseFloat(e[1]),n=parseFloat(e[2]),null!=t&&null!=n?new google.maps.Point(t,n):void 0},createWindowOptions:function(n,i,a,s){var l;return null!=a&&null!=s&&null!=r?(l=t.extend({},s,{content:this.buildContent(i,s,a),position:null!=s.position?s.position:t.isObject(n)?n.getPosition():o(i.coords)}),null!=n&&null==(null!=l?l.pixelOffset:void 0)&&(null==l.boxClass||(l.pixelOffset={height:0,width:-2})),l):s?s:(e.error("infoWindow defaults not defined"),a?void 0:e.error("infoWindow content not defined"))},buildContent:function(e,t,n){var i,a;return null!=t.content?a=t.content:null!=r?(n=n.replace(/^\s+|\s+$/g,""),i=""===n?"":r(n)(e),i.length>0&&(a=i[0])):a=n,a},defaultDelay:50,isTrue:function(e){return a(e,!0,["true","TRUE",1,"y","Y","yes","YES"])},isFalse:i,isFalsy:function(e){return a(e,!1,[void 0,null])||i(e)},getCoords:o,validateCoords:u,equalCoords:function(e,t){return s(e)===s(t)&&l(e)===l(t)},validatePath:function(e){var r,i,a,o;if(i=0,t.isUndefined(e.type)){if(!Array.isArray(e)||e.length<2)return!1;for(;i<e.length;){if(!(t.isDefined(e[i].latitude)&&t.isDefined(e[i].longitude)||"function"==typeof e[i].lat&&"function"==typeof e[i].lng))return!1;i++}return!0}if(t.isUndefined(e.coordinates))return!1;if("Polygon"===e.type){if(e.coordinates[0].length<4)return!1;r=e.coordinates[0]}else if("MultiPolygon"===e.type){if(o={max:0,index:0},n.forEach(e.coordinates,function(e,t){return e[0].length>this.max?(this.max=e[0].length,this.index=t):void 0},o),a=e.coordinates[o.index],r=a[0],r.length<4)return!1}else{if("LineString"!==e.type)return!1;if(e.coordinates.length<2)return!1;r=e.coordinates}for(;i<r.length;){if(2!==r[i].length)return!1;i++}return!0},convertPathPoints:function(e){var r,i,a,o,s;if(i=0,o=new google.maps.MVCArray,t.isUndefined(e.type))for(;i<e.length;)t.isDefined(e[i].latitude)&&t.isDefined(e[i].longitude)?a=new google.maps.LatLng(e[i].latitude,e[i].longitude):"function"==typeof e[i].lat&&"function"==typeof e[i].lng&&(a=e[i]),o.push(a),i++;else for("Polygon"===e.type?r=e.coordinates[0]:"MultiPolygon"===e.type?(s={max:0,index:0},n.forEach(e.coordinates,function(e,t){return e[0].length>this.max?(this.max=e[0].length,this.index=t):void 0},s),r=e.coordinates[s.index][0]):"LineString"===e.type&&(r=e.coordinates);i<r.length;)o.push(new google.maps.LatLng(r[i][1],r[i][0])),i++;return o},getPath:function(e,t){var r;return null!=t&&n.isString(t)?(r=e,n.each(t.split("."),function(e){return r?r=r[e]:void 0}),r):t},validateBoundPoints:function(e){return t.isUndefined(e.sw.latitude)||t.isUndefined(e.sw.longitude)||t.isUndefined(e.ne.latitude)||t.isUndefined(e.ne.longitude)?!1:!0},convertBoundPoints:function(e){var t;return t=new google.maps.LatLngBounds(new google.maps.LatLng(e.sw.latitude,e.sw.longitude),new google.maps.LatLng(e.ne.latitude,e.ne.longitude))},fitMapBounds:function(e,t){return e.fitBounds(t)}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapIsReady",["$q","$timeout",function(e,t){var n,r,i,a;return r=0,a=[],i=function(){return e.all(a)},n=function(e,a,o){return t(function(){return 0>=o?void e.reject("Your maps are not found we have checked the maximum amount of times. :)"):void(r!==a?n(e,a,o-1):e.resolve(i()))},100)},{spawn:function(){var t;return t=e.defer(),a.push(t.promise),r+=1,{instance:r,deferred:t}},promises:i,instances:function(){return r},promise:function(t,r){var i;return null==t&&(t=1),null==r&&(r=50),i=e.defer(),n(i,t,r),i.promise},reset:function(){r=0,a.length=0},decrement:function(){r>0&&(r-=1),a.length&&(a.length-=1)}}}])}.call(this),function(){var e=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapLinked",["uiGmapBaseObject",function(t){var n;return n=function(t){function n(e,t,n,r){this.scope=e,this.element=t,this.attrs=n,this.ctrls=r}return e(n,t),n}(t)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapLogger",["nemSimpleLogger",function(e){return e.spawn()}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapModelKey",["uiGmapBaseObject","uiGmapGmapUtil",function(i,a){return function(i){function o(t,n){this.scope=t,this.interface=null!=n?n:{scopeKeys:[]},this.modelsLength=e(this.modelsLength,this),this.updateChild=e(this.updateChild,this),this.destroy=e(this.destroy,this),this.setChildScope=e(this.setChildScope,this),this.getChanges=e(this.getChanges,this),this.getProp=e(this.getProp,this),this.setIdKey=e(this.setIdKey,this),this.modelKeyComparison=e(this.modelKeyComparison,this),o.__super__.constructor.call(this),this.defaultIdKey="id",this.idKey=void 0}return r(o,i),o.prototype.evalModelHandle=function(e,t){return null!=e&&null!=t?"self"===t?e:(n.isFunction(t)&&(t=t()),a.getPath(e,t)):void 0},o.prototype.modelKeyComparison=function(e,t){var r,i,o,s,l,u;if(o=this.interface.scopeKeys.indexOf("coords")>=0,(o&&null!=this.scope.coords||!o)&&(l=this.scope),null==l)throw"No scope set!";return o&&(r=this.scopeOrModelVal("coords",l,e),i=this.scopeOrModelVal("coords",l,t),s=a.equalCoords(r,i),!s)?s:(u=n.without(this.interface.scopeKeys,"coords"),s=n.every(u,function(n){return function(r){return n.scopeOrModelVal(l[r],l,e)===n.scopeOrModelVal(l[r],l,t)}}(this)))},o.prototype.setIdKey=function(e){return this.idKey=null!=e.idKey?e.idKey:this.defaultIdKey},o.prototype.setVal=function(e,t,n){return this.modelOrKey(e,t=n),e},o.prototype.modelOrKey=function(e,t){return null!=t?"self"!==t?a.getPath(e,t):e:void 0},o.prototype.getProp=function(e,t,n){return this.scopeOrModelVal(e,t,n)},o.prototype.getChanges=function(e,t,r){var i,a,o;r&&(t=n.pick(t,r),e=n.pick(e,r)),a={},o={},i={};for(o in e)t&&t[o]===e[o]||(n.isArray(e[o])?a[o]=e[o]:n.isObject(e[o])?(i=this.getChanges(e[o],t?t[o]:null),n.isEmpty(i)||(a[o]=i)):a[o]=e[o]);return a},o.prototype.scopeOrModelVal=function(e,t,r,i){var a,o,s,l;return null==i&&(i=!1),a=function(e,t,n){return null==n&&(n=!1),n?{isScope:e,value:t}:t},l=n.get(t,e),n.isFunction(l)?a(!0,l(r),i):n.isObject(l)?a(!0,l,i):n.isString(l)?(o=l,s=o?"self"===o?r:n.get(r,o):n.get(r,e),n.isFunction(s)?a(!1,s(),i):a(!1,s,i)):a(!0,l,i)},o.prototype.setChildScope=function(e,t,n){var r,i,a,o;for(i in e)a=e[i],r=this.scopeOrModelVal(a,t,n,!0),null!=(null!=r?r.value:void 0)&&(o=r.value,o!==t[a]&&(t[a]=o));return t.model=n},o.prototype.onDestroy=function(e){},o.prototype.destroy=function(e){var t;return null==e&&(e=!1),null==this.scope||(null!=(t=this.scope)?t.$$destroyed:void 0)||!this.needToManualDestroy&&!e?this.clean():this.scope.$destroy()},o.prototype.updateChild=function(e,t){return null==t[this.idKey]?void this.$log.error("Model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key."):e.updateModel(t)},o.prototype.modelsLength=function(e){var n,r;return null==e&&(e=void 0),n=0,r=e?e:this.scope.models,null==r?n:n=t.isArray(r)||null!=r.length?r.length:Object.keys(r).length},o}(i)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapModelsWatcher",["uiGmapLogger","uiGmap_async","$q","uiGmapPromise",function(e,t,n,r){return{didQueueInitPromise:function(e,n){return 0===n.models.length?(t.promiseLock(e,r.promiseTypes.init,null,null,function(){return r.resolve()}),!0):!1},figureOutState:function(t,n,r,i,a){var o,s,l,u,c;return o=[],l={},u=[],c=[],n.models.forEach(function(a){var s;return null==a[t]?e.error(" id missing for model #{m.toString()},\ncan not use do comparison/insertion"):(l[a[t]]={},null==r.get(a[t])?o.push(a):(s=r.get(a[t]),i(a,s.clonedModel,n)?void 0:c.push({model:a,child:s})))}),s=r.values(),s.forEach(function(n){var r;return null==n?void e.error("child undefined in ModelsWatcher."):null==n.model?void e.error("child.model undefined in ModelsWatcher."):(r=n.model[t],null==l[r]?u.push(n):void 0)}),{adds:o,removals:u,updates:c}}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapPromise",["$q","$timeout","uiGmapLogger",function(e,t,r){var i,a,o,s,l,u,c,d,p,h,f;return p={create:"create",update:"update","delete":"delete",init:"init"},d={IN_PROGRESS:0,RESOLVED:1,REJECTED:2},f=function(){var e;return e={},e[""+d.IN_PROGRESS]="in-progress",e[""+d.RESOLVED]="resolved",e[""+d.REJECTED]="rejected",e}(),s=function(e){return e.$$state?e.$$state.status===d.IN_PROGRESS:e.hasOwnProperty("$$v")?void 0:!0},l=function(e){return e.$$state?e.$$state.status===d.RESOLVED:e.hasOwnProperty("$$v")?!0:void 0},c=function(e){return f[e]||"done w error"},i=function(t){var n,r,i;return n=e.defer(),r=e.all([t,n.promise]),i=e.defer(),t.then(n.resolve,function(){},function(e){return n.notify(e),i.notify(e)}),r.then(function(e){return i.resolve(e[0]||e[1])},function(e){return i.reject(e)}),i.promise.cancel=function(e){return null==e&&(e="canceled"),n.reject(e)},i.promise.notify=function(e){return null==e&&(e="cancel safe"),i.notify(e),t.hasOwnProperty("notify")?t.notify(e):void 0},null!=t.promiseType&&(i.promise.promiseType=t.promiseType),i.promise},a=function(e,t){return{promise:e,promiseType:t}},o=function(){return e.defer()},h=function(){var t;return t=e.defer(),t.resolve.apply(void 0,arguments),t.promise},u=function(i){var a;return n.isFunction(i)?(a=e.defer(),t(function(){var e;return e=i(),a.resolve(e)}),a.promise):void r.error("uiGmapPromise.promise() only accepts functions")},{defer:o,promise:u,resolve:h,promiseTypes:p,isInProgress:s,isResolved:l,promiseStatus:c,ExposedPromise:i,SniffedPromise:a}}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapPropMap",function(){var t;return t=function(){function t(){this.removeAll=e(this.removeAll,this),this.slice=e(this.slice,this),this.push=e(this.push,this),this.keys=e(this.keys,this),this.values=e(this.values,this),this.remove=e(this.remove,this),this.put=e(this.put,this),this.stateChanged=e(this.stateChanged,this),this.get=e(this.get,this),this.length=0,this.dict={},this.didValsStateChange=!1,this.didKeysStateChange=!1,this.allVals=[],this.allKeys=[]}return t.prototype.get=function(e){return this.dict[e]},t.prototype.stateChanged=function(){return this.didValsStateChange=!0,this.didKeysStateChange=!0},t.prototype.put=function(e,t){return null==this.get(e)&&this.length++,this.stateChanged(),this.dict[e]=t},t.prototype.remove=function(e,t){var n;return null==t&&(t=!1),!t||this.get(e)?(n=this.dict[e],delete this.dict[e],this.length--,this.stateChanged(),n):void 0},t.prototype.valuesOrKeys=function(e){var t,r;return null==e&&(e="Keys"),this["did"+e+"StateChange"]?(r=[],t=[],n.each(this.dict,function(e,n){return r.push(e),t.push(n)}),this.didKeysStateChange=!1,this.didValsStateChange=!1,this.allVals=r,this.allKeys=t,this["all"+e]):this["all"+e]},t.prototype.values=function(){return this.valuesOrKeys("Vals")},t.prototype.keys=function(){return this.valuesOrKeys()},t.prototype.push=function(e,t){return null==t&&(t="key"),this.put(e[t],e)},t.prototype.slice=function(){return this.keys().map(function(e){return function(t){return e.remove(t)}}(this))},t.prototype.removeAll=function(){return this.slice()},t.prototype.each=function(e){return n.each(this.dict,function(t,n){return e(t)})},t.prototype.map=function(e){return n.map(this.dict,function(t,n){return e(t)})},t}()})}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapPropertyAction",["uiGmapLogger",function(e){var t;return t=function(e){return this.setIfChange=function(t){return function(r,i){return n.isEqual(i,r)?void 0:e(t,r)}},this.sic=this.setIfChange,this}}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps.directives.api.managers").factory("uiGmapClustererMarkerManager",["uiGmapLogger","uiGmapFitHelper","uiGmapPropMap","uiGmapEventsHelper",function(n,r,i,a){var o;return o=function(){function o(t,r,a,s){null==r&&(r={}),this.opt_options=null!=a?a:{},this.opt_events=s,this.checkSync=e(this.checkSync,this),this.getGMarkers=e(this.getGMarkers,this),this.fit=e(this.fit,this),this.destroy=e(this.destroy,this),this.attachEvents=e(this.attachEvents,this),this.clear=e(this.clear,this),this.draw=e(this.draw,this),this.removeMany=e(this.removeMany,this),this.remove=e(this.remove,this),this.addMany=e(this.addMany,this),this.update=e(this.update,this),this.add=e(this.add,this),this.type=o.type,this.clusterer=new NgMapMarkerClusterer(t,r,this.opt_options),this.propMapGMarkers=new i,this.attachEvents(this.opt_events,"opt_events"),this.clusterer.setIgnoreHidden(!0),this.noDrawOnSingleAddRemoves=!0,n.info(this)}return o.type="ClustererMarkerManager",o.prototype.checkKey=function(e){var t;return null==e.key?(t="gMarker.key undefined and it is REQUIRED!!",n.error(t)):void 0},o.prototype.add=function(e){return this.checkKey(e),this.clusterer.addMarker(e,this.noDrawOnSingleAddRemoves),this.propMapGMarkers.put(e.key,e),this.checkSync()},o.prototype.update=function(e){return this.remove(e),this.add(e)},o.prototype.addMany=function(e){return e.forEach(function(e){return function(t){return e.add(t)}}(this))},o.prototype.remove=function(e){var t;return this.checkKey(e),t=this.propMapGMarkers.get(e.key),t&&(this.clusterer.removeMarker(e,this.noDrawOnSingleAddRemoves),this.propMapGMarkers.remove(e.key)),this.checkSync()},o.prototype.removeMany=function(e){return e.forEach(function(e){return function(t){return e.remove(t)}}(this))},o.prototype.draw=function(){return this.clusterer.repaint()},o.prototype.clear=function(){return this.removeMany(this.getGMarkers()),this.clusterer.repaint()},o.prototype.attachEvents=function(e,r){var i,a,o;if(this.listeners=[],t.isDefined(e)&&null!=e&&t.isObject(e)){o=[];for(a in e)i=e[a],e.hasOwnProperty(a)&&t.isFunction(e[a])?(n.info(r+": Attaching event: "+a+" to clusterer"),o.push(this.listeners.push(google.maps.event.addListener(this.clusterer,a,e[a])))):o.push(void 0);
return o}},o.prototype.clearEvents=function(){return a.removeEvents(this.listeners),this.listeners=[]},o.prototype.destroy=function(){return this.clearEvents(),this.clear()},o.prototype.fit=function(){return r.fit(this.getGMarkers(),this.clusterer.getMap())},o.prototype.getGMarkers=function(){return this.clusterer.getMarkers().values()},o.prototype.checkSync=function(){},o}()}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.managers").service("uiGmapGoogleMapObjectManager",[function(){var e,n;return e=[],n=[],{createMapInstance:function(r,i){var a;return a=null,0===e.length?(a=new google.maps.Map(r,i),n.push(a)):(a=e.pop(),t.element(r).append(a.getDiv()),a.setOptions(i),n.push(a)),a},recycleMapInstance:function(t){var r;if(r=n.indexOf(t),0>r)throw new Error("Expected map instance to be a previously used instance");return n.splice(r,1),e.push(t)}}}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps.directives.api.managers").factory("uiGmapMarkerManager",["uiGmapLogger","uiGmapFitHelper","uiGmapPropMap",function(t,n,r){var i;return i=function(){function i(n,a,o){this.getGMarkers=e(this.getGMarkers,this),this.fit=e(this.fit,this),this.handleOptDraw=e(this.handleOptDraw,this),this.clear=e(this.clear,this),this.destroy=e(this.destroy,this),this.draw=e(this.draw,this),this.removeMany=e(this.removeMany,this),this.remove=e(this.remove,this),this.addMany=e(this.addMany,this),this.update=e(this.update,this),this.add=e(this.add,this),this.type=i.type,this.gMap=n,this.gMarkers=new r,this.$log=t,this.$log.info(this)}return i.type="MarkerManager",i.prototype.add=function(e,n){var r,i;if(null==n&&(n=!0),null==e.key)throw i="gMarker.key undefined and it is REQUIRED!!",t.error(i),i;return r=this.gMarkers.get(e.key),r?void 0:(this.handleOptDraw(e,n,!0),this.gMarkers.put(e.key,e))},i.prototype.update=function(e,t){return null==t&&(t=!0),this.remove(e,t),this.add(e,t)},i.prototype.addMany=function(e){return e.forEach(function(e){return function(t){return e.add(t)}}(this))},i.prototype.remove=function(e,t){return null==t&&(t=!0),this.handleOptDraw(e,t,!1),this.gMarkers.get(e.key)?this.gMarkers.remove(e.key):void 0},i.prototype.removeMany=function(e){return e.forEach(function(e){return function(t){return e.remove(t)}}(this))},i.prototype.draw=function(){var e;return e=[],this.gMarkers.each(function(t){return function(n){return n.isDrawn?void 0:n.doAdd?(n.setMap(t.gMap),n.isDrawn=!0):e.push(n)}}(this)),e.forEach(function(e){return function(t){return t.isDrawn=!1,e.remove(t,!0)}}(this))},i.prototype.destroy=function(){return this.clear()},i.prototype.clear=function(){return this.gMarkers.each(function(e){return e.setMap(null)}),delete this.gMarkers,this.gMarkers=new r},i.prototype.handleOptDraw=function(e,t,n){return t===!0?(n?e.setMap(this.gMap):e.setMap(null),e.isDrawn=!0):(e.isDrawn=!1,e.doAdd=n)},i.prototype.fit=function(){return n.fit(this.getGMarkers(),this.gMap)},i.prototype.getGMarkers=function(){return this.gMarkers.values()},i}()}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps.directives.api.managers").factory("uiGmapSpiderfierMarkerManager",["uiGmapLogger","uiGmapFitHelper","uiGmapPropMap","uiGmapMarkerSpiderfier",function(r,i,a,o){var s;return s=function(){function s(t,n,i,l,u){null==n&&(n={}),this.opt_options=null!=i?i:{},this.opt_events=l,this.scope=u,this.checkSync=e(this.checkSync,this),this.isSpiderfied=e(this.isSpiderfied,this),this.getGMarkers=e(this.getGMarkers,this),this.fit=e(this.fit,this),this.destroy=e(this.destroy,this),this.attachEvents=e(this.attachEvents,this),this.clear=e(this.clear,this),this.draw=e(this.draw,this),this.removeMany=e(this.removeMany,this),this.remove=e(this.remove,this),this.addMany=e(this.addMany,this),this.update=e(this.update,this),this.add=e(this.add,this),this.type=s.type,this.markerSpiderfier=new o(t,this.opt_options),this.propMapGMarkers=new a,this.attachEvents(this.opt_events,"opt_events"),this.noDrawOnSingleAddRemoves=!0,r.info(this)}return s.type="SpiderfierMarkerManager",s.prototype.checkKey=function(e){var t;return null==e.key?(t="gMarker.key undefined and it is REQUIRED!!",r.error(t)):void 0},s.prototype.add=function(e){return e.setMap(this.markerSpiderfier.map),this.checkKey(e),this.markerSpiderfier.addMarker(e,this.noDrawOnSingleAddRemoves),this.propMapGMarkers.put(e.key,e),this.checkSync()},s.prototype.update=function(e){return this.remove(e),this.add(e)},s.prototype.addMany=function(e){return e.forEach(function(e){return function(t){return e.add(t)}}(this))},s.prototype.remove=function(e){var t;return this.checkKey(e),t=this.propMapGMarkers.get(e.key),t&&(e.setMap(null),this.markerSpiderfier.removeMarker(e,this.noDrawOnSingleAddRemoves),this.propMapGMarkers.remove(e.key)),this.checkSync()},s.prototype.removeMany=function(e){return e.forEach(function(e){return function(t){return e.remove(t)}}(this))},s.prototype.draw=function(){},s.prototype.clear=function(){return this.removeMany(this.getGMarkers())},s.prototype.attachEvents=function(e,i){return t.isDefined(e)&&null!=e&&t.isObject(e)?n.each(e,function(n){return function(a,o){return e.hasOwnProperty(o)&&t.isFunction(e[o])?(r.info(i+": Attaching event: "+o+" to markerSpiderfier"),n.markerSpiderfier.addListener(o,function(){return"spiderfy"===o||"unspiderfy"===o?n.scope.$evalAsync(e[o].apply(e,arguments)):n.scope.$evalAsync(e[o].apply(e,[arguments[0],o,arguments[0].model,arguments]))})):void 0}}(this)):void 0},s.prototype.clearEvents=function(e,n){var i,a;if(t.isDefined(e)&&null!=e&&t.isObject(e))for(a in e)i=e[a],e.hasOwnProperty(a)&&t.isFunction(e[a])&&(r.info(n+": Clearing event: "+a+" to markerSpiderfier"),this.markerSpiderfier.clearListeners(a))},s.prototype.destroy=function(){return this.clearEvents(this.opt_events,"opt_events"),this.clear()},s.prototype.fit=function(){return i.fit(this.getGMarkers(),this.markerSpiderfier.map)},s.prototype.getGMarkers=function(){return this.markerSpiderfier.getMarkers()},s.prototype.isSpiderfied=function(){return n.find(this.getGMarkers(),function(e){return null!=(null!=e?e._omsData:void 0)})},s.prototype.checkSync=function(){},s}()}])}.call(this),function(){t.module("uiGmapgoogle-maps").factory("uiGmapadd-events",["$timeout",function(e){var n,r;return n=function(t,n,r){return google.maps.event.addListener(t,n,function(){return r.apply(this,arguments),e(function(){},!0)})},r=function(e,r,i){var a;return i?n(e,r,i):(a=[],t.forEach(r,function(t,r){return a.push(n(e,r,t))}),function(){return t.forEach(a,function(e){return google.maps.event.removeListener(e)}),a=null})}}])}.call(this),function(){t.module("uiGmapgoogle-maps").factory("uiGmaparray-sync",["uiGmapadd-events",function(e){return function(n,r,i,a){var o,s,l,u,c,d,p,h,f;return u=!1,h=r.$eval(i),r.static||(c={set_at:function(e){var t;if(!u&&(t=n.getAt(e)))return t.lng&&t.lat?(h[e].latitude=t.lat(),h[e].longitude=t.lng()):h[e]=t},insert_at:function(e){var t;if(!u&&(t=n.getAt(e)))return t.lng&&t.lat?h.splice(e,0,{latitude:t.lat(),longitude:t.lng()}):h.splice(e,0,t)},remove_at:function(e){return u?void 0:h.splice(e,1)}},"Polygon"===h.type?o=h.coordinates[0]:"LineString"===h.type&&(o=h.coordinates),s={set_at:function(e){var t;if(!u&&(t=n.getAt(e),t&&t.lng&&t.lat))return o[e][1]=t.lat(),o[e][0]=t.lng()},insert_at:function(e){var t;if(!u&&(t=n.getAt(e),t&&t.lng&&t.lat))return o.splice(e,0,[t.lng(),t.lat()])},remove_at:function(e){return u?void 0:o.splice(e,1)}},p=e(n,t.isUndefined(h.type)?c:s)),d=function(e){var t,r,i,o,s,l,c,d;if(u=!0,l=n,t=!1,e){for(r=0,c=l.getLength(),o=e.length,i=Math.min(c,o),s=void 0;i>r;)d=l.getAt(r),s=e[r],"function"==typeof s.equals?s.equals(d)||(l.setAt(r,s),t=!0):(d.lat()!==s.latitude||d.lng()!==s.longitude)&&(l.setAt(r,new google.maps.LatLng(s.latitude,s.longitude)),t=!0),r++;for(;o>r;)s=e[r],"function"==typeof s.lat&&"function"==typeof s.lng?l.push(s):l.push(new google.maps.LatLng(s.latitude,s.longitude)),t=!0,r++;for(;c>r;)l.pop(),t=!0,r++}return u=!1,t?a(l):void 0},l=function(e){var t,r,i,o,s,l,c,d,p;if(u=!0,c=n,r=!1,e){for("Polygon"===h.type?t=e.coordinates[0]:"LineString"===h.type&&(t=e.coordinates),i=0,d=c.getLength(),s=t.length,o=Math.min(d,s),l=void 0;o>i;)p=c.getAt(i),l=t[i],(p.lat()!==l[1]||p.lng()!==l[0])&&(c.setAt(i,new google.maps.LatLng(l[1],l[0])),r=!0),i++;for(;s>i;)l=t[i],c.push(new google.maps.LatLng(l[1],l[0])),r=!0,i++;for(;d>i;)c.pop(),r=!0,i++}return u=!1,r?a(c):void 0},r.static||(f=t.isUndefined(h.type)?r.$watchCollection(i,d):r.$watch(i,l,!0)),function(){return p&&(p(),p=null),f?(f(),f=null):void 0}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapChromeFixes",["$timeout",function(e){return{maybeRepaint:function(t){return t?(t.style.opacity=.9,e(function(){return t.style.opacity=1})):void 0}}}])}.call(this),function(){t.module("uiGmapgoogle-maps").service("uiGmapObjectIterators",function(){var e,t,r,i;return e=["length","forEach","map"],t=[],r=function(t){return t.forEach=function(r){return n.each(n.omit(t,e),function(e){return n.isFunction(e)?void 0:r(e)})},t},t.push(r),i=function(t){return t.map=function(r){return n.map(n.omit(t,e),function(e){return n.isFunction(e)?void 0:r(e)})},t},t.push(i),{slapMap:i,slapForEach:r,slapAll:function(e){return t.forEach(function(t){return t(e)}),e}}})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.options.builders").service("uiGmapCommonOptionsBuilder",["uiGmapBaseObject","uiGmapLogger","uiGmapModelKey",function(r,i,a){var o;return o=function(r){function a(){return this.watchProps=e(this.watchProps,this),this.buildOpts=e(this.buildOpts,this),a.__super__.constructor.apply(this,arguments)}return n(a,r),a.prototype.props=["clickable","draggable","editable","visible",{prop:"stroke",isColl:!0}],a.prototype.getCorrectModel=function(e){return t.isDefined(null!=e?e.model:void 0)?e.model:e},a.prototype.buildOpts=function(e,n,r){var a,o,s;return null==e&&(e={}),null==r&&(r={}),this.scope?this.gMap?(a=this.getCorrectModel(this.scope),s=this.scopeOrModelVal("stroke",this.scope,a),o=t.extend(e,this.DEFAULTS,{map:this.gMap,strokeColor:null!=s?s.color:void 0,strokeOpacity:null!=s?s.opacity:void 0,strokeWeight:null!=s?s.weight:void 0}),t.forEach(t.extend(r,{clickable:!0,draggable:!1,editable:!1,"static":!1,fit:!1,visible:!0,zIndex:0,icons:[]}),function(e){return function(r,i){var s;return s=n?n[i]:e.scopeOrModelVal(i,e.scope,a),t.isUndefined(s)?o[i]=r:o[i]=a[i]}}(this)),o.static&&(o.editable=!1),o):void i.error("this.map not defined in CommonOptionsBuilder can not buildOpts"):void i.error("this.scope not defined in CommonOptionsBuilder can not buildOpts")},a.prototype.watchProps=function(e){return null==e&&(e=this.props),e.forEach(function(e){return function(t){return null!=e.attrs[t]||null!=e.attrs[null!=t?t.prop:void 0]?(null!=t?t.isColl:void 0)?e.scope.$watchCollection(t.prop,e.setMyOptions):e.scope.$watch(t,e.setMyOptions):void 0}}(this))},a}(a)}])}.call(this),function(){var e=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.options.builders").factory("uiGmapPolylineOptionsBuilder",["uiGmapCommonOptionsBuilder",function(t){var n;return n=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.buildOpts=function(e,t){return n.__super__.buildOpts.call(this,{path:e},t,{geodesic:!1})},n}(t)}]).factory("uiGmapShapeOptionsBuilder",["uiGmapCommonOptionsBuilder",function(n){var r;return r=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,n),r.prototype.buildOpts=function(e,n,i){var a,o;return o=this.getCorrectModel(this.scope),a=n?n.fill:this.scopeOrModelVal("fill",this.scope,o),e=t.extend(e,{fillColor:null!=a?a.color:void 0,fillOpacity:null!=a?a.opacity:void 0}),r.__super__.buildOpts.call(this,e,n,i)},r}(n)}]).factory("uiGmapPolygonOptionsBuilder",["uiGmapShapeOptionsBuilder",function(t){var n;return n=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.buildOpts=function(e,t){return n.__super__.buildOpts.call(this,{path:e},t,{geodesic:!1})},n}(t)}]).factory("uiGmapRectangleOptionsBuilder",["uiGmapShapeOptionsBuilder",function(t){var n;return n=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.buildOpts=function(e,t){return n.__super__.buildOpts.call(this,{bounds:e},t)},n}(t)}]).factory("uiGmapCircleOptionsBuilder",["uiGmapShapeOptionsBuilder",function(t){var n;return n=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.buildOpts=function(e,t,r){return n.__super__.buildOpts.call(this,{center:e,radius:t},r)},n}(t)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.options").service("uiGmapMarkerOptions",["uiGmapLogger","uiGmapGmapUtil",function(e,r){return n.extend(r,{createOptions:function(e,n,i,a){var o;return null==i&&(i={}),o=t.extend({},i,{position:null!=i.position?i.position:r.getCoords(e),visible:null!=i.visible?i.visible:r.validateCoords(e)}),(null!=i.icon||null!=n)&&(o=t.extend(o,{icon:null!=i.icon?i.icon:n})),null!=a&&(o.map=a),o},isLabel:function(e){return null==e?!1:null!=e.labelContent||null!=e.labelAnchor||null!=e.labelClass||null!=e.labelStyle||null!=e.labelVisible}})}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapBasePolyChildModel",["uiGmapLogger","$timeout","uiGmaparray-sync","uiGmapGmapUtil","uiGmapEventsHelper",function(i,a,o,s,l){return function(i,a){var u;return u=function(i){function u(r){var i,s,u;this.scope=r.scope,this.attrs=r.attrs,this.gMap=r.gMap,this.defaults=r.defaults,this.model=r.model,s=r.gObjectChangeCb,this.isScopeModel=null!=(u=r.isScopeModel)?u:!1,this.clean=e(this.clean,this),this.isScopeModel&&(this.clonedModel=n.clone(this.model,!0)),this.isDragging=!1,this.internalEvents={dragend:function(e){return function(){return n.defer(function(){return e.isDragging=!1})}}(this),dragstart:function(e){return function(){return e.isDragging=!0}}(this)},i=function(e){return function(){var n;if(!e.isDragging)return e.pathPoints=e.convertPathPoints(e.scope.path),null!=e.gObject&&e.clean(),null!=e.scope.model&&(n=e.scope),e.pathPoints.length>0&&(e.gObject=a(e.buildOpts(e.pathPoints,n))),e.gObject?(o(e.gObject.getPath(),e.scope,"path",function(t){return e.pathPoints=t,null!=s?s():void 0}),t.isDefined(e.scope.events)&&t.isObject(e.scope.events)&&(e.listeners=e.model?l.setEvents(e.gObject,e.scope,e.model):l.setEvents(e.gObject,e.scope,e.scope)),e.internalListeners=e.model?l.setEvents(e.gObject,{events:e.internalEvents},e.model):l.setEvents(e.gObject,{events:e.internalEvents},e.scope)):void 0}}(this),i(),this.scope.$watch("path",function(e){return function(t,r){return n.isEqual(t,r)&&e.gObject?void 0:i()}}(this),!0),!this.scope.static&&t.isDefined(this.scope.editable)&&this.scope.$watch("editable",function(e){return function(t,n){var r;return t!==n?(t=!e.isFalse(t),null!=(r=e.gObject)?r.setEditable(t):void 0):void 0}}(this),!0),t.isDefined(this.scope.draggable)&&this.scope.$watch("draggable",function(e){return function(t,n){var r;return t!==n?(t=!e.isFalse(t),null!=(r=e.gObject)?r.setDraggable(t):void 0):void 0}}(this),!0),t.isDefined(this.scope.visible)&&this.scope.$watch("visible",function(e){return function(t,n){var r;return t!==n&&(t=!e.isFalse(t)),null!=(r=e.gObject)?r.setVisible(t):void 0}}(this),!0),t.isDefined(this.scope.geodesic)&&this.scope.$watch("geodesic",function(e){return function(t,n){var r;return t!==n?(t=!e.isFalse(t),null!=(r=e.gObject)?r.setOptions(e.buildOpts(e.gObject.getPath())):void 0):void 0}}(this),!0),t.isDefined(this.scope.stroke)&&t.isDefined(this.scope.stroke.weight)&&this.scope.$watch("stroke.weight",function(e){return function(t,n){var r;return t!==n&&null!=(r=e.gObject)?r.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this),!0),t.isDefined(this.scope.stroke)&&t.isDefined(this.scope.stroke.color)&&this.scope.$watch("stroke.color",function(e){return function(t,n){var r;return t!==n&&null!=(r=e.gObject)?r.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this),!0),t.isDefined(this.scope.stroke)&&t.isDefined(this.scope.stroke.opacity)&&this.scope.$watch("stroke.opacity",function(e){return function(t,n){var r;return t!==n&&null!=(r=e.gObject)?r.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this),!0),t.isDefined(this.scope.icons)&&this.scope.$watch("icons",function(e){return function(t,n){var r;return t!==n&&null!=(r=e.gObject)?r.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this),!0),this.scope.$on("$destroy",function(e){return function(){return e.clean(),e.scope=null}}(this)),t.isDefined(this.scope.fill)&&t.isDefined(this.scope.fill.color)&&this.scope.$watch("fill.color",function(e){return function(t,n){return t!==n?e.gObject.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this)),t.isDefined(this.scope.fill)&&t.isDefined(this.scope.fill.opacity)&&this.scope.$watch("fill.opacity",function(e){return function(t,n){return t!==n?e.gObject.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this)),t.isDefined(this.scope.zIndex)&&this.scope.$watch("zIndex",function(e){return function(t,n){return t!==n?e.gObject.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this))}return r(u,i),u.include(s),u.prototype.clean=function(){var e;return l.removeEvents(this.listeners),l.removeEvents(this.internalListeners),null!=(e=this.gObject)&&e.setMap(null),this.gObject=null},u}(i)}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.models.child").factory("uiGmapDrawFreeHandChildModel",["uiGmapLogger","$q",function(e,t){var r,i;return r=function(e,t,n){var r,i;i=new google.maps.Polyline({map:e,clickable:!1}),r=google.maps.event.addListener(e,"mousemove",function(e){return i.getPath().push(e.latLng)}),google.maps.event.addListenerOnce(e,"mouseup",function(a){var o;return google.maps.event.removeListener(r),o=i.getPath(),i.setMap(null),t.push(new google.maps.Polygon({map:e,path:o})),i=null,google.maps.event.clearListeners(e.getDiv(),"mousedown"),n()})},i=function(i,a){var o,s;return this.map=i,o=function(t){return function(){var n;return n={draggable:!1,disableDefaultUI:!0,scrollwheel:!1,disableDoubleClickZoom:!1},e.info("disabling map move"),t.map.setOptions(n)}}(this),s=function(e){return function(){var t,r;return t={draggable:!0,disableDefaultUI:!1,scrollwheel:!0,disableDoubleClickZoom:!0},null!=(r=e.deferred)&&r.resolve(),n.defer(function(){return e.map.setOptions(n.extend(t,a.options))})}}(this),this.engage=function(n){return function(i){return n.polys=i,n.deferred=t.defer(),o(),e.info("DrawFreeHandChildModel is engaged (drawing)."),google.maps.event.addDomListener(n.map.getDiv(),"mousedown",function(e){return r(n.map,n.polys,s)}),n.deferred.promise}}(this),this}}])}.call(this),function(){var r=function(e,t){return function(){return e.apply(t,arguments)}},i=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.child").factory("uiGmapMarkerChildModel",["uiGmapModelKey","uiGmapGmapUtil","uiGmapLogger","uiGmapEventsHelper","uiGmapPropertyAction","uiGmapMarkerOptions","uiGmapIMarker","uiGmapMarkerManager","uiGmapPromise",function(a,o,s,l,u,c,d,p,h){var f;return f=function(a){function f(e){this.internalEvents=r(this.internalEvents,this),this.setLabelOptions=r(this.setLabelOptions,this),this.setOptions=r(this.setOptions,this),this.setIcon=r(this.setIcon,this),this.setCoords=r(this.setCoords,this),this.isNotValid=r(this.isNotValid,this),this.maybeSetScopeValue=r(this.maybeSetScopeValue,this),this.createMarker=r(this.createMarker,this),this.setMyScope=r(this.setMyScope,this),this.updateModel=r(this.updateModel,this),this.handleModelChanges=r(this.handleModelChanges,this),this.destroy=r(this.destroy,this);var t,i,a,o,l,c,d;d=e.scope,this.model=e.model,this.keys=e.keys,this.gMap=e.gMap,this.defaults=null!=(i=e.defaults)?i:{},this.doClick=e.doClick,this.gManager=e.gManager,this.doDrawSelf=null!=(a=e.doDrawSelf)?a:!0,this.trackModel=null!=(o=e.trackModel)?o:!0,this.needRedraw=null!=(l=e.needRedraw)?l:!1,this.isScopeModel=null!=(c=e.isScopeModel)?c:!1,this.isScopeModel&&(this.clonedModel=n.clone(this.model,!0)),this.deferred=h.defer(),n.each(this.keys,function(e){return function(t,r){var i;return i=e.keys[r],null!=i&&!n.isFunction(i)&&n.isString(i)?e[r+"Key"]=i:void 0}}(this)),this.idKey=this.idKeyKey||"id",null!=this.model[this.idKey]&&(this.id=this.model[this.idKey]),f.__super__.constructor.call(this,d),this.scope.getGMarker=function(e){return function(){return e.gObject}}(this),this.firstTime=!0,this.trackModel?(this.scope.model=this.model,this.scope.$watch("model",function(e){return function(t,n){return t!==n?e.handleModelChanges(t,n):void 0}}(this),!0)):(t=new u(function(e){return function(t){return n.isFunction(t)&&(t="all"),e.firstTime?void 0:e.setMyScope(t,d)}}(this),!1),n.each(this.keys,function(e,n){return d.$watch(n,t.sic(n),!0)})),this.scope.$on("$destroy",function(e){return function(){return g(e)}}(this)),this.createMarker(this.model),s.info(this)}var g;return i(f,a),f.include(o),f.include(l),f.include(c),g=function(e){return null!=(null!=e?e.gObject:void 0)&&(e.removeEvents(e.externalListeners),e.removeEvents(e.internalListeners),null!=e?e.gObject:void 0)?(e.removeFromManager&&e.gManager.remove(e.gObject),e.gObject.setMap(null),e.gObject=null):void 0},f.prototype.destroy=function(e){return null==e&&(e=!0),this.removeFromManager=e,this.scope.$destroy()},f.prototype.handleModelChanges=function(e,t){var r,i,a;return r=this.getChanges(e,t,d.keys),this.firstTime?void 0:(i=0,a=n.keys(r).length,n.each(r,function(n){return function(r,o){var s;return i+=1,s=a===i,n.setMyScope(o,e,t,!1,!0,s),n.needRedraw=!0}}(this)))},f.prototype.updateModel=function(e){return this.isScopeModel&&(this.clonedModel=n.clone(e,!0)),this.setMyScope("all",e,this.model)},f.prototype.renderGMarker=function(t,n){var r,i,a;if(null==t&&(t=!0),r=this.getProp("coords",this.scope,this.model),null!=(null!=(a=this.gManager)?a.isSpiderfied:void 0)&&(i=this.gManager.isSpiderfied()),null!=r){if(!this.validateCoords(r))return void s.debug("MarkerChild does not have coords yet. They may be defined later.");if(null!=n&&n(),t&&this.gObject&&this.gManager.add(this.gObject),i)return this.gManager.markerSpiderfier.spiderListener(this.gObject,e.event)}else if(t&&this.gObject)return this.gManager.remove(this.gObject)},f.prototype.setMyScope=function(e,t,r,i,a){var o;switch(null==r&&(r=void 0),null==i&&(i=!1),null==a&&(a=!0),null==t?t=this.model:this.model=t,this.gObject||(this.setOptions(this.scope,a),o=!0),e){case"all":return n.each(this.keys,function(e){return function(n,o){return e.setMyScope(o,t,r,i,a)}}(this));case"icon":return this.maybeSetScopeValue({gSetter:this.setIcon,doDraw:a});case"coords":return this.maybeSetScopeValue({gSetter:this.setCoords,doDraw:a});case"options":if(!o)return this.createMarker(t,r,i,a)}},f.prototype.createMarker=function(e,t,n,r){return null==t&&(t=void 0),null==n&&(n=!1),null==r&&(r=!0),this.maybeSetScopeValue({gSetter:this.setOptions,doDraw:r}),this.firstTime=!1},f.prototype.maybeSetScopeValue=function(e){var t,n,r;return n=e.gSetter,t=null!=(r=e.doDraw)?r:!0,null!=n&&n(this.scope,t),this.doDrawSelf&&t?this.gManager.draw():void 0},f.prototype.isNotValid=function(e,t){var n,r;return null==t&&(t=!0),r=t?void 0===this.gObject:!1,n=this.trackModel?!1:e.$id!==this.scope.$id,n||r},f.prototype.setCoords=function(e,t){return null==t&&(t=!0),this.isNotValid(e)||null==this.gObject?void 0:this.renderGMarker(t,function(t){return function(){var n,r,i;return r=t.getProp("coords",e,t.model),n=t.getCoords(r),i=t.gObject.getPosition(),null==i||null==n||n.lng()!==i.lng()||n.lat()!==i.lat()?(t.gObject.setPosition(n),t.gObject.setVisible(t.validateCoords(r))):void 0}}(this))},f.prototype.setIcon=function(e,t){return null==t&&(t=!0),this.isNotValid(e)||null==this.gObject?void 0:this.renderGMarker(t,function(t){return function(){var n,r,i;return i=t.gObject.getIcon(),r=t.getProp("icon",e,t.model),i!==r?(t.gObject.setIcon(r),n=t.getProp("coords",e,t.model),t.gObject.setPosition(t.getCoords(n)),t.gObject.setVisible(t.validateCoords(n))):void 0}}(this))},f.prototype.setOptions=function(e,t){var r;if(null==t&&(t=!0),!this.isNotValid(e,!1)){if(this.renderGMarker(t,function(t){return function(){var r,i,a;return i=t.getProp("coords",e,t.model),a=t.getProp("icon",e,t.model),r=t.getProp("options",e,t.model),t.opts=t.createOptions(i,a,r),t.isLabel(t.gObject)!==t.isLabel(t.opts)&&null!=t.gObject&&(t.gManager.remove(t.gObject),t.gObject=void 0),null!=t.gObject&&t.gObject.setOptions(t.setLabelOptions(t.opts)),t.gObject||(t.isLabel(t.opts)?t.gObject=new MarkerWithLabel(t.setLabelOptions(t.opts)):t.opts.content?(t.gObject=new RichMarker(t.opts),t.gObject.getIcon=t.gObject.getContent,t.gObject.setIcon=t.gObject.setContent):t.gObject=new google.maps.Marker(t.opts),n.extend(t.gObject,{model:t.model})),t.externalListeners&&t.removeEvents(t.externalListeners),t.internalListeners&&t.removeEvents(t.internalListeners),t.externalListeners=t.setEvents(t.gObject,t.scope,t.model,["dragend"]),t.internalListeners=t.setEvents(t.gObject,{events:t.internalEvents(),$evalAsync:function(){}},t.model),null!=t.id?t.gObject.key=t.id:void 0}}(this)),this.gObject&&(this.gObject.getMap()||this.gManager.type!==p.type))this.deferred.resolve(this.gObject);else{if(!this.gObject)return this.deferred.reject("gObject is null");(null!=(r=this.gObject)?r.getMap():0)&&this.gManager.type===p.type||(s.debug("gObject has no map yet"),this.deferred.resolve(this.gObject))}return this.model[this.fitKey]?this.gManager.fit():void 0}},f.prototype.setLabelOptions=function(e){return e.labelAnchor&&(e.labelAnchor=this.getLabelPositionPoint(e.labelAnchor)),e},f.prototype.internalEvents=function(){return{dragend:function(e){return function(t,n,r,i){var a,o,s;return o=e.trackModel?e.scope.model:e.model,s=e.setCoordsFromEvent(e.modelOrKey(o,e.coordsKey),e.gObject.getPosition()),o=e.setVal(r,e.coordsKey,s),a=e.scope.events,null!=(null!=a?a.dragend:void 0)&&a.dragend(t,n,o,i),e.scope.$apply()}}(this),click:function(e){return function(n,r,i,a){var o;return o=e.getProp("click",e.scope,e.model),e.doClick&&t.isFunction(o)?e.scope.$evalAsync(o(n,r,e.model,a)):void 0}}(this)}},f}(a)}])}.call(this),function(){var e=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolygonChildModel",["uiGmapBasePolyChildModel","uiGmapPolygonOptionsBuilder",function(t,n){var r,i,a;return a=function(e){return new google.maps.Polygon(e)},i=new t(n,a),r=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n}(i)}])}.call(this),function(){var e=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolylineChildModel",["uiGmapBasePolyChildModel","uiGmapPolylineOptionsBuilder",function(t,n){var r,i,a;return a=function(e){return new google.maps.Polyline(e)},i=t(n,a),r=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n}(i)}])}.call(this),function(){var r=function(e,t){return function(){return e.apply(t,arguments)}},i=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.child").factory("uiGmapWindowChildModel",["uiGmapBaseObject","uiGmapGmapUtil","uiGmapLogger","$compile","$http","$templateCache","uiGmapChromeFixes","uiGmapEventsHelper",function(a,o,s,l,u,c,d,p){var h;return h=function(a){function h(e){this.updateModel=r(this.updateModel,this),this.destroy=r(this.destroy,this),this.remove=r(this.remove,this),this.getLatestPosition=r(this.getLatestPosition,this),this.hideWindow=r(this.hideWindow,this),this.showWindow=r(this.showWindow,this),this.handleClick=r(this.handleClick,this),this.watchOptions=r(this.watchOptions,this),this.watchCoords=r(this.watchCoords,this),this.createGWin=r(this.createGWin,this),this.watchElement=r(this.watchElement,this),this.watchAndDoShow=r(this.watchAndDoShow,this),this.doShow=r(this.doShow,this);var t,i,a,o,l;this.model=null!=(i=e.model)?i:{},this.scope=e.scope,this.opts=e.opts,this.isIconVisibleOnClick=e.isIconVisibleOnClick,this.gMap=e.gMap,this.markerScope=e.markerScope,this.element=e.element,this.needToManualDestroy=null!=(a=e.needToManualDestroy)?a:!1,this.markerIsVisibleAfterWindowClose=null!=(o=e.markerIsVisibleAfterWindowClose)?o:!0,this.isScopeModel=null!=(l=e.isScopeModel)?l:!1,this.isScopeModel&&(this.clonedModel=n.clone(this.model,!0)),this.getGmarker=function(){var e,t;return null!=(null!=(e=this.markerScope)?e.getGMarker:void 0)&&null!=(t=this.markerScope)?t.getGMarker():void 0},this.listeners=[],this.createGWin(),t=this.getGmarker(),null!=t&&t.setClickable(!0),this.watchElement(),this.watchOptions(),this.watchCoords(),this.watchAndDoShow(),this.scope.$on("$destroy",function(e){return function(){return e.destroy()}}(this)),s.info(this)}return i(h,a),h.include(o),h.include(p),h.prototype.doShow=function(e){return this.scope.show===!0||e?this.showWindow():this.hideWindow()},h.prototype.watchAndDoShow=function(){return null!=this.model.show&&(this.scope.show=this.model.show),this.scope.$watch("show",this.doShow,!0),this.doShow()},h.prototype.watchElement=function(){return this.scope.$watch(function(e){return function(){var t,n;if(e.element||e.html)return e.html!==e.element.html()&&e.gObject?(null!=(t=e.opts)&&(t.content=void 0),n=e.gObject.isOpen(),e.remove(),e.createGWin(n)):void 0}}(this))},h.prototype.createGWin=function(t){var r,i,a,o,s;return null==t&&(t=!1),a=this.getGmarker(),i={},null!=this.opts&&(this.scope.coords&&(this.opts.position=this.getCoords(this.scope.coords)),i=this.opts),this.element&&(this.html=n.isObject(this.element)?this.element.html():this.element),r=this.scope.options?this.scope.options:i,this.opts=this.createWindowOptions(a,this.markerScope||this.scope,this.html,r),null!=this.opts?(this.gObject||(this.opts.boxClass&&e.InfoBox&&"function"==typeof e.InfoBox?this.gObject=new e.InfoBox(this.opts):this.gObject=new google.maps.InfoWindow(this.opts),this.listeners.push(google.maps.event.addListener(this.gObject,"domready",function(){return d.maybeRepaint(this.content)})),this.listeners.push(google.maps.event.addListener(this.gObject,"closeclick",function(e){return function(){return a&&(a.setAnimation(e.oldMarkerAnimation),e.markerIsVisibleAfterWindowClose&&n.delay(function(){return a.setVisible(!1),a.setVisible(e.markerIsVisibleAfterWindowClose)},250)),e.gObject.close(),e.model.show=!1,null!=e.scope.closeClick?e.scope.$evalAsync(e.scope.closeClick()):e.scope.$evalAsync()}}(this)))),this.gObject.setContent(this.opts.content),this.handleClick((null!=(o=this.scope)&&null!=(s=o.options)?s.forceClick:void 0)||t),
this.doShow(this.gObject.isOpen())):void 0},h.prototype.watchCoords=function(){var e;return e=null!=this.markerScope?this.markerScope:this.scope,e.$watch("coords",function(e){return function(t,n){var r;if(t!==n){if(null==t)e.hideWindow();else if(!e.validateCoords(t))return void s.error("WindowChildMarker cannot render marker as scope.coords as no position on marker: "+JSON.stringify(e.model));if(r=e.getCoords(t),e.doShow(),e.gObject.setPosition(r),e.opts)return e.opts.position=r}}}(this),!0)},h.prototype.watchOptions=function(){return this.scope.$watch("options",function(e){return function(t,n){if(t!==n&&(e.opts=t,null!=e.gObject)){if(e.gObject.setOptions(e.opts),null!=e.opts.visible&&e.opts.visible)return e.showWindow();if(null!=e.opts.visible)return e.hideWindow()}}}(this),!0)},h.prototype.handleClick=function(e){var t,n;if(null!=this.gObject)return n=this.getGmarker(),t=function(e){return function(){return null==e.gObject&&e.createGWin(),e.showWindow(),null!=n?(e.initialMarkerVisibility=n.getVisible(),e.oldMarkerAnimation=n.getAnimation(),n.setVisible(e.isIconVisibleOnClick)):void 0}}(this),e&&t(),n?this.listeners=this.listeners.concat(this.setEvents(n,{events:{click:t}},this.model)):void 0},h.prototype.showWindow=function(){var e,n,r;if(null!=this.gObject)return r=null,n=function(e){return function(){var t,n,r;if(!e.gObject.isOpen()){if(n=e.getGmarker(),null!=e.gObject&&null!=e.gObject.getPosition&&(r=e.gObject.getPosition()),n&&(r=n.getPosition()),!r)return;if(e.gObject.open(e.gMap,n),t=e.gObject.isOpen(),e.model.show!==t)return e.model.show=t}}}(this),this.scope.templateUrl?u.get(this.scope.templateUrl,{cache:c}).then(function(e){return function(i){var a;return r=e.scope.$new(),t.isDefined(e.scope.templateParameter)&&(r.parameter=e.scope.templateParameter),a=l(i.data)(r),e.gObject.setContent(a[0]),n()}}(this)):this.scope.template?(r=this.scope.$new(),t.isDefined(this.scope.templateParameter)&&(r.parameter=this.scope.templateParameter),e=l(this.scope.template)(r),this.gObject.setContent(e[0]),n()):n(),this.scope.$on("destroy",function(){return r.$destroy()})},h.prototype.hideWindow=function(){return null!=this.gObject&&this.gObject.isOpen()?this.gObject.close():void 0},h.prototype.getLatestPosition=function(e){var t;return t=this.getGmarker(),null==this.gObject||null==t||e?e?this.gObject.setPosition(e):void 0:this.gObject.setPosition(t.getPosition())},h.prototype.remove=function(){return this.hideWindow(),this.removeEvents(this.listeners),this.listeners.length=0,delete this.gObject,delete this.opts},h.prototype.destroy=function(e){var t;return null==e&&(e=!1),this.remove(),null==this.scope||(null!=(t=this.scope)?t.$$destroyed:void 0)||!this.needToManualDestroy&&!e?void 0:this.scope.$destroy()},h.prototype.updateModel=function(e){return this.isScopeModel&&(this.clonedModel=n.clone(e,!0)),n.extend(this.model,this.clonedModel||e)},h}(a)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapBasePolysParentModel",["$timeout","uiGmapLogger","uiGmapModelKey","uiGmapModelsWatcher","uiGmapPropMap","uiGmap_async","uiGmapPromise","uiGmapFitHelper",function(i,a,o,s,l,u,c,d){return function(i,p,h){var f;return f=function(o){function f(t,r,o,s,u){this.element=r,this.attrs=o,this.gMap=s,this.defaults=u,this.maybeFit=e(this.maybeFit,this),this.createChild=e(this.createChild,this),this.pieceMeal=e(this.pieceMeal,this),this.createAllNew=e(this.createAllNew,this),this.watchIdKey=e(this.watchIdKey,this),this.createChildScopes=e(this.createChildScopes,this),this.watchDestroy=e(this.watchDestroy,this),this.onDestroy=e(this.onDestroy,this),this.rebuildAll=e(this.rebuildAll,this),this.doINeedToWipe=e(this.doINeedToWipe,this),this.watchModels=e(this.watchModels,this),f.__super__.constructor.call(this,t),this.interface=i,this.$log=a,this.plurals=new l,n.each(i.scopeKeys,function(e){return function(t){return e[t+"Key"]=void 0}}(this)),this.models=void 0,this.firstTime=!0,this.$log.info(this),this.createChildScopes()}return r(f,o),f.include(s),f.prototype.watchModels=function(e){return e.$watch("models",function(t){return function(n,r){return n!==r?t.doINeedToWipe(n)||e.doRebuildAll?t.rebuildAll(e,!0,!0):t.createChildScopes(!1):void 0}}(this),!0)},f.prototype.doINeedToWipe=function(e){var t;return t=null!=e?0===e.length:!0,this.plurals.length>0&&t},f.prototype.rebuildAll=function(e,t,n){return this.onDestroy(n).then(function(e){return function(){return t?e.createChildScopes():void 0}}(this))},f.prototype.onDestroy=function(){return f.__super__.onDestroy.call(this,this.scope),u.promiseLock(this,c.promiseTypes.delete,void 0,void 0,function(e){return function(){return u.each(e.plurals.values(),function(e){return e.destroy(!0)},u.chunkSizeFrom(e.scope.cleanchunk,!1)).then(function(){var t;return null!=(t=e.plurals)?t.removeAll():void 0})}}(this))},f.prototype.watchDestroy=function(e){return e.$on("$destroy",function(t){return function(){return t.rebuildAll(e,!1,!0)}}(this))},f.prototype.createChildScopes=function(e){return null==e&&(e=!0),t.isUndefined(this.scope.models)?void this.$log.error("No models to create "+h+"s from! I Need direct models!"):null!=this.gMap&&null!=this.scope.models?(this.watchIdKey(this.scope),e?this.createAllNew(this.scope,!1):this.pieceMeal(this.scope,!1)):void 0},f.prototype.watchIdKey=function(e){return this.setIdKey(e),e.$watch("idKey",function(t){return function(n,r){return n!==r&&null==n?(t.idKey=n,t.rebuildAll(e,!0,!0)):void 0}}(this))},f.prototype.createAllNew=function(e,t){var n;return null==t&&(t=!1),this.models=e.models,this.firstTime&&(this.watchModels(e),this.watchDestroy(e)),this.didQueueInitPromise(this,e)?void 0:(n=null,u.promiseLock(this,c.promiseTypes.create,"createAllNew",function(e){return n=e},function(t){return function(){return u.map(e.models,function(e){var r;return r=t.createChild(e,t.gMap),n&&(a.debug("createNew should fall through safely"),r.isEnabled=!1),r.pathPoints.getArray()},u.chunkSizeFrom(e.chunk)).then(function(e){return t.maybeFit(e),t.firstTime=!1})}}(this)))},f.prototype.pieceMeal=function(e,t){var r,i;return null==t&&(t=!0),e.$$destroyed?void 0:(r=null,i=null,this.models=e.models,null!=e&&this.modelsLength()&&this.plurals.length?u.promiseLock(this,c.promiseTypes.update,"pieceMeal",function(e){return r=e},function(t){return function(){return c.promise(function(){return t.figureOutState(t.idKey,e,t.plurals,t.modelKeyComparison)}).then(function(a){return i=a,i.updates.length&&u.each(i.updates,function(e){return n.extend(e.child.scope,e.model),e.child.model=e.model}),u.each(i.removals,function(e){return null!=e?(e.destroy(),t.plurals.remove(e.model[t.idKey]),r):void 0},u.chunkSizeFrom(e.chunk))}).then(function(){return u.each(i.adds,function(e){return r&&a.debug("pieceMeal should fall through safely"),t.createChild(e,t.gMap),r},u.chunkSizeFrom(e.chunk)).then(function(){return t.maybeFit()})})}}(this)):(this.inProgress=!1,this.rebuildAll(this.scope,!0,!0)))},f.prototype.createChild=function(e,t){var n,r;return r=this.scope.$new(!1),this.setChildScope(i.scopeKeys,r,e),r.$watch("model",function(e){return function(t,n){return t!==n?e.setChildScope(i.scopeKeys,r,t):void 0}}(this),!0),r.static=this.scope.static,n=new p({isScopeModel:!0,scope:r,attrs:this.attrs,gMap:t,defaults:this.defaults,model:e,gObjectChangeCb:function(e){return function(){return e.maybeFit()}}(this)}),null==e[this.idKey]?void this.$log.error(h+" model has no id to assign a child to.\nThis is required for performance. Please assign id,\nor redirect id to a different key."):(this.plurals.put(e[this.idKey],n),n)},f.prototype.maybeFit=function(e){return null==e&&(e=this.plurals.map(function(e){return e.pathPoints})),this.scope.fit?(e=n.flatten(e),d.fit(e,this.gMap)):void 0},f}(o)}}])}.call(this),function(){var e=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapCircleParentModel",["uiGmapLogger","$timeout","uiGmapGmapUtil","uiGmapEventsHelper","uiGmapCircleOptionsBuilder",function(r,i,a,o,s){var l,u;return u=function(e,t){return e.settingFromDirective=!0,t(),i(function(){return e.settingFromDirective=!1})},l=function(i){function s(e,i,o,s,l){var c,d,p;this.attrs=o,this.gMap=s,this.DEFAULTS=l,this.scope=e,p=null,c=function(e){return function(){return p=null,null!=e.listeners?(e.removeEvents(e.listeners),e.listeners=void 0):void 0}}(this),d=new google.maps.Circle(this.buildOpts(a.getCoords(e.center),e.radius)),this.setMyOptions=function(t){return function(r,i){return e.settingFromDirective?void 0:!n.isEqual(r,i)||r!==i||(null!=r&&null!=i?r.coordinates!==i.coordinates:0)?d.setOptions(t.buildOpts(a.getCoords(e.center),e.radius)):void 0}}(this),this.props=this.props.concat([{prop:"center",isColl:!0},{prop:"fill",isColl:!0},"radius","zIndex"]),this.watchProps(),null!=this.scope.control&&(this.scope.control.getCircle=function(){return d}),c(),this.listeners=this.setEvents(d,e,e,["radius_changed"])||[],this.listeners.push(google.maps.event.addListener(d,"radius_changed",function(){var r,i;return r=d.getRadius(),r!==p?(p=r,i=function(){return u(e,function(){var t,i;return r!==e.radius&&(e.radius=r),(null!=(t=e.events)?t.radius_changed:void 0)&&n.isFunction(null!=(i=e.events)?i.radius_changed:void 0)?e.events.radius_changed(d,"radius_changed",e,arguments):void 0})},t.mock?i():e.$evalAsync(function(){return i()})):void 0})),this.listeners.push(google.maps.event.addListener(d,"center_changed",function(){return e.$evalAsync(function(){return u(e,function(){return t.isDefined(e.center.type)?(e.center.coordinates[1]=d.getCenter().lat(),e.center.coordinates[0]=d.getCenter().lng()):(e.center.latitude=d.getCenter().lat(),e.center.longitude=d.getCenter().lng())})})})),e.$on("$destroy",function(){return c(),d.setMap(null)}),r.info(this)}return e(s,i),s.include(a),s.include(o),s}(s)}])}.call(this),function(){var e=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapDrawingManagerParentModel",["uiGmapLogger","$timeout","uiGmapBaseObject","uiGmapEventsHelper",function(t,r,i,a){var o;return o=function(t){function r(e,t,r,i){var a,o;this.scope=e,this.attrs=r,this.map=i,a=new google.maps.drawing.DrawingManager(this.scope.options),a.setMap(this.map),o=void 0,null!=this.scope.control&&(this.scope.control.getDrawingManager=function(){return a}),!this.scope.static&&this.scope.options&&this.scope.$watch("options",function(e){return null!=a?a.setOptions(e):void 0},!0),null!=this.scope.events&&(o=this.setEvents(a,this.scope,this.scope),this.scope.$watch("events",function(e){return function(t,r){return n.isEqual(t,r)?void 0:(null!=o&&e.removeEvents(o),o=e.setEvents(a,e.scope,e.scope))}}(this))),this.scope.$on("$destroy",function(e){return function(){return null!=o&&e.removeEvents(o),a.setMap(null),a=null}}(this))}return e(r,t),r.include(a),r}(i)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapIMarkerParentModel",["uiGmapModelKey","uiGmapLogger",function(i,a){var o;return o=function(i){function o(n,r,i,s){if(this.scope=n,this.element=r,this.attrs=i,this.map=s,this.onWatch=e(this.onWatch,this),this.watch=e(this.watch,this),this.validateScope=e(this.validateScope,this),o.__super__.constructor.call(this,this.scope),this.$log=a,!this.validateScope(this.scope))throw new String("Unable to construct IMarkerParentModel due to invalid scope");this.doClick=t.isDefined(this.attrs.click),null!=this.scope.options&&(this.DEFAULTS=this.scope.options),this.watch("coords",this.scope),this.watch("icon",this.scope),this.watch("options",this.scope),this.scope.$on("$destroy",function(e){return function(){return e.onDestroy(e.scope)}}(this))}return r(o,i),o.prototype.DEFAULTS={},o.prototype.validateScope=function(e){var t;return null==e?(this.$log.error(this.constructor.name+": invalid scope used"),!1):(t=null!=e.coords,t?t:(this.$log.error(this.constructor.name+": no valid coords attribute found"),!1))},o.prototype.watch=function(e,t,r){return null==r&&(r=!0),t.$watch(e,function(r){return function(i,a){return n.isEqual(i,a)?void 0:r.onWatch(e,t,i,a)}}(this),r)},o.prototype.onWatch=function(e,t,n,r){},o}(i)}])}.call(this),function(){var e=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapIWindowParentModel",["uiGmapModelKey","uiGmapGmapUtil","uiGmapLogger",function(t,n,r){var i;return i=function(t){function i(e,t,n,a,o,s,l,u){i.__super__.constructor.call(this,e),this.$log=r,this.$timeout=o,this.$compile=s,this.$http=l,this.$templateCache=u,this.DEFAULTS={},null!=e.options&&(this.DEFAULTS=e.options)}return e(i,t),i.include(n),i.prototype.getItem=function(e,t,n){return"models"===t?e[t][n]:e[t].get(n)},i}(t)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapLayerParentModel",["uiGmapBaseObject","uiGmapLogger","$timeout",function(r,i,a){var o;return o=function(r){function a(n,r,a,o,s,l){return this.scope=n,this.element=r,this.attrs=a,this.gMap=o,this.onLayerCreated=null!=s?s:void 0,this.$log=null!=l?l:i,this.createGoogleLayer=e(this.createGoogleLayer,this),null==this.attrs.type?void this.$log.info("type attribute for the layer directive is mandatory. Layer creation aborted!!"):(this.createGoogleLayer(),this.doShow=!0,t.isDefined(this.attrs.show)&&(this.doShow=this.scope.show),this.doShow&&null!=this.gMap&&this.gObject.setMap(this.gMap),this.scope.$watch("show",function(e){return function(t,n){return t!==n?(e.doShow=t,t?e.gObject.setMap(e.gMap):e.gObject.setMap(null)):void 0}}(this),!0),this.scope.$watch("options",function(e){return function(t,n){return t!==n&&e.doShow?e.gObject.setOptions(t):void 0}}(this),!0),void this.scope.$on("$destroy",function(e){return function(){return e.gObject.setMap(null)}}(this)))}return n(a,r),a.prototype.createGoogleLayer=function(){var e;return null==this.attrs.options?this.gObject=void 0===this.attrs.namespace?new google.maps[this.attrs.type]:new google.maps[this.attrs.namespace][this.attrs.type]:this.gObject=void 0===this.attrs.namespace?new google.maps[this.attrs.type](this.scope.options):new google.maps[this.attrs.namespace][this.attrs.type](this.scope.options),null!=this.gObject&&this.doShow&&this.gObject.setMap(this.gMap),null!=this.gObject&&null!=this.onLayerCreated&&"function"==typeof(e=this.onLayerCreated(this.scope,this.gObject))?e(this.gObject):void 0},a}(r)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapMapTypeParentModel",["uiGmapBaseObject","uiGmapLogger",function(i,a){var o;return o=function(i){function o(r,i,o,s,l){return this.scope=r,this.element=i,this.attrs=o,this.gMap=s,this.$log=null!=l?l:a,this.hideOverlay=e(this.hideOverlay,this),this.showOverlay=e(this.showOverlay,this),this.refreshMapType=e(this.refreshMapType,this),this.createMapType=e(this.createMapType,this),null==this.attrs.options?void this.$log.info("options attribute for the map-type directive is mandatory. Map type creation aborted!!"):(this.id=this.gMap.overlayMapTypesCount=this.gMap.overlayMapTypesCount+1||0,this.doShow=!0,this.createMapType(),t.isDefined(this.attrs.show)&&(this.doShow=this.scope.show),this.doShow&&null!=this.gMap&&this.showOverlay(),this.scope.$watch("show",function(e){return function(t,n){return t!==n?(e.doShow=t,t?e.showOverlay():e.hideOverlay()):void 0}}(this),!0),this.scope.$watchCollection("options",function(e){return function(t,r){var i,a;return!n.isEqual(t,r)&&(a=["tileSize","maxZoom","minZoom","name","alt"],i=n.some(a,function(e){return!r||!t||!n.isEqual(t[e],r[e])}))?e.refreshMapType():void 0}}(this)),t.isDefined(this.attrs.refresh)&&this.scope.$watch("refresh",function(e){return function(t,r){return n.isEqual(t,r)?void 0:e.refreshMapType()}}(this),!0),void this.scope.$on("$destroy",function(e){return function(){return e.hideOverlay(),e.mapType=null}}(this)))}return r(o,i),o.prototype.createMapType=function(){if(null!=this.scope.options.getTile)this.mapType=this.scope.options;else{if(null==this.scope.options.getTileUrl)return void this.$log.info("options should provide either getTile or getTileUrl methods. Map type creation aborted!!");this.mapType=new google.maps.ImageMapType(this.scope.options)}return this.attrs.id&&this.scope.id&&(this.gMap.mapTypes.set(this.scope.id,this.mapType),t.isDefined(this.attrs.show)||(this.doShow=!1)),this.mapType.layerId=this.id},o.prototype.refreshMapType=function(){return this.hideOverlay(),this.mapType=null,this.createMapType(),this.doShow&&null!=this.gMap?this.showOverlay():void 0},o.prototype.showOverlay=function(){return this.gMap.overlayMapTypes.push(this.mapType)},o.prototype.hideOverlay=function(){var e;return e=!1,this.gMap.overlayMapTypes.forEach(function(t){return function(n,r){e||n.layerId!==t.id||(e=!0,t.gMap.overlayMapTypes.removeAt(r))}}(this))},o}(i)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapMarkersParentModel",["uiGmapIMarkerParentModel","uiGmapModelsWatcher","uiGmapPropMap","uiGmapMarkerChildModel","uiGmap_async","uiGmapClustererMarkerManager","uiGmapMarkerManager","$timeout","uiGmapIMarker","uiGmapPromise","uiGmapGmapUtil","uiGmapLogger","uiGmapSpiderfierMarkerManager",function(i,a,o,s,l,u,c,d,p,h,f,g,m){var v,y;return y=function(e,t){return t.plurals=new o,t.scope.plurals=t.plurals,t},v=function(i){function d(t,r,i,a){this.maybeExecMappedEvent=e(this.maybeExecMappedEvent,this),this.onDestroy=e(this.onDestroy,this),this.newChildMarker=e(this.newChildMarker,this),this.pieceMeal=e(this.pieceMeal,this),this.rebuildAll=e(this.rebuildAll,this),this.createAllNew=e(this.createAllNew,this),this.bindToTypeEvents=e(this.bindToTypeEvents,this),this.createChildScopes=e(this.createChildScopes,this),this.validateScope=e(this.validateScope,this),this.onWatch=e(this.onWatch,this),d.__super__.constructor.call(this,t,r,i,a),this.interface=p,y(new o,this),this.scope.pluralsUpdate={updateCtr:0},this.$log.info(this),this.doRebuildAll=null!=this.scope.doRebuildAll?this.scope.doRebuildAll:!1,this.setIdKey(this.scope),this.scope.$watch("doRebuildAll",function(e){return function(t,n){return t!==n?e.doRebuildAll=t:void 0}}(this)),this.modelsLength()||(this.modelsRendered=!1),this.scope.$watch("models",function(e){return function(t,r){if(!n.isEqual(t,r)||!e.modelsRendered){if(0===t.length&&0===r.length)return;return e.modelsRendered=!0,e.onWatch("models",e.scope,t,r)}}}(this),!this.isTrue(i.modelsbyref)),this.watch("doCluster",this.scope),this.watch("type",this.scope),this.watch("clusterOptions",this.scope),this.watch("clusterEvents",this.scope),this.watch("typeOptions",this.scope),this.watch("typeEvents",this.scope),this.watch("fit",this.scope),this.watch("idKey",this.scope),this.gManager=void 0,this.createAllNew(this.scope)}return r(d,i),d.include(f),d.include(a),d.prototype.onWatch=function(e,t,n,r){return"idKey"===e&&n!==r&&(this.idKey=n),this.doRebuildAll||"doCluster"===e||"type"===e?this.rebuildAll(t):this.pieceMeal(t)},d.prototype.validateScope=function(e){var n;return n=t.isUndefined(e.models)||void 0===e.models,n&&this.$log.error(this.constructor.name+": no valid models attribute found"),d.__super__.validateScope.call(this,e)||n},d.prototype.createChildScopes=function(e){return null!=this.gMap&&null!=this.scope.models?e?this.createAllNew(this.scope,!1):this.pieceMeal(this.scope,!1):void 0},d.prototype.bindToTypeEvents=function(e,r){var i,a;return null==r&&(r=["click","mouseout","mouseover"]),a=this,this.origTypeEvents?t.extend(e,this.origTypeEvents):(this.origTypeEvents={},n.each(r,function(t){return function(n){return t.origTypeEvents[n]=null!=e?e[n]:void 0}}(this))),i={},n.each(r,function(e){return i[e]=function(t){return a.maybeExecMappedEvent(t,e)}}),t.extend(e,i)},d.prototype.createAllNew=function(e){var t,n,r,i;return null!=this.gManager&&(this.gManager instanceof m&&(t=this.gManager.isSpiderfied()),this.gManager.clear(),delete this.gManager),r=e.typeEvents||e.clusterEvents,i=e.typeOptions||e.clusterOptions,e.doCluster||"cluster"===e.type?(null!=r&&this.bindToTypeEvents(r),this.gManager=new u(this.map,void 0,i,r)):"spider"===e.type?(null!=r&&this.bindToTypeEvents(r,["spiderfy","unspiderfy"]),this.gManager=new m(this.map,void 0,i,r,this.scope),t&&this.gManager.spiderfy()):this.gManager=new c(this.map),this.didQueueInitPromise(this,e)?void 0:(n=null,l.promiseLock(this,h.promiseTypes.create,"createAllNew",function(e){return n=e},function(t){return function(){return l.each(e.models,function(r){return t.newChildMarker(r,e),n},l.chunkSizeFrom(e.chunk)).then(function(){return t.modelsRendered=!0,e.fit&&t.gManager.fit(),t.gManager.draw(),t.scope.pluralsUpdate.updateCtr+=1},l.chunkSizeFrom(e.chunk))}}(this)))},d.prototype.rebuildAll=function(e){var t;if(e.doRebuild||void 0===e.doRebuild)return(null!=(t=this.scope.plurals)?t.length:void 0)?this.onDestroy(e).then(function(t){return function(){return t.createAllNew(e)}}(this)):this.createAllNew(e)},d.prototype.pieceMeal=function(e){var t,n;if(!e.$$destroyed)return t=null,n=null,this.modelsLength()&&this.scope.plurals.length?l.promiseLock(this,h.promiseTypes.update,"pieceMeal",function(e){return t=e},function(r){return function(){return h.promise(function(){return r.figureOutState(r.idKey,e,r.scope.plurals,r.modelKeyComparison)}).then(function(i){return n=i,l.each(n.removals,function(e){return null!=e?(null!=e.destroy&&e.destroy(),r.scope.plurals.remove(e.id),t):void 0},l.chunkSizeFrom(e.chunk))}).then(function(){return l.each(n.adds,function(n){return r.newChildMarker(n,e),t},l.chunkSizeFrom(e.chunk))}).then(function(){return l.each(n.updates,function(e){return r.updateChild(e.child,e.model),t},l.chunkSizeFrom(e.chunk))}).then(function(){return(n.adds.length>0||n.removals.length>0||n.updates.length>0)&&(e.plurals=r.scope.plurals,e.fit&&r.gManager.fit(),r.gManager.draw()),r.scope.pluralsUpdate.updateCtr+=1})}}(this)):(this.inProgress=!1,this.rebuildAll(e))},d.prototype.newChildMarker=function(e,t){var n,r,i;if(!e)throw"model undefined";return null==e[this.idKey]?void this.$log.error("Marker model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key."):(this.$log.info("child",n,"markers",this.scope.markerModels),r=t.$new(!1),r.events=t.events,i={},p.scopeKeys.forEach(function(e){return i[e]=t[e]}),n=new s({scope:r,model:e,keys:i,gMap:this.map,defaults:this.DEFAULTS,doClick:this.doClick,gManager:this.gManager,doDrawSelf:!1,isScopeModel:!0}),this.scope.plurals.put(e[this.idKey],n),n)},d.prototype.onDestroy=function(e){return d.__super__.onDestroy.call(this,e),l.promiseLock(this,h.promiseTypes.delete,void 0,void 0,function(e){return function(){return l.each(e.scope.plurals.values(),function(e){return null!=e?e.destroy(!1):void 0},l.chunkSizeFrom(e.scope.cleanchunk,!1)).then(function(){return null!=e.gManager&&e.gManager.destroy(),e.plurals.removeAll(),e.plurals!==e.scope.plurals,e.scope.pluralsUpdate.updateCtr+=1})}}(this))},d.prototype.maybeExecMappedEvent=function(e,t){var r,i;if(!this.scope.$$destroyed)return i=this.scope.typeEvents||this.scope.clusterEvents,n.isFunction(null!=i?i[t]:void 0)&&(r=this.mapTypeToPlurals(e),this.origTypeEvents[t])?this.origTypeEvents[t](r.group,r.mapped):void 0},d.prototype.mapTypeToPlurals=function(e){var t,r,i;return n.isArray(e)?t=e:n.isFunction(e.getMarkers)&&(t=e.getMarkers()),null==t?void g.error("Unable to map event as we cannot find the array group to map"):(r=(null!=(i=this.scope.plurals.values())?i.length:void 0)?t.map(function(e){return function(t){return e.scope.plurals.get(t.key).model}}(this)):[],{cluster:e,mapped:r,group:e})},d.prototype.getItem=function(e,t,n){return"models"===t?e[t][n]:e[t].get(n)},d}(i)}])}.call(this),function(){["Polygon","Polyline"].forEach(function(e){return t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmap"+e+"sParentModel",["uiGmapBasePolysParentModel","uiGmap"+e+"ChildModel","uiGmapI"+e,function(t,n,r){return t(r,n,e)}])})}.call(this),function(){var e=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapRectangleParentModel",["uiGmapLogger","uiGmapGmapUtil","uiGmapEventsHelper","uiGmapRectangleOptionsBuilder",function(t,r,i,a){var o;return o=function(a){function o(e,r,i,a,o){var s,l,u,c,d,p,h,f,g,m,v;this.scope=e,this.attrs=i,this.gMap=a,this.DEFAULTS=o,s=void 0,c=!1,g=[],f=void 0,d=function(e){return function(){return e.isTrue(e.attrs.fit)?e.fitMapBounds(e.gMap,s):void 0}}(this),u=function(e){return function(){var n,r,i;return null!=e.scope.bounds&&null!=(null!=(n=e.scope.bounds)?n.sw:void 0)&&null!=(null!=(r=e.scope.bounds)?r.ne:void 0)&&e.validateBoundPoints(e.scope.bounds)?(s=e.convertBoundPoints(e.scope.bounds),t.info("new new bounds created: "+JSON.stringify(s))):null!=e.scope.bounds.getNorthEast&&null!=e.scope.bounds.getSouthWest?s=e.scope.bounds:null!=e.scope.bounds?t.error("Invalid bounds for newValue: "+JSON.stringify(null!=(i=e.scope)?i.bounds:void 0)):void 0}}(this),u(),p=new google.maps.Rectangle(this.buildOpts(s)),t.info("gObject (rectangle) created: "+p),m=!1,v=function(e){return function(){var t,n,r;return t=p.getBounds(),n=t.getNorthEast(),r=t.getSouthWest(),m?void 0:e.scope.$evalAsync(function(e){return null!=e.bounds&&null!=e.bounds.sw&&null!=e.bounds.ne&&(e.bounds.ne={latitude:n.lat(),longitude:n.lng()},e.bounds.sw={latitude:r.lat(),longitude:r.lng()}),null!=e.bounds.getNorthEast&&null!=e.bounds.getSouthWest?e.bounds=t:void 0})}}(this),h=function(e){return function(){return d(),e.removeEvents(g),g.push(google.maps.event.addListener(p,"dragstart",function(){return c=!0})),g.push(google.maps.event.addListener(p,"dragend",function(){return c=!1,v()})),g.push(google.maps.event.addListener(p,"bounds_changed",function(){return c?void 0:v()}))}}(this),l=function(e){return function(){return e.removeEvents(g),null!=f&&e.removeEvents(f),p.setMap(null)}}(this),null!=s&&h(),this.scope.$watch("bounds",function(e,t){var r;if(!(n.isEqual(e,t)&&null!=s||c))return m=!0,null==e?void l():(null==s?r=!0:d(),u(),p.setBounds(s),m=!1,r&&null!=s?h():void 0)},!0),this.setMyOptions=function(e){return function(t,r){return n.isEqual(t,r)||null==s||null==t?void 0:p.setOptions(e.buildOpts(s))}}(this),this.props.push("bounds"),this.watchProps(this.props),null!=this.attrs.events&&(f=this.setEvents(p,this.scope,this.scope),this.scope.$watch("events",function(e){return function(t,r){return n.isEqual(t,r)?void 0:(null!=f&&e.removeEvents(f),f=e.setEvents(p,e.scope,e.scope))}}(this))),this.scope.$on("$destroy",function(){return l()}),t.info(this)}return e(o,a),o.include(r),o.include(i),o}(a)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapSearchBoxParentModel",["uiGmapBaseObject","uiGmapLogger","uiGmapEventsHelper",function(r,i,a){var o;return o=function(r){function o(n,r,a,o,s,l,u){var c;return this.scope=n,this.element=r,this.attrs=a,this.gMap=o,this.ctrlPosition=s,this.template=l,this.$log=null!=u?u:i,this.setVisibility=e(this.setVisibility,this),this.getBounds=e(this.getBounds,this),this.setBounds=e(this.setBounds,this),this.createSearchBox=e(this.createSearchBox,this),this.addToParentDiv=e(this.addToParentDiv,this),this.addAsMapControl=e(this.addAsMapControl,this),this.init=e(this.init,this),null==this.attrs.template?void this.$log.error("template attribute for the search-box directive is mandatory. Places Search Box creation aborted!!"):(t.isUndefined(this.scope.options)&&(this.scope.options={},this.scope.options.visible=!0),t.isUndefined(this.scope.options.visible)&&(this.scope.options.visible=!0),t.isUndefined(this.scope.options.autocomplete)&&(this.scope.options.autocomplete=!1),this.visible=this.scope.options.visible,this.autocomplete=this.scope.options.autocomplete,c=t.element("<div></div>"),c.append(this.template),this.input=c.find("input")[0],void this.init())}return n(o,r),o.include(a),o.prototype.init=function(){return this.createSearchBox(),this.scope.$watch("options",function(e){return function(n,r){return t.isObject(n)&&(null!=n.bounds&&e.setBounds(n.bounds),null!=n.visible&&e.visible!==n.visible)?e.setVisibility(n.visible):void 0}}(this),!0),null!=this.attrs.parentdiv?this.addToParentDiv():this.addAsMapControl(),this.visible||this.setVisibility(this.visible),this.autocomplete?this.listener=google.maps.event.addListener(this.gObject,"place_changed",function(e){return function(){return e.places=e.gObject.getPlace()}}(this)):this.listener=google.maps.event.addListener(this.gObject,"places_changed",function(e){return function(){return e.places=e.gObject.getPlaces()}}(this)),this.listeners=this.setEvents(this.gObject,this.scope,this.scope),this.$log.info(this),this.scope.$on("$stateChangeSuccess",function(e){return function(){return null!=e.attrs.parentdiv?e.addToParentDiv():void 0}}(this)),this.scope.$on("$destroy",function(e){return function(){return e.gObject=null}}(this))},o.prototype.addAsMapControl=function(){return this.gMap.controls[google.maps.ControlPosition[this.ctrlPosition]].push(this.input)},o.prototype.addToParentDiv=function(){var e;return this.parentDiv=t.element(document.getElementById(this.scope.parentdiv)),(null!=(e=this.parentDiv)?e.length:void 0)?this.parentDiv.append(this.input):void 0},o.prototype.createSearchBox=function(){return this.autocomplete?this.gObject=new google.maps.places.Autocomplete(this.input,this.scope.options):this.gObject=new google.maps.places.SearchBox(this.input,this.scope.options)},o.prototype.setBounds=function(e){if(t.isUndefined(e.isEmpty))this.$log.error("Error: SearchBoxParentModel setBounds. Bounds not an instance of LatLngBounds.");else if(e.isEmpty()===!1&&null!=this.gObject)return this.gObject.setBounds(e)},o.prototype.getBounds=function(){return this.gObject.getBounds()},o.prototype.setVisibility=function(e){return null!=this.attrs.parentdiv?e===!1?this.parentDiv.addClass("ng-hide"):this.parentDiv.removeClass("ng-hide"):e===!1?this.gMap.controls[google.maps.ControlPosition[this.ctrlPosition]].clear():this.gMap.controls[google.maps.ControlPosition[this.ctrlPosition]].push(this.input),
this.visible=e},o}(r)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapWindowsParentModel",["uiGmapIWindowParentModel","uiGmapModelsWatcher","uiGmapPropMap","uiGmapWindowChildModel","uiGmapLinked","uiGmap_async","uiGmapLogger","$timeout","$compile","$http","$templateCache","$interpolate","uiGmapPromise","uiGmapIWindow","uiGmapGmapUtil",function(i,a,o,s,l,u,c,d,p,h,f,g,m,v,y){var b;return b=function(i){function b(t,r,i,a,s,u){this.gMap=s,this.markersScope=u,this.modelKeyComparison=e(this.modelKeyComparison,this),this.interpolateContent=e(this.interpolateContent,this),this.setChildScope=e(this.setChildScope,this),this.createWindow=e(this.createWindow,this),this.setContentKeys=e(this.setContentKeys,this),this.pieceMeal=e(this.pieceMeal,this),this.createAllNew=e(this.createAllNew,this),this.watchIdKey=e(this.watchIdKey,this),this.createChildScopes=e(this.createChildScopes,this),this.watchOurScope=e(this.watchOurScope,this),this.watchDestroy=e(this.watchDestroy,this),this.onDestroy=e(this.onDestroy,this),this.rebuildAll=e(this.rebuildAll,this),this.doINeedToWipe=e(this.doINeedToWipe,this),this.watchModels=e(this.watchModels,this),this.go=e(this.go,this),b.__super__.constructor.call(this,t,r,i,a,d,p,h,f),this.interface=v,this.plurals=new o,n.each(v.scopeKeys,function(e){return function(t){return e[t+"Key"]=void 0}}(this)),this.linked=new l(t,r,i,a),this.contentKeys=void 0,this.isIconVisibleOnClick=void 0,this.firstTime=!0,this.firstWatchModels=!0,this.$log.info(self),this.parentScope=void 0,this.go(t)}return r(b,i),b.include(a),b.prototype.go=function(e){return this.watchOurScope(e),this.doRebuildAll=null!=this.scope.doRebuildAll?this.scope.doRebuildAll:!1,e.$watch("doRebuildAll",function(e){return function(t,n){return t!==n?e.doRebuildAll=t:void 0}}(this)),this.createChildScopes()},b.prototype.watchModels=function(e){var t;return t=null!=this.markersScope?"pluralsUpdate":"models",e.$watch(t,function(t){return function(r,i){var a;return!n.isEqual(r,i)||t.firstWatchModels?(t.firstWatchModels=!1,t.doRebuildAll||t.doINeedToWipe(e.models)?t.rebuildAll(e,!0,!0):(a=0===t.plurals.length,null!=t.existingPieces?n.last(t.existingPieces._content).then(function(){return t.createChildScopes(a)}):t.createChildScopes(a))):void 0}}(this),!0)},b.prototype.doINeedToWipe=function(e){var t;return t=null!=e?0===e.length:!0,this.plurals.length>0&&t},b.prototype.rebuildAll=function(e,t,n){return this.onDestroy(n).then(function(e){return function(){return t?e.createChildScopes():void 0}}(this))},b.prototype.onDestroy=function(e){return b.__super__.onDestroy.call(this,this.scope),u.promiseLock(this,m.promiseTypes.delete,void 0,void 0,function(e){return function(){return u.each(e.plurals.values(),function(e){return e.destroy(!0)},u.chunkSizeFrom(e.scope.cleanchunk,!1)).then(function(){var t;return null!=(t=e.plurals)?t.removeAll():void 0})}}(this))},b.prototype.watchDestroy=function(e){return e.$on("$destroy",function(t){return function(){return t.firstWatchModels=!0,t.firstTime=!0,t.rebuildAll(e,!1,!0)}}(this))},b.prototype.watchOurScope=function(e){return n.each(v.scopeKeys,function(t){return function(n){var r;return r=n+"Key",t[r]="function"==typeof e[n]?e[n]():e[n]}}(this))},b.prototype.createChildScopes=function(e){var n,r,i;return null==e&&(e=!0),this.isIconVisibleOnClick=!0,t.isDefined(this.linked.attrs.isiconvisibleonclick)&&(this.isIconVisibleOnClick=this.linked.scope.isIconVisibleOnClick),n=t.isUndefined(this.linked.scope.models),!n||void 0!==this.markersScope&&void 0!==(null!=(r=this.markersScope)?r.plurals:void 0)&&void 0!==(null!=(i=this.markersScope)?i.models:void 0)?null!=this.gMap?null!=this.linked.scope.models?(this.watchIdKey(this.linked.scope),e?this.createAllNew(this.linked.scope,!1):this.pieceMeal(this.linked.scope,!1)):(this.parentScope=this.markersScope,this.watchIdKey(this.parentScope),e?this.createAllNew(this.markersScope,!0,"plurals",!1):this.pieceMeal(this.markersScope,!0,"plurals",!1)):void 0:void this.$log.error("No models to create windows from! Need direct models or models derived from markers!")},b.prototype.watchIdKey=function(e){return this.setIdKey(e),e.$watch("idKey",function(t){return function(n,r){return n!==r&&null==n?(t.idKey=n,t.rebuildAll(e,!0,!0)):void 0}}(this))},b.prototype.createAllNew=function(e,t,n,r){var i;return null==n&&(n="models"),null==r&&(r=!1),this.firstTime&&(this.watchModels(e),this.watchDestroy(e)),this.setContentKeys(e.models),this.didQueueInitPromise(this,e)?void 0:(i=null,u.promiseLock(this,m.promiseTypes.create,"createAllNew",function(e){return i=e},function(r){return function(){return u.each(e.models,function(a){var o,s;return o=t&&null!=(s=r.getItem(e,n,a[r.idKey]))?s.gObject:void 0,i||(!o&&r.markersScope&&c.error("Unable to get gMarker from markersScope!"),r.createWindow(a,o,r.gMap)),i},u.chunkSizeFrom(e.chunk)).then(function(){return r.firstTime=!1})}}(this)))},b.prototype.pieceMeal=function(e,t,n,r){var i,a;return null==n&&(n="models"),null==r&&(r=!0),e.$$destroyed?void 0:(i=null,a=null,null!=e&&this.modelsLength()&&this.plurals.length?u.promiseLock(this,m.promiseTypes.update,"pieceMeal",function(e){return i=e},function(t){return function(){return m.promise(function(){return t.figureOutState(t.idKey,e,t.plurals,t.modelKeyComparison)}).then(function(n){return a=n,u.each(a.removals,function(e){return null!=e?(t.plurals.remove(e.id),null!=e.destroy&&e.destroy(!0),i):void 0},u.chunkSizeFrom(e.chunk))}).then(function(){return u.each(a.adds,function(r){var a,o;if(a=null!=(o=t.getItem(e,n,r[t.idKey]))?o.gObject:void 0,!a)throw"Gmarker undefined";return t.createWindow(r,a,t.gMap),i})}).then(function(){return u.each(a.updates,function(e){return t.updateChild(e.child,e.model),i},u.chunkSizeFrom(e.chunk))})}}(this)):(c.debug("pieceMeal: rebuildAll"),this.rebuildAll(this.scope,!0,!0)))},b.prototype.setContentKeys=function(e){return this.modelsLength(e)?this.contentKeys=Object.keys(e[0]):void 0},b.prototype.createWindow=function(e,t,n){var r,i,a,o,l,u;return i=this.linked.scope.$new(!1),this.setChildScope(i,e),i.$watch("model",function(e){return function(t,n){return t!==n?e.setChildScope(i,t):void 0}}(this),!0),a={html:function(t){return function(){return t.interpolateContent(t.linked.element.html(),e)}}(this)},this.DEFAULTS=this.scopeOrModelVal(this.optionsKey,this.scope,e)||{},o=this.createWindowOptions(t,i,a.html(),this.DEFAULTS),r=new s({model:e,scope:i,opts:o,isIconVisibleOnClick:this.isIconVisibleOnClick,gMap:n,markerScope:null!=(l=this.markersScope)&&null!=(u=l.plurals.get(e[this.idKey]))?u.scope:void 0,element:a,needToManualDestroy:!1,markerIsVisibleAfterWindowClose:!0,isScopeModel:!0}),null==e[this.idKey]?void this.$log.error("Window model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key."):(this.plurals.put(e[this.idKey],r),r)},b.prototype.setChildScope=function(e,t){return n.each(v.scopeKeys,function(n){return function(r){var i,a;return i=r+"Key",a="self"===n[i]?t:t[n[i]],a!==e[r]?e[r]=a:void 0}}(this)),e.model=t},b.prototype.interpolateContent=function(e,t){var n,r,i,a,o,s;if(void 0!==this.contentKeys&&0!==this.contentKeys.length){for(n=g(e),i={},s=this.contentKeys,r=0,o=s.length;o>r;r++)a=s[r],i[a]=t[a];return n(i)}},b.prototype.modelKeyComparison=function(e,t){var r,i;if(i=null!=this.scope.coords?this.scope:this.parentScope,null==i)throw"No scope or parentScope set!";return(r=y.equalCoords(this.evalModelHandle(e,i.coords),this.evalModelHandle(t,i.coords)))?r=n.every(n.without(this.interface.scopeKeys,"coords"),function(n){return function(r){return n.evalModelHandle(e,i[r])===n.evalModelHandle(t,i[r])}}(this)):r},b}(i)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapCircle",["uiGmapICircle","uiGmapCircleParentModel",function(e,t){return n.extend(e,{link:function(e,n,r,i){return i.getScope().deferred.promise.then(function(i){return new t(e,n,r,i)})}})}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapControl",["uiGmapIControl","$http","$templateCache","$compile","$controller","uiGmapGoogleMapApi",function(r,i,a,o,s,l){var u;return u=function(u){function c(){this.link=e(this.link,this),c.__super__.constructor.call(this)}return n(c,u),c.prototype.transclude=!0,c.prototype.link=function(e,n,u,c,d){return l.then(function(n){return function(l){var u,p,h,f;return f=d(),u=d().length>0,!u&&t.isUndefined(e.template)?void n.$log.error("mapControl: could not find a valid template property or elements for transclusion"):(p=t.isDefined(e.index&&!isNaN(parseInt(e.index)))?parseInt(e.index):void 0,h=t.isDefined(e.position)?e.position.toUpperCase().replace(/-/g,"_"):"TOP_CENTER",l.ControlPosition[h]?r.mapPromise(e,c).then(function(r){var l,c,f;return l=void 0,c=t.element("<div></div>"),f=function(e,t,n){return n&&(t[0].index=n),e.controls[google.maps.ControlPosition[h]].push(t[0])},u?d(function(e){return c.append(e),f(r,c,p)}):i.get(e.template,{cache:a}).success(function(n){var r,i;return i=e.$new(),c.append(n),t.isDefined(e.controller)&&(r=s(e.controller,{$scope:i}),c.children().data("$ngControllerController",r)),l=o(c.children())(i)}).error(function(e){return n.$log.error("mapControl: template could not be found")}).then(function(){return f(r,l,p)})}):void n.$log.error("mapControl: invalid position property"))}}(this))},c}(r)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapDragZoom",["uiGmapCtrlHandle","uiGmapPropertyAction",function(e,t){return{restrict:"EMA",transclude:!0,template:'<div class="angular-google-map-dragzoom" ng-transclude style="display: none"></div>',require:"^uiGmapGoogleMap",scope:{keyboardkey:"=",options:"=",spec:"="},controller:["$scope","$element",function(t,r){return t.ctrlType="uiGmapDragZoom",n.extend(this,e.handle(t,r))}],link:function(n,r,i,a){return e.mapPromise(n,a).then(function(e){var r,i,a;return r=function(t){return e.enableKeyDragZoom(t)},i=new t(function(e,t){return t?r({key:t}):r()}),a=new t(function(e,t){return t?r(t):void 0}),n.$watch("keyboardkey",i.sic("keyboardkey")),i.sic(n.keyboardkey),n.$watch("options",a.sic("options")),a.sic(n.options)})}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapDrawingManager",["uiGmapIDrawingManager","uiGmapDrawingManagerParentModel",function(e,t){return n.extend(e,{link:function(e,n,r,i){return i.getScope().deferred.promise.then(function(i){return new t(e,n,r,i)})}})}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapApiFreeDrawPolygons",["uiGmapLogger","uiGmapBaseObject","uiGmapCtrlHandle","uiGmapDrawFreeHandChildModel","uiGmapLodash",function(t,i,a,o,s){var l;return l=function(i){function l(){return this.link=e(this.link,this),l.__super__.constructor.apply(this,arguments)}return r(l,i),l.include(a),l.prototype.restrict="EMA",l.prototype.replace=!0,l.prototype.require="^uiGmapGoogleMap",l.prototype.scope={polygons:"=",draw:"="},l.prototype.link=function(e,r,i,a){return this.mapPromise(e,a).then(function(r){return function(r){var i,l;return e.polygons?n.isArray(e.polygons)?(i=new o(r,a.getScope()),l=void 0,e.draw=function(){return"function"==typeof l&&l(),i.engage(e.polygons).then(function(){var t;return t=!0,l=e.$watchCollection("polygons",function(e,n){var r;return t||e===n?void(t=!1):(r=s.differenceObjects(n,e),r.forEach(function(e){return e.setMap(null)}))})})}):t.error("Free Draw Polygons must be of type Array!"):t.error("No polygons to bind to!")}}(this))},l}(i)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapICircle",[function(){var e;return e={},{restrict:"EA",replace:!0,require:"^uiGmapGoogleMap",scope:{center:"=center",radius:"=radius",stroke:"=stroke",fill:"=fill",clickable:"=",draggable:"=",editable:"=",geodesic:"=",icons:"=icons",visible:"=",events:"=",control:"=",zIndex:"=zindex"}}}])}.call(this),function(){var e=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIControl",["uiGmapBaseObject","uiGmapLogger","uiGmapCtrlHandle",function(t,n,r){var i;return i=function(t){function i(){this.restrict="EA",this.replace=!0,this.require="^uiGmapGoogleMap",this.scope={template:"@template",position:"@position",controller:"@controller",index:"@index"},this.$log=n}return e(i,t),i.extend(r),i.prototype.link=function(e,t,n,r){throw new Exception("Not implemented!!")},i}(t)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapIDrawingManager",[function(){return{restrict:"EA",replace:!0,require:"^uiGmapGoogleMap",scope:{"static":"@",control:"=",options:"=",events:"="}}}])}.call(this),function(){var e=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIMarker",["uiGmapBaseObject","uiGmapCtrlHandle",function(t,r){var i;return i=function(t){function i(){this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.replace=!0,this.scope=n.extend(this.scope||{},i.scope)}return e(i,t),i.scope={coords:"=coords",icon:"=icon",click:"&click",options:"=options",events:"=events",fit:"=fit",idKey:"=idkey",control:"=control"},i.scopeKeys=n.keys(i.scope),i.keys=i.scopeKeys,i.extend(r),i}(t)}])}.call(this),function(){var e=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIPolygon",["uiGmapGmapUtil","uiGmapBaseObject","uiGmapLogger","uiGmapCtrlHandle",function(t,r,i,a){var o;return o=function(r){function o(){}return e(o,r),o.scope={path:"=path",stroke:"=stroke",clickable:"=",draggable:"=",editable:"=",geodesic:"=",fill:"=",icons:"=icons",visible:"=","static":"=",events:"=",zIndex:"=zindex",fit:"=",control:"=control"},o.scopeKeys=n.keys(o.scope),o.include(t),o.extend(a),o.prototype.restrict="EMA",o.prototype.replace=!0,o.prototype.require="^uiGmapGoogleMap",o.prototype.scope=o.scope,o.prototype.DEFAULTS={},o.prototype.$log=i,o}(r)}])}.call(this),function(){var e=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIPolyline",["uiGmapGmapUtil","uiGmapBaseObject","uiGmapLogger","uiGmapCtrlHandle",function(t,r,i,a){var o;return o=function(r){function o(){}return e(o,r),o.scope={path:"=",stroke:"=",clickable:"=",draggable:"=",editable:"=",geodesic:"=",icons:"=",visible:"=","static":"=",fit:"=",events:"=",zIndex:"=zindex"},o.scopeKeys=n.keys(o.scope),o.include(t),o.extend(a),o.prototype.restrict="EMA",o.prototype.replace=!0,o.prototype.require="^uiGmapGoogleMap",o.prototype.scope=o.scope,o.prototype.DEFAULTS={},o.prototype.$log=i,o}(r)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapIRectangle",[function(){var e;return e={},{restrict:"EMA",require:"^uiGmapGoogleMap",replace:!0,scope:{bounds:"=",stroke:"=",clickable:"=",draggable:"=",editable:"=",fill:"=",visible:"=",events:"="}}}])}.call(this),function(){var e=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIWindow",["uiGmapBaseObject","uiGmapChildEvents","uiGmapCtrlHandle",function(t,r,i){var a;return a=function(t){function a(){this.restrict="EMA",this.template=void 0,this.transclude=!0,this.priority=-100,this.require="^uiGmapGoogleMap",this.replace=!0,this.scope=n.extend(this.scope||{},a.scope)}return e(a,t),a.scope={coords:"=coords",template:"=template",templateUrl:"=templateurl",templateParameter:"=templateparameter",isIconVisibleOnClick:"=isiconvisibleonclick",closeClick:"&closeclick",options:"=options",control:"=control",show:"=show"},a.scopeKeys=n.keys(a.scope),a.include(r),a.extend(i),a}(t)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapMap",["$timeout","$q","$log","uiGmapGmapUtil","uiGmapBaseObject","uiGmapCtrlHandle","uiGmapIsReady","uiGmapuuid","uiGmapExtendGWin","uiGmapExtendMarkerClusterer","uiGmapGoogleMapsUtilV3","uiGmapGoogleMapApi","uiGmapEventsHelper","uiGmapGoogleMapObjectManager",function(i,a,o,s,l,u,c,d,p,h,f,g,m,v){var y,b,S;return y=void 0,S=[f,p,h],b=function(a){function l(){this.link=e(this.link,this);var t;t=function(e){var t,r;return r=void 0,e.$on("$destroy",function(){return c.decrement()}),t=u.handle(e),e.ctrlType="Map",e.deferred.promise.then(function(){return S.forEach(function(e){return e.init()})}),t.getMap=function(){return e.map},r=n.extend(this,t)},this.controller=["$scope",t]}return r(l,a),l.include(s),l.prototype.restrict="EMA",l.prototype.transclude=!0,l.prototype.replace=!1,l.prototype.template='<div class="angular-google-map"><div class="angular-google-map-container">\n</div><div ng-transclude style="display: none"></div></div>',l.prototype.scope={center:"=",zoom:"=",dragging:"=",control:"=",options:"=",events:"=",eventOpts:"=",styles:"=",bounds:"=",update:"="},l.prototype.link=function(e,r,a){var s;return s=[],e.$on("$destroy",function(){return m.removeEvents(s),"true"===a.recycleMapInstance&&e.map?(v.recycleMapInstance(e.map),e.map=null):void 0}),e.idleAndZoomChanged=!1,g.then(function(l){return function(u){var p,h,f,g,b,S,D,w,A,C,_,x,$,k,M,T,F;if(y={mapTypeId:u.MapTypeId.ROADMAP},k=c.spawn(),x=function(){return k.deferred.resolve({instance:k.instance,map:p})},!t.isDefined(e.center)&&!t.isDefined(e.bounds))return void o.error("angular-google-maps: a center or bounds property is required");if(t.isDefined(e.center)||(e.center=new google.maps.LatLngBounds(l.getCoords(e.bounds.southwest),l.getCoords(e.bounds.northeast)).getCenter()),t.isDefined(e.zoom)||(e.zoom=10),b=t.element(r),b.addClass("angular-google-map"),C={options:{}},a.options&&(C.options=e.options),a.styles&&(C.styles=e.styles),a.type&&(M=a.type.toUpperCase(),google.maps.MapTypeId.hasOwnProperty(M)?C.mapTypeId=google.maps.MapTypeId[a.type.toUpperCase()]:o.error("angular-google-maps: invalid map type '"+a.type+"'")),w=t.extend({},y,C,{center:l.getCoords(e.center),zoom:e.zoom,bounds:e.bounds}),p="true"===a.recycleMapInstance?v.createMapInstance(b.find("div")[1],w):new google.maps.Map(b.find("div")[1],w),p.uiGmap_id=d.generate(),g=!1,s.push(google.maps.event.addListenerOnce(p,"idle",function(){return e.deferred.resolve(p),x()})),f=a.events&&null!=(null!=(_=e.events)?_.blacklist:void 0)?e.events.blacklist:[],n.isString(f)&&(f=[f]),A=function(t,r,i){return n.includes(f,t)?void 0:(i&&i(),s.push(google.maps.event.addListener(p,t,function(){var t;return(null!=(t=e.update)?t.lazy:void 0)?void 0:r()})))},n.includes(f,"all")||(A("dragstart",function(){return g=!0,e.$evalAsync(function(e){return null!=e.dragging?e.dragging=g:void 0})}),A("dragend",function(){return g=!1,e.$evalAsync(function(e){return null!=e.dragging?e.dragging=g:void 0})}),T=function(t,r){return null==t&&(t=p.center),null==r&&(r=e),n.includes(f,"center")&&(r.center.latitude!==t.lat()&&(r.center.latitude=t.lat()),r.center.longitude!==t.lng())?r.center.longitude=t.lng():void 0},$=!1,A("idle",function(){var t,r,i;return t=p.getBounds(),r=t.getNorthEast(),i=t.getSouthWest(),$=!0,e.$evalAsync(function(t){return T(),n.isUndefined(t.bounds)||n.includes(f,"bounds")||(t.bounds.northeast={latitude:r.lat(),longitude:r.lng()},t.bounds.southwest={latitude:i.lat(),longitude:i.lng()}),n.includes(f,"zoom")||(t.zoom=p.zoom,e.idleAndZoomChanged=!e.idleAndZoomChanged),$=!1})})),t.isDefined(e.events)&&null!==e.events&&t.isObject(e.events)){D=function(t){return function(){return e.events[t].apply(e,[p,t,arguments])}},h=[];for(S in e.events)e.events.hasOwnProperty(S)&&t.isFunction(e.events[S])&&h.push(google.maps.event.addListener(p,S,D(S)));s.concat(h)}return p.getOptions=function(){return w},e.map=p,null!=a.control&&null!=e.control&&(e.control.refresh=function(e){var t,n,r;if(null!=p)return null!=("undefined"!=typeof google&&null!==google&&null!=(n=google.maps)&&null!=(r=n.event)?r.trigger:void 0)&&null!=p&&google.maps.event.trigger(p,"resize"),null!=(null!=e?e.latitude:void 0)&&null!=(null!=e?e.longitude:void 0)?(t=l.getCoords(e),l.isTrue(a.pan)?p.panTo(t):p.setCenter(t)):void 0},e.control.getGMap=function(){return p},e.control.getMapOptions=function(){return w},e.control.getCustomEventListeners=function(){return h},e.control.removeEvents=function(e){return m.removeEvents(e)}),e.$watch("center",function(t,n){var r;if(t!==n&&!$&&(r=l.getCoords(e.center),r.lat()!==p.center.lat()||r.lng()!==p.center.lng()))return g?void 0:(l.validateCoords(t)||o.error("Invalid center for newValue: "+JSON.stringify(t)),l.isTrue(a.pan)&&e.zoom===p.zoom?p.panTo(r):p.setCenter(r))},!0),F=null,e.$watch("zoom",function(t,r){var a,o;if(null!=t&&!n.isEqual(t,r)&&(null!=p?p.getZoom():void 0)!==(null!=e?e.zoom:void 0)&&!$)return null!=F&&i.cancel(F),F=i(function(){return p.setZoom(t)},(null!=(a=e.eventOpts)&&null!=(o=a.debounce)?o.zoomMs:void 0)+20,!1)}),e.$watch("bounds",function(e,t){var n,r,i,a,s,l,u;if(e!==t)return null==(null!=e&&null!=(i=e.northeast)?i.latitude:void 0)||null==(null!=e&&null!=(a=e.northeast)?a.longitude:void 0)||null==(null!=e&&null!=(s=e.southwest)?s.latitude:void 0)||null==(null!=e&&null!=(l=e.southwest)?l.longitude:void 0)?void o.error("Invalid map bounds for new value: "+JSON.stringify(e)):(r=new google.maps.LatLng(e.northeast.latitude,e.northeast.longitude),u=new google.maps.LatLng(e.southwest.latitude,e.southwest.longitude),n=new google.maps.LatLngBounds(u,r),p.fitBounds(n))}),["options","styles"].forEach(function(t){return e.$watch(t,function(e,r){return n.isEqual(e,r)?void 0:("options"===t?C.options=e:C.options[t]=e,null!=p?p.setOptions(C):void 0)},!0)})}}(this))},l}(l)}])}.call(this),function(){var e=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapMarker",["uiGmapIMarker","uiGmapMarkerChildModel","uiGmapMarkerManager","uiGmapLogger",function(t,r,i,a){var o;return o=function(o){function s(){s.__super__.constructor.call(this),this.template='<span class="angular-google-map-marker" ng-transclude></span>',a.info(this)}return e(s,o),s.prototype.controller=["$scope","$element",function(e,r){return e.ctrlType="Marker",n.extend(this,t.handle(e,r))}],s.prototype.link=function(e,a,o,s){var l;return l=t.mapPromise(e,s),l.then(function(a){var o,s,l;return o=new i(a),s=n.object(t.keys,t.keys),l=new r({scope:e,model:e,keys:s,gMap:a,doClick:!0,gManager:o,doDrawSelf:!1,trackModel:!1}),l.deferred.promise.then(function(t){return e.deferred.resolve(t)}),null!=e.control?e.control.getGMarkers=o.getGMarkers:void 0}),e.$on("$destroy",function(){var e;return"undefined"!=typeof e&&null!==e&&e.clear(),e=null})},s}(t)}])}.call(this),function(){var e=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapMarkers",["uiGmapIMarker","uiGmapPlural","uiGmapMarkersParentModel","uiGmap_sync","uiGmapLogger",function(t,r,i,a,o){var s;return s=function(a){function s(){s.__super__.constructor.call(this),this.template='<span class="angular-google-map-markers" ng-transclude></span>',r.extend(this,{doCluster:"=?docluster",clusterOptions:"=clusteroptions",clusterEvents:"=clusterevents",modelsByRef:"=modelsbyref",type:"=?type",typeOptions:"=?typeoptions",typeEvents:"=?typeevents"}),o.info(this)}return e(s,a),s.prototype.controller=["$scope","$element",function(e,r){return e.ctrlType="Markers",n.extend(this,t.handle(e,r))}],s.prototype.link=function(e,a,o,s){var l,u;return l=void 0,u=function(){return e.deferred.resolve()},t.mapPromise(e,s).then(function(t){var c;return c=s.getScope(),c.$watch("idleAndZoomChanged",function(){return n.defer(l.gManager.draw)}),l=new i(e,a,o,t),r.link(e,l),null!=e.control&&(e.control.getGMarkers=function(){var e;return null!=(e=l.gManager)?e.getGMarkers():void 0},e.control.getChildMarkers=function(){return l.plurals}),n.last(l.existingPieces._content).then(function(){return u()})})},s}(t)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapPlural",[function(){var e;return e=function(e,t){return null!=e.control?(e.control.updateModels=function(n){return e.models=n,t.createChildScopes(!1)},e.control.newModels=function(n){return e.models=n,t.rebuildAll(e,!0,!0)},e.control.clean=function(){return t.rebuildAll(e,!1,!0)},e.control.getPlurals=function(){return t.plurals},e.control.getManager=function(){return t.gManager},e.control.hasManager=function(){return null!=t.gManager==!0},e.control.managerDraw=function(){var t;return e.control.hasManager()&&null!=(t=e.control.getManager())?t.draw():void 0}):void 0},{extend:function(e,t){return n.extend(e.scope||{},t||{},{idKey:"=idkey",doRebuildAll:"=dorebuildall",models:"=models",chunk:"=chunk",cleanchunk:"=cleanchunk",control:"=control"})},link:function(t,n){return e(t,n)}}}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolygon",["uiGmapIPolygon","$timeout","uiGmapPolygonChildModel",function(t,r,i){var a;return a=function(r){function a(){return this.link=e(this.link,this),a.__super__.constructor.apply(this,arguments)}return n(a,r),a.prototype.link=function(e,n,r,a){var o,s;return o=[],s=t.mapPromise(e,a),null!=e.control&&(e.control.getInstance=this,e.control.polygons=o,e.control.promise=s),s.then(function(t){return function(n){return o.push(new i({scope:e,attrs:r,gMap:n,defaults:t.DEFAULTS}))}}(this))},a}(t)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolygons",["uiGmapIPolygon","$timeout","uiGmapPolygonsParentModel","uiGmapPlural",function(r,i,a,o){var s;return s=function(r){function i(){this.link=e(this.link,this),i.__super__.constructor.call(this),o.extend(this),this.$log.info(this)}return n(i,r),i.prototype.link=function(e,n,r,i){return i.getScope().deferred.promise.then(function(i){return function(s){return(t.isUndefined(e.path)||null===e.path)&&i.$log.warn("polygons: no valid path attribute found"),e.models||i.$log.warn("polygons: no models found to create from"),o.link(e,new a(e,n,r,s,i.DEFAULTS))}}(this))},i}(r)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolyline",["uiGmapIPolyline","$timeout","uiGmapPolylineChildModel",function(r,i,a){var o;return o=function(i){function o(){return this.link=e(this.link,this),o.__super__.constructor.apply(this,arguments)}return n(o,i),o.prototype.link=function(e,n,i,o){return r.mapPromise(e,o).then(function(n){return function(r){return(t.isUndefined(e.path)||null===e.path||!n.validatePath(e.path))&&n.$log.warn("polyline: no valid path attribute found"),new a({scope:e,attrs:i,gMap:r,defaults:n.DEFAULTS})}}(this))},o}(r)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolylines",["uiGmapIPolyline","$timeout","uiGmapPolylinesParentModel","uiGmapPlural",function(r,i,a,o){var s;return s=function(r){function i(){this.link=e(this.link,this),i.__super__.constructor.call(this),o.extend(this),this.$log.info(this)}return n(i,r),i.prototype.link=function(e,n,r,i){return i.getScope().deferred.promise.then(function(i){return function(s){return(t.isUndefined(e.path)||null===e.path)&&i.$log.warn("polylines: no valid path attribute found"),e.models||i.$log.warn("polylines: no models found to create from"),o.link(e,new a(e,n,r,s,i.DEFAULTS))}}(this))},i}(r)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapRectangle",["uiGmapLogger","uiGmapGmapUtil","uiGmapIRectangle","uiGmapRectangleParentModel",function(e,t,r,i){return n.extend(r,{link:function(e,t,n,r){return r.getScope().deferred.promise.then(function(r){return new i(e,t,n,r)})}})}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapWindow",["uiGmapIWindow","uiGmapGmapUtil","uiGmapWindowChildModel","uiGmapLodash","uiGmapLogger",function(r,i,a,o,s){var l;return l=function(l){function u(){this.link=e(this.link,this),u.__super__.constructor.call(this),this.require=["^uiGmapGoogleMap","^?uiGmapMarker"],this.template='<span class="angular-google-maps-window" ng-transclude></span>',s.debug(this),this.childWindows=[]}return n(u,l),u.include(i),u.prototype.link=function(e,n,i,a){var o,s;return o=a.length>1&&null!=a[1]?a[1]:void 0,s=null!=o?o.getScope():void 0,this.mapPromise=r.mapPromise(e,a[0]),this.mapPromise.then(function(r){return function(a){var l;return l=!0,t.isDefined(i.isiconvisibleonclick)&&(l=e.isIconVisibleOnClick),o?s.deferred.promise.then(function(t){return r.init(e,n,l,a,s)}):void r.init(e,n,l,a)}}(this))},u.prototype.init=function(e,t,n,r,i){var s,l,u,c,d;return l=null!=e.options?e.options:{},c=null!=e&&this.validateCoords(e.coords),null!=(null!=i?i.getGMarker:void 0)&&(u=i.getGMarker()),d=c?this.createWindowOptions(u,e,t.html(),l):l,null!=r&&(s=new a({scope:e,opts:d,isIconVisibleOnClick:n,gMap:r,markerScope:i,element:t}),this.childWindows.push(s),
e.$on("$destroy",function(e){return function(){return e.childWindows=o.withoutObjects(e.childWindows,[s],function(e,t){return e.scope.$id===t.scope.$id}),e.childWindows.length=0}}(this))),null!=e.control&&(e.control.getGWindows=function(e){return function(){return e.childWindows.map(function(e){return e.gObject})}}(this),e.control.getChildWindows=function(e){return function(){return e.childWindows}}(this),e.control.getPlurals=e.control.getChildWindows,e.control.showWindow=function(e){return function(){return e.childWindows.map(function(e){return e.showWindow()})}}(this),e.control.hideWindow=function(e){return function(){return e.childWindows.map(function(e){return e.hideWindow()})}}(this)),null!=this.onChildCreation&&null!=s?this.onChildCreation(s):void 0},u}(r)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapWindows",["uiGmapIWindow","uiGmapPlural","uiGmapWindowsParentModel","uiGmapPromise","uiGmapLogger",function(t,r,i,a,o){var s;return s=function(t){function s(){this.link=e(this.link,this),s.__super__.constructor.call(this),this.require=["^uiGmapGoogleMap","^?uiGmapMarkers"],this.template='<span class="angular-google-maps-windows" ng-transclude></span>',r.extend(this),o.debug(this)}return n(s,t),s.prototype.link=function(e,t,n,r){var i,o,s;return i=r[0].getScope(),o=r.length>1&&null!=r[1]?r[1]:void 0,s=null!=o?o.getScope():void 0,i.deferred.promise.then(function(i){return function(o){var l,u;return l=(null!=s&&null!=(u=s.deferred)?u.promise:void 0)||a.resolve(),l.then(function(){var a,l;return a=null!=(l=i.parentModel)?l.existingPieces:void 0,a?a.then(function(){return i.init(e,t,n,r,o,s)}):i.init(e,t,n,r,o,s)})}}(this))},s.prototype.init=function(e,t,n,a,o,s){var l;return l=new i(e,t,n,a,o,s),r.link(e,l),null!=e.control?(e.control.getGWindows=function(){return l.plurals.map(function(e){return e.gObject})},e.control.getChildWindows=function(){return l.plurals}):void 0},s}(t)}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapGoogleMap",["uiGmapMap",function(e){return new e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapMarker",["$timeout","uiGmapMarker",function(e,t){return new t(e)}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapMarkers",["$timeout","uiGmapMarkers",function(e,t){return new t(e)}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapPolygon",["uiGmapPolygon",function(e){return new e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapCircle",["uiGmapCircle",function(e){return e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapPolyline",["uiGmapPolyline",function(e){return new e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapPolylines",["uiGmapPolylines",function(e){return new e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapRectangle",["uiGmapLogger","uiGmapRectangle",function(e,t){return t}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapWindow",["$timeout","$compile","$http","$templateCache","uiGmapWindow",function(e,t,n,r,i){return new i(e,t,n,r)}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapWindows",["$timeout","$compile","$http","$templateCache","$interpolate","uiGmapWindows",function(e,t,n,r,i,a){return new a(e,t,n,r,i)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps").directive("uiGmapLayer",["$timeout","uiGmapLogger","uiGmapLayerParentModel",function(t,n,r){var i;return new(i=function(){function t(){this.link=e(this.link,this),this.$log=n,this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.template="<span class='angular-google-map-layer' ng-transclude></span>",this.replace=!0,this.scope={show:"=show",type:"=type",namespace:"=namespace",options:"=options",onCreated:"&oncreated"}}return t.prototype.link=function(e,t,n,i){return i.getScope().deferred.promise.then(function(i){return function(i){return null!=e.onCreated?new r(e,t,n,i,e.onCreated):new r(e,t,n,i)}}(this))},t}())}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapMapControl",["uiGmapControl",function(e){return new e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapDragZoom",["uiGmapDragZoom",function(e){return e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapDrawingManager",["uiGmapDrawingManager",function(e){return e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapFreeDrawPolygons",["uiGmapApiFreeDrawPolygons",function(e){return new e}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps").directive("uiGmapMapType",["$timeout","uiGmapLogger","uiGmapMapTypeParentModel",function(t,n,r){var i;return new(i=function(){function t(){this.link=e(this.link,this),this.$log=n,this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.template='<span class="angular-google-map-layer" ng-transclude></span>',this.replace=!0,this.scope={show:"=show",options:"=options",refresh:"=refresh",id:"@"}}return t.prototype.link=function(e,t,n,i){return i.getScope().deferred.promise.then(function(i){return function(i){return new r(e,t,n,i)}}(this))},t}())}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapPolygons",["uiGmapPolygons",function(e){return new e}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps").directive("uiGmapSearchBox",["uiGmapGoogleMapApi","uiGmapLogger","uiGmapSearchBoxParentModel","$http","$templateCache","$compile",function(n,r,i,a,o,s){var l;return new(l=function(){function l(){this.link=e(this.link,this),this.$log=r,this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.template="<span class='angular-google-map-search' ng-transclude></span>",this.replace=!0,this.scope={template:"=template",events:"=events",position:"=?position",options:"=?options",parentdiv:"=?parentdiv",ngModel:"=?"}}return l.prototype.require="ngModel",l.prototype.link=function(e,r,l,u){return n.then(function(n){return function(c){return null==e.template&&(o.put("uigmap-searchbox-default.tpl.html",'<input type="text">'),e.template="uigmap-searchbox-default.tpl.html"),a.get(e.template,{cache:o}).success(function(a){return t.isUndefined(e.events)?void n.$log.error("searchBox: the events property is required"):u.getScope().deferred.promise.then(function(o){var u;return u=t.isDefined(e.position)?e.position.toUpperCase().replace(/-/g,"_"):"TOP_LEFT",c.ControlPosition[u]?new i(e,r,l,o,u,s(a)(e)):void n.$log.error("searchBox: invalid position property")})})}}(this))},l}())}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapShow",["$animate","uiGmapLogger",function(e,n){return{scope:{uiGmapShow:"=",uiGmapAfterShow:"&",uiGmapAfterHide:"&"},link:function(r,i){var a,o,s;return a=function(t,n){return e[t](i,"ng-hide").then(function(){return n()})},o=function(t,n){return e[t](i,"ng-hide",n)},s=function(e,r){return t.version.major>1?n.error("uiGmapShow is not supported for Angular Major greater than 1.\nYour Major is "+t.version.major+'"'):1===t.version.major&&t.version.minor<3?o(e,r):a(e,r)},r.$watch("uiGmapShow",function(e){return e&&s("removeClass",r.uiGmapAfterShow),e?void 0:s("addClass",r.uiGmapAfterHide)})}}}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapStreetViewPanorama",["uiGmapGoogleMapApi","uiGmapLogger","uiGmapGmapUtil","uiGmapEventsHelper",function(e,n,r,i){var a;return a="uiGmapStreetViewPanorama",{restrict:"EMA",template:'<div class="angular-google-map-street-view-panorama"></div>',replace:!0,scope:{focalcoord:"=",radius:"=?",events:"=?",options:"=?",control:"=?",povoptions:"=?",imagestatus:"="},link:function(o,s,l){return e.then(function(e){return function(e){var l,u,c,d,p,h,f,g,m,v;return g=void 0,v=void 0,c=!1,h=void 0,f=null,m=null,l=function(){return i.removeEvents(h),null!=g&&(g.unbind("position"),g.setVisible(!1)),null!=v?(null!=(null!=v?v.setVisible:void 0)&&v.setVisible(!1),v=void 0):void 0},p=function(e,n){var r;return r=google.maps.geometry.spherical.computeHeading(e,n),c=!0,o.radius=o.radius||50,m=t.extend({heading:r,zoom:1,pitch:0},o.povoptions||{}),f=f=t.extend({navigationControl:!1,addressControl:!1,linksControl:!1,position:e,pov:m,visible:!0},o.options||{}),c=!1},u=function(){var e;return o.focalcoord?o.radius?(l(),null==v&&(v=new google.maps.StreetViewService),o.events&&(h=i.setEvents(v,o,o)),e=r.getCoords(o.focalcoord),v.getPanoramaByLocation(e,o.radius,function(t,n){var r,i,a;return null!=o.imagestatus&&(o.imagestatus=n),null!=(null!=(a=o.events)?a.image_status_changed:void 0)&&o.events.image_status_changed(v,"image_status_changed",o,n),"OK"===n?(i=t.location.latLng,p(i,e),r=s[0],g=new google.maps.StreetViewPanorama(r,f)):void 0})):void n.error(a+": needs a radius to set the camera view from its focal target."):void n.error(a+": focalCoord needs to be defined")},null!=o.control&&(o.control.getOptions=function(){return f},o.control.getPovOptions=function(){return m},o.control.getGObject=function(){return v},o.control.getGPano=function(){return g}),o.$watch("options",function(e,t){return e===t||e===f||c?void 0:u()}),d=!0,o.$watch("focalcoord",function(e,t){return e===t&&!d||null==e?void 0:(d=!1,u())}),o.$on("$destroy",function(){return l()})}}(this))}}}])}.call(this),t.module("uiGmapgoogle-maps.wrapped").service("uiGmapuuid",function(){function e(){}return e.generate=function(){var t=e._gri,n=e._ha;return n(t(32),8)+"-"+n(t(16),4)+"-"+n(16384|t(12),4)+"-"+n(32768|t(14),4)+"-"+n(t(48),12)},e._gri=function(e){return 0>e?NaN:30>=e?0|Math.random()*(1<<e):53>=e?(0|1073741824*Math.random())+1073741824*(0|Math.random()*(1<<e-30)):NaN},e._ha=function(e,t){for(var n=e.toString(16),r=t-n.length,i="0";r>0;r>>>=1,i+=i)1&r&&(n=i+n);return n},e}),t.module("uiGmapgoogle-maps.wrapped").service("uiGmapGoogleMapsUtilV3",function(){return{init:n.once(function(){+function(){function t(e,n){e.getMarkerClusterer().extend(t,google.maps.OverlayView),this.cluster_=e,this.className_=e.getMarkerClusterer().getClusterClass(),this.styles_=n,this.center_=null,this.div_=null,this.sums_=null,this.visible_=!1,this.setMap(e.getMap())}function n(e){this.markerClusterer_=e,this.map_=e.getMap(),this.gridSize_=e.getGridSize(),this.minClusterSize_=e.getMinimumClusterSize(),this.averageCenter_=e.getAverageCenter(),this.hideLabel_=e.getHideLabel(),this.markers_=[],this.center_=null,this.bounds_=null,this.clusterIcon_=new t(this,e.getStyles())}function i(e,t,n){this.extend(i,google.maps.OverlayView),t=t||[],n=n||{},this.markers_=[],this.clusters_=[],this.listeners_=[],this.activeMap_=null,this.ready_=!1,this.gridSize_=n.gridSize||60,this.minClusterSize_=n.minimumClusterSize||2,this.maxZoom_=n.maxZoom||null,this.styles_=n.styles||[],this.title_=n.title||"",this.zoomOnClick_=!0,void 0!==n.zoomOnClick&&(this.zoomOnClick_=n.zoomOnClick),this.averageCenter_=!1,void 0!==n.averageCenter&&(this.averageCenter_=n.averageCenter),this.ignoreHidden_=!1,void 0!==n.ignoreHidden&&(this.ignoreHidden_=n.ignoreHidden),this.enableRetinaIcons_=!1,void 0!==n.enableRetinaIcons&&(this.enableRetinaIcons_=n.enableRetinaIcons),this.hideLabel_=!1,void 0!==n.hideLabel&&(this.hideLabel_=n.hideLabel),this.imagePath_=n.imagePath||i.IMAGE_PATH,this.imageExtension_=n.imageExtension||i.IMAGE_EXTENSION,this.imageSizes_=n.imageSizes||i.IMAGE_SIZES,this.calculator_=n.calculator||i.CALCULATOR,this.batchSize_=n.batchSize||i.BATCH_SIZE,this.batchSizeIE_=n.batchSizeIE||i.BATCH_SIZE_IE,this.clusterClass_=n.clusterClass||"cluster",-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(this.batchSize_=this.batchSizeIE_),this.setupStyles_(),this.addMarkers(t,!0),this.setMap(e)}function a(e){e=e||{},google.maps.OverlayView.apply(this,arguments),this.content_=e.content||"",this.disableAutoPan_=e.disableAutoPan||!1,this.maxWidth_=e.maxWidth||0,this.pixelOffset_=e.pixelOffset||new google.maps.Size(0,0),this.position_=e.position||new google.maps.LatLng(0,0),this.zIndex_=e.zIndex||null,this.boxClass_=e.boxClass||"infoBox",this.boxStyle_=e.boxStyle||{},this.closeBoxMargin_=e.closeBoxMargin||"2px",this.closeBoxURL_=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===e.closeBoxURL&&(this.closeBoxURL_=""),this.infoBoxClearance_=e.infoBoxClearance||new google.maps.Size(1,1),"undefined"==typeof e.visible&&("undefined"==typeof e.isHidden?e.visible=!0:e.visible=!e.isHidden),this.isHidden_=!e.visible,this.alignBottom_=e.alignBottom||!1,this.pane_=e.pane||"floatPane",this.enableEventPropagation_=e.enableEventPropagation||!1,this.div_=null,this.closeListener_=null,this.moveListener_=null,this.contextListener_=null,this.eventListeners_=null,this.fixedWidthSet_=null}function o(e,t){function n(){}n.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new n,e.prototype.constructor=e}function s(e,t,n){this.marker_=e,this.handCursorURL_=e.handCursorURL,this.labelDiv_=document.createElement("div"),this.labelDiv_.style.cssText="position: absolute; overflow: hidden;",this.eventDiv_=document.createElement("div"),this.eventDiv_.style.cssText=this.labelDiv_.style.cssText,this.eventDiv_.setAttribute("onselectstart","return false;"),this.eventDiv_.setAttribute("ondragstart","return false;"),this.crossDiv_=s.getSharedCross(t)}function l(e){e=e||{},e.labelContent=e.labelContent||"",e.labelAnchor=e.labelAnchor||new google.maps.Point(0,0),e.labelClass=e.labelClass||"markerLabels",e.labelStyle=e.labelStyle||{},e.labelInBackground=e.labelInBackground||!1,"undefined"==typeof e.labelVisible&&(e.labelVisible=!0),"undefined"==typeof e.raiseOnDrag&&(e.raiseOnDrag=!0),"undefined"==typeof e.clickable&&(e.clickable=!0),"undefined"==typeof e.draggable&&(e.draggable=!1),"undefined"==typeof e.optimized&&(e.optimized=!1),e.crossImage=e.crossImage||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/intl/en_us/mapfiles/drag_cross_67_16.png",e.handCursor=e.handCursor||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/intl/en_us/mapfiles/closedhand_8_8.cur",e.optimized=!1,this.label=new s(this,e.crossImage,e.handCursor),google.maps.Marker.apply(this,arguments)}function u(e){var t=e||{};this.ready_=!1,this.dragging_=!1,e.visible==r&&(e.visible=!0),e.shadow==r&&(e.shadow="7px -3px 5px rgba(88,88,88,0.7)"),e.anchor==r&&(e.anchor=c.BOTTOM),this.setValues(t)}t.prototype.onAdd=function(){var e,t,n=this;this.div_=document.createElement("div"),this.div_.className=this.className_,this.visible_&&this.show(),this.getPanes().overlayMouseTarget.appendChild(this.div_),this.boundsChangedListener_=google.maps.event.addListener(this.getMap(),"bounds_changed",function(){t=e}),google.maps.event.addDomListener(this.div_,"mousedown",function(){e=!0,t=!1}),google.maps.event.addDomListener(this.div_,"click",function(r){if(e=!1,!t){var i,a,o=n.cluster_.getMarkerClusterer();google.maps.event.trigger(o,"click",n.cluster_),google.maps.event.trigger(o,"clusterclick",n.cluster_),o.getZoomOnClick()&&(a=o.getMaxZoom(),i=n.cluster_.getBounds(),o.getMap().fitBounds(i),setTimeout(function(){o.getMap().fitBounds(i),null!==a&&o.getMap().getZoom()>a&&o.getMap().setZoom(a+1)},100)),r.cancelBubble=!0,r.stopPropagation&&r.stopPropagation()}}),google.maps.event.addDomListener(this.div_,"mouseover",function(){var e=n.cluster_.getMarkerClusterer();google.maps.event.trigger(e,"mouseover",n.cluster_)}),google.maps.event.addDomListener(this.div_,"mouseout",function(){var e=n.cluster_.getMarkerClusterer();google.maps.event.trigger(e,"mouseout",n.cluster_)})},t.prototype.onRemove=function(){this.div_&&this.div_.parentNode&&(this.hide(),google.maps.event.removeListener(this.boundsChangedListener_),google.maps.event.clearInstanceListeners(this.div_),this.div_.parentNode.removeChild(this.div_),this.div_=null)},t.prototype.draw=function(){if(this.visible_){var e=this.getPosFromLatLng_(this.center_);this.div_.style.top=e.y+"px",this.div_.style.left=e.x+"px"}},t.prototype.hide=function(){this.div_&&(this.div_.style.display="none"),this.visible_=!1},t.prototype.show=function(){if(this.div_){var e="",t=this.backgroundPosition_.split(" "),n=parseInt(t[0].trim(),10),r=parseInt(t[1].trim(),10),i=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(i),e="<img src='"+this.url_+"' style='position: absolute; top: "+r+"px; left: "+n+"px; ",e+=this.cluster_.getMarkerClusterer().enableRetinaIcons_?"width: "+this.width_+"px;height: "+this.height_+"px;":"clip: rect("+-1*r+"px, "+(-1*n+this.width_)+"px, "+(-1*r+this.height_)+"px, "+-1*n+"px);",e+="'>",this.div_.innerHTML=e+"<div style='position: absolute;top: "+this.anchorText_[0]+"px;left: "+this.anchorText_[1]+"px;color: "+this.textColor_+";font-size: "+this.textSize_+"px;font-family: "+this.fontFamily_+";font-weight: "+this.fontWeight_+";font-style: "+this.fontStyle_+";text-decoration: "+this.textDecoration_+";text-align: center;width: "+this.width_+"px;line-height:"+this.height_+"px;'>"+(this.cluster_.hideLabel_?" ":this.sums_.text)+"</div>",this.div_.title="undefined"==typeof this.sums_.title||""===this.sums_.title?this.cluster_.getMarkerClusterer().getTitle():this.sums_.title,this.div_.style.display=""}this.visible_=!0},t.prototype.useStyle=function(e){this.sums_=e;var t=Math.max(0,e.index-1);t=Math.min(this.styles_.length-1,t);var n=this.styles_[t];this.url_=n.url,this.height_=n.height,this.width_=n.width,this.anchorText_=n.anchorText||[0,0],this.anchorIcon_=n.anchorIcon||[parseInt(this.height_/2,10),parseInt(this.width_/2,10)],this.textColor_=n.textColor||"black",this.textSize_=n.textSize||11,this.textDecoration_=n.textDecoration||"none",this.fontWeight_=n.fontWeight||"bold",this.fontStyle_=n.fontStyle||"normal",this.fontFamily_=n.fontFamily||"Arial,sans-serif",this.backgroundPosition_=n.backgroundPosition||"0 0"},t.prototype.setCenter=function(e){this.center_=e},t.prototype.createCss=function(e){var t=[];return t.push("cursor: pointer;"),t.push("position: absolute; top: "+e.y+"px; left: "+e.x+"px;"),t.push("width: "+this.width_+"px; height: "+this.height_+"px;"),t.join("")},t.prototype.getPosFromLatLng_=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return t.x-=this.anchorIcon_[1],t.y-=this.anchorIcon_[0],t.x=parseInt(t.x,10),t.y=parseInt(t.y,10),t},n.prototype.getSize=function(){return this.markers_.length},n.prototype.getMarkers=function(){return this.markers_},n.prototype.getCenter=function(){return this.center_},n.prototype.getMap=function(){return this.map_},n.prototype.getMarkerClusterer=function(){return this.markerClusterer_},n.prototype.getBounds=function(){var e,t=new google.maps.LatLngBounds(this.center_,this.center_),n=this.getMarkers();for(e=0;e<n.length;e++)t.extend(n[e].getPosition());return t},n.prototype.remove=function(){this.clusterIcon_.setMap(null),this.markers_=[],delete this.markers_},n.prototype.addMarker=function(e){var t,n,r;if(this.isMarkerAlreadyAdded_(e))return!1;if(this.center_){if(this.averageCenter_){var i=this.markers_.length+1,a=(this.center_.lat()*(i-1)+e.getPosition().lat())/i,o=(this.center_.lng()*(i-1)+e.getPosition().lng())/i;this.center_=new google.maps.LatLng(a,o),this.calculateBounds_()}}else this.center_=e.getPosition(),this.calculateBounds_();if(e.isAdded=!0,this.markers_.push(e),n=this.markers_.length,r=this.markerClusterer_.getMaxZoom(),null!==r&&this.map_.getZoom()>r)e.getMap()!==this.map_&&e.setMap(this.map_);else if(n<this.minClusterSize_)e.getMap()!==this.map_&&e.setMap(this.map_);else if(n===this.minClusterSize_)for(t=0;n>t;t++)this.markers_[t].setMap(null);else e.setMap(null);return!0},n.prototype.isMarkerInClusterBounds=function(e){return this.bounds_.contains(e.getPosition())},n.prototype.calculateBounds_=function(){var e=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(e)},n.prototype.updateIcon_=function(){var e=this.markers_.length,t=this.markerClusterer_.getMaxZoom();if(null!==t&&this.map_.getZoom()>t)return void this.clusterIcon_.hide();if(e<this.minClusterSize_)return void this.clusterIcon_.hide();var n=this.markerClusterer_.getStyles().length,r=this.markerClusterer_.getCalculator()(this.markers_,n);this.clusterIcon_.setCenter(this.center_),this.clusterIcon_.useStyle(r),this.clusterIcon_.show()},n.prototype.isMarkerAlreadyAdded_=function(e){for(var t=0,n=this.markers_.length;n>t;t++)if(e===this.markers_[t])return!0;return!1},i.prototype.onAdd=function(){var e=this;this.activeMap_=this.getMap(),this.ready_=!0,this.repaint(),this.listeners_=[google.maps.event.addListener(this.getMap(),"zoom_changed",function(){e.resetViewport_(!1),(this.getZoom()===(this.get("minZoom")||0)||this.getZoom()===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")}),google.maps.event.addListener(this.getMap(),"idle",function(){e.redraw_()})]},i.prototype.onRemove=function(){var e;for(e=0;e<this.markers_.length;e++)this.markers_[e].getMap()!==this.activeMap_&&this.markers_[e].setMap(this.activeMap_);for(e=0;e<this.clusters_.length;e++)this.clusters_[e].remove();for(this.clusters_=[],e=0;e<this.listeners_.length;e++)google.maps.event.removeListener(this.listeners_[e]);this.listeners_=[],this.activeMap_=null,this.ready_=!1},i.prototype.draw=function(){},i.prototype.setupStyles_=function(){var e,t;if(!(this.styles_.length>0))for(e=0;e<this.imageSizes_.length;e++)t=this.imageSizes_[e],this.styles_.push({url:this.imagePath_+(e+1)+"."+this.imageExtension_,height:t,width:t})},i.prototype.fitMapToMarkers=function(){var e,t=this.getMarkers(),n=new google.maps.LatLngBounds;for(e=0;e<t.length;e++)n.extend(t[e].getPosition());this.getMap().fitBounds(n)},i.prototype.getGridSize=function(){return this.gridSize_},i.prototype.setGridSize=function(e){this.gridSize_=e},i.prototype.getMinimumClusterSize=function(){return this.minClusterSize_},i.prototype.setMinimumClusterSize=function(e){this.minClusterSize_=e},i.prototype.getMaxZoom=function(){return this.maxZoom_},i.prototype.setMaxZoom=function(e){this.maxZoom_=e},i.prototype.getStyles=function(){return this.styles_},i.prototype.setStyles=function(e){this.styles_=e},i.prototype.getTitle=function(){return this.title_},i.prototype.setTitle=function(e){this.title_=e},i.prototype.getZoomOnClick=function(){return this.zoomOnClick_},i.prototype.setZoomOnClick=function(e){this.zoomOnClick_=e},i.prototype.getAverageCenter=function(){return this.averageCenter_},i.prototype.setAverageCenter=function(e){this.averageCenter_=e},i.prototype.getIgnoreHidden=function(){return this.ignoreHidden_},i.prototype.setIgnoreHidden=function(e){this.ignoreHidden_=e},i.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons_},i.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons_=e},i.prototype.getImageExtension=function(){return this.imageExtension_},i.prototype.setImageExtension=function(e){this.imageExtension_=e},i.prototype.getImagePath=function(){return this.imagePath_},i.prototype.setImagePath=function(e){this.imagePath_=e},i.prototype.getImageSizes=function(){return this.imageSizes_},i.prototype.setImageSizes=function(e){this.imageSizes_=e},i.prototype.getCalculator=function(){return this.calculator_},i.prototype.setCalculator=function(e){this.calculator_=e},i.prototype.setHideLabel=function(e){this.hideLabel_=e},i.prototype.getHideLabel=function(){return this.hideLabel_},i.prototype.getBatchSizeIE=function(){return this.batchSizeIE_},i.prototype.setBatchSizeIE=function(e){this.batchSizeIE_=e},i.prototype.getClusterClass=function(){return this.clusterClass_},i.prototype.setClusterClass=function(e){this.clusterClass_=e},i.prototype.getMarkers=function(){return this.markers_},i.prototype.getTotalMarkers=function(){return this.markers_.length},i.prototype.getClusters=function(){return this.clusters_},i.prototype.getTotalClusters=function(){return this.clusters_.length},i.prototype.addMarker=function(e,t){this.pushMarkerTo_(e),t||this.redraw_()},i.prototype.addMarkers=function(e,t){var n;for(n in e)e.hasOwnProperty(n)&&this.pushMarkerTo_(e[n]);t||this.redraw_()},i.prototype.pushMarkerTo_=function(e){if(e.getDraggable()){var t=this;google.maps.event.addListener(e,"dragend",function(){t.ready_&&(this.isAdded=!1,t.repaint())})}e.isAdded=!1,this.markers_.push(e)},i.prototype.removeMarker=function(e,t,n){var r=!n,i=this.removeMarker_(e,r);return!t&&i&&this.repaint(),i},i.prototype.removeMarkers=function(e,t,n){var r,i,a=!1,o=!n;for(r=0;r<e.length;r++)i=this.removeMarker_(e[r],o),a=a||i;return!t&&a&&this.repaint(),a},i.prototype.removeMarker_=function(e,t){var n,r=-1;if(this.markers_.indexOf)r=this.markers_.indexOf(e);else for(n=0;n<this.markers_.length;n++)if(e===this.markers_[n]){r=n;break}return-1===r?!1:(t&&e.setMap(null),this.markers_.splice(r,1),!0)},i.prototype.clearMarkers=function(){this.resetViewport_(!0),this.markers_=[]},i.prototype.repaint=function(){var e=this.clusters_.slice();this.clusters_=[],this.resetViewport_(!1),this.redraw_(),setTimeout(function(){var t;for(t=0;t<e.length;t++)e[t].remove()},0)},i.prototype.getExtendedBounds=function(e){var t=this.getProjection(),n=new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()),r=new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()),i=t.fromLatLngToDivPixel(n);i.x+=this.gridSize_,i.y-=this.gridSize_;var a=t.fromLatLngToDivPixel(r);a.x-=this.gridSize_,a.y+=this.gridSize_;var o=t.fromDivPixelToLatLng(i),s=t.fromDivPixelToLatLng(a);return e.extend(o),e.extend(s),e},i.prototype.redraw_=function(){this.createClusters_(0)},i.prototype.resetViewport_=function(e){var t,n;for(t=0;t<this.clusters_.length;t++)this.clusters_[t].remove();for(this.clusters_=[],t=0;t<this.markers_.length;t++)n=this.markers_[t],n.isAdded=!1,e&&n.setMap(null)},i.prototype.distanceBetweenPoints_=function(e,t){var n=6371,r=(t.lat()-e.lat())*Math.PI/180,i=(t.lng()-e.lng())*Math.PI/180,a=Math.sin(r/2)*Math.sin(r/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(i/2)*Math.sin(i/2),o=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)),s=n*o;return s},i.prototype.isMarkerInBounds_=function(e,t){return t.contains(e.getPosition())},i.prototype.addToClosestCluster_=function(e){var t,r,i,a,o=4e4,s=null;for(t=0;t<this.clusters_.length;t++)i=this.clusters_[t],a=i.getCenter(),a&&(r=this.distanceBetweenPoints_(a,e.getPosition()),o>r&&(o=r,s=i));s&&s.isMarkerInClusterBounds(e)?s.addMarker(e):(i=new n(this),i.addMarker(e),this.clusters_.push(i))},i.prototype.createClusters_=function(e){var t,n,r,i=this;if(this.ready_){0===e&&(google.maps.event.trigger(this,"clusteringbegin",this),"undefined"!=typeof this.timerRefStatic&&(clearTimeout(this.timerRefStatic),delete this.timerRefStatic)),r=this.getMap().getZoom()>3?new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625));var a=this.getExtendedBounds(r),o=Math.min(e+this.batchSize_,this.markers_.length);for(t=e;o>t;t++)n=this.markers_[t],!n.isAdded&&this.isMarkerInBounds_(n,a)&&(!this.ignoreHidden_||this.ignoreHidden_&&n.getVisible())&&this.addToClosestCluster_(n);if(o<this.markers_.length)this.timerRefStatic=setTimeout(function(){i.createClusters_(o)},0);else for(delete this.timerRefStatic,google.maps.event.trigger(this,"clusteringend",this),t=0;t<this.clusters_.length;t++)this.clusters_[t].updateIcon_()}},i.prototype.extend=function(e,t){return function(e){var t;for(t in e.prototype)this.prototype[t]=e.prototype[t];return this}.apply(e,[t])},i.CALCULATOR=function(e,t){for(var n=0,r="",i=e.length.toString(),a=i;0!==a;)a=parseInt(a/10,10),n++;return n=Math.min(n,t),{text:i,index:n,title:r}},i.BATCH_SIZE=2e3,i.BATCH_SIZE_IE=500,i.IMAGE_PATH="//cdn.rawgit.com/mahnunchik/markerclustererplus/master/images/m",i.IMAGE_EXTENSION="png",i.IMAGE_SIZES=[53,56,66,78,90],"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),a.prototype=new google.maps.OverlayView,a.prototype.createInfoBoxDiv_=function(){var e,t,n,r=this,i=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()},a=function(e){e.returnValue=!1,e.preventDefault&&e.preventDefault(),r.enableEventPropagation_||i(e)};if(!this.div_){if(this.div_=document.createElement("div"),this.setBoxStyle_(),"undefined"==typeof this.content_.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+this.content_:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(this.content_)),this.getPanes()[this.pane_].appendChild(this.div_),this.addClickHandler_(),this.div_.style.width?this.fixedWidthSet_=!0:0!==this.maxWidth_&&this.div_.offsetWidth>this.maxWidth_?(this.div_.style.width=this.maxWidth_,this.div_.style.overflow="auto",this.fixedWidthSet_=!0):(n=this.getBoxWidths_(),this.div_.style.width=this.div_.offsetWidth-n.left-n.right+"px",this.fixedWidthSet_=!1),this.panBox_(this.disableAutoPan_),!this.enableEventPropagation_){for(this.eventListeners_=[],t=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],e=0;e<t.length;e++)this.eventListeners_.push(google.maps.event.addDomListener(this.div_,t[e],i));this.eventListeners_.push(google.maps.event.addDomListener(this.div_,"mouseover",function(e){this.style.cursor="default"}))}this.contextListener_=google.maps.event.addDomListener(this.div_,"contextmenu",a),google.maps.event.trigger(this,"domready")}},a.prototype.getCloseBoxImg_=function(){var e="";return""!==this.closeBoxURL_&&(e="<img",e+=" src='"+this.closeBoxURL_+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin_+";",e+="'>"),e},a.prototype.addClickHandler_=function(){var e;""!==this.closeBoxURL_?(e=this.div_.firstChild,this.closeListener_=google.maps.event.addDomListener(e,"click",this.getCloseClickHandler_())):this.closeListener_=null},a.prototype.getCloseClickHandler_=function(){var e=this;return function(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation(),google.maps.event.trigger(e,"closeclick"),e.close()}},a.prototype.panBox_=function(e){var t,n,r=0,i=0;if(!e&&(t=this.getMap(),t instanceof google.maps.Map)){t.getBounds().contains(this.position_)||t.setCenter(this.position_),n=t.getBounds();var a=t.getDiv(),o=a.offsetWidth,s=a.offsetHeight,l=this.pixelOffset_.width,u=this.pixelOffset_.height,c=this.div_.offsetWidth,d=this.div_.offsetHeight,p=this.infoBoxClearance_.width,h=this.infoBoxClearance_.height,f=this.getProjection().fromLatLngToContainerPixel(this.position_);if(f.x<-l+p?r=f.x+l-p:f.x+c+l+p>o&&(r=f.x+c+l+p-o),this.alignBottom_?f.y<-u+h+d?i=f.y+u-h-d:f.y+u+h>s&&(i=f.y+u+h-s):f.y<-u+h?i=f.y+u-h:f.y+d+u+h>s&&(i=f.y+d+u+h-s),0!==r||0!==i){t.getCenter();t.panBy(r,i)}}},a.prototype.setBoxStyle_=function(){var e,t;if(this.div_){this.div_.className=this.boxClass_,this.div_.style.cssText="",t=this.boxStyle_;for(e in t)t.hasOwnProperty(e)&&(this.div_.style[e]=t[e]);this.div_.style.WebkitTransform="translateZ(0)","undefined"!=typeof this.div_.style.opacity&&""!==this.div_.style.opacity&&(this.div_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*this.div_.style.opacity+')"',this.div_.style.filter="alpha(opacity="+100*this.div_.style.opacity+")"),this.div_.style.position="absolute",this.div_.style.visibility="hidden",null!==this.zIndex_&&(this.div_.style.zIndex=this.zIndex_)}},a.prototype.getBoxWidths_=function(){var e,t={top:0,bottom:0,left:0,right:0
},n=this.div_;return document.defaultView&&document.defaultView.getComputedStyle?(e=n.ownerDocument.defaultView.getComputedStyle(n,""),e&&(t.top=parseInt(e.borderTopWidth,10)||0,t.bottom=parseInt(e.borderBottomWidth,10)||0,t.left=parseInt(e.borderLeftWidth,10)||0,t.right=parseInt(e.borderRightWidth,10)||0)):document.documentElement.currentStyle&&n.currentStyle&&(t.top=parseInt(n.currentStyle.borderTopWidth,10)||0,t.bottom=parseInt(n.currentStyle.borderBottomWidth,10)||0,t.left=parseInt(n.currentStyle.borderLeftWidth,10)||0,t.right=parseInt(n.currentStyle.borderRightWidth,10)||0),t},a.prototype.onRemove=function(){this.div_&&(this.div_.parentNode.removeChild(this.div_),this.div_=null)},a.prototype.draw=function(){this.createInfoBoxDiv_();var e=this.getProjection().fromLatLngToDivPixel(this.position_);this.div_.style.left=e.x+this.pixelOffset_.width+"px",this.alignBottom_?this.div_.style.bottom=-(e.y+this.pixelOffset_.height)+"px":this.div_.style.top=e.y+this.pixelOffset_.height+"px",this.isHidden_?this.div_.style.visibility="hidden":this.div_.style.visibility="visible"},a.prototype.setOptions=function(e){"undefined"!=typeof e.boxClass&&(this.boxClass_=e.boxClass,this.setBoxStyle_()),"undefined"!=typeof e.boxStyle&&(this.boxStyle_=e.boxStyle,this.setBoxStyle_()),"undefined"!=typeof e.content&&this.setContent(e.content),"undefined"!=typeof e.disableAutoPan&&(this.disableAutoPan_=e.disableAutoPan),"undefined"!=typeof e.maxWidth&&(this.maxWidth_=e.maxWidth),"undefined"!=typeof e.pixelOffset&&(this.pixelOffset_=e.pixelOffset),"undefined"!=typeof e.alignBottom&&(this.alignBottom_=e.alignBottom),"undefined"!=typeof e.position&&this.setPosition(e.position),"undefined"!=typeof e.zIndex&&this.setZIndex(e.zIndex),"undefined"!=typeof e.closeBoxMargin&&(this.closeBoxMargin_=e.closeBoxMargin),"undefined"!=typeof e.closeBoxURL&&(this.closeBoxURL_=e.closeBoxURL),"undefined"!=typeof e.infoBoxClearance&&(this.infoBoxClearance_=e.infoBoxClearance),"undefined"!=typeof e.isHidden&&(this.isHidden_=e.isHidden),"undefined"!=typeof e.visible&&(this.isHidden_=!e.visible),"undefined"!=typeof e.enableEventPropagation&&(this.enableEventPropagation_=e.enableEventPropagation),this.div_&&this.draw()},a.prototype.setContent=function(e){this.content_=e,this.div_&&(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.fixedWidthSet_||(this.div_.style.width=""),"undefined"==typeof e.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+e:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(e)),this.fixedWidthSet_||(this.div_.style.width=this.div_.offsetWidth+"px","undefined"==typeof e.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+e:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(e))),this.addClickHandler_()),google.maps.event.trigger(this,"content_changed")},a.prototype.setPosition=function(e){this.position_=e,this.div_&&this.draw(),google.maps.event.trigger(this,"position_changed")},a.prototype.setZIndex=function(e){this.zIndex_=e,this.div_&&(this.div_.style.zIndex=e),google.maps.event.trigger(this,"zindex_changed")},a.prototype.setVisible=function(e){this.isHidden_=!e,this.div_&&(this.div_.style.visibility=this.isHidden_?"hidden":"visible")},a.prototype.getContent=function(){return this.content_},a.prototype.getPosition=function(){return this.position_},a.prototype.getZIndex=function(){return this.zIndex_},a.prototype.getVisible=function(){var e;return e="undefined"==typeof this.getMap()||null===this.getMap()?!1:!this.isHidden_},a.prototype.show=function(){this.isHidden_=!1,this.div_&&(this.div_.style.visibility="visible")},a.prototype.hide=function(){this.isHidden_=!0,this.div_&&(this.div_.style.visibility="hidden")},a.prototype.open=function(e,t){var n=this;t&&(this.position_=t.getPosition(),this.moveListener_=google.maps.event.addListener(t,"position_changed",function(){n.setPosition(this.getPosition())})),this.setMap(e),this.div_&&this.panBox_()},a.prototype.close=function(){var e;if(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.eventListeners_){for(e=0;e<this.eventListeners_.length;e++)google.maps.event.removeListener(this.eventListeners_[e]);this.eventListeners_=null}this.moveListener_&&(google.maps.event.removeListener(this.moveListener_),this.moveListener_=null),this.contextListener_&&(google.maps.event.removeListener(this.contextListener_),this.contextListener_=null),this.setMap(null)},function(){function t(e,t){var n=this,r=new google.maps.OverlayView;r.onAdd=function(){n.init_(e,t)},r.draw=function(){},r.onRemove=function(){},r.setMap(e),this.prjov_=r}var n=function(e){var t;switch(e){case"thin":t="2px";break;case"medium":t="4px";break;case"thick":t="6px";break;default:t=e}return t},r=function(e){var t,r={};if(document.defaultView&&document.defaultView.getComputedStyle){if(t=e.ownerDocument.defaultView.getComputedStyle(e,""))return r.top=parseInt(t.borderTopWidth,10)||0,r.bottom=parseInt(t.borderBottomWidth,10)||0,r.left=parseInt(t.borderLeftWidth,10)||0,r.right=parseInt(t.borderRightWidth,10)||0,r}else if(document.documentElement.currentStyle&&e.currentStyle)return r.top=parseInt(n(e.currentStyle.borderTopWidth),10)||0,r.bottom=parseInt(n(e.currentStyle.borderBottomWidth),10)||0,r.left=parseInt(n(e.currentStyle.borderLeftWidth),10)||0,r.right=parseInt(n(e.currentStyle.borderRightWidth),10)||0,r;return r.top=parseInt(e.style["border-top-width"],10)||0,r.bottom=parseInt(e.style["border-bottom-width"],10)||0,r.left=parseInt(e.style["border-left-width"],10)||0,r.right=parseInt(e.style["border-right-width"],10)||0,r},i={x:0,y:0},a=function(e){i.x="undefined"!=typeof document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft,i.y="undefined"!=typeof document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop};a();var o=function(t){var n=0,r=0;return t=t||e.event,"undefined"!=typeof t.pageX?(n=t.pageX,r=t.pageY):"undefined"!=typeof t.clientX&&(n=t.clientX+i.x,r=t.clientY+i.y),{left:n,top:r}},s=function(t){for(var n=t.offsetLeft,r=t.offsetTop,i=t.offsetParent;null!==i;){i!==document.body&&i!==document.documentElement&&(n-=i.scrollLeft,r-=i.scrollTop);var a=i,o=a.offsetLeft,s=a.offsetTop;if(!o&&!s&&e.getComputedStyle){var l=document.defaultView.getComputedStyle(a,null).MozTransform||document.defaultView.getComputedStyle(a,null).WebkitTransform;if(l&&"string"==typeof l){var u=l.split(",");o+=parseInt(u[4],10)||0,s+=parseInt(u[5],10)||0}}n+=o,r+=s,i=i.offsetParent}return{left:n,top:r}},l=function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},u=function(e,t){"undefined"!=typeof t&&(e.style.opacity=t),"undefined"!=typeof e.style.opacity&&""!==e.style.opacity&&(e.style.filter="alpha(opacity="+100*e.style.opacity+")")};t.prototype.init_=function(t,n){var i,o=this;for(this.map_=t,n=n||{},this.key_=n.key||"shift",this.key_=this.key_.toLowerCase(),this.borderWidths_=r(this.map_.getDiv()),this.veilDiv_=[],i=0;4>i;i++)this.veilDiv_[i]=document.createElement("div"),this.veilDiv_[i].onselectstart=function(){return!1},l(this.veilDiv_[i].style,{backgroundColor:"gray",opacity:.25,cursor:"crosshair"}),l(this.veilDiv_[i].style,n.paneStyle),l(this.veilDiv_[i].style,n.veilStyle),l(this.veilDiv_[i].style,{position:"absolute",overflow:"hidden",display:"none"}),"shift"===this.key_&&(this.veilDiv_[i].style.MozUserSelect="none"),u(this.veilDiv_[i]),"transparent"===this.veilDiv_[i].style.backgroundColor&&(this.veilDiv_[i].style.backgroundColor="white",u(this.veilDiv_[i],0)),this.map_.getDiv().appendChild(this.veilDiv_[i]);this.noZoom_=n.noZoom||!1,this.visualEnabled_=n.visualEnabled||!1,this.visualClass_=n.visualClass||"",this.visualPosition_=n.visualPosition||google.maps.ControlPosition.LEFT_TOP,this.visualPositionOffset_=n.visualPositionOffset||new google.maps.Size(35,0),this.visualPositionIndex_=n.visualPositionIndex||null,this.visualSprite_=n.visualSprite||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/mapfiles/ftr/controls/dragzoom_btn.png",this.visualSize_=n.visualSize||new google.maps.Size(20,20),this.visualTips_=n.visualTips||{},this.visualTips_.off=this.visualTips_.off||"Turn on drag zoom mode",this.visualTips_.on=this.visualTips_.on||"Turn off drag zoom mode",this.boxDiv_=document.createElement("div"),l(this.boxDiv_.style,{border:"4px solid #736AFF"}),l(this.boxDiv_.style,n.boxStyle),l(this.boxDiv_.style,{position:"absolute",display:"none"}),u(this.boxDiv_),this.map_.getDiv().appendChild(this.boxDiv_),this.boxBorderWidths_=r(this.boxDiv_),this.listeners_=[google.maps.event.addDomListener(document,"keydown",function(e){o.onKeyDown_(e)}),google.maps.event.addDomListener(document,"keyup",function(e){o.onKeyUp_(e)}),google.maps.event.addDomListener(this.veilDiv_[0],"mousedown",function(e){o.onMouseDown_(e)}),google.maps.event.addDomListener(this.veilDiv_[1],"mousedown",function(e){o.onMouseDown_(e)}),google.maps.event.addDomListener(this.veilDiv_[2],"mousedown",function(e){o.onMouseDown_(e)}),google.maps.event.addDomListener(this.veilDiv_[3],"mousedown",function(e){o.onMouseDown_(e)}),google.maps.event.addDomListener(document,"mousedown",function(e){o.onMouseDownDocument_(e)}),google.maps.event.addDomListener(document,"mousemove",function(e){o.onMouseMove_(e)}),google.maps.event.addDomListener(document,"mouseup",function(e){o.onMouseUp_(e)}),google.maps.event.addDomListener(e,"scroll",a)],this.hotKeyDown_=!1,this.mouseDown_=!1,this.dragging_=!1,this.startPt_=null,this.endPt_=null,this.mapWidth_=null,this.mapHeight_=null,this.mousePosn_=null,this.mapPosn_=null,this.visualEnabled_&&(this.buttonDiv_=this.initControl_(this.visualPositionOffset_),null!==this.visualPositionIndex_&&(this.buttonDiv_.index=this.visualPositionIndex_),this.map_.controls[this.visualPosition_].push(this.buttonDiv_),this.controlIndex_=this.map_.controls[this.visualPosition_].length-1)},t.prototype.initControl_=function(e){var t,n,r=this;return t=document.createElement("div"),t.className=this.visualClass_,t.style.position="relative",t.style.overflow="hidden",t.style.height=this.visualSize_.height+"px",t.style.width=this.visualSize_.width+"px",t.title=this.visualTips_.off,n=document.createElement("img"),n.src=this.visualSprite_,n.style.position="absolute",n.style.left=-(2*this.visualSize_.width)+"px",n.style.top="0px",t.appendChild(n),t.onclick=function(e){r.hotKeyDown_=!r.hotKeyDown_,r.hotKeyDown_?(r.buttonDiv_.firstChild.style.left=-(0*r.visualSize_.width)+"px",r.buttonDiv_.title=r.visualTips_.on,r.activatedByControl_=!0,google.maps.event.trigger(r,"activate")):(r.buttonDiv_.firstChild.style.left=-(2*r.visualSize_.width)+"px",r.buttonDiv_.title=r.visualTips_.off,google.maps.event.trigger(r,"deactivate")),r.onMouseMove_(e)},t.onmouseover=function(){r.buttonDiv_.firstChild.style.left=-(1*r.visualSize_.width)+"px"},t.onmouseout=function(){r.hotKeyDown_?(r.buttonDiv_.firstChild.style.left=-(0*r.visualSize_.width)+"px",r.buttonDiv_.title=r.visualTips_.on):(r.buttonDiv_.firstChild.style.left=-(2*r.visualSize_.width)+"px",r.buttonDiv_.title=r.visualTips_.off)},t.ondragstart=function(){return!1},l(t.style,{cursor:"pointer",marginTop:e.height+"px",marginLeft:e.width+"px"}),t},t.prototype.isHotKeyDown_=function(t){var n;if(t=t||e.event,n=t.shiftKey&&"shift"===this.key_||t.altKey&&"alt"===this.key_||t.ctrlKey&&"ctrl"===this.key_,!n)switch(t.keyCode){case 16:"shift"===this.key_&&(n=!0);break;case 17:"ctrl"===this.key_&&(n=!0);break;case 18:"alt"===this.key_&&(n=!0)}return n},t.prototype.isMouseOnMap_=function(){var e=this.mousePosn_;if(e){var t=this.mapPosn_,n=this.map_.getDiv();return e.left>t.left&&e.left<t.left+n.offsetWidth&&e.top>t.top&&e.top<t.top+n.offsetHeight}return!1},t.prototype.setVeilVisibility_=function(){var e;if(this.map_&&this.hotKeyDown_&&this.isMouseOnMap_()){var t=this.map_.getDiv();if(this.mapWidth_=t.offsetWidth-(this.borderWidths_.left+this.borderWidths_.right),this.mapHeight_=t.offsetHeight-(this.borderWidths_.top+this.borderWidths_.bottom),this.activatedByControl_){var n=parseInt(this.buttonDiv_.style.left,10)+this.visualPositionOffset_.width,r=parseInt(this.buttonDiv_.style.top,10)+this.visualPositionOffset_.height,i=this.visualSize_.width,a=this.visualSize_.height;for(this.veilDiv_[0].style.top="0px",this.veilDiv_[0].style.left="0px",this.veilDiv_[0].style.width=n+"px",this.veilDiv_[0].style.height=this.mapHeight_+"px",this.veilDiv_[1].style.top="0px",this.veilDiv_[1].style.left=n+i+"px",this.veilDiv_[1].style.width=this.mapWidth_-(n+i)+"px",this.veilDiv_[1].style.height=this.mapHeight_+"px",this.veilDiv_[2].style.top="0px",this.veilDiv_[2].style.left=n+"px",this.veilDiv_[2].style.width=i+"px",this.veilDiv_[2].style.height=r+"px",this.veilDiv_[3].style.top=r+a+"px",this.veilDiv_[3].style.left=n+"px",this.veilDiv_[3].style.width=i+"px",this.veilDiv_[3].style.height=this.mapHeight_-(r+a)+"px",e=0;e<this.veilDiv_.length;e++)this.veilDiv_[e].style.display="block"}else{for(this.veilDiv_[0].style.left="0px",this.veilDiv_[0].style.top="0px",this.veilDiv_[0].style.width=this.mapWidth_+"px",this.veilDiv_[0].style.height=this.mapHeight_+"px",e=1;e<this.veilDiv_.length;e++)this.veilDiv_[e].style.width="0px",this.veilDiv_[e].style.height="0px";for(e=0;e<this.veilDiv_.length;e++)this.veilDiv_[e].style.display="block"}}else for(e=0;e<this.veilDiv_.length;e++)this.veilDiv_[e].style.display="none"},t.prototype.onKeyDown_=function(e){this.map_&&!this.hotKeyDown_&&this.isHotKeyDown_(e)&&(this.mapPosn_=s(this.map_.getDiv()),this.hotKeyDown_=!0,this.activatedByControl_=!1,this.setVeilVisibility_(),google.maps.event.trigger(this,"activate"))},t.prototype.getMousePoint_=function(e){var t=o(e),n=new google.maps.Point;return n.x=t.left-this.mapPosn_.left-this.borderWidths_.left,n.y=t.top-this.mapPosn_.top-this.borderWidths_.top,n.x=Math.min(n.x,this.mapWidth_),n.y=Math.min(n.y,this.mapHeight_),n.x=Math.max(n.x,0),n.y=Math.max(n.y,0),n},t.prototype.onMouseDown_=function(e){if(this.map_&&this.hotKeyDown_){this.mapPosn_=s(this.map_.getDiv()),this.dragging_=!0,this.startPt_=this.endPt_=this.getMousePoint_(e),this.boxDiv_.style.width=this.boxDiv_.style.height="0px";var t=this.prjov_.getProjection(),n=t.fromContainerPixelToLatLng(this.startPt_);google.maps.event.trigger(this,"dragstart",n)}},t.prototype.onMouseDownDocument_=function(e){this.mouseDown_=!0},t.prototype.onMouseMove_=function(e){if(this.mousePosn_=o(e),this.dragging_){this.endPt_=this.getMousePoint_(e);var t=Math.min(this.startPt_.x,this.endPt_.x),n=Math.min(this.startPt_.y,this.endPt_.y),r=Math.abs(this.startPt_.x-this.endPt_.x),i=Math.abs(this.startPt_.y-this.endPt_.y),a=Math.max(0,r-(this.boxBorderWidths_.left+this.boxBorderWidths_.right)),l=Math.max(0,i-(this.boxBorderWidths_.top+this.boxBorderWidths_.bottom));this.veilDiv_[0].style.top="0px",this.veilDiv_[0].style.left="0px",this.veilDiv_[0].style.width=t+"px",this.veilDiv_[0].style.height=this.mapHeight_+"px",this.veilDiv_[1].style.top="0px",this.veilDiv_[1].style.left=t+r+"px",this.veilDiv_[1].style.width=this.mapWidth_-(t+r)+"px",this.veilDiv_[1].style.height=this.mapHeight_+"px",this.veilDiv_[2].style.top="0px",this.veilDiv_[2].style.left=t+"px",this.veilDiv_[2].style.width=r+"px",this.veilDiv_[2].style.height=n+"px",this.veilDiv_[3].style.top=n+i+"px",this.veilDiv_[3].style.left=t+"px",this.veilDiv_[3].style.width=r+"px",this.veilDiv_[3].style.height=this.mapHeight_-(n+i)+"px",this.boxDiv_.style.top=n+"px",this.boxDiv_.style.left=t+"px",this.boxDiv_.style.width=a+"px",this.boxDiv_.style.height=l+"px",this.boxDiv_.style.display="block",google.maps.event.trigger(this,"drag",new google.maps.Point(t,n+i),new google.maps.Point(t+r,n),this.prjov_.getProjection())}else this.mouseDown_||(this.mapPosn_=s(this.map_.getDiv()),this.setVeilVisibility_())},t.prototype.onMouseUp_=function(e){var t,n=this;if(this.mouseDown_=!1,this.dragging_){if(this.getMousePoint_(e).x===this.startPt_.x&&this.getMousePoint_(e).y===this.startPt_.y)return void this.onKeyUp_(e);var r=Math.min(this.startPt_.x,this.endPt_.x),i=Math.min(this.startPt_.y,this.endPt_.y),a=Math.abs(this.startPt_.x-this.endPt_.x),o=Math.abs(this.startPt_.y-this.endPt_.y),s=!0;s&&(r+=this.borderWidths_.left,i+=this.borderWidths_.top);var l=this.prjov_.getProjection(),u=l.fromContainerPixelToLatLng(new google.maps.Point(r,i+o)),c=l.fromContainerPixelToLatLng(new google.maps.Point(r+a,i)),d=new google.maps.LatLngBounds(u,c);if(this.noZoom_)this.boxDiv_.style.display="none";else{t=this.map_.getZoom(),this.map_.fitBounds(d),this.map_.getZoom()<t&&this.map_.setZoom(t);var p=l.fromLatLngToContainerPixel(u),h=l.fromLatLngToContainerPixel(c);s&&(p.x-=this.borderWidths_.left,p.y-=this.borderWidths_.top,h.x-=this.borderWidths_.left,h.y-=this.borderWidths_.top),this.boxDiv_.style.left=p.x+"px",this.boxDiv_.style.top=h.y+"px",this.boxDiv_.style.width=Math.abs(h.x-p.x)-(this.boxBorderWidths_.left+this.boxBorderWidths_.right)+"px",this.boxDiv_.style.height=Math.abs(h.y-p.y)-(this.boxBorderWidths_.top+this.boxBorderWidths_.bottom)+"px",setTimeout(function(){n.boxDiv_.style.display="none"},1e3)}this.dragging_=!1,this.onMouseMove_(e),google.maps.event.trigger(this,"dragend",d),this.isHotKeyDown_(e)||this.onKeyUp_(e)}},t.prototype.onKeyUp_=function(e){var t,n,r,i,a,o,s,l,u=null;if(this.map_&&this.hotKeyDown_){for(this.hotKeyDown_=!1,this.dragging_&&(this.boxDiv_.style.display="none",this.dragging_=!1,n=Math.min(this.startPt_.x,this.endPt_.x),r=Math.min(this.startPt_.y,this.endPt_.y),i=Math.abs(this.startPt_.x-this.endPt_.x),a=Math.abs(this.startPt_.y-this.endPt_.y),o=this.prjov_.getProjection(),s=o.fromContainerPixelToLatLng(new google.maps.Point(n,r+a)),l=o.fromContainerPixelToLatLng(new google.maps.Point(n+i,r)),u=new google.maps.LatLngBounds(s,l)),t=0;t<this.veilDiv_.length;t++)this.veilDiv_[t].style.display="none";this.visualEnabled_&&(this.buttonDiv_.firstChild.style.left=-(2*this.visualSize_.width)+"px",this.buttonDiv_.title=this.visualTips_.off,this.buttonDiv_.style.display=""),google.maps.event.trigger(this,"deactivate",u)}},google.maps.Map.prototype.enableKeyDragZoom=function(e){this.dragZoom_=new t(this,e)},google.maps.Map.prototype.disableKeyDragZoom=function(){var e,t=this.dragZoom_;if(t){for(e=0;e<t.listeners_.length;++e)google.maps.event.removeListener(t.listeners_[e]);for(this.getDiv().removeChild(t.boxDiv_),e=0;e<t.veilDiv_.length;e++)this.getDiv().removeChild(t.veilDiv_[e]);t.visualEnabled_&&this.controls[t.visualPosition_].removeAt(t.controlIndex_),t.prjov_.setMap(null),this.dragZoom_=null}},google.maps.Map.prototype.keyDragZoomEnabled=function(){return null!==this.dragZoom_},google.maps.Map.prototype.getDragZoomObject=function(){return this.dragZoom_}}(),o(s,google.maps.OverlayView),s.getSharedCross=function(e){var t;return"undefined"==typeof s.getSharedCross.crossDiv&&(t=document.createElement("img"),t.style.cssText="position: absolute; z-index: 1000002; display: none;",t.style.marginLeft="-8px",t.style.marginTop="-9px",t.src=e,s.getSharedCross.crossDiv=t),s.getSharedCross.crossDiv},s.prototype.onAdd=function(){var e,t,n,r,i,a,o,l=this,u=!1,c=!1,d=20,p="url("+this.handCursorURL_+")",h=function(e){e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()},f=function(){l.marker_.setAnimation(null)};this.getPanes().overlayImage.appendChild(this.labelDiv_),this.getPanes().overlayMouseTarget.appendChild(this.eventDiv_),"undefined"==typeof s.getSharedCross.processed&&(this.getPanes().overlayImage.appendChild(this.crossDiv_),s.getSharedCross.processed=!0),this.listeners_=[google.maps.event.addDomListener(this.eventDiv_,"mouseover",function(e){(l.marker_.getDraggable()||l.marker_.getClickable())&&(this.style.cursor="pointer",google.maps.event.trigger(l.marker_,"mouseover",e))}),google.maps.event.addDomListener(this.eventDiv_,"mouseout",function(e){!l.marker_.getDraggable()&&!l.marker_.getClickable()||c||(this.style.cursor=l.marker_.getCursor(),google.maps.event.trigger(l.marker_,"mouseout",e))}),google.maps.event.addDomListener(this.eventDiv_,"mousedown",function(e){c=!1,l.marker_.getDraggable()&&(u=!0,this.style.cursor=p),(l.marker_.getDraggable()||l.marker_.getClickable())&&(google.maps.event.trigger(l.marker_,"mousedown",e),h(e))}),google.maps.event.addDomListener(document,"mouseup",function(t){var n;if(u&&(u=!1,l.eventDiv_.style.cursor="pointer",google.maps.event.trigger(l.marker_,"mouseup",t)),c){if(i){n=l.getProjection().fromLatLngToDivPixel(l.marker_.getPosition()),n.y+=d,l.marker_.setPosition(l.getProjection().fromDivPixelToLatLng(n));try{l.marker_.setAnimation(google.maps.Animation.BOUNCE),setTimeout(f,1406)}catch(a){}}l.crossDiv_.style.display="none",l.marker_.setZIndex(e),r=!0,c=!1,t.latLng=l.marker_.getPosition(),google.maps.event.trigger(l.marker_,"dragend",t)}}),google.maps.event.addListener(l.marker_.getMap(),"mousemove",function(r){var s;u&&(c?(r.latLng=new google.maps.LatLng(r.latLng.lat()-t,r.latLng.lng()-n),s=l.getProjection().fromLatLngToDivPixel(r.latLng),i&&(l.crossDiv_.style.left=s.x+"px",l.crossDiv_.style.top=s.y+"px",l.crossDiv_.style.display="",s.y-=d),l.marker_.setPosition(l.getProjection().fromDivPixelToLatLng(s)),i&&(l.eventDiv_.style.top=s.y+d+"px"),google.maps.event.trigger(l.marker_,"drag",r)):(t=r.latLng.lat()-l.marker_.getPosition().lat(),n=r.latLng.lng()-l.marker_.getPosition().lng(),e=l.marker_.getZIndex(),a=l.marker_.getPosition(),o=l.marker_.getMap().getCenter(),i=l.marker_.get("raiseOnDrag"),c=!0,l.marker_.setZIndex(1e6),r.latLng=l.marker_.getPosition(),google.maps.event.trigger(l.marker_,"dragstart",r)))}),google.maps.event.addDomListener(document,"keydown",function(e){c&&27===e.keyCode&&(i=!1,l.marker_.setPosition(a),l.marker_.getMap().setCenter(o),google.maps.event.trigger(document,"mouseup",e))}),google.maps.event.addDomListener(this.eventDiv_,"click",function(e){(l.marker_.getDraggable()||l.marker_.getClickable())&&(r?r=!1:(google.maps.event.trigger(l.marker_,"click",e),h(e)))}),google.maps.event.addDomListener(this.eventDiv_,"dblclick",function(e){(l.marker_.getDraggable()||l.marker_.getClickable())&&(google.maps.event.trigger(l.marker_,"dblclick",e),h(e))}),google.maps.event.addListener(this.marker_,"dragstart",function(e){c||(i=this.get("raiseOnDrag"))}),google.maps.event.addListener(this.marker_,"drag",function(e){c||i&&(l.setPosition(d),l.labelDiv_.style.zIndex=1e6+(this.get("labelInBackground")?-1:1))}),google.maps.event.addListener(this.marker_,"dragend",function(e){c||i&&l.setPosition(0)}),google.maps.event.addListener(this.marker_,"position_changed",function(){l.setPosition()}),google.maps.event.addListener(this.marker_,"zindex_changed",function(){l.setZIndex()}),google.maps.event.addListener(this.marker_,"visible_changed",function(){l.setVisible()}),google.maps.event.addListener(this.marker_,"labelvisible_changed",function(){l.setVisible()}),google.maps.event.addListener(this.marker_,"title_changed",function(){l.setTitle()}),google.maps.event.addListener(this.marker_,"labelcontent_changed",function(){l.setContent()}),google.maps.event.addListener(this.marker_,"labelanchor_changed",function(){l.setAnchor()}),google.maps.event.addListener(this.marker_,"labelclass_changed",function(){l.setStyles()}),google.maps.event.addListener(this.marker_,"labelstyle_changed",function(){l.setStyles()})]},s.prototype.onRemove=function(){var e;for(this.labelDiv_.parentNode.removeChild(this.labelDiv_),this.eventDiv_.parentNode.removeChild(this.eventDiv_),e=0;e<this.listeners_.length;e++)google.maps.event.removeListener(this.listeners_[e])},s.prototype.draw=function(){this.setContent(),this.setTitle(),this.setStyles()},s.prototype.setContent=function(){var e=this.marker_.get("labelContent");"undefined"==typeof e.nodeType?(this.labelDiv_.innerHTML=e,this.eventDiv_.innerHTML=this.labelDiv_.innerHTML):(this.labelDiv_.innerHTML="",this.labelDiv_.appendChild(e),e=e.cloneNode(!0),this.eventDiv_.innerHTML="",this.eventDiv_.appendChild(e))},s.prototype.setTitle=function(){this.eventDiv_.title=this.marker_.getTitle()||""},s.prototype.setStyles=function(){var e,t;this.labelDiv_.className=this.marker_.get("labelClass"),this.eventDiv_.className=this.labelDiv_.className,this.labelDiv_.style.cssText="",this.eventDiv_.style.cssText="",t=this.marker_.get("labelStyle");for(e in t)t.hasOwnProperty(e)&&(this.labelDiv_.style[e]=t[e],this.eventDiv_.style[e]=t[e]);this.setMandatoryStyles()},s.prototype.setMandatoryStyles=function(){this.labelDiv_.style.position="absolute",this.labelDiv_.style.overflow="hidden","undefined"!=typeof this.labelDiv_.style.opacity&&""!==this.labelDiv_.style.opacity&&(this.labelDiv_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(opacity='+100*this.labelDiv_.style.opacity+')"',this.labelDiv_.style.filter="alpha(opacity="+100*this.labelDiv_.style.opacity+")"),this.eventDiv_.style.position=this.labelDiv_.style.position,this.eventDiv_.style.overflow=this.labelDiv_.style.overflow,this.eventDiv_.style.opacity=.01,this.eventDiv_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(opacity=1)"',this.eventDiv_.style.filter="alpha(opacity=1)",this.setAnchor(),this.setPosition(),this.setVisible()},s.prototype.setAnchor=function(){var e=this.marker_.get("labelAnchor");this.labelDiv_.style.marginLeft=-e.x+"px",this.labelDiv_.style.marginTop=-e.y+"px",this.eventDiv_.style.marginLeft=-e.x+"px",this.eventDiv_.style.marginTop=-e.y+"px"},s.prototype.setPosition=function(e){var t=this.getProjection().fromLatLngToDivPixel(this.marker_.getPosition());"undefined"==typeof e&&(e=0),this.labelDiv_.style.left=Math.round(t.x)+"px",this.labelDiv_.style.top=Math.round(t.y-e)+"px",this.eventDiv_.style.left=this.labelDiv_.style.left,this.eventDiv_.style.top=this.labelDiv_.style.top,this.setZIndex()},s.prototype.setZIndex=function(){var e=this.marker_.get("labelInBackground")?-1:1;"undefined"==typeof this.marker_.getZIndex()?(this.labelDiv_.style.zIndex=parseInt(this.labelDiv_.style.top,10)+e,this.eventDiv_.style.zIndex=this.labelDiv_.style.zIndex):(this.labelDiv_.style.zIndex=this.marker_.getZIndex()+e,this.eventDiv_.style.zIndex=this.labelDiv_.style.zIndex)},s.prototype.setVisible=function(){this.marker_.get("labelVisible")?this.labelDiv_.style.display=this.marker_.getVisible()?"block":"none":this.labelDiv_.style.display="none",this.eventDiv_.style.display=this.labelDiv_.style.display},o(l,google.maps.Marker),l.prototype.setMap=function(e){google.maps.Marker.prototype.setMap.apply(this,arguments),this.label.setMap(e)},u.prototype=new google.maps.OverlayView,e.RichMarker=u,u.prototype.getVisible=function(){return this.get("visible")},u.prototype.getVisible=u.prototype.getVisible,u.prototype.setVisible=function(e){this.set("visible",e)},u.prototype.setVisible=u.prototype.setVisible,u.prototype.visible_changed=function(){this.ready_&&(this.markerWrapper_.style.display=this.getVisible()?"":"none",this.draw())},u.prototype.visible_changed=u.prototype.visible_changed,u.prototype.setFlat=function(e){this.set("flat",!!e)},u.prototype.setFlat=u.prototype.setFlat,u.prototype.getFlat=function(){return this.get("flat")},u.prototype.getFlat=u.prototype.getFlat,u.prototype.getWidth=function(){return this.get("width")},u.prototype.getWidth=u.prototype.getWidth,u.prototype.getHeight=function(){return this.get("height")},u.prototype.getHeight=u.prototype.getHeight,u.prototype.setShadow=function(e){this.set("shadow",e),this.flat_changed()},u.prototype.setShadow=u.prototype.setShadow,u.prototype.getShadow=function(){return this.get("shadow")},u.prototype.getShadow=u.prototype.getShadow,u.prototype.flat_changed=function(){this.ready_&&(this.markerWrapper_.style.boxShadow=this.markerWrapper_.style.webkitBoxShadow=this.markerWrapper_.style.MozBoxShadow=this.getFlat()?"":this.getShadow())},u.prototype.flat_changed=u.prototype.flat_changed,u.prototype.setZIndex=function(e){this.set("zIndex",e)},u.prototype.setZIndex=u.prototype.setZIndex,u.prototype.getZIndex=function(){return this.get("zIndex")},u.prototype.getZIndex=u.prototype.getZIndex,u.prototype.zIndex_changed=function(){this.getZIndex()&&this.ready_&&(this.markerWrapper_.style.zIndex=this.getZIndex())},u.prototype.zIndex_changed=u.prototype.zIndex_changed,u.prototype.getDraggable=function(){return this.get("draggable")},u.prototype.getDraggable=u.prototype.getDraggable,u.prototype.setDraggable=function(e){this.set("draggable",!!e)},u.prototype.setDraggable=u.prototype.setDraggable,u.prototype.draggable_changed=function(){this.ready_&&(this.getDraggable()?this.addDragging_(this.markerWrapper_):this.removeDragListeners_())},u.prototype.draggable_changed=u.prototype.draggable_changed,u.prototype.getPosition=function(){return this.get("position")},u.prototype.getPosition=u.prototype.getPosition,u.prototype.setPosition=function(e){this.set("position",e)},u.prototype.setPosition=u.prototype.setPosition,u.prototype.position_changed=function(){this.draw()},u.prototype.position_changed=u.prototype.position_changed,u.prototype.getAnchor=function(){return this.get("anchor")},u.prototype.getAnchor=u.prototype.getAnchor,u.prototype.setAnchor=function(e){this.set("anchor",e)},u.prototype.setAnchor=u.prototype.setAnchor,u.prototype.anchor_changed=function(){this.draw()},u.prototype.anchor_changed=u.prototype.anchor_changed,u.prototype.htmlToDocumentFragment_=function(e){var t=document.createElement("DIV");if(t.innerHTML=e,1==t.childNodes.length)return t.removeChild(t.firstChild);for(var n=document.createDocumentFragment();t.firstChild;)n.appendChild(t.firstChild);return n},u.prototype.removeChildren_=function(e){if(e)for(var t;t=e.firstChild;)e.removeChild(t)},u.prototype.setContent=function(e){this.set("content",e)},u.prototype.setContent=u.prototype.setContent,u.prototype.getContent=function(){return this.get("content")},u.prototype.getContent=u.prototype.getContent,u.prototype.content_changed=function(){if(this.markerContent_){this.removeChildren_(this.markerContent_);var e=this.getContent();if(e){"string"==typeof e&&(e=e.replace(/^\s*([\S\s]*)\b\s*$/,"$1"),e=this.htmlToDocumentFragment_(e)),this.markerContent_.appendChild(e);for(var t,n=this,r=this.markerContent_.getElementsByTagName("IMG"),i=0;t=r[i];i++)google.maps.event.addDomListener(t,"mousedown",function(e){n.getDraggable()&&(e.preventDefault&&e.preventDefault(),e.returnValue=!1)}),google.maps.event.addDomListener(t,"load",function(){n.draw()});google.maps.event.trigger(this,"domready")}this.ready_&&this.draw()}},u.prototype.content_changed=u.prototype.content_changed,u.prototype.setCursor_=function(e){if(this.ready_){var t="";-1!==navigator.userAgent.indexOf("Gecko/")?("dragging"==e&&(t="-moz-grabbing"),"dragready"==e&&(t="-moz-grab"),"draggable"==e&&(t="pointer")):(("dragging"==e||"dragready"==e)&&(t="move"),"draggable"==e&&(t="pointer")),this.markerWrapper_.style.cursor!=t&&(this.markerWrapper_.style.cursor=t)}},u.prototype.startDrag=function(e){if(this.getDraggable()&&!this.dragging_){this.dragging_=!0;var t=this.getMap();this.mapDraggable_=t.get("draggable"),t.set("draggable",!1),this.mouseX_=e.clientX,this.mouseY_=e.clientY,this.setCursor_("dragready"),this.markerWrapper_.style.MozUserSelect="none",this.markerWrapper_.style.KhtmlUserSelect="none",this.markerWrapper_.style.WebkitUserSelect="none",this.markerWrapper_.unselectable="on",this.markerWrapper_.onselectstart=function(){return!1},this.addDraggingListeners_(),google.maps.event.trigger(this,"dragstart")}},u.prototype.stopDrag=function(){this.getDraggable()&&this.dragging_&&(this.dragging_=!1,this.getMap().set("draggable",this.mapDraggable_),this.mouseX_=this.mouseY_=this.mapDraggable_=null,this.markerWrapper_.style.MozUserSelect="",this.markerWrapper_.style.KhtmlUserSelect="",this.markerWrapper_.style.WebkitUserSelect="",this.markerWrapper_.unselectable="off",this.markerWrapper_.onselectstart=function(){},this.removeDraggingListeners_(),this.setCursor_("draggable"),google.maps.event.trigger(this,"dragend"),this.draw())},u.prototype.drag=function(e){if(!this.getDraggable()||!this.dragging_)return void this.stopDrag();
var t=this.mouseX_-e.clientX,n=this.mouseY_-e.clientY;this.mouseX_=e.clientX,this.mouseY_=e.clientY;var r=parseInt(this.markerWrapper_.style.left,10)-t,i=parseInt(this.markerWrapper_.style.top,10)-n;this.markerWrapper_.style.left=r+"px",this.markerWrapper_.style.top=i+"px";var a=this.getOffset_(),o=new google.maps.Point(r-a.width,i-a.height),s=this.getProjection();this.setPosition(s.fromDivPixelToLatLng(o)),this.setCursor_("dragging"),google.maps.event.trigger(this,"drag")},u.prototype.removeDragListeners_=function(){this.draggableListener_&&(google.maps.event.removeListener(this.draggableListener_),delete this.draggableListener_),this.setCursor_("")},u.prototype.addDragging_=function(e){if(e){var t=this;this.draggableListener_=google.maps.event.addDomListener(e,"mousedown",function(e){t.startDrag(e)}),this.setCursor_("draggable")}},u.prototype.addDraggingListeners_=function(){var t=this;this.markerWrapper_.setCapture?(this.markerWrapper_.setCapture(!0),this.draggingListeners_=[google.maps.event.addDomListener(this.markerWrapper_,"mousemove",function(e){t.drag(e)},!0),google.maps.event.addDomListener(this.markerWrapper_,"mouseup",function(){t.stopDrag(),t.markerWrapper_.releaseCapture()},!0)]):this.draggingListeners_=[google.maps.event.addDomListener(e,"mousemove",function(e){t.drag(e)},!0),google.maps.event.addDomListener(e,"mouseup",function(){t.stopDrag()},!0)]},u.prototype.removeDraggingListeners_=function(){if(this.draggingListeners_){for(var e,t=0;e=this.draggingListeners_[t];t++)google.maps.event.removeListener(e);this.draggingListeners_.length=0}},u.prototype.getOffset_=function(){var e=this.getAnchor();if("object"==typeof e)return e;var t=new google.maps.Size(0,0);if(!this.markerContent_)return t;var n=this.markerContent_.offsetWidth,r=this.markerContent_.offsetHeight;switch(e){case c.TOP_LEFT:break;case c.TOP:t.width=-n/2;break;case c.TOP_RIGHT:t.width=-n;break;case c.LEFT:t.height=-r/2;break;case c.MIDDLE:t.width=-n/2,t.height=-r/2;break;case c.RIGHT:t.width=-n,t.height=-r/2;break;case c.BOTTOM_LEFT:t.height=-r;break;case c.BOTTOM:t.width=-n/2,t.height=-r;break;case c.BOTTOM_RIGHT:t.width=-n,t.height=-r}return t},u.prototype.onAdd=function(){if(this.markerWrapper_||(this.markerWrapper_=document.createElement("DIV"),this.markerWrapper_.style.position="absolute"),this.getZIndex()&&(this.markerWrapper_.style.zIndex=this.getZIndex()),this.markerWrapper_.style.display=this.getVisible()?"":"none",!this.markerContent_){this.markerContent_=document.createElement("DIV"),this.markerWrapper_.appendChild(this.markerContent_);var e=this;google.maps.event.addDomListener(this.markerContent_,"click",function(t){google.maps.event.trigger(e,"click")}),google.maps.event.addDomListener(this.markerContent_,"mouseover",function(t){google.maps.event.trigger(e,"mouseover")}),google.maps.event.addDomListener(this.markerContent_,"mouseout",function(t){google.maps.event.trigger(e,"mouseout")})}this.ready_=!0,this.content_changed(),this.flat_changed(),this.draggable_changed();var t=this.getPanes();t&&t.overlayMouseTarget.appendChild(this.markerWrapper_),google.maps.event.trigger(this,"ready")},u.prototype.onAdd=u.prototype.onAdd,u.prototype.draw=function(){if(this.ready_&&!this.dragging_){var e=this.getProjection();if(e){var t=this.get("position"),n=e.fromLatLngToDivPixel(t),r=this.getOffset_();this.markerWrapper_.style.top=n.y+r.height+"px",this.markerWrapper_.style.left=n.x+r.width+"px";var i=this.markerContent_.offsetHeight,a=this.markerContent_.offsetWidth;a!=this.get("width")&&this.set("width",a),i!=this.get("height")&&this.set("height",i)}}},u.prototype.draw=u.prototype.draw,u.prototype.onRemove=function(){this.markerWrapper_&&this.markerWrapper_.parentNode&&this.markerWrapper_.parentNode.removeChild(this.markerWrapper_),this.removeDragListeners_()},u.prototype.onRemove=u.prototype.onRemove;var c={TOP_LEFT:1,TOP:2,TOP_RIGHT:3,LEFT:4,MIDDLE:5,RIGHT:6,BOTTOM_LEFT:7,BOTTOM:8,BOTTOM_RIGHT:9};e.RichMarkerPosition=c,e.InfoBox=a,e.Cluster=n,e.ClusterIcon=t,e.MarkerClusterer=i,e.MarkerLabel_=s,e.MarkerWithLabel=l,e.RichMarker=u}()})}}),function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,n,r){t.module("uiGmapgoogle-maps.wrapped").service("uiGmapDataStructures",function(){return{Graph:r(1).Graph,Queue:r(1).Queue}})},function(e,t,n){(function(){e.exports={Graph:n(2),Heap:n(3),LinkedList:n(4),Map:n(5),Queue:n(6),RedBlackTree:n(7),Trie:n(8)}}).call(this)},function(e,t){(function(){var t,n={}.hasOwnProperty;t=function(){function e(){this._nodes={},this.nodeSize=0,this.edgeSize=0}return e.prototype.addNode=function(e){return this._nodes[e]?void 0:(this.nodeSize++,this._nodes[e]={_outEdges:{},_inEdges:{}})},e.prototype.getNode=function(e){return this._nodes[e]},e.prototype.removeNode=function(e){var t,r,i,a,o;if(r=this._nodes[e]){a=r._outEdges;for(i in a)n.call(a,i)&&this.removeEdge(e,i);o=r._inEdges;for(t in o)n.call(o,t)&&this.removeEdge(t,e);return this.nodeSize--,delete this._nodes[e],r}},e.prototype.addEdge=function(e,t,n){var r,i,a;return null==n&&(n=1),!this.getEdge(e,t)&&(i=this._nodes[e],a=this._nodes[t],i&&a)?(r={weight:n},i._outEdges[t]=r,a._inEdges[e]=r,this.edgeSize++,r):void 0},e.prototype.getEdge=function(e,t){var n,r;return n=this._nodes[e],r=this._nodes[t],n&&r?n._outEdges[t]:void 0},e.prototype.removeEdge=function(e,t){var n,r,i;return r=this._nodes[e],i=this._nodes[t],(n=this.getEdge(e,t))?(delete r._outEdges[t],delete i._inEdges[e],this.edgeSize--,n):void 0},e.prototype.getInEdgesOf=function(e){var t,r,i,a;i=this._nodes[e],r=[],a=null!=i?i._inEdges:void 0;for(t in a)n.call(a,t)&&r.push(this.getEdge(t,e));return r},e.prototype.getOutEdgesOf=function(e){var t,r,i,a;t=this._nodes[e],r=[],a=null!=t?t._outEdges:void 0;for(i in a)n.call(a,i)&&r.push(this.getEdge(e,i));return r},e.prototype.getAllEdgesOf=function(e){var t,n,r,i,a,o,s;if(n=this.getInEdgesOf(e),r=this.getOutEdgesOf(e),0===n.length)return r;for(i=this.getEdge(e,e),t=a=0,o=n.length;o>=0?o>a:a>o;t=o>=0?++a:--a)if(n[t]===i){s=[n[n.length-1],n[t]],n[t]=s[0],n[n.length-1]=s[1],n.pop();break}return n.concat(r)},e.prototype.forEachNode=function(e){var t,r,i;i=this._nodes;for(t in i)n.call(i,t)&&(r=i[t],e(r,t))},e.prototype.forEachEdge=function(e){var t,r,i,a,o,s;o=this._nodes;for(r in o)if(n.call(o,r)){i=o[r],s=i._outEdges;for(a in s)n.call(s,a)&&(t=s[a],e(t))}},e}(),e.exports=t}).call(this)},function(e,t){(function(){var t,n,r,i;t=function(){function e(e){var t,n,r,i,a,o;for(null==e&&(e=[]),this._data=[void 0],r=0,a=e.length;a>r;r++)n=e[r],null!=n&&this._data.push(n);if(this._data.length>1)for(t=i=2,o=this._data.length;o>=2?o>i:i>o;t=o>=2?++i:--i)this._upHeap(t);this.size=this._data.length-1}return e.prototype.add=function(e){return null!=e?(this._data.push(e),this._upHeap(this._data.length-1),this.size++,e):void 0},e.prototype.removeMin=function(){var e;if(1!==this._data.length)return this.size--,2===this._data.length?this._data.pop():(e=this._data[1],this._data[1]=this._data.pop(),this._downHeap(),e)},e.prototype.peekMin=function(){return this._data[1]},e.prototype._upHeap=function(e){var t,n;for(t=this._data[e];this._data[e]<this._data[r(e)]&&e>1;)n=[this._data[r(e)],this._data[e]],this._data[e]=n[0],this._data[r(e)]=n[1],e=r(e)},e.prototype._downHeap=function(){var e,t,r;for(e=1;n(e<this._data.length)&&(t=n(e),t<this._data.length-1&&this._data[i(e)]<this._data[t]&&(t=i(e)),this._data[t]<this._data[e]);)r=[this._data[e],this._data[t]],this._data[t]=r[0],this._data[e]=r[1],e=t},e}(),r=function(e){return e>>1},n=function(e){return e<<1},i=function(e){return(e<<1)+1},e.exports=t}).call(this)},function(e,t){(function(){var t;t=function(){function e(e){var t,n,r;for(null==e&&(e=[]),this.head={prev:void 0,value:void 0,next:void 0},this.tail={prev:void 0,value:void 0,next:void 0},this.size=0,n=0,r=e.length;r>n;n++)t=e[n],this.add(t)}return e.prototype.at=function(e){var t,n,r,i,a;if(-this.size<=e&&e<this.size){if(e=this._adjust(e),2*e<this.size)for(t=this.head,n=r=1;e>=r;n=r+=1)t=t.next;else for(t=this.tail,n=i=1,a=this.size-e-1;a>=i;n=i+=1)t=t.prev;return t}},e.prototype.add=function(e,t){var n,r,i,a,o;return null==t&&(t=this.size),-this.size<=t&&t<=this.size?(r={value:e},t=this._adjust(t),0===this.size?this.head=r:0===t?(i=[r,this.head,r],this.head.prev=i[0],r.next=i[1],this.head=i[2]):(n=this.at(t-1),a=[n.next,r,r,n],r.next=a[0],null!=(o=n.next)?o.prev=a[1]:void 0,n.next=a[2],r.prev=a[3]),t===this.size&&(this.tail=r),this.size++,e):void 0},e.prototype.removeAt=function(e){var t,n,r;return null==e&&(e=this.size-1),-this.size<=e&&e<this.size&&0!==this.size?(e=this._adjust(e),1===this.size?(n=this.head.value,this.head.value=this.tail.value=void 0):0===e?(n=this.head.value,this.head=this.head.next,this.head.prev=void 0):(t=this.at(e),n=t.value,t.prev.next=t.next,null!=(r=t.next)&&(r.prev=t.prev),e===this.size-1&&(this.tail=t.prev)),this.size--,n):void 0},e.prototype.remove=function(e){var t;if(null!=e){for(t=this.head;t&&t.value!==e;)t=t.next;if(t)return 1===this.size?this.head.value=this.tail.value=void 0:t===this.head?(this.head=this.head.next,this.head.prev=void 0):t===this.tail?(this.tail=this.tail.prev,this.tail.next=void 0):(t.prev.next=t.next,t.next.prev=t.prev),this.size--,e}},e.prototype.indexOf=function(e,t){var n,r;if(null==t&&(t=0),null==this.head.value&&!this.head.next||t>=this.size)return-1;for(t=Math.max(0,this._adjust(t)),n=this.at(t),r=t;n&&n.value!==e;)n=n.next,r++;return r===this.size?-1:r},e.prototype._adjust=function(e){return 0>e?this.size+e:e},e}(),e.exports=t}).call(this)},function(e,t){(function(){var t,n,r,i,a={}.hasOwnProperty;n="_mapId_",t=function(){function e(t){var n,r;this._content={},this._itemId=0,this._id=e._newMapId(),this.size=0;for(n in t)a.call(t,n)&&(r=t[n],this.set(n,r))}return e._mapIdTracker=0,e._newMapId=function(){return this._mapIdTracker++},e.prototype.hash=function(e,t){var a,o;return null==t&&(t=!1),o=r(e),i(e)?(a=n+this._id,t&&!e[a]&&(e[a]=this._itemId++),a+"_"+e[a]):o+"_"+e},e.prototype.set=function(e,t){return this.has(e)||this.size++,this._content[this.hash(e,!0)]=[t,e],t},e.prototype.get=function(e){var t;return null!=(t=this._content[this.hash(e)])?t[0]:void 0},e.prototype.has=function(e){return this.hash(e)in this._content},e.prototype.delete=function(e){var t;return t=this.hash(e),t in this._content?(delete this._content[t],i(e)&&delete e[n+this._id],this.size--,!0):!1},e.prototype.forEach=function(e){var t,n,r;r=this._content;for(t in r)a.call(r,t)&&(n=r[t],e(n[1],n[0]))},e}(),i=function(e){var t,n,i,a,o;for(t=["Boolean","Number","String","Undefined","Null","RegExp","Function"],i=r(e),a=0,o=t.length;o>a;a++)if(n=t[a],i===n)return!1;return!0},r=function(e){return Object.prototype.toString.apply(e).match(/\[object (.+)\]/)[1]},e.exports=t}).call(this)},function(e,t){(function(){var t;t=function(){function e(e){null==e&&(e=[]),this._content=e,this._dequeueIndex=0,this.size=this._content.length}return e.prototype.enqueue=function(e){return this.size++,this._content.push(e),e},e.prototype.dequeue=function(){var e;if(0!==this.size)return this.size--,e=this._content[this._dequeueIndex],this._dequeueIndex++,2*this._dequeueIndex>this._content.length&&(this._content=this._content.slice(this._dequeueIndex),this._dequeueIndex=0),e},e.prototype.peek=function(){return this._content[this._dequeueIndex]},e}(),e.exports=t}).call(this)},function(e,t){(function(){var t,n,r,i,a,o,s,l,u,c,d,p,h,f,g;n=0,r=1,i=2,s=3,a=1,t=2,o=function(){function e(e){var t,n,r;for(null==e&&(e=[]),this._root,this.size=0,n=0,r=e.length;r>n;n++)t=e[n],null!=t&&this.add(t)}return e.prototype.add=function(e){var o,d,p,h;if(null!=e){if(this.size++,p={value:e,_color:a},this._root){if(d=l(this._root,function(t){return e===t.value?n:e<t.value?t._left?r:(p._parent=t,t._left=p,s):t._right?i:(p._parent=t,t._right=p,s)}),null!=d)return}else this._root=p;for(o=p;;){if(o===this._root){o._color=t;break}if(o._parent._color===t)break;{if((null!=(h=g(o))?h._color:void 0)!==a){!c(o)&&c(o._parent)?(this._rotateLeft(o._parent),o=o._left):c(o)&&!c(o._parent)&&(this._rotateRight(o._parent),o=o._right),o._parent._color=t,u(o)._color=a,c(o)?this._rotateRight(u(o)):this._rotateLeft(u(o));break}o._parent._color=t,g(o)._color=t,u(o)._color=a,o=u(o)}}return e}},e.prototype.has=function(e){var t;return t=l(this._root,function(t){return e===t.value?n:e<t.value?r:i}),t?!0:!1},e.prototype.peekMin=function(){var e;return null!=(e=h(this._root))?e.value:void 0},e.prototype.peekMax=function(){var e;return null!=(e=p(this._root))?e.value:void 0},e.prototype.remove=function(e){var t;return(t=l(this._root,function(t){return e===t.value?n:e<t.value?r:i}))?(this._removeNode(this._root,t),this.size--,e):void 0},e.prototype.removeMin=function(){var e,t;return(e=h(this._root))?(t=e.value,this._removeNode(this._root,e),t):void 0},e.prototype.removeMax=function(){var e,t;return(e=p(this._root))?(t=e.value,this._removeNode(this._root,e),t):void 0},e.prototype._removeNode=function(e,n){var r,i,o,s,l,u,p,g,m,v;if(n._left&&n._right&&(i=h(n._right),n.value=i.value,n=i),i=n._left||n._right,i||(i={color:t,_right:void 0,_left:void 0,isLeaf:!0}),i._parent=n._parent,null!=(o=n._parent)&&(o[d(n)]=i),n._color===t)if(i._color===a)i._color=t,i._parent||(this._root=i);else for(;;){if(!i._parent){i.isLeaf?this._root=void 0:this._root=i;break}if(r=f(i),(null!=r?r._color:void 0)===a&&(i._parent._color=a,r._color=t,c(i)?this._rotateLeft(i._parent):this._rotateRight(i._parent)),r=f(i),i._parent._color!==t||r&&(r._color!==t||r._left&&r._left._color!==t||r._right&&r._right._color!==t)){if(!(i._parent._color!==a||r&&(r._color!==t||r._left&&(null!=(s=r._left)?s._color:void 0)!==t||r._right&&(null!=(l=r._right)?l._color:void 0)!==t))){null!=r&&(r._color=a),i._parent._color=t;break}if((null!=r?r._color:void 0)===t){!c(i)||r._right&&r._right._color!==t||(null!=(u=r._left)?u._color:void 0)!==a?c(i)||r._left&&r._left._color!==t||(null!=(g=r._right)?g._color:void 0)!==a||(r._color=a,null!=(m=r._right)&&(m._color=t),this._rotateLeft(r)):(r._color=a,null!=(p=r._left)&&(p._color=t),this._rotateRight(r));break}r=f(i),r._color=i._parent._color,c(i)?(r._right._color=t,this._rotateRight(i._parent)):(r._left._color=t,this._rotateLeft(i._parent))}else null!=r&&(r._color=a),i.isLeaf&&(i._parent[d(i)]=void 0),i=i._parent}return i.isLeaf&&null!=(v=i._parent)?v[d(i)]=void 0:void 0},e.prototype._rotateLeft=function(e){var t,n;return null!=(t=e._parent)&&(t[d(e)]=e._right),e._right._parent=e._parent,e._parent=e._right,e._right=e._right._left,e._parent._left=e,null!=(n=e._right)&&(n._parent=e),null==e._parent._parent?this._root=e._parent:void 0},e.prototype._rotateRight=function(e){var t,n;return null!=(t=e._parent)&&(t[d(e)]=e._left),e._left._parent=e._parent,e._parent=e._left,e._left=e._left._right,e._parent._right=e,null!=(n=e._left)&&(n._parent=e),null==e._parent._parent?this._root=e._parent:void 0},e}(),c=function(e){return e===e._parent._left},d=function(e){return c(e)?"_left":"_right"},l=function(e,t){var a,o,l;for(o=e,l=void 0;o;){if(a=t(o),a===n){l=o;break}if(a===r)o=o._left;else if(a===i)o=o._right;else if(a===s)break}return l},h=function(e){return l(e,function(e){return e._left?r:n})},p=function(e){return l(e,function(e){return e._right?i:n})},u=function(e){var t;return null!=(t=e._parent)?t._parent:void 0},g=function(e){return u(e)?c(e._parent)?u(e)._right:u(e)._left:void 0},f=function(e){return c(e)?e._parent._right:e._parent._left},e.exports=o}).call(this)},function(e,t,n){(function(){var t,r,i,a,o={}.hasOwnProperty;t=n(6),i="end",r=function(){function e(e){var t,n,r;for(null==e&&(e=[]),this._root={},this.size=0,n=0,r=e.length;r>n;n++)t=e[n],this.add(t)}return e.prototype.add=function(e){var t,n,r,a;if(null!=e){for(this.size++,t=this._root,r=0,a=e.length;a>r;r++)n=e[r],null==t[n]&&(t[n]={}),t=t[n];return t[i]=!0,e}},e.prototype.has=function(e){var t,n,r,a;if(null==e)return!1;for(t=this._root,r=0,a=e.length;a>r;r++){if(n=e[r],null==t[n])return!1;t=t[n]}return t[i]?!0:!1},e.prototype.longestPrefixOf=function(e){var t,n,r,i,a;if(null==e)return"";for(t=this._root,r="",i=0,a=e.length;a>i&&(n=e[i],null!=t[n]);i++)r+=n,t=t[n];return r},e.prototype.wordsWithPrefix=function(e){var n,r,a,s,l,u,c,d,p,h;if(null==e)return[];for(null!=e||(e=""),c=[],r=this._root,d=0,p=e.length;p>d;d++)if(a=e[d],r=r[a],null==r)return[];for(l=new t,l.enqueue([r,""]);0!==l.size;){h=l.dequeue(),s=h[0],n=h[1],s[i]&&c.push(e+n);for(a in s)o.call(s,a)&&(u=s[a],l.enqueue([u,n+a]))}return c},e.prototype.remove=function(e){var t,n,r,o,s,l,u,c;if(null!=e){for(t=this._root,o=[],s=0,u=e.length;u>s;s++){if(r=e[s],null==t[r])return;t=t[r],o.push([r,t])}if(t[i]){if(this.size--,delete t[i],a(t,1))return e;for(n=l=c=o.length-1;(1>=c?1>=l:l>=1)&&!a(o[n][1],1);n=1>=c?++l:--l)delete o[n-1][1][o[n][0]];return a(this._root[o[0][0]],1)||delete this._root[o[0][0]],e}}},e}(),a=function(e,t){var n,r;if(0===t)return!0;r=0;for(n in e)if(o.call(e,n)&&(r++,r>=t))return!0;return!1},e.exports=r}).call(this)}]),t.module("uiGmapgoogle-maps.wrapped").service("uiGmapMarkerSpiderfier",["uiGmapGoogleMapApi",function(t){var n=this;return+function(){var t={}.hasOwnProperty,n=[].slice;this.OverlappingMarkerSpiderfier=function(){function r(e,n){var r,a,o,s,l,u;this.map=e,null==n&&(n={});for(a in n)t.call(n,a)&&(u=n[a],this[a]=u);for(this.projHelper=new this.constructor.ProjHelper(this.map),this.initMarkerArrays(),this.listeners={},l=["click","zoom_changed","maptypeid_changed"],o=0,s=l.length;s>o;o++)r=l[o],i.addListener(this.map,r,function(e){return function(){return e.unspiderfy()}}(this))}var i,a,o,s,l,u,c,d,p,h,f;for(d=r.prototype,p=[r,d],o=0,u=p.length;u>o;o++)f=p[o],f.VERSION="0.3.3";return a=void 0,i=void 0,c=void 0,h=2*Math.PI,d.keepSpiderfied=!1,d.markersWontHide=!1,d.markersWontMove=!1,d.nearbyDistance=20,d.circleSpiralSwitchover=9,d.circleFootSeparation=23,d.circleStartAngle=h/12,d.spiralFootSeparation=26,d.spiralLengthStart=11,d.spiralLengthFactor=4,d.spiderfiedZIndex=1e3,d.usualLegZIndex=10,d.highlightedLegZIndex=20,d.event="click",d.minZoomLevel=!1,d.legWeight=1.5,d.legColors={usual:{},highlighted:{}},l=d.legColors.usual,s=d.legColors.highlighted,r.initializeGoogleMaps=function(e){return a=e.maps,i=a.event,c=a.MapTypeId,l[c.HYBRID]=l[c.SATELLITE]="#fff",s[c.HYBRID]=s[c.SATELLITE]="#f00",l[c.TERRAIN]=l[c.ROADMAP]="#444",s[c.TERRAIN]=s[c.ROADMAP]="#f00",this.ProjHelper=function(e){return this.setMap(e)},this.ProjHelper.prototype=new a.OverlayView,this.ProjHelper.prototype.draw=function(){}},d.initMarkerArrays=function(){return this.markers=[],this.markerListenerRefs=[]},d.addMarker=function(e){var t;return null!=e._oms?this:(e._oms=!0,t=[i.addListener(e,this.event,function(t){return function(n){return t.spiderListener(e,n)}}(this))],this.markersWontHide||t.push(i.addListener(e,"visible_changed",function(t){return function(){return t.markerChangeListener(e,!1)}}(this))),this.markersWontMove||t.push(i.addListener(e,"position_changed",function(t){return function(){return t.markerChangeListener(e,!0)}}(this))),this.markerListenerRefs.push(t),this.markers.push(e),this)},d.markerChangeListener=function(e,t){return null==e._omsData||!t&&e.getVisible()||null!=this.spiderfying||null!=this.unspiderfying?void 0:this.unspiderfy(t?e:null)},d.getMarkers=function(){return this.markers.slice(0)},d.removeMarker=function(e){var t,n,r,a,o;if(null!=e._omsData&&this.unspiderfy(),t=this.arrIndexOf(this.markers,e),0>t)return this;for(o=this.markerListenerRefs.splice(t,1)[0],n=0,r=o.length;r>n;n++)a=o[n],i.removeListener(a);return delete e._oms,this.markers.splice(t,1),this},d.clearMarkers=function(){var e,t,n,r,a,o,s,l,u;for(this.unspiderfy(),u=this.markers,e=t=0,n=u.length;n>t;e=++t){for(s=u[e],o=this.markerListenerRefs[e],l=0,r=o.length;r>l;l++)a=o[l],i.removeListener(a);delete s._oms}return this.initMarkerArrays(),this},d.addListener=function(e,t){var n;return(null!=(n=this.listeners)[e]?n[e]:n[e]=[]).push(t),this},d.removeListener=function(e,t){var n;return n=this.arrIndexOf(this.listeners[e],t),0>n||this.listeners[e].splice(n,1),this},d.clearListeners=function(e){return this.listeners[e]=[],this},d.trigger=function(){var e,t,r,i,a,o,s,l;for(t=arguments[0],e=2<=arguments.length?n.call(arguments,1):[],s=null!=(o=this.listeners[t])?o:[],l=[],i=0,a=s.length;a>i;i++)r=s[i],l.push(r.apply(null,e));return l},d.generatePtsCircle=function(e,t){var n,r,i,o,s,l,u,c;for(i=this.circleFootSeparation*(2+e),l=i/h,r=h/e,c=[],o=s=0,u=e;u>=0?u>s:s>u;o=u>=0?++s:--s)n=this.circleStartAngle+o*r,c.push(new a.Point(t.x+l*Math.cos(n),t.y+l*Math.sin(n)));return c},d.generatePtsSpiral=function(e,t){var n,r,i,o,s,l,u;for(o=this.spiralLengthStart,n=0,u=[],r=i=0,l=e;l>=0?l>i:i>l;r=l>=0?++i:--i)n+=this.spiralFootSeparation/o+5e-4*r,s=new a.Point(t.x+o*Math.cos(n),t.y+o*Math.sin(n)),o+=h*this.spiralLengthFactor/n,u.push(s);return u},d.spiderListener=function(t,n){var r,i,a,o,s,l,u,c,p,h,f,g,m;if(c=null!=t._omsData,c&&this.keepSpiderfied||("mouseover"===this.event?(r=this,i=function(){return r.unspiderfy()},e.clearTimeout(d.timeout),d.timeout=setTimeout(i,3e3)):this.unspiderfy()),c||this.map.getStreetView().getVisible()||"GoogleEarthAPI"===this.map.getMapTypeId())return this.trigger("click",t,n);for(h=[],f=[],p=this.nearbyDistance,g=p*p,u=this.llToPt(t.position),m=this.markers,a=0,o=m.length;o>a;a++)s=m[a],null!=s.map&&s.getVisible()&&(l=this.llToPt(s.position),this.ptDistanceSq(l,u)<g?h.push({marker:s,markerPt:l}):f.push(s));return 1===h.length?this.trigger("click",t,n):this.spiderfy(h,f)},d.markersNearMarker=function(e,t){var n,r,i,a,o,s,l,u,c,d,p;if(null==t&&(t=!1),null==this.projHelper.getProjection())throw"Must wait for 'idle' event on map before calling markersNearMarker";for(l=this.nearbyDistance,u=l*l,o=this.llToPt(e.position),s=[],c=this.markers,n=0,r=c.length;r>n&&(i=c[n],!(i!==e&&null!=i.map&&i.getVisible()&&(a=this.llToPt(null!=(d=null!=(p=i._omsData)?p.usualPosition:void 0)?d:i.position),this.ptDistanceSq(a,o)<u&&(s.push(i),t))));n++);return s},d.markersNearAnyOtherMarker=function(){var e,t,n,r,i,a,o,s,l,u,c,d,p,h,f,g,m,v,y,b,S;if(null==this.projHelper.getProjection())throw"Must wait for 'idle' event on map before calling markersNearAnyOtherMarker";for(f=this.nearbyDistance,g=f*f,p=function(){var e,t,n,r,i,a;for(n=this.markers,a=[],e=0,t=n.length;t>e;e++)s=n[e],a.push({pt:this.llToPt(null!=(r=null!=(i=s._omsData)?i.usualPosition:void 0)?r:s.position),willSpiderfy:!1});return a}.call(this),v=this.markers,t=r=0,i=v.length;i>r;t=++r)if(l=v[t],null!=l.map&&l.getVisible()&&(u=p[t],!u.willSpiderfy))for(y=this.markers,n=h=0,a=y.length;a>h;n=++h)if(c=y[n],n!==t&&null!=c.map&&c.getVisible()&&(d=p[n],(!(t>n)||d.willSpiderfy)&&this.ptDistanceSq(u.pt,d.pt)<g)){u.willSpiderfy=d.willSpiderfy=!0;break}for(b=this.markers,S=[],e=m=0,o=b.length;o>m;e=++m)s=b[e],p[e].willSpiderfy&&S.push(s);return S},d.makeHighlightListenerFuncs=function(e){return{highlight:function(t){return function(){return e._omsData.leg.setOptions({strokeColor:t.legColors.highlighted[t.map.mapTypeId],zIndex:t.highlightedLegZIndex})}}(this),unhighlight:function(t){return function(){return e._omsData.leg.setOptions({strokeColor:t.legColors.usual[t.map.mapTypeId],zIndex:t.usualLegZIndex})}}(this)}},d.spiderfy=function(e,t){var n,r,o,s,l,u,c,d,p,h,f;return this.minZoomLevel&&this.map.getZoom()<this.minZoomLevel?!1:(this.spiderfying=!0,h=e.length,n=this.ptAverage(function(){var t,n,r;for(r=[],t=0,n=e.length;n>t;t++)d=e[t],r.push(d.markerPt);return r}()),s=h>=this.circleSpiralSwitchover?this.generatePtsSpiral(h,n).reverse():this.generatePtsCircle(h,n),f=function(){var t,n,d;for(d=[],t=0,n=s.length;n>t;t++)o=s[t],r=this.ptToLl(o),p=this.minExtract(e,function(e){return function(t){return e.ptDistanceSq(t.markerPt,o)}}(this)),c=p.marker,u=new a.Polyline({map:this.map,path:[c.position,r],strokeColor:this.legColors.usual[this.map.mapTypeId],strokeWeight:this.legWeight,zIndex:this.usualLegZIndex}),c._omsData={usualPosition:c.position,leg:u},this.legColors.highlighted[this.map.mapTypeId]!==this.legColors.usual[this.map.mapTypeId]&&(l=this.makeHighlightListenerFuncs(c),c._omsData.hightlightListeners={highlight:i.addListener(c,"mouseover",l.highlight),unhighlight:i.addListener(c,"mouseout",l.unhighlight)}),c.setPosition(r),c.setZIndex(Math.round(this.spiderfiedZIndex+o.y)),d.push(c);return d}.call(this),delete this.spiderfying,this.spiderfied=!0,this.trigger("spiderfy",f,t))},d.unspiderfy=function(e){var t,n,r,a,o,s,l;if(null==e&&(e=null),null==this.spiderfied)return this;for(this.unspiderfying=!0,l=[],o=[],s=this.markers,t=0,n=s.length;n>t;t++)a=s[t],null!=a._omsData?(a._omsData.leg.setMap(null),a!==e&&a.setPosition(a._omsData.usualPosition),a.setZIndex(null),r=a._omsData.hightlightListeners,null!=r&&(i.removeListener(r.highlight),i.removeListener(r.unhighlight)),delete a._omsData,l.push(a)):o.push(a);return delete this.unspiderfying,delete this.spiderfied,this.trigger("unspiderfy",l,o),this},d.ptDistanceSq=function(e,t){var n,r;return n=e.x-t.x,r=e.y-t.y,n*n+r*r},d.ptAverage=function(e){var t,n,r,i,o,s;for(o=s=0,t=0,n=e.length;n>t;t++)i=e[t],o+=i.x,s+=i.y;return r=e.length,new a.Point(o/r,s/r)},d.llToPt=function(e){return this.projHelper.getProjection().fromLatLngToDivPixel(e)},d.ptToLl=function(e){return this.projHelper.getProjection().fromDivPixelToLatLng(e)},d.minExtract=function(e,t){var n,r,i,a,o,s,l;for(i=o=0,s=e.length;s>o;i=++o)a=e[i],l=t(a),("undefined"==typeof n||null===n||r>l)&&(r=l,n=i);return e.splice(n,1)[0]},d.arrIndexOf=function(e,t){var n,r,i,a;if(null!=e.indexOf)return e.indexOf(t);for(n=r=0,i=e.length;i>r;n=++r)if(a=e[n],a===t)return n;return-1},r}()}.apply(n),t.then(function(){n.OverlappingMarkerSpiderfier.initializeGoogleMaps(e.google)}),this.OverlappingMarkerSpiderfier}]),t.module("uiGmapgoogle-maps.extensions").service("uiGmapExtendMarkerClusterer",["uiGmapLodash","uiGmapPropMap",function(t,r){return{init:n.once(function(){(function(){var n={}.hasOwnProperty,i=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};e.NgMapCluster=function(e){function n(e){n.__super__.constructor.call(this,e),this.markers_=new r}return i(n,e),n.prototype.addMarker=function(e){var t,n;if(this.isMarkerAlreadyAdded_(e)){var r=this.markers_.get(e.key);if(r.getPosition().lat()==e.getPosition().lat()&&r.getPosition().lon()==e.getPosition().lon())return!1}if(this.center_){if(this.averageCenter_){var i=this.markers_.length+1,a=(this.center_.lat()*(i-1)+e.getPosition().lat())/i,o=(this.center_.lng()*(i-1)+e.getPosition().lng())/i;this.center_=new google.maps.LatLng(a,o),this.calculateBounds_()}}else this.center_=e.getPosition(),this.calculateBounds_();return e.isAdded=!0,this.markers_.push(e),t=this.markers_.length,n=this.markerClusterer_.getMaxZoom(),null!==n&&this.map_.getZoom()>n?e.getMap()!==this.map_&&e.setMap(this.map_):t<this.minClusterSize_?e.getMap()!==this.map_&&e.setMap(this.map_):t===this.minClusterSize_?this.markers_.each(function(e){e.setMap(null)}):e.setMap(null),!0},n.prototype.isMarkerAlreadyAdded_=function(e){return t.isNullOrUndefined(this.markers_.get(e.key))},n.prototype.getBounds=function(){var e=new google.maps.LatLngBounds(this.center_,this.center_);return this.getMarkers().each(function(t){e.extend(t.getPosition())}),e},n.prototype.remove=function(){this.clusterIcon_.setMap(null),this.markers_=new r,delete this.markers_},n}(Cluster),e.NgMapMarkerClusterer=function(e){function t(e,n,i){t.__super__.constructor.call(this,e,n,i),this.markers_=new r}return i(t,e),t.prototype.clearMarkers=function(){this.resetViewport_(!0),this.markers_=new r},t.prototype.removeMarker_=function(e){return this.markers_.get(e.key)?(e.setMap(null),this.markers_.remove(e.key),!0):!1},t.prototype.createClusters_=function(e){var t,n,r,i=this;if(this.ready_){0===e&&(google.maps.event.trigger(this,"clusteringbegin",this),"undefined"!=typeof this.timerRefStatic&&(clearTimeout(this.timerRefStatic),delete this.timerRefStatic)),r=this.getMap().getZoom()>3?new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625));var a=this.getExtendedBounds(r),o=Math.min(e+this.batchSize_,this.markers_.length),s=this.markers_.values();for(t=e;o>t;t++)n=s[t],!n.isAdded&&this.isMarkerInBounds_(n,a)&&(!this.ignoreHidden_||this.ignoreHidden_&&n.getVisible())&&this.addToClosestCluster_(n);if(o<this.markers_.length)this.timerRefStatic=setTimeout(function(){i.createClusters_(o)},0);else{for(t=0;t<this.clusters_.length;t++)this.clusters_[t].updateIcon_();delete this.timerRefStatic,google.maps.event.trigger(this,"clusteringend",this)}}},t.prototype.addToClosestCluster_=function(e){var t,n,r,i,a=4e4,o=null;for(t=0;t<this.clusters_.length;t++)r=this.clusters_[t],i=r.getCenter(),i&&(n=this.distanceBetweenPoints_(i,e.getPosition()),a>n&&(a=n,o=r));o&&o.isMarkerInClusterBounds(e)?o.addMarker(e):(r=new NgMapCluster(this),r.addMarker(e),this.clusters_.push(r))},t.prototype.redraw_=function(){this.createClusters_(0)},t.prototype.resetViewport_=function(e){var t;for(t=0;t<this.clusters_.length;t++)this.clusters_[t].remove();this.clusters_=[],this.markers_.each(function(t){t.isAdded=!1,e&&t.setMap(null)})},t.prototype.extend=function(e,t){return function(e){var t;for(t in e.prototype)"constructor"!==t&&(this.prototype[t]=e.prototype[t]);return this}.apply(e,[t])},ClusterIcon.prototype.show=function(){if(this.div_){var e="",t=this.backgroundPosition_.split(" "),n=parseInt(t[0].trim(),10),r=parseInt(t[1].trim(),10),i=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(i),e="<img src='"+this.url_+"' style='position: absolute; top: "+r+"px; left: "+n+"px; ",e+=this.cluster_.getMarkerClusterer().enableRetinaIcons_?"width: "+this.width_+"px;height: "+this.height_+"px;":"clip: rect("+-1*r+"px, "+(-1*n+this.width_)+"px, "+(-1*r+this.height_)+"px, "+-1*n+"px);",e+="'>",this.div_.innerHTML=e+"<div style='position: absolute;top: "+this.anchorText_[0]+"px;left: "+this.anchorText_[1]+"px;color: "+this.textColor_+";font-size: "+this.textSize_+"px;font-family: "+this.fontFamily_+";font-weight: "+this.fontWeight_+";font-style: "+this.fontStyle_+";text-decoration: "+this.textDecoration_+";text-align: center;width: "+this.width_+"px;line-height:"+this.height_+"px;'>"+this.sums_.text+"</div>","undefined"==typeof this.sums_.title||""===this.sums_.title?this.div_.title=this.cluster_.getMarkerClusterer().getTitle():this.div_.title=this.sums_.title,this.div_.style.display=""}this.visible_=!0},t}(MarkerClusterer)}).call(this)})}}])}(window,angular,_),n("angular_google_maps",["angular","angular-simple-logger","lodash"],function(){}),n("webservices/inspirational/DestinationFinderDataService",["angular","lodash","util/LodashExtensions"],function(e,t,n){"use strict";return e.module("sabreDevStudioWebServices").factory("DestinationFinderDataService",["$q","dateFormat","DestinationFinderWebService","selectedCountryConfigs","ErrorReportingService","businessMessagesErrorHandler",function(e,r,i,a,o,s){function l(e){var t={};t.origin=e.origin;var n=e.pointOfSaleCountry&&e.pointOfSaleCountry||a.pointOfSaleCountry.length>0&&a.pointOfSaleCountry;return n&&(t.pointofsalecountry=n),t.earliestdeparturedate=e.inspirationalSearchPolicy.earliestdeparturedate.format(r),t.latestdeparturedate=e.inspirationalSearchPolicy.latestdeparturedate.format(r),t.lengthofstay=e.inspirationalSearchPolicy.lengthOfStayDays.join(),t.topdestinations=e.inspirationalSearchPolicy.topdestinations,t.theme=e.theme,t}return{getPricesForDestinations:function(r){function a(e){var r=new Date(e.DepartureDateTime),i=new Date(e.ReturnDateTime),a=t.extend({},e,{departureDateTime:r,returnDateTime:i,lengthOfStay:n.dateDiffDays(r,i)
});return delete a.DepartureDateTime,delete a.ReturnDateTime,a}function u(e,n){return t.extend({},n,{origin:e})}return e(function(e,n){var c=l(r);i.get(c).$promise.then(function(n){var r=n.OriginLocation;n.FareInfo=n.FareInfo.filter(function(e){return isFinite(e.LowestFare.Fare)}).map(t.partial(u,r)).map(a),e(n)},function(e){o.reportError("Could not get prices for destinations",r),s.handle(n,e)})})}}}])}),n("webservices/lookup/AirportLookupDataService",["angular","lodash","util/LodashExtensions","webservices/SabreDevStudioWebServicesModule"],function(e,t,n,r){"use strict";return e.module("sabreDevStudioWebServices").factory("AirportLookupDataService",["$q","ShoppingAirportsAndCitiesLookupWebService","FareRangeAirportsAndCitiesLookupWebService","LowFareForecastAirportsAndCitiesLookupWebService","$localStorage","ErrorReportingService","businessMessagesErrorHandler","PromiseUtils","selectedCountryConfigs",function(e,r,i,a,o,s,l,u,c){function d(e,t){var n=t.AirportCode;p(e,t,n)}function p(e,t,n){e[n]||(e[n]={AirportName:t.AirportName,CityName:t.CityName,CountryCode:t.CountryCode,CountryName:t.CountryName})}function h(e){return e.OriginDestinationLocations.reduce(function(e,t){var n=t.OriginLocation;d(e,n);var r=t.DestinationLocation;return d(e,r),e},{})}function f(t,n,r,i){return void 0===r&&(r=c.pointOfSaleCountry),void 0===i&&(i=!1),e(function(e,a){if(o[t][r])return e(o[t][r]);var u={pointofsalecountry:r};n.get(u).$promise.then(function(n){var a=h(n);o[t][r]=a,i&&b(t,a),e(a)},function(e){s.reportError("Cannot get airports dictionary "+t+" for POS country "+r),l.handle(a,e)})})}function g(e){return void 0===e&&(e=c.pointOfSaleCountry),f($,r,e)}function m(e){return void 0===e&&(e=c.pointOfSaleCountry),f(k,i,e)}function v(e){return void 0===e&&(e=c.pointOfSaleCountry),f(M,a,e)}function y(){t.isUndefined(o[$])&&(o[$]={}),t.isUndefined(o[k])&&(o[k]={}),t.isUndefined(o[M])&&(o[M]={}),t.isUndefined(o[$][x])&&(o[$][x]={})}function b(e,n){var r=o[e][x];t.each(n,function(e,t){p(r,e,t)})}function S(){var n=o[$][x];return t.isEmpty(n)?e(function(e,t){g().then(e,t)}):e.when(n)}function D(){return e.when(o[k][x])}function w(){return e.when(o[M][x])}function A(t){return e(function(e,r){C(t).then(function(t){e(n.isDefined(t))},function(e){s.reportError("Cannot determine if airport dictionary contains airport"+e),l.handle(r,e)})})}function C(t){return e(function(e,n){g().then(function(n){e(n[t])},n)})}function _(n){return e(function(e,r){C(n).then(function(r){r=t.clone(r),e(t.extend(r,{airportCode:n}))},r)})}var x="SUM_OF_ALL_DICTIONARIES",$="shoppingAirportsDictionary",k="fareRangeAirportsDictionary",M="lowFareForecastAirportsDictionary";return y(),{getShoppingAirportsDictionary:u.addResolvedObjectCloning(g),getShoppingAirportsDictionaryForAllPoS:u.addResolvedObjectCloning(S),getFareRangeAirportsDictionary:u.addResolvedObjectCloning(m),getFareRangeAirportsDictionaryForAllPoS:u.addResolvedObjectCloning(D),getLowFareForecastAirportsDictionary:u.addResolvedObjectCloning(v),getLowFareForecastAirportsDictionaryForAllPoS:u.addResolvedObjectCloning(w),containsAirport:A,getAirportData:u.addResolvedObjectCloning(C.bind(this)),getAirportDataWithAirportCode:_}}]).factory("AirportsDictionaryFetchFnFactory",["AirportLookupDataService",function(e){return{selectAirportsDictionaryFetchFn:function(t,n){switch(void 0===n&&(n=!1),t){case"fareRange":return n?e.getFareRangeAirportsDictionary:e.getFareRangeAirportsDictionaryForAllPoS;case"lowFareForecast":return n?e.getLowFareForecastAirportsDictionary:e.getLowFareForecastAirportsDictionaryForAllPoS;default:return n?e.getShoppingAirportsDictionary:e.getShoppingAirportsDictionaryForAllPoS}}}}])}),n("webservices/common/PromiseUtils",["angular","lodash","webservices/SabreDevStudioWebServicesModule"],function(e,t,n){"use strict";return e.module("sabreDevStudioWebServices").factory("PromiseUtils",["$q",function(e){return{addResolvedObjectCloning:function(n){return function(){var r=arguments;return e(function(e,i){n.apply(null,r).then(function(n){e(t.clone(n))},i)})}},rejectIfAnyRejected:function(e,t){var n=e.filter(function(e){return"fulfilled"!==e.state});if(n.length>0){var r=n.map(function(e){return e.reason}).join();return t(r)}}}}])}),n("webservices/inspirational/DestinationFinderSummaryDataService",["angular","lodash","datamodel/MonetaryAmount","webservices/inspirational/DestinationFinderDataService","webservices/lookup/AirportLookupDataService","webservices/common/PromiseUtils"],function(e,t,n,r,i,a){"use strict";return e.module("sabreDevStudioWebServices").factory("DestinationFinderSummaryDataService",["$q","DestinationFinderDataService","AirportLookupDataService","PromiseUtils",function(e,r,i,a){function o(n){return e(function(e,i){r.getPricesForDestinations(n).then(function(r){var a=r.FareInfo,o=t.unique(a.map(function(e){return e.DestinationLocation}));l(o).then(function(i){var o={pricesForDestinationsGrouped:u(a,i),originForPricesForDestinations:r.OriginLocation};if(n.inspirationalSearchPolicy.maxOffersPerDestination){var l=t.partial(s,n.inspirationalSearchPolicy.maxOffersPerDestination);o.pricesForDestinationsGrouped=o.pricesForDestinationsGrouped.map(l)}e(o)},i)},i)})}function s(e,n){var r=n.offers.slice(0,e);return t.extend({},n,{offers:r})}function l(t){return e(function(n,r){e.mapSettled(t,i.getAirportDataWithAirportCode).then(function(e){a.rejectIfAnyRejected(e,r);var t=e.map(function(e){return e.value}).reduce(function(e,t){return t&&(e[t.airportCode]=t.CityName),e},{});n(t)})})}function u(e,n){return t.chain(e).groupBy(function(e){return n[e.DestinationLocation]||e.DestinationLocation}).pairs().sortBy(function(e){var t=e[1],n=t[0].DestinationRank;return n}).map(c).map(d).value()}function c(e){var t=e[0],n=e[1];return{destinationCity:t,destination:n[0].DestinationLocation,offers:n}}function d(e){var r=t.min(e.offers,function(e){return e.LowestFare.Fare});return t.extend(e,{lowestFare:new n(r.LowestFare.Fare,r.CurrencyCode)})}return{getOffersOrderedSummary:o}}])}),n("webservices/geo/GeoCodeDataService",["angular","lodash","util/LodashExtensions","webservices/SabreDevStudioWebServicesModule"],function(e,t,n,r){"use strict";return e.module("sabreDevStudioWebServices").factory("GeoCodeDataServiceRequestFactory",function(){function e(e){return{GeoCodeRQ:{PlaceById:{Id:e,BrowseCategory:{name:"AIR"}}}}}return{buildRequest:function(t){return t.map(e)}}}).factory("GeoCodeDataService",["$q","GeoCodeWebService","GeoCodeDataServiceRequestFactory","ErrorReportingService","businessMessagesErrorHandler",function(e,r,i,a,o){function s(e){var t={};return e.Results.map(function(e){var n=e.GeoCodeRS.Place[0],r=n.Id;t[r]={latitude:n.latitude,longitude:n.longitude}}),t}function l(e){return t.chunk(e,f)}function u(e,n){return t.extend({},e,n)}function c(e,r){return e=e||[],t.unique(n.pushAll(e,r))}function d(t){var n=i.buildRequest(t);return e(function(e,t){r.sendRequest(n).then(function(t){var n=s(t);e(n)},function(e){o.handle(t,e)})})}function p(t){return e(function(n,r){var i=l(t),o=i.map(d),s=e.mergePromises(o,u,c);s.then(function(e){return n(e)}).catch(function(e){a.reportError("Cannot get geo coordinates for airports",e),r(e)})})}function h(t){return e(function(e,n){p([t]).then(function(n){e(n[t])},n)})}var f=10;return{getAllAirportsGeoCoordinatesDictionary:p,getAirportGeoCoordinates:h}}])}),n("webservices/geo/CachedGeoCodeDataService",["angular","lodash","util/LodashExtensions","webservices/SabreDevStudioWebServicesModule","webservices/geo/GeoCodeDataService"],function(e,t,n,r,i){"use strict";return e.module("sabreDevStudioWebServices").factory("CachedGeoCodeDataService",["$q","GeoCodeDataService","$localStorage",function(e,n,r){function i(r){return e(function(e,i){var o=a(r);if(t.size(o)===t.size(r))return e(o);var l=t.difference(r,t.keys(o));n.getAllAirportsGeoCoordinatesDictionary(l).then(function(n){s(n);var r=t.extend({},o,n);return e(r)}).catch(i)})}function a(e){var n={};return t.each(e,function(e){var r=o(e);t.extend(n,r)}),n}function o(e){var t=r.airportsGeoCoordinates&&r.airportsGeoCoordinates[e];if(t){var n={};return n[e]={latitude:t[0],longitude:t[1]},n}}function s(e){t.each(e,function(e,t){l(t,e)})}function l(e,n){t.isUndefined(r.airportsGeoCoordinates)&&(r.airportsGeoCoordinates={}),r.airportsGeoCoordinates[e]=[n.latitude,n.longitude]}function u(t){return e(function(e,n){i([t]).then(function(n){e(n[t])},n)})}return{getAllAirportsGeoCoordinatesDictionary:i,getAirportGeoCoordinates:u}}])}),n("webservices/inspirational/DestinationFinderSummaryServiceGeoCoordsDecorator",["angular","lodash","webservices/inspirational/DestinationFinderSummaryDataService","webservices/geo/CachedGeoCodeDataService"],function(e,t,n,r){"use strict";return e.module("sabreDevStudioWebServices").factory("DestinationFinderSummaryServiceGeoCoordsDecorator",["$q","DestinationFinderSummaryDataService","CachedGeoCodeDataService",function(e,n,r){function i(i){return e(function(e,o){n.getOffersOrderedSummary(i).then(function(n){var i=n.pricesForDestinationsGrouped.map(function(e){return e.destination});r.getAllAirportsGeoCoordinatesDictionary(i).then(function(r){var i=a(n.pricesForDestinationsGrouped,r),o=t.extend(n,{pricesForDestinationsGrouped:i});e(o)})},o)})}function a(e,n){return e.map(function(e){var r=n[e.destination];return t.extend({},e,{geoCoordinates:r})})}return{getOffersOrderedSummary:i}}])}),n("util/TiersPriceClassifier",["lodash"],function(e){"use strict";return function(){var t;this.train=function(n){t=e.sortBy(n)},this.classifyIntoTier=function(n,r){var i=e.indexOf(t,n);if(-1===i)throw new Error("trying to classify unknown value "+n);var a=Math.round(e.size(t)/r),o=Math.floor(i/a)+1;return Math.min(o,r)}}}),n("webservices/inspirational/DestinationFinderSummaryServicePriceClassifierDecorator",["angular","lodash","webservices/inspirational/DestinationFinderSummaryServiceGeoCoordsDecorator","util/TiersPriceClassifier"],function(e,t,n,r){"use strict";return e.module("sabreDevStudioWebServices").constant("priceTiers",3).factory("DestinationFinderSummaryServicePriceClassifierDecorator",["$q","DestinationFinderSummaryServiceGeoCoordsDecorator","priceTiers",function(e,n,i){function a(t){return e(function(e,r){n.getOffersOrderedSummary(t).then(function(t){e({pricesForDestinationsGrouped:o(t.pricesForDestinationsGrouped),originForPricesForDestinations:t.originForPricesForDestinations,priceTiersStatistics:s(t.pricesForDestinationsGrouped)})},r)})}function o(e){var n=e.map(function(e){return e.lowestFare.amount});l.train(n);var r=e.map(function(e){var n=l.classifyIntoTier(e.lowestFare.amount,i);return t.extend(e,{priceTier:n})});return r}function s(e){var n={tiersPricesFrom:{},tiersPriceCurrency:e[0].lowestFare.currency};return t.each(e,function(e){t.isUndefined(n.tiersPricesFrom[e.priceTier])&&(n.tiersPricesFrom[e.priceTier]=1/0),n.tiersPricesFrom[e.priceTier]=Math.min(e.lowestFare.amount,n.tiersPricesFrom[e.priceTier])}),n}var l=new r;return{getOffersOrderedSummary:a}}])}),n("webservices/inspirational/DestinationFinderCachedSummaryService",["angular","lodash"],function(e,t){"use strict";return function(e){var n=t.memoize(e.getOffersOrderedSummary,JSON.stringify);return{getOffersOrderedSummary:function(e){return n(e)}}}}),n("util/GeoLocationService",["angular"],function(e){"use strict";return e.module("baseServices").factory("GeoLocationService",["$q","$window","ErrorReportingService",function(e,t,n){function r(){var r=e.defer();return t.navigator.geolocation?(t.navigator.geolocation.getCurrentPosition(function(e){r.resolve(e.coords)},function(e){n.reportError("Error while getting geo location from the browser: "+e),r.reject(e)}),r.promise):(n.reportError("Unable to get geo location from the browser: Geolocation not supported"),r.reject("Geolocation not supported."),r.promise)}return{getCurrentPosition:r}}])}),n("webservices/geo/GeoSearchDataService",["angular","lodash","webservices/SabreDevStudioWebServicesModule","util/GeoLocationService"],function(e,t,n,r){"use strict";return e.module("sabreDevStudioWebServices").factory("GeoSearchDataServiceRequestFactory",function(){return{buildRequest:function(e,t,n){var r=50;n=n||r;var i={GeoSearchRQ:{ForPlaces:{OfCategory:[{name:"AIR"}]},Around:{PlaceByLatLong:{latitude:e.latitude,longitude:e.longitude}}}};return t&&(i.GeoSearchRQ.ResultSetConfig={maxResults:t}),n&&(i.GeoSearchRQ.Around.distance=n),i}}}).factory("GeoSearchDataService",["$q","GeoSearchWebService","GeoSearchDataServiceRequestFactory","GeoLocationService","AirportLookupDataService","$localStorage","ErrorReportingService","businessMessagesErrorHandler",function(e,n,r,i,a,o,s,l){function u(e){return e.GeoSearchRS.Found.Place.map(function(e){return e.Id})}function c(t,n){return e(function(e,r){i.getCurrentPosition().then(function(i){h(i,t,n).then(e,r)},r)})}function d(t,n){return e(function(e,r){i.getCurrentPosition().then(function(i){p(i,t,n).then(e,r)},r)})}function p(t,n,r){return e(function(i,o){h(t,n,r).then(function(t){e.mapSettled(t,a.getAirportData).then(function(e){return i(t.filter(function(t,n){return e[n].value}))},o)},o)})}function h(i,a,o){return e(function(e,c){var d=f(i,a,o);if(d)return e(t.clone(d));var p=r.buildRequest(i,a,o);n.sendRequest(p).then(function(t){var n=u(t);g(i,a,o,n),e(n)},function(e){s.reportError("Cannot get closest airports",i),l.handle(c,e)})})}function f(e,n,r){var i=JSON.stringify([t.round(e.latitude,1),t.round(e.longitude,1),n,r]);return o.closestAirportsForGeo&&o.closestAirportsForGeo[i]}function g(e,n,r,i){t.isUndefined(o.closestAirportsForGeo)&&(o.closestAirportsForGeo={});var a=JSON.stringify([t.round(e.latitude,1),t.round(e.longitude,1),n,r]);o.closestAirportsForGeo[a]=i}return{getClosestAirport:t.partial(c,1),getClosestAirports:c,getClosestAirportsForGeo:h,getAPISupportedClosestAirport:t.partial(d,1),getAPISupportedClosestAirports:d,getAPISupportedClosestAirportsForGeo:p}}])}),n("webservices/geo/ClosestAirportGeoService",["angular","lodash","util/LodashExtensions","webservices/SabreDevStudioWebServicesModule","webservices/geo/GeoSearchDataService","webservices/lookup/AirportLookupDataService"],function(e,t,n,r,i,a){"use strict";return e.module("sabreDevStudioWebServices").factory("ClosestAirportGeoService",["$q","GeoSearchDataService","AirportLookupDataService",function(e,t,r){function i(i){return e(function(a,o){var s=n.isDefined(i)?e.when(i):t.getAPISupportedClosestAirport(),l={airportCode:void 0,countryCode:void 0};s.then(function(e){return l.airportCode=e,r.getAirportData(e)},o).then(function(e){l.countryCode=e.CountryCode,a(l)},o)})}return{getClosestAirportData:i}}])}),n("widgets/inspirational/changeOriginSelect.drv",[],function(){"use strict";function e(e,t){return{scope:{originPreset:"@?",onChange:"&"},templateUrl:"../widgets/view-templates/widgets/ChangeOriginSelect.tpl.html",link:function(n){var r=e.get()||n.originPreset;r&&(n.origin={},n.origin.airportCode=r),n.newOriginSelected=function(e){t.onOriginChange(e.airportCode),n.onChange&&n.onChange({airport:e})}}}}return e}),n("widgets/inspirational/InspirationalWidgets.mod",["angular","webservices/SabreDevStudioWebServicesModule","widgets/inspirational/ThemedDestinationFinderWidget.ctr","widgets/inspirational/TilesThemedDestinationFinderWidget.drv","widgets/inspirational/MapThemedDestinationFinderWidget.drv","util/CommonGenericFilters","widgets/inspirational/ThemedInspirationalSearchCriteriaBroadcastingService.srv","widgets/inspirational/ThemedInspirationalSearchCompleteBroadcastingService.srv","widgets/inspirational/TripOriginChangedBroadcastingService.srv","widgets/inspirational/TripOriginChangedLocalStorageService.srv","widgets/inspirational/TripOriginChangedCompositeService.srv","widgets/inspirational/TripOriginLocalStorageProvider.srv","widgets/inspirational/TravelThemesSelectionBar.drv","angular_google_maps","webservices/inspirational/DestinationFinderSummaryServicePriceClassifierDecorator","webservices/inspirational/DestinationFinderSummaryServiceGeoCoordsDecorator","webservices/inspirational/DestinationFinderCachedSummaryService","webservices/geo/ClosestAirportGeoService","widgets/inspirational/changeOriginSelect.drv"],function(e,t,n,r,i,a,o,s,l,u,c,d,p,h,f,g,m,v,y){"use strict";return e.module("sdsWidgets.inspirationalWidgets",["sabreDevStudioWebServices","commonFilters","uiGmapgoogle-maps","ngStorage"]).config(["uiGmapGoogleMapApiProvider",function(e){e.configure({key:"AIzaSyBVxxTahaPICgkB26ddyLy_U-kN90V4pmE",v:"3"})}]).constant("newThemedInspirationalSearchCriteriaEvent","newThemedInspirationalSearchCriteriaEvent").constant("themedInspirationalSearchCompleteEvent","themedInspirationalSearchCompleteEvent").constant("tripOriginChangedEvent","tripOriginChangedEvent").service("ThemedInspirationalSearchCriteriaBroadcastingService",o).service("ThemedInspirationalSearchCompleteBroadcastingService",s).service("TripOriginChangedBroadcastingService",l).service("TripOriginChangedLocalStorageService",["$localStorage",u]).service("TripOriginChangedLocalStorageBroadcastService",["TripOriginChangedLocalStorageService","TripOriginChangedBroadcastingService",c]).service("TripOriginLocalStorageProvider",["$localStorage",d]).directive("travelThemesSelectionBar",p).factory("DestinationFinderSummaryDataServiceCached",["DestinationFinderSummaryDataService",m]).factory("DestinationFinderSummaryServicePriceClassifierDecoratorCached",["DestinationFinderSummaryServicePriceClassifierDecorator",m]).controller("TilesThemedDestinationFinderWidgetController",["$scope","ClosestAirportGeoService","CachedGeoCodeDataService","DestinationFinderSummaryDataServiceCached","ThemedInspirationalSearchCriteriaBroadcastingService","ThemedInspirationalSearchCompleteBroadcastingService","TripOriginChangedBroadcastingService",n]).controller("MapThemedDestinationFinderWidgetController",["$scope","ClosestAirportGeoService","CachedGeoCodeDataService","DestinationFinderSummaryServicePriceClassifierDecoratorCached","ThemedInspirationalSearchCriteriaBroadcastingService","ThemedInspirationalSearchCompleteBroadcastingService","TripOriginChangedBroadcastingService",n]).directive("tilesThemedDestinationFinder",r).directive("mapThemedDestinationFinder",i).directive("changeOriginSelect",["TripOriginLocalStorageProvider","TripOriginChangedLocalStorageBroadcastService",y])}),n("widgets/basicSearch/bfm.drv",["require","exports"],function(e,t){"use strict";var n=function(){function e(){this.templateUrl="../src/main/widgets/basicSearch/bfm.tpl.html"}return e.Factory=function(){var t=function(){return new e};return t},e}();return n}),n("widgets/basicSearch/basicSearch.mod",["require","exports","./bfm.drv","angular"],function(e,t,n,r){"use strict";r.module("sdsWidgets.basicSearch",[]).directive("bfmSearchWidget",n.Factory())}),n("widgets/searchForm/timePickerPopup/timeFormat.drv",["require","exports","angular"],function(e,t,n){"use strict";function r(e){return{restrict:"A",require:"ngModel",scope:{showMeridian:"="},link:function(t,r,i,a){var o=function(e){if(e){if(n.isDate(e)&&!isNaN(e.valueOf()))return a.$setValidity("time",!0),e;if(n.isString(e)){var r=/^(0?[0-9]|1[0-2]):[0-5][0-9] ?[a|p]m$/i;if(t.showMeridian||(r=/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/),r.test(e)){a.$setValidity("time",!0);var i=new Date,o=e.split(":"),s=o[1].match(/[a|p]m/i);return s&&(o[1]=o[1].replace(/[a|p]m/i,""),"pm"===s[0].toLowerCase()&&(o[0]=o[0]+12)),i.setHours(Number(o[0]),Number(o[1])),i}return void a.$setValidity("time",!1)}return void a.$setValidity("time",!1)}return a.$setValidity("time",!0),null};a.$parsers.push(o);var s=function(n){o(n);var r=t.showMeridian?"hh:mm a":"HH:mm";return e("date")(n,r)};a.$formatters.push(s),t.$watch("showMeridian",function(e){var t=a.$modelValue;t&&r.val(s(t))})}}}return r}),n("widgets/searchForm/timePickerPopup/timepickerPop.drv",["require","exports","angular"],function(e,t,n){"use strict";function r(e,t){return{restrict:"E",transclude:!1,scope:{inputTime:"=",showMeridian:"=",minuteStep:"=",disabled:"="},controller:["$scope","$element",function(e,t){e.isOpen=!1,e.disabledInt=n.isUndefined(e.disabled)?!1:e.disabled,e.toggle=function(){e.isOpen?e.close():e.open()}}],link:function(r,i,a){var o={open:function(){t.closeAll(),r.isOpen=!0},close:function(){r.isOpen=!1}};t.addPicker(o),r.open=o.open,r.close=o.close,r.$watch("disabled",function(e){r.disabledInt=n.isUndefined(r.disabled)?!1:r.disabled}),r.$watch("inputTime",function(e){r.inputTime?i.removeClass("has-error"):i.addClass("has-error")}),i.bind("click",function(e){e.preventDefault(),e.stopPropagation()}),e.bind("click",function(e){r.$apply(function(){r.isOpen=!1})})},templateUrl:"../src/main/widgets/searchForm/timePickerPopup/timePickerPop.tpl.html"}}return r}),n("widgets/searchForm/TravelDatesFlexibilitySelectionMode",["lodash","util/LodashExtensions"],function(e,t){"use strict";function n(t){function n(t){t.forEach(function(t){if(!e.contains(r.allSelectableModes,t))throw new Error('The provided travel dates flexibility mode "'+t+'" is not recognized.')})}var r=this;n(t),this.selectableModes=t,this.activeMode=void 0}return n.prototype.isAnyModeActive=function(){return t.isDefined(this.activeMode)},n.prototype.isSelectableByEarliestDepartureLatestReturn=function(){return e.contains(this.selectableModes,"earliestDepartureLatestReturn.losDays")||e.contains(this.selectableModes,"earliestDepartureLatestReturn.daysOfWeekAtDestination")},n.prototype.isSelectableByAnyOf=function(t){var n=this;return t.split(",").map(e.trim).some(function(t){return e.contains(n.selectableModes,t)})},n.prototype.isSelectableBy=function(t){return e.contains(this.selectableModes,t)},n.prototype.isEarliestDepartureLatestReturnActive=function(){return"earliestDepartureLatestReturn.losDays"===this.activeMode||"earliestDepartureLatestReturn.daysOfWeekAtDestination"===this.activeMode},n.prototype.allSelectableModes=["plusMinusConstantDaysFlexibility","plusMinusVariableDaysFlexibility","earliestDepartureLatestReturn.losDays","earliestDepartureLatestReturn.daysOfWeekAtDestination"],n}),n("datamodel/search/alternateDates/PlusMinusDaysTravelDatesFlexibility",[],function(){"use strict";function e(e){this.departureMinusDays=e.departureMinusDays,this.departurePlusDays=e.departurePlusDays,this.returnMinusDays=e.returnMinusDays,this.returnPlusDays=e.returnPlusDays}return e.prototype.buildConstantDaysFlexibility=function(t){return new e({departureMinusDays:t,departurePlusDays:t,returnMinusDays:t,returnPlusDays:t})},e}),n("widgets/searchForm/SearchForm.drv",["lodash","moment","widgets/searchForm/TravelDatesFlexibilitySelectionMode","datamodel/search/alternateDates/PlusMinusDaysTravelDatesFlexibility","widgets/WidgetGlobalCallbacks"],function(e,t,n,r,i){"use strict";function a(a,o){return{templateUrl:"../widgets/view-templates/widgets/SearchFormWidget.tpl.html",controller:"SearchFormCtrl",scope:{selectableAirportsForThisPosOnly:"@",selectableAirportsDictionary:"@",newSearchCriteriaCallback:"&?",showDiversityOptions:"@?",originAirportCode:"@?"},link:function(s,l){function u(){s.fieldsToHide=l.attr("hide-fields")&&l.attr("hide-fields").split(",")||[]}function c(){s.optionalFieldsToShow=l.attr("show-optional-fields")&&l.attr("show-optional-fields").split(",")||[]}function d(){s.optionsPerDay=parseInt(l.attr("options-per-day"));var e=l.attr("set-checkboxes-as-checked")&&l.attr("set-checkboxes-as-checked").split(",")||[];e.forEach(function(e){s.generalSearchCriteria[e]=!0})}function p(){s.earliestTravelStart=a.now().startOf("day").toDate(),s.simpleTrip.DepartureDate=a.now().startOf("day").add(v,"days").toDate(),s.simpleTrip.EarliestDepartureDate=a.now().startOf("day").add(v,"days").toDate(),s.simpleTrip.ReturnDate=t(s.simpleTrip.DepartureDate).add(m,"days").toDate(),s.simpleTrip.LatestReturnDate=t(s.simpleTrip.EarliestDepartureDate).add(m,"days").toDate()}function h(){var e=!1,n=!1;s.onDepartureDateChange=function(){e||(s.simpleTrip.ReturnDate=t(s.simpleTrip.DepartureDate).add(m,"days").toDate())},s.onEarliestDepartureDateChange=function(){n||(s.simpleTrip.LatestReturnDate=t(s.simpleTrip.EarliestDepartureDate).add(m,"days").toDate())},s.onReturnDateChange=function(){e=!0},s.onLatestReturnDateChange=function(){n=!0}}function f(){var t=l.attr("show-date-flexibility-criteria")&&l.attr("show-date-flexibility-criteria").split(",").map(e.trim)||[];s.flexDatesMode=new n(t);var i=l.attr("preselect-date-flexibility-criterion");if(i&&(s.flexDatesMode.activeMode=i),s.flexDatesMode.isSelectableBy("plusMinusVariableDaysFlexibility")){var a=parseInt(l.attr("plus-minus-days-flexibility-max-days"));e.isFinite(a)&&(s.plusMinusDaysMaxDays=a);var o=3;s.advancedDateFlexibility=new r({departureMinusDays:o,departurePlusDays:o,returnMinusDays:o,returnPlusDays:o})}s.flexDatesMode.isSelectableByEarliestDepartureLatestReturn()&&(s.departureDaysOfWeek={selected:[]},s.returnDaysOfWeek={selected:[]},s.daysOfWeekAtDestination={selected:[]})}function g(){o(function(){s.loadDeferredElements=!0},1)}var m=14,v=14;s.optionalFields=["BagsRequested"],u(),c(),d(),f(),p(),h(),g(),i.linkComplete(s,l)}}}return a}),n("datamodel/search/SearchCriteria",["lodash","util/LodashExtensions","moment"],function(e,t,n){"use strict";function r(){var e=this;this.legs=[],this.preferredAirlines=[],this.diversityModelOptions=void 0;var t=this.CabinEnum.Economy;Object.defineProperty(this,"preferredCabin",{enumerable:!0,get:function(){return t},set:function(n){switch(n){case"Economy":t=e.CabinEnum.Economy;break;case"PremiumEconomy":t=e.CabinEnum.PremiumEconomy;break;case"Business":t=e.CabinEnum.Business;break;case"First":t=e.CabinEnum.First;break;default:throw new Error("unrecognized cabin code: "+n)}}});var n;Object.defineProperty(this,"maxStops",{enumerable:!0,get:function(){return n},set:function(e){n=e}}),this.passengerSpecifications=[],Object.defineProperty(this,"returnAlternateDatesOnly",{enumerable:!0,writable:!0})}function i(e){for(var t=[],n=-e.minusDays;n<=e.plusDays;n++)0!==n&&t.push(n);return t}return r.prototype.addLeg=function(e){this.legs.push(e)},r.prototype.getLeg=function(e){return this.legs[e]},r.prototype.getFirstLeg=function(){return this.getLeg(0)},r.prototype.getSecondLeg=function(){return this.getLeg(1)},r.prototype.addPreferredAirline=function(e){this.preferredAirlines.push(e)},r.prototype.getPreferredAirlines=function(){return this.preferredAirlines},r.prototype.addPassenger=function(e,t){this.passengerSpecifications.push({passengerTypeCode:e,count:t})},r.prototype.getTotalPassengerCount=function(){return this.passengerSpecifications.reduce(function(e,t){return e+t.count},0)},r.prototype.isAnyLengthOfStayDefined=function(){return t.isDefined(this.lengthOfStay)||t.isDefined(this.earliestDepartureLatestReturnDatesFlexibility)},r.prototype.getLengthOfStay=function(){if(!this.isOneWayTravel()){if(t.isDefined(this.lengthOfStay))return this.lengthOfStay;var e=this.legs[0].departureDateTime,n=this.legs[1].departureDateTime;return e&&n?this.lengthOfStay||n.diff(e,"days"):void 0}},r.prototype.getMinMaxLengthOfStay=function(){return this.earliestDepartureLatestReturnDatesFlexibility&&this.earliestDepartureLatestReturnDatesFlexibility.minMaxLengthOfStay},r.prototype.getMinLengthOfStay=function(){return this.getMinMaxLengthOfStay()&&this.getMinMaxLengthOfStay().minDays},r.prototype.getMaxLengthOfStay=function(){return this.getMinMaxLengthOfStay()&&this.getMinMaxLengthOfStay().maxDays},r.prototype.toString=function(){return JSON.stringify(this)},r.prototype.getTripOrigin=function(){return this.getFirstLeg().origin},r.prototype.getTripDestination=function(){return this.getFirstLeg().destination},r.prototype.isRoundTripTravel=function(){return 2===this.legs.length&&this.getFirstLeg().origin===this.getSecondLeg().destination&&this.getFirstLeg().destination===this.getSecondLeg().origin},r.prototype.isOneWayTravel=function(){return 1===this.legs.length},r.prototype.TripTypeEnum=Object.freeze({OneWay:"OneWay",RoundTrip:"RoundTrip",MultiStop:"MultiStop"}),r.prototype.isEconomyCabinRequested=function(){return this.preferredCabin===this.CabinEnum.Economy},r.prototype.CabinEnum=Object.freeze({Economy:{name:"Economy",code:"Y"},PremiumEconomy:{name:"PremiumEconomy",code:"S"},Business:{name:"Business",code:"C"},First:{name:"First",code:"F"}}),r.prototype.cloneWithDatesAdjustedToOtherDepartureDate=function(t,n){var i=e.extend(Object.create(r.prototype),this),a=t.diff(this.getFirstLeg().departureDateTime,"days");return i.legs.forEach(function(e){e.addDaysToDepartureDate(a)}),n&&(i.legs[1].departureDateTime=n),i},r.prototype.cloneWithoutDateFlexibility=function(){var t=e.extend(Object.create(r.prototype),this);return t.dateFlexibilityDays=void 0,t.returnAlternateDatesOnly=void 0,t},r.prototype.isAlternateDatesRequest=function(){return this.isPlusMinusDaysDateFlexibilityRequest()||this.isEarliestDepartureLatestReturnDateFlexibilityRequest()},r.prototype.isPlusMinusDaysDateFlexibilityRequest=function(){return this.dateFlexibilityDays},r.prototype.hasAtLeastOnePlusMinusDayDefined=function(){return e.values(this.dateFlexibilityDays).some(function(e){return e>0})},r.prototype.getRequestedDepartureDates=function(){return this.earliestDepartureLatestReturnDatesFlexibility?this.generateDepartureAltDatesForEarliestDepartureLatestReturn(this.earliestDepartureLatestReturnDatesFlexibility.getEarliestDepartureDateTime(),this.earliestDepartureLatestReturnDatesFlexibility.getLatestReturnDateTime(),this.earliestDepartureLatestReturnDatesFlexibility.minMaxLengthOfStay.minDays):this.generateAlternateDates(this.getFirstLeg().departureDateTime,{minusDays:this.dateFlexibilityDays.departureMinusDays,plusDays:this.dateFlexibilityDays.departurePlusDays})},r.prototype.getRequestedReturnDates=function(){return this.earliestDepartureLatestReturnDatesFlexibility?this.generateReturnAltDatesForEarliestDepartureLatestReturn(this.earliestDepartureLatestReturnDatesFlexibility.getEarliestDepartureDateTime(),this.earliestDepartureLatestReturnDatesFlexibility.getLatestReturnDateTime(),this.earliestDepartureLatestReturnDatesFlexibility.minMaxLengthOfStay.minDays):this.generateAlternateDates(this.getSecondLeg().departureDateTime,{minusDays:this.dateFlexibilityDays.returnMinusDays,plusDays:this.dateFlexibilityDays.returnPlusDays})},r.prototype.generateDepartureAltDatesForEarliestDepartureLatestReturn=function(e,t,r){var i=t.clone().subtract(r,"days"),a=[];return n.range(e,i).by("days",function(e){a.push(e)}),a},r.prototype.generateReturnAltDatesForEarliestDepartureLatestReturn=function(e,t,r){var i=e.clone().add(r,"days"),a=[];return n.range(i,t).by("days",function(e){a.push(e)}),a},r.prototype.getRequestedLengthOfStayValues=function(){var t=this.getRequestedDepartureDates(),n=this.getRequestedReturnDates(),r=[];return t.forEach(function(e){n.forEach(function(t){var n=t.diff(e,"days");n>=0&&r.push(n)})}),e.uniq(r)},r.prototype.getTripDepartureDateTime=function(){return this.getFirstLeg().departureDateTime},r.prototype.getTripReturnDateTime=function(){return e.last(this.legs).departureDateTime},r.prototype.isEarliestDepartureLatestReturnDateFlexibilityRequest=function(){return t.isDefined(this.earliestDepartureLatestReturnDatesFlexibility)},r.prototype.getEarliestDepartureDateTime=function(){return this.earliestDepartureLatestReturnDatesFlexibility&&this.earliestDepartureLatestReturnDatesFlexibility.getEarliestDepartureDateTime()},r.prototype.getLatestReturnDateTime=function(){return this.earliestDepartureLatestReturnDatesFlexibility&&this.earliestDepartureLatestReturnDatesFlexibility.getLatestReturnDateTime()},r.prototype.hasAnyDepartureDaysOfWeekDefined=function(){return this.earliestDepartureLatestReturnDatesFlexibility&&e.contains(this.earliestDepartureLatestReturnDatesFlexibility.departureDaysOfWeek,!0)},r.prototype.getDepartureDaysOfWeek=function(){return this.hasAnyDepartureDaysOfWeekDefined()?this.earliestDepartureLatestReturnDatesFlexibility.departureDaysOfWeek:this.hasAnyDaysAtDestinationDefined()?this.dayIndexIntoWeekDaysArray(this.departureAndReturnDaysOfWeekIndexes().departureDayOfWeekIndex):void 0},r.prototype.hasAnyReturnDaysOfWeekDefined=function(){
return this.earliestDepartureLatestReturnDatesFlexibility&&e.contains(this.earliestDepartureLatestReturnDatesFlexibility.returnDaysOfWeek,!0)},r.prototype.getReturnDaysOfWeek=function(){return this.hasAnyReturnDaysOfWeekDefined()?this.earliestDepartureLatestReturnDatesFlexibility.returnDaysOfWeek:this.hasAnyDaysAtDestinationDefined()?this.dayIndexIntoWeekDaysArray(this.departureAndReturnDaysOfWeekIndexes().returnDayOfWeekIndex):void 0},r.prototype.dayIndexIntoWeekDaysArray=function(e){for(var t=7,n=[],r=0;t>r;r++)n.push(!1);return n[e]=!0,n},r.prototype.hasAnyDaysAtDestinationDefined=function(){return this.earliestDepartureLatestReturnDatesFlexibility&&this.earliestDepartureLatestReturnDatesFlexibility.daysOfWeekAtDestination&&this.earliestDepartureLatestReturnDatesFlexibility.daysOfWeekAtDestination.hasAnyDaysAtDestinationDefined()},r.prototype.departureAndReturnDaysOfWeekIndexes=function(){return this.earliestDepartureLatestReturnDatesFlexibility.daysOfWeekAtDestination.departureAndReturnDaysOfWeekIndexes()},r.prototype.getDepartureDateFrom=function(){if(this.isPlusMinusDaysDateFlexibilityRequest())var e=this.legs[0].departureDateTime&&this.legs[0].departureDateTime.clone().subtract(this.dateFlexibilityDays.departureMinusDays,"days");return this.getEarliestDepartureDateTime()||e||this.legs[0].departureDateTime},r.prototype.getDepartureDateTo=function(){if(this.isPlusMinusDaysDateFlexibilityRequest())var e=this.legs[0].departureDateTime&&this.legs[0].departureDateTime.clone().add(this.dateFlexibilityDays.departurePlusDays,"days");var t=this.getLatestReturnDateTime()&&this.getLatestReturnDateTime().clone().subtract(this.getMinLengthOfStay(),"days");return t||e||this.legs[0].departureDateTime},r.prototype.getReturnDateFrom=function(){if(this.isPlusMinusDaysDateFlexibilityRequest())var e=this.legs[1].departureDateTime&&this.legs[1].departureDateTime.clone().subtract(this.dateFlexibilityDays.returnMinusDays,"days");var t=this.getEarliestDepartureDateTime()&&this.getEarliestDepartureDateTime().clone().add(this.getMinLengthOfStay(),"days");return t||e||this.legs[1].departureDateTime},r.prototype.getReturnDateTo=function(){if(this.isPlusMinusDaysDateFlexibilityRequest())var e=this.legs[1].departureDateTime&&this.legs[1].departureDateTime.clone().add(this.dateFlexibilityDays.returnPlusDays,"days");return this.getLatestReturnDateTime()||e||this.legs[1].departureDateTime},r.prototype.generateAlternateDates=function(t,n){if(!this.isAlternateDatesRequest())return t;var r=[],a=i(n);if(a.forEach(function(e){var n=t.clone().add(e,"days");r.push(n)}),!this.returnAlternateDatesOnly){var o=e.sortedIndex(r,t,function(e){return e.unix()});r.splice(o,0,t)}return r},r}),n("datamodel/search/SearchCriteriaLeg",["require","exports","lodash"],function(e,t,n){"use strict";function r(e){function t(e){if(n.isUndefined(e)||0===e.length)throw new Error("airport or city code needed");if(!r.AIRPORT_CODE_REGEX.test(e))throw new Error("'"+e+"' is not a valid IATA airport or city code")}var r=this,i=e.origin.toUpperCase();t(i),this.origin=i;var a=e.destination.toUpperCase();t(a),this.destination=a;var o;Object.defineProperty(this,"departureDateTime",{enumerable:!0,get:function(){return o&&o.clone()},set:function(e){o=e&&e.clone()}}),this.departureDateTime=e.departureDateTime;var s;Object.defineProperty(this,"arrivalDateTime",{enumerable:!0,get:function(){return s&&s.clone()},set:function(e){e&&(s=e&&e.clone())}}),this.arrivalDateTime=e.arrivalDateTime}return r.prototype.addDaysToDepartureDate=function(e){this.departureDateTime=this.departureDateTime.add(e,"days")},r.prototype.AIRPORT_CODE_REGEX=/^[A-Z]{3}$/,r}),n("datamodel/search/alternateDates/DaysOfWeekAtDestination",["lodash"],function(e){"use strict";function t(e){this.days=e}var n=7;return t.prototype.hasAnyDaysAtDestinationDefined=function(){return e.contains(this.days,!0)},t.prototype.lengthOfStaySpansOverNextWeek=function(){return e.first(this.days)&&e.last(this.days)},t.prototype.departureAndReturnDaysOfWeekIndexes=function(){var t,n;return this.lengthOfStaySpansOverNextWeek(this.days)?(n=e.indexOf(this.days,!0),t=e.indexOf(this.days,!0,n+1)):(t=e.indexOf(this.days,!0),n=e.lastIndexOf(this.days,!0)),{departureDayOfWeekIndex:t,returnDayOfWeekIndex:n}},t.prototype.lengthOfStay=function(){var e=this.departureAndReturnDaysOfWeekIndexes();return e.returnDayOfWeekIndex>=e.departureDayOfWeekIndex?e.returnDayOfWeekIndex-e.departureDayOfWeekIndex:n-(e.departureDayOfWeekIndex-e.returnDayOfWeekIndex)},t}),n("datamodel/search/alternateDates/EarliestDepartureLatestReturnTravelDatesFlexibility",[],function(){"use strict";function e(e){this.earliestDepartureLatestReturnDates={earliestDepartureDateTime:e.earliestDepartureDateTime,latestReturnDateTime:e.latestReturnDateTime},this.minMaxLengthOfStay={minDays:e.minDays,maxDays:e.maxDays},this.departureDaysOfWeek=e.departureDaysOfWeek,this.returnDaysOfWeek=e.returnDaysOfWeek,this.daysOfWeekAtDestination=e.daysOfWeekAtDestination}return e.prototype.getEarliestDepartureDateTime=function(){return this.earliestDepartureLatestReturnDates.earliestDepartureDateTime},e.prototype.getLatestReturnDateTime=function(){return this.earliestDepartureLatestReturnDates.latestReturnDateTime},e}),n("datamodel/search/DiversityModelOptions",["require","exports","moment"],function(e,t,n){"use strict";function r(){this.lowFareBucketMode=this.LowFareBucketModeEnum.OPTION,this.lowFareBucket=void 0,this.fareCutOff=void 0,this.priceWeight=this.PRICE_WEIGHT_DEFAULT_VALUE,this.travelTimeWeight=void 0,this.carrier={weight:void 0,onlineIndicator:!1,"default":{options:void 0},override:[]},this.operatingDuplicate={weight:void 0,preferredCarriers:{selected:[]}},this.inboundOutboundPairing={weight:void 0,duplicates:this.INBOUND_OUTBOUND_PAIRING_DUPLICATES_DEFAULT_VALUE},this.timeOfDay={weight:void 0,distributions:[]},this.numberOfStopsWeight=void 0}return r.prototype.PRICE_WEIGHT_DEFAULT_VALUE=10,r.prototype.INBOUND_OUTBOUND_PAIRING_DUPLICATES_DEFAULT_VALUE=1,r.prototype.TIME_RANGE_BEGIN="6:00",r.prototype.TIME_RANGE_END="12:00",r.prototype.TIME_RANGE_FORMAT="HH:mm",r.prototype.addCarrierOverriding=function(){this.carrier.override.push({code:{},options:void 0})},r.prototype.removeCarrierOverriding=function(){this.carrier.override.pop()},r.prototype.getDistributions=function(){return this.timeOfDay.distributions},r.prototype.addDistribution=function(){this.getDistributions().push({direction:void 0,endpoint:void 0,ranges:[{begin:n(this.TIME_RANGE_BEGIN,this.TIME_RANGE_FORMAT).toDate(),end:n(this.TIME_RANGE_END,this.TIME_RANGE_FORMAT).toDate(),options:void 0}]})},r.prototype.removeDistribution=function(){this.getDistributions().pop()},r.prototype.addRangeToDistribution=function(e){this.getDistributions()[e].ranges.push({begin:n(this.TIME_RANGE_BEGIN,this.TIME_RANGE_FORMAT).toDate(),end:n(this.TIME_RANGE_END,this.TIME_RANGE_FORMAT).toDate(),option:void 0})},r.prototype.removeLastRangeFromDistribution=function(e){this.getDistributions()[e].ranges.pop()},r.prototype.LowFareBucketModeEnum=Object.freeze({OPTION:0,FARE_CUT_OFF:1}),r.prototype.AvailableDirectionsEnum=Object.freeze({INBOUND:{id:1,description:"Inbound"},OUTBOUND:{id:2,description:"Outbound"},values:function(){return[this.INBOUND,this.OUTBOUND]}}),r.prototype.AvailableEndpointsEnum=Object.freeze({DEPARTURE:{id:1,description:"Departure"},ARRIVAL:{id:2,description:"Arrival"},values:function(){return[this.DEPARTURE,this.ARRIVAL]}}),r}),n("widgets/searchForm/SearchForm.ctrl",["lodash","util/LodashExtensions","moment","datamodel/search/SearchCriteria","datamodel/search/SearchCriteriaLeg","datamodel/search/alternateDates/DaysOfWeekAtDestination","datamodel/search/alternateDates/PlusMinusDaysTravelDatesFlexibility","datamodel/search/alternateDates/EarliestDepartureLatestReturnTravelDatesFlexibility","datamodel/search/DiversityModelOptions"],function(e,t,n,r,i,a,o,s,l){"use strict";function u(u,c,d){function p(e){switch(e){case"oneWay":var t=new i({origin:u.simpleTrip.Origin.airportCode,destination:u.simpleTrip.Destination.airportCode,departureDateTime:n(u.simpleTrip.DepartureDate)});return[t];case"returnTrip":t=new i({origin:u.simpleTrip.Origin.airportCode,destination:u.simpleTrip.Destination.airportCode});var r=new i({origin:u.simpleTrip.Destination.airportCode,destination:u.simpleTrip.Origin.airportCode});return u.flexDatesMode.isEarliestDepartureLatestReturnActive()||(t.departureDateTime=n(u.simpleTrip.DepartureDate),r.departureDateTime=n(u.simpleTrip.ReturnDate)),[t,r];case"multiDestination":return u.multiDestinationLegs.map(function(e){var t=n(e.DepartureDate);return new i({origin:e.Origin.airportCode,destination:e.Destination.airportCode,departureDateTime:t})});default:throw new Error("Trip type: "+u.tripType+" not recognized")}}u.widgetId=c.next(),u.diversityModelOptions=new l,u.detailsVisibility={useDiversityModelOptions:!1},u.tripType="returnTrip",u.multiDestinationLegs=[{},{},{}],u.simpleTrip={},u.originAirportCode&&(u.simpleTrip.Origin={airportCode:u.originAirportCode},u.multiDestinationLegs[0].Origin={airportCode:u.originAirportCode});var h=1;u.generalSearchCriteria={ADTPaxCount:h},u.preferredAirlines={selected:[]},u.lengthsOfStay={selected:{}},u.addNextSearchCriteriaLeg=function(){u.multiDestinationLegs.push({})},u.removeLastSearchCriteriaLeg=function(){u.multiDestinationLegs.pop()},u.createNewSearchCriteria=function(){var e=new r,i=p(u.tripType);if(i.forEach(function(t){e.addLeg(t)}),"earliestDepartureLatestReturn.daysOfWeekAtDestination"===u.flexDatesMode.activeMode){var l=new a(u.daysOfWeekAtDestination.selected);e.earliestDepartureLatestReturnDatesFlexibility=new s({earliestDepartureDateTime:n(u.simpleTrip.EarliestDepartureDate),latestReturnDateTime:n(u.simpleTrip.LatestReturnDate),minDays:l.lengthOfStay(),maxDays:l.lengthOfStay(),daysOfWeekAtDestination:l})}if("earliestDepartureLatestReturn.losDays"===u.flexDatesMode.activeMode&&(e.earliestDepartureLatestReturnDatesFlexibility=new s({earliestDepartureDateTime:n(u.simpleTrip.EarliestDepartureDate),latestReturnDateTime:n(u.simpleTrip.LatestReturnDate),minDays:u.lengthsOfStay.selected.minDays,maxDays:u.lengthsOfStay.selected.maxDays,departureDaysOfWeek:u.departureDaysOfWeek.selected,returnDaysOfWeek:u.returnDaysOfWeek.selected})),"plusMinusConstantDaysFlexibility"===u.flexDatesMode.activeMode){var c=3;e.dateFlexibilityDays=o.prototype.buildConstantDaysFlexibility(c)}else"plusMinusVariableDaysFlexibility"===u.flexDatesMode.activeMode&&(e.dateFlexibilityDays=u.advancedDateFlexibility);e.addPassenger("ADT",u.generalSearchCriteria.ADTPaxCount),t.isDefined(u.generalSearchCriteria.bagsRequested)&&(e.bagsRequested=u.generalSearchCriteria.bagsRequested),u.generalSearchCriteria.DirectFlightsOnly&&(e.maxStops=0),u.generalSearchCriteria.preferredCabin&&(e.preferredCabin=u.generalSearchCriteria.preferredCabin),u.preferredAirlines.selected&&u.preferredAirlines.selected.forEach(function(t){return e.addPreferredAirline(t)}),u.optionsPerDay&&(e.optionsPerDay=u.optionsPerDay),u.detailsVisibility.useDiversityModelOptions&&(e.diversityModelOptions=u.diversityModelOptions),d.searchCriteria=e,d.broadcast(),t.isDefined(u.newSearchCriteriaCallback)&&u.newSearchCriteriaCallback({searchCriteria:e})},u.plusMinusConstantDateFlexibilityCheckboxClicked=function(){"plusMinusConstantDaysFlexibility"!==u.flexDatesMode.activeMode?u.flexDatesMode.activeMode="plusMinusConstantDaysFlexibility":u.flexDatesMode.activeMode=void 0},u.isVisible=function(t){return e.contains(u.optionalFields,t)?e.contains(u.optionalFieldsToShow,t):!e.contains(u.fieldsToHide,t)},u.isAnyOfVisible=function(){return[].slice.call(arguments).some(u.isVisible)}}return u}),n("widgets/searchForm/searchForm.mod",["angular","widgets/searchForm/timePickerPopup/timeFormat.drv","widgets/searchForm/timePickerPopup/timepickerPop.drv","widgets/searchForm/SearchForm.drv","widgets/searchForm/SearchForm.ctrl"],function(e,t,n,r,i){"use strict";e.module("sdsWidgets.searchForm",[]).factory("timepickerState",function(){var e=[];return{addPicker:function(t){e.push(t)},closeAll:function(){for(var t=0;t<e.length;t++)e[t].close()}}}).directive("timeFormat",["$filter",t]).directive("timepickerPop",["$document","timepickerState",n]).constant("newSearchCriteriaEvent","newSearchCriteria").controller("SearchFormCtrl",["$scope","WidgetIdGeneratorService","SearchCriteriaBroadcastingService",i]).directive("searchForm",["DateService","$timeout",r])}),n("webservices/Interceptors",["require","exports","lodash","angular"],function(e,t,n,r){"use strict";function i(){function e(e,t){return n.startsWith(e,t)}return r.module("sabreDevStudioWebServices").factory("NetworkConnectivityErrorInterceptor",["$q","NetworkErrorReportingService","selectedCountryConfigs",function(t,r,i){function a(e){return e.indexOf(i.apiURL)>-1?"Sabre Dev Studio":e}var o=n.template("Unable to communicate with <%= endpoint %>"),s=n.template("Timeout calling <%= endpoint %>"),l=300;return{responseError:function(n){if(!e(n.config.url,i.apiURL))return t.reject(n);if(0!==n.status)return t.reject(n);var u={endpoint:a(n.config.url)};if(n.config.timeout&&n.config.timeoutClockStart){var c=Math.round(performance.now()-n.config.timeoutClockStart);if(c>l&&c>=n.config.timeout)return r.reportError(s(u)),t.reject(n)}return r.reportError(o(u)),t.reject(n)}}}]).factory("ResponseTimeLoggerHttpInterceptor",["$q","$log","selectedCountryConfigs",function(t,n,r){function i(t){if(e(t.url,r.apiURL)&&t.timeStart){var i=performance.now(),a=Math.round(i-t.timeStart);n.debug("http call time: "+a+" millis")}}return{request:function(t){return e(t.url,r.apiURL)&&(t.timeStart=performance.now()),t},response:function(e){return i(e.config),e},responseError:function(e){return i(e.config),t.reject(e)}}}]).constant("defaultTimeoutMillis",5e3).factory("AddTimeoutOnHttpCommunicationInterceptor",["defaultTimeoutMillis","selectedCountryConfigs",function(t,n){return{request:function(r){return e(r.url,n.apiURL)&&(r.timeout=r.timeout||t,r.timeoutClockStart=performance.now()),r}}}]).config(["$httpProvider",function(e){e.interceptors.push("ResponseTimeLoggerHttpInterceptor","NetworkConnectivityErrorInterceptor","AddTimeoutOnHttpCommunicationInterceptor")}])}return i}),function(){var e={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(t){var n=t.which;switch(n){case e.COMMAND:case e.SHIFT:case e.CTRL:case e.ALT:return!0}return t.metaKey?!0:!1},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&123>=e},isVerticalMovement:function(t){return~[e.UP,e.DOWN].indexOf(t)},isHorizontalMovement:function(t){return~[e.LEFT,e.RIGHT,e.BACKSPACE,e.DELETE].indexOf(t)}};void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(e){return angular.element(this[0].querySelectorAll(e))}),void 0===angular.element.prototype.closest&&(angular.element.prototype.closest=function(e){for(var t=this[0],n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;t;){if(n.bind(t)(e))return t;t=t.parentElement}return!1});var t=0,n=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:!0,sortable:!1,placeholder:"",refreshDelay:1e3,closeOnSelect:!0,generateId:function(){return t++},appendToBody:!1}).service("uiSelectMinErr",function(){var e=angular.$$minErr("ui.select");return function(){var t=e.apply(this,arguments),n=t.message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(n)}}).directive("uisTranscludeAppend",function(){return{link:function(e,t,n,r,i){i(e,function(e){t.append(e)})}}}).filter("highlight",function(){function e(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n){return n&&t?t.replace(new RegExp(e(n),"gi"),'<span class="ui-select-highlight">$&</span>'):t}}).factory("uisOffset",["$document","$window",function(e,t){return function(n){var r=n[0].getBoundingClientRect();return{width:r.width||n.prop("offsetWidth"),height:r.height||n.prop("offsetHeight"),top:r.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:r.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}}}]);n.directive("uiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr","$compile",function(e,t,n,r){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){var n=t.parent().attr("theme")||e.theme;return n+"/choices.tpl.html"},compile:function(i,a){if(!a.repeat)throw n("repeat","Expected 'repeat' expression.");return function(i,a,o,s,l){var u=o.groupBy,c=o.groupFilter;if(s.parseRepeatAttr(o.repeat,u,c),s.disableChoiceExpression=o.uiDisableChoice,s.onHighlightCallback=o.onHighlight,u){var d=a.querySelectorAll(".ui-select-choices-group");if(1!==d.length)throw n("rows","Expected 1 .ui-select-choices-group but got '{0}'.",d.length);d.attr("ng-repeat",t.getGroupNgRepeatExpression())}var p=a.querySelectorAll(".ui-select-choices-row");if(1!==p.length)throw n("rows","Expected 1 .ui-select-choices-row but got '{0}'.",p.length);p.attr("ng-repeat",t.getNgRepeatExpression(s.parserResult.itemName,"$select.items",s.parserResult.trackByExp,u)).attr("ng-if","$select.open").attr("ng-mouseenter","$select.setActiveItem("+s.parserResult.itemName+")").attr("ng-click","$select.select("+s.parserResult.itemName+",false,$event)");var h=a.querySelectorAll(".ui-select-choices-row-inner");if(1!==h.length)throw n("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",h.length);h.attr("uis-transclude-append",""),r(a,l)(i),i.$watch("$select.search",function(e){e&&!s.open&&s.multiple&&s.activate(!1,!0),s.activeIndex=s.tagging.isActivated?-1:0,s.refresh(o.refresh)}),o.$observe("refreshDelay",function(){var t=i.$eval(o.refreshDelay);s.refreshDelay=void 0!==t?t:e.refreshDelay})}}}}]),n.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","uisRepeatParser","uiSelectMinErr","uiSelectConfig",function(t,n,r,i,a,o,s){function l(){(p.resetSearchInput||void 0===p.resetSearchInput&&s.resetSearchInput)&&(p.search=h,p.selected&&p.items.length&&!p.multiple&&(p.activeIndex=p.items.indexOf(p.selected)))}function u(e,t){var n,r,i=[];for(n=0;n<t.length;n++)for(r=0;r<e.length;r++)e[r].name==[t[n]]&&i.push(e[r]);return i}function c(t){var n=!0;switch(t){case e.DOWN:!p.open&&p.multiple?p.activate(!1,!0):p.activeIndex<p.items.length-1&&p.activeIndex++;break;case e.UP:!p.open&&p.multiple?p.activate(!1,!0):(p.activeIndex>0||0===p.search.length&&p.tagging.isActivated&&p.activeIndex>-1)&&p.activeIndex--;break;case e.TAB:(!p.multiple||p.open)&&p.select(p.items[p.activeIndex],!0);break;case e.ENTER:p.open&&(p.tagging.isActivated||p.activeIndex>=0)?p.select(p.items[p.activeIndex]):p.activate(!1,!0);break;case e.ESC:p.close();break;default:n=!1}return n}function d(){var e=n.querySelectorAll(".ui-select-choices-content"),t=e.querySelectorAll(".ui-select-choices-row");if(t.length<1)throw o("choices","Expected multiple .ui-select-choices-row but got '{0}'.",t.length);if(!(p.activeIndex<0)){var r=t[p.activeIndex],i=r.offsetTop+r.clientHeight-e[0].scrollTop,a=e[0].offsetHeight;i>a?e[0].scrollTop+=i-a:i<r.clientHeight&&(p.isGrouped&&0===p.activeIndex?e[0].scrollTop=0:e[0].scrollTop-=r.clientHeight-i)}}var p=this,h="";if(p.placeholder=s.placeholder,p.searchEnabled=s.searchEnabled,p.sortable=s.sortable,p.refreshDelay=s.refreshDelay,p.removeSelected=!1,p.closeOnSelect=!0,p.search=h,p.activeIndex=0,p.items=[],p.open=!1,p.focus=!1,p.disabled=!1,p.selected=void 0,p.focusser=void 0,p.resetSearchInput=!0,p.multiple=void 0,p.disableChoiceExpression=void 0,p.tagging={isActivated:!1,fct:void 0},p.taggingTokens={isActivated:!1,tokens:void 0},p.lockChoiceExpression=void 0,p.clickTriggeredSelect=!1,p.$filter=i,p.searchInput=n.querySelectorAll("input.ui-select-search"),1!==p.searchInput.length)throw o("searchInput","Expected 1 input.ui-select-search but got '{0}'.",p.searchInput.length);p.isEmpty=function(){return angular.isUndefined(p.selected)||null===p.selected||""===p.selected},p.activate=function(e,n){p.disabled||p.open||(n||l(),t.$broadcast("uis:activate"),p.open=!0,p.activeIndex=p.activeIndex>=p.items.length?0:p.activeIndex,-1===p.activeIndex&&p.taggingLabel!==!1&&(p.activeIndex=0),r(function(){p.search=e||p.search,p.searchInput[0].focus()}))},p.findGroupByName=function(e){return p.groups&&p.groups.filter(function(t){return t.name===e})[0]},p.parseRepeatAttr=function(e,n,r){function i(e){var i=t.$eval(n);if(p.groups=[],angular.forEach(e,function(e){var t=angular.isFunction(i)?i(e):e[i],n=p.findGroupByName(t);n?n.items.push(e):p.groups.push({name:t,items:[e]})}),r){var a=t.$eval(r);angular.isFunction(a)?p.groups=a(p.groups):angular.isArray(a)&&(p.groups=u(p.groups,a))}p.items=[],p.groups.forEach(function(e){p.items=p.items.concat(e.items)})}function s(e){p.items=e}p.setItemsFn=n?i:s,p.parserResult=a.parse(e),p.isGrouped=!!n,p.itemProperty=p.parserResult.itemName,p.refreshItems=function(e){e=e||p.parserResult.source(t);var n=p.selected;if(angular.isArray(n)&&!n.length||!p.removeSelected)p.setItemsFn(e);else if(void 0!==e){var r=e.filter(function(e){return n.indexOf(e)<0});p.setItemsFn(r)}},t.$watchCollection(p.parserResult.source,function(e){if(void 0===e||null===e)p.items=[];else{if(!angular.isArray(e))throw o("items","Expected an array but got '{0}'.",e);p.refreshItems(e),p.ngModel.$modelValue=null}})};var f;p.refresh=function(e){void 0!==e&&(f&&r.cancel(f),f=r(function(){t.$eval(e)},p.refreshDelay))},p.setActiveItem=function(e){p.activeIndex=p.items.indexOf(e)},p.isActive=function(e){if(!p.open)return!1;var t=p.items.indexOf(e[p.itemProperty]),n=t===p.activeIndex;return!n||0>t&&p.taggingLabel!==!1||0>t&&p.taggingLabel===!1?!1:(n&&!angular.isUndefined(p.onHighlightCallback)&&e.$eval(p.onHighlightCallback),n)},p.isDisabled=function(e){if(p.open){var t,n=p.items.indexOf(e[p.itemProperty]),r=!1;return n>=0&&!angular.isUndefined(p.disableChoiceExpression)&&(t=p.items[n],r=!!e.$eval(p.disableChoiceExpression),t._uiSelectChoiceDisabled=r),r}},p.select=function(e,n,i){if(void 0===e||!e._uiSelectChoiceDisabled){if(!p.items&&!p.search)return;if(!e||!e._uiSelectChoiceDisabled){if(p.tagging.isActivated){if(p.taggingLabel===!1)if(p.activeIndex<0){if(e=void 0!==p.tagging.fct?p.tagging.fct(p.search):p.search,!e||angular.equals(p.items[0],e))return}else e=p.items[p.activeIndex];else if(0===p.activeIndex){if(void 0===e)return;if(void 0!==p.tagging.fct&&"string"==typeof e){if(e=p.tagging.fct(p.search),!e)return}else"string"==typeof e&&(e=e.replace(p.taggingLabel,"").trim())}if(p.selected&&angular.isArray(p.selected)&&p.selected.filter(function(t){return angular.equals(t,e)}).length>0)return void p.close(n)}t.$broadcast("uis:select",e);var a={};a[p.parserResult.itemName]=e,r(function(){p.onSelectCallback(t,{$item:e,$model:p.parserResult.modelMapper(t,a)})}),p.closeOnSelect&&p.close(n),i&&"click"===i.type&&(p.clickTriggeredSelect=!0)}}},p.close=function(e){p.open&&(p.ngModel&&p.ngModel.$setTouched&&p.ngModel.$setTouched(),l(),p.open=!1,t.$broadcast("uis:close",e))},p.setFocus=function(){p.focus||p.focusInput[0].focus()},p.clear=function(e){p.select(void 0),e.stopPropagation(),r(function(){p.focusser[0].focus()},0,!1)},p.toggle=function(e){p.open?(p.close(),e.preventDefault(),e.stopPropagation()):p.activate()},p.isLocked=function(e,t){var n,r=p.selected[t];return r&&!angular.isUndefined(p.lockChoiceExpression)&&(n=!!e.$eval(p.lockChoiceExpression),r._uiSelectChoiceLocked=n),n};var g=null;p.sizeSearchInput=function(){var e=p.searchInput[0],n=p.searchInput.parent().parent()[0],i=function(){return n.clientWidth*!!e.offsetParent},a=function(t){if(0===t)return!1;var n=t-e.offsetLeft-10;return 50>n&&(n=t),p.searchInput.css("width",n+"px"),!0};p.searchInput.css("width","10px"),r(function(){null!==g||a(i())||(g=t.$watch(i,function(e){a(e)&&(g(),g=null)}))})},p.searchInput.on("keydown",function(n){var i=n.which;t.$apply(function(){var t=!1;if((p.items.length>0||p.tagging.isActivated)&&(c(i),p.taggingTokens.isActivated)){for(var a=0;a<p.taggingTokens.tokens.length;a++)p.taggingTokens.tokens[a]===e.MAP[n.keyCode]&&p.search.length>0&&(t=!0);t&&r(function(){p.searchInput.triggerHandler("tagged");var t=p.search.replace(e.MAP[n.keyCode],"").trim();p.tagging.fct&&(t=p.tagging.fct(t)),t&&p.select(t,!0)})}}),e.isVerticalMovement(i)&&p.items.length>0&&d(),(i===e.ENTER||i===e.ESC)&&(n.preventDefault(),n.stopPropagation())}),p.searchInput.on("paste",function(e){var t=e.originalEvent.clipboardData.getData("text/plain");if(t&&t.length>0&&p.taggingTokens.isActivated&&p.tagging.fct){var n=t.split(p.taggingTokens.tokens[0]);n&&n.length>0&&(angular.forEach(n,function(e){var t=p.tagging.fct(e);t&&p.select(t,!0)}),e.preventDefault(),e.stopPropagation())}}),p.searchInput.on("tagged",function(){r(function(){l()})}),t.$on("$destroy",function(){p.searchInput.off("keyup keydown tagged blur paste")})}]),n.directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function(e,t,n,r,i,a,o){return{restrict:"EA",templateUrl:function(e,n){var r=n.theme||t.theme;return r+(angular.isDefined(n.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:!0,transclude:!0,require:["uiSelect","^ngModel"],scope:!0,controller:"uiSelectCtrl",controllerAs:"$select",compile:function(i,s){return angular.isDefined(s.multiple)?i.append("<ui-select-multiple/>").removeAttr("multiple"):i.append("<ui-select-single/>"),function(i,s,l,u,c){function d(e){if(f.open){var t=!1;if(t=window.jQuery?window.jQuery.contains(s[0],e.target):s[0].contains(e.target),!t&&!f.clickTriggeredSelect){var n=["input","button","textarea"],r=angular.element(e.target).scope(),a=r&&r.$select&&r.$select!==f;a||(a=~n.indexOf(e.target.tagName.toLowerCase())),f.close(a),i.$digest()}f.clickTriggeredSelect=!1}}function p(){var t=r(s);v=angular.element('<div class="ui-select-placeholder"></div>'),v[0].style.width=t.width+"px",v[0].style.height=t.height+"px",s.after(v),y=s[0].style.width,e.find("body").append(s),s[0].style.position="absolute",s[0].style.left=t.left+"px",s[0].style.top=t.top+"px",s[0].style.width=t.width+"px"}function h(){null!==v&&(v.replaceWith(s),v=null,s[0].style.position="",s[0].style.left="",s[0].style.top="",s[0].style.width=y)}var f=u[0],g=u[1];f.generatedId=t.generateId(),f.baseTitle=l.title||"Select box",f.focusserTitle=f.baseTitle+" focus",f.focusserId="focusser-"+f.generatedId,f.closeOnSelect=function(){return angular.isDefined(l.closeOnSelect)?a(l.closeOnSelect)():t.closeOnSelect}(),f.onSelectCallback=a(l.onSelect),f.onRemoveCallback=a(l.onRemove),f.ngModel=g,f.choiceGrouped=function(e){return f.isGrouped&&e&&e.name},l.tabindex&&l.$observe("tabindex",function(e){f.focusInput.attr("tabindex",e),s.removeAttr("tabindex")}),i.$watch("searchEnabled",function(){var e=i.$eval(l.searchEnabled);f.searchEnabled=void 0!==e?e:t.searchEnabled}),i.$watch("sortable",function(){var e=i.$eval(l.sortable);f.sortable=void 0!==e?e:t.sortable}),l.$observe("disabled",function(){f.disabled=void 0!==l.disabled?l.disabled:!1}),l.$observe("resetSearchInput",function(){var e=i.$eval(l.resetSearchInput);f.resetSearchInput=void 0!==e?e:!0}),l.$observe("tagging",function(){if(void 0!==l.tagging){var e=i.$eval(l.tagging);f.tagging={isActivated:!0,fct:e!==!0?e:void 0}}else f.tagging={isActivated:!1,fct:void 0}}),l.$observe("taggingLabel",function(){void 0!==l.tagging&&("false"===l.taggingLabel?f.taggingLabel=!1:f.taggingLabel=void 0!==l.taggingLabel?l.taggingLabel:"(new)")}),l.$observe("taggingTokens",function(){if(void 0!==l.tagging){var e=void 0!==l.taggingTokens?l.taggingTokens.split("|"):[",","ENTER"];f.taggingTokens={isActivated:!0,tokens:e}}}),angular.isDefined(l.autofocus)&&o(function(){f.setFocus()}),angular.isDefined(l.focusOn)&&i.$on(l.focusOn,function(){o(function(){f.setFocus()})}),e.on("click",d),i.$on("$destroy",function(){e.off("click",d)}),c(i,function(e){var t=angular.element("<div>").append(e),r=t.querySelectorAll(".ui-select-match");if(r.removeAttr("ui-select-match"),r.removeAttr("data-ui-select-match"),1!==r.length)throw n("transcluded","Expected 1 .ui-select-match but got '{0}'.",r.length);s.querySelectorAll(".ui-select-match").replaceWith(r);var i=t.querySelectorAll(".ui-select-choices");if(i.removeAttr("ui-select-choices"),i.removeAttr("data-ui-select-choices"),1!==i.length)throw n("transcluded","Expected 1 .ui-select-choices but got '{0}'.",i.length);s.querySelectorAll(".ui-select-choices").replaceWith(i)});var m=i.$eval(l.appendToBody);(void 0!==m?m:t.appendToBody)&&(i.$watch("$select.open",function(e){e?p():h()}),i.$on("$destroy",function(){h()}));var v=null,y="",b=null,S="direction-up";i.$watch("$select.open",function(t){if(t){if(b=angular.element(s).querySelectorAll(".ui-select-dropdown"),null===b)return;b[0].style.opacity=0,o(function(){var t=r(s),n=r(b);t.top+t.height+n.height>e[0].documentElement.scrollTop+e[0].documentElement.clientHeight&&(b[0].style.position="absolute",b[0].style.top=-1*n.height+"px",s.addClass(S)),b[0].style.opacity=1})}else{if(null===b)return;b[0].style.position="",b[0].style.top="",s.removeClass(S)}})}}}}]),n.directive("uiSelectMatch",["uiSelectConfig",function(e){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){var n=t.parent().attr("theme")||e.theme,r=t.parent().attr("multiple");return n+(r?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(t,n,r,i){function a(e){i.allowClear=angular.isDefined(e)?""===e?!0:"true"===e.toLowerCase():!1}i.lockChoiceExpression=r.uiLockChoice,r.$observe("placeholder",function(t){i.placeholder=void 0!==t?t:e.placeholder}),r.$observe("allowClear",a),a(r.allowClear),i.multiple&&i.sizeSearchInput()}}}]),n.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(t,n){return{restrict:"EA",require:["^uiSelect","^ngModel"],controller:["$scope","$timeout",function(e,t){var n,r=this,i=e.$select;e.$evalAsync(function(){n=e.ngModel}),r.activeMatchIndex=-1,r.updateModel=function(){n.$setViewValue(Date.now()),r.refreshComponent()},r.refreshComponent=function(){i.refreshItems(),i.sizeSearchInput()},r.removeChoice=function(n){var a=i.selected[n];if(!a._uiSelectChoiceLocked){var o={};o[i.parserResult.itemName]=a,i.selected.splice(n,1),r.activeMatchIndex=-1,i.sizeSearchInput(),t(function(){i.onRemoveCallback(e,{$item:a,$model:i.parserResult.modelMapper(e,o)})}),r.updateModel()}},r.getPlaceholder=function(){return i.selected.length?void 0:i.placeholder}}],controllerAs:"$selectMultiple",link:function(r,i,a,o){function s(e){return angular.isNumber(e.selectionStart)?e.selectionStart:e.value.length}function l(t){function n(){switch(t){case e.LEFT:return~h.activeMatchIndex?c:o;case e.RIGHT:return~h.activeMatchIndex&&l!==o?u:(d.activate(),!1);case e.BACKSPACE:return~h.activeMatchIndex?(h.removeChoice(l),c):o;case e.DELETE:return~h.activeMatchIndex?(h.removeChoice(h.activeMatchIndex),l):!1}}var r=s(d.searchInput[0]),i=d.selected.length,a=0,o=i-1,l=h.activeMatchIndex,u=h.activeMatchIndex+1,c=h.activeMatchIndex-1,p=l;return r>0||d.search.length&&t==e.RIGHT?!1:(d.close(),p=n(),
d.selected.length&&p!==!1?h.activeMatchIndex=Math.min(o,Math.max(a,p)):h.activeMatchIndex=-1,!0)}function u(e){if(void 0===e||void 0===d.search)return!1;var t=e.filter(function(e){return void 0===d.search.toUpperCase()||void 0===e?!1:e.toUpperCase()===d.search.toUpperCase()}).length>0;return t}function c(e,t){var n=-1;if(angular.isArray(e))for(var r=angular.copy(e),i=0;i<r.length;i++)if(void 0===d.tagging.fct)r[i]+" "+d.taggingLabel===t&&(n=i);else{var a=r[i];a.isTag=!0,angular.equals(a,t)&&(n=i)}return n}var d=o[0],p=r.ngModel=o[1],h=r.$selectMultiple;d.multiple=!0,d.removeSelected=!0,d.focusInput=d.searchInput,p.$parsers.unshift(function(){for(var e,t={},n=[],i=d.selected.length-1;i>=0;i--)t={},t[d.parserResult.itemName]=d.selected[i],e=d.parserResult.modelMapper(r,t),n.unshift(e);return n}),p.$formatters.unshift(function(e){var t,n=d.parserResult.source(r,{$select:{search:""}}),i={};if(!n)return e;var a=[],o=function(e,n){if(e&&e.length){for(var o=e.length-1;o>=0;o--){if(i[d.parserResult.itemName]=e[o],t=d.parserResult.modelMapper(r,i),d.parserResult.trackByExp){var s=/\.(.+)/.exec(d.parserResult.trackByExp);if(s.length>0&&t[s[1]]==n[s[1]])return a.unshift(e[o]),!0}if(angular.equals(t,n))return a.unshift(e[o]),!0}return!1}};if(!e)return a;for(var s=e.length-1;s>=0;s--)o(d.selected,e[s])||o(n,e[s])||a.unshift(e[s]);return a}),r.$watchCollection(function(){return p.$modelValue},function(e,t){t!=e&&(p.$modelValue=null,h.refreshComponent())}),p.$render=function(){if(!angular.isArray(p.$viewValue)){if(!angular.isUndefined(p.$viewValue)&&null!==p.$viewValue)throw t("multiarr","Expected model value to be array but got '{0}'",p.$viewValue);d.selected=[]}d.selected=p.$viewValue,r.$evalAsync()},r.$on("uis:select",function(e,t){d.selected.push(t),h.updateModel()}),r.$on("uis:activate",function(){h.activeMatchIndex=-1}),r.$watch("$select.disabled",function(e,t){t&&!e&&d.sizeSearchInput()}),d.searchInput.on("keydown",function(t){var n=t.which;r.$apply(function(){var r=!1;e.isHorizontalMovement(n)&&(r=l(n)),r&&n!=e.TAB&&(t.preventDefault(),t.stopPropagation())})}),d.searchInput.on("keyup",function(t){if(e.isVerticalMovement(t.which)||r.$evalAsync(function(){d.activeIndex=d.taggingLabel===!1?-1:0}),d.tagging.isActivated&&d.search.length>0){if(t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||e.isVerticalMovement(t.which))return;if(d.activeIndex=d.taggingLabel===!1?-1:0,d.taggingLabel===!1)return;var n,i,a,o,s=angular.copy(d.items),l=angular.copy(d.items),p=!1,h=-1;if(void 0!==d.tagging.fct){if(a=d.$filter("filter")(s,{isTag:!0}),a.length>0&&(o=a[0]),s.length>0&&o&&(p=!0,s=s.slice(1,s.length),l=l.slice(1,l.length)),n=d.tagging.fct(d.search),n.isTag=!0,l.filter(function(e){return angular.equals(e,d.tagging.fct(d.search))}).length>0)return;n.isTag=!0}else{if(a=d.$filter("filter")(s,function(e){return e.match(d.taggingLabel)}),a.length>0&&(o=a[0]),i=s[0],void 0!==i&&s.length>0&&o&&(p=!0,s=s.slice(1,s.length),l=l.slice(1,l.length)),n=d.search+" "+d.taggingLabel,c(d.selected,d.search)>-1)return;if(u(l.concat(d.selected)))return void(p&&(s=l,r.$evalAsync(function(){d.activeIndex=0,d.items=s})));if(u(l))return void(p&&(d.items=l.slice(1,l.length)))}p&&(h=c(d.selected,n)),h>-1?s=s.slice(h+1,s.length-1):(s=[],s.push(n),s=s.concat(l)),r.$evalAsync(function(){d.activeIndex=0,d.items=s})}}),d.searchInput.on("blur",function(){n(function(){h.activeMatchIndex=-1})})}}}]),n.directive("uiSelectSingle",["$timeout","$compile",function(t,n){return{restrict:"EA",require:["^uiSelect","^ngModel"],link:function(r,i,a,o){var s=o[0],l=o[1];l.$parsers.unshift(function(e){var t,n={};return n[s.parserResult.itemName]=e,t=s.parserResult.modelMapper(r,n)}),l.$formatters.unshift(function(e){var t,n=s.parserResult.source(r,{$select:{search:""}}),i={};if(n){var a=function(n){return i[s.parserResult.itemName]=n,t=s.parserResult.modelMapper(r,i),t==e};if(s.selected&&a(s.selected))return s.selected;for(var o=n.length-1;o>=0;o--)if(a(n[o]))return n[o]}return e}),r.$watch("$select.selected",function(e){l.$viewValue!==e&&l.$setViewValue(e)}),l.$render=function(){s.selected=l.$viewValue},r.$on("uis:select",function(e,t){s.selected=t}),r.$on("uis:close",function(e,n){t(function(){s.focusser.prop("disabled",!1),n||s.focusser[0].focus()},0,!1)}),r.$on("uis:activate",function(){u.prop("disabled",!0)});var u=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");n(u)(r),s.focusser=u,s.focusInput=u,i.parent().append(u),u.bind("focus",function(){r.$evalAsync(function(){s.focus=!0})}),u.bind("blur",function(){r.$evalAsync(function(){s.focus=!1})}),u.bind("keydown",function(t){return t.which===e.BACKSPACE?(t.preventDefault(),t.stopPropagation(),s.select(void 0),void r.$apply()):void(t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||((t.which==e.DOWN||t.which==e.UP||t.which==e.ENTER||t.which==e.SPACE)&&(t.preventDefault(),t.stopPropagation(),s.activate()),r.$digest()))}),u.bind("keyup input",function(t){t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||t.which==e.ENTER||t.which===e.BACKSPACE||(s.activate(u.val()),u.val(""),r.$digest())})}}}]),n.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function(e,t,n){return{require:"^uiSelect",link:function(t,r,i,a){if(null===t[i.uiSelectSort])throw n("sort","Expected a list to sort");var o=angular.extend({axis:"horizontal"},t.$eval(i.uiSelectSortOptions)),s=o.axis,l="dragging",u="dropping",c="dropping-before",d="dropping-after";t.$watch(function(){return a.sortable},function(e){e?r.attr("draggable",!0):r.removeAttr("draggable")}),r.on("dragstart",function(e){r.addClass(l),(e.dataTransfer||e.originalEvent.dataTransfer).setData("text/plain",t.$index)}),r.on("dragend",function(){r.removeClass(l)});var p,h=function(e,t){this.splice(t,0,this.splice(e,1)[0])},f=function(e){e.preventDefault();var t="vertical"===s?e.offsetY||e.layerY||(e.originalEvent?e.originalEvent.offsetY:0):e.offsetX||e.layerX||(e.originalEvent?e.originalEvent.offsetX:0);t<this["vertical"===s?"offsetHeight":"offsetWidth"]/2?(r.removeClass(d),r.addClass(c)):(r.removeClass(c),r.addClass(d))},g=function(t){t.preventDefault();var n=parseInt((t.dataTransfer||t.originalEvent.dataTransfer).getData("text/plain"),10);e.cancel(p),p=e(function(){m(n)},20)},m=function(e){var n=t.$eval(i.uiSelectSort),a=n[e],o=null;o=r.hasClass(c)?e<t.$index?t.$index-1:t.$index:e<t.$index?t.$index:t.$index+1,h.apply(n,[e,o]),t.$apply(function(){t.$emit("uiSelectSort:change",{array:n,item:a,from:e,to:o})}),r.removeClass(u),r.removeClass(c),r.removeClass(d),r.off("drop",g)};r.on("dragenter",function(){r.hasClass(l)||(r.addClass(u),r.on("dragover",f),r.on("drop",g))}),r.on("dragleave",function(e){e.target==r&&(r.removeClass(u),r.removeClass(c),r.removeClass(d),r.off("dragover",f),r.off("drop",g))})}}}]),n.service("uisRepeatParser",["uiSelectMinErr","$parse",function(e,t){var n=this;n.parse=function(n){var r=n.match(/^\s*(?:([\s\S]+?)\s+as\s+)?([\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!r)throw e("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",n);return{itemName:r[2],source:t(r[3]),trackByExp:r[4],modelMapper:t(r[1]||r[2])}},n.getGroupNgRepeatExpression=function(){return"$group in $select.groups"},n.getNgRepeatExpression=function(e,t,n,r){var i=e+" in "+(r?"$group.items":t);return n&&(i+=" track by "+n),i}}])}(),angular.module("ui.select").run(["$templateCache",function(e){e.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu" role="listbox" ng-show="$select.items.length > 0"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><a href="javascript:void(0)" class="ui-select-choices-row-inner"></a></div></li></ul>'),e.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>'),e.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty()" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>'),e.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div></div>'),e.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="form-control ui-select-search" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.searchEnabled && $select.open"><div class="ui-select-choices"></div></div>'),e.put("select2/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul role="listbox" id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>'),e.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>'),e.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>'),e.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"></li></ul><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="ui-select-choices"></div></div></div>'),e.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="select2-search" ng-show="$select.searchEnabled"><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div></div></div>'),e.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices ui-select-dropdown selectize-dropdown single"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup" role="listbox"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>'),e.put("selectize/match.tpl.html",'<div ng-hide="($select.open || $select.isEmpty())" class="ui-select-match" ng-transclude=""></div>'),e.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.activate()"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.searchEnabled || ($select.selected && !$select.open)" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div></div>')}]),n("angular-ui-select",["angular"],function(){}),function(e,t,n){"use strict";function r(){this.$get=["$$sanitizeUri",function(e){return function(t){var n=[];return o(t,u(n,function(t,n){return!/^unsafe/.test(e(t,n))})),n.join("")}}]}function i(e){var n=[],r=u(n,t.noop);return r.chars(e),n.join("")}function a(e,n){var r,i={},a=e.split(",");for(r=0;r<a.length;r++)i[n?t.lowercase(a[r]):a[r]]=!0;return i}function o(e,n){function r(e,r,a,o){if(r=t.lowercase(r),_[r])for(;b.last()&&x[b.last()];)i("",b.last());C[r]&&b.last()==r&&i("",r),o=D[r]||!!o,o||b.push(r);var l={};a.replace(h,function(e,t,n,r,i){var a=n||r||i||"";l[t]=s(a)}),n.start&&n.start(r,l,o)}function i(e,r){var i,a=0;if(r=t.lowercase(r))for(a=b.length-1;a>=0&&b[a]!=r;a--);if(a>=0){for(i=b.length-1;i>=a;i--)n.end&&n.end(b[i]);b.length=a}}"string"!=typeof e&&(e=null===e||"undefined"==typeof e?"":""+e);var a,o,l,u,b=[],S=e;for(b.last=function(){return b[b.length-1]};e;){if(u="",o=!0,b.last()&&k[b.last()]?(e=e.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+b.last()+"[^>]*>","i"),function(e,t){return t=t.replace(m,"$1").replace(y,"$1"),n.chars&&n.chars(s(t)),""}),i("",b.last())):(0===e.indexOf("<!--")?(a=e.indexOf("--",4),a>=0&&e.lastIndexOf("-->",a)===a&&(n.comment&&n.comment(e.substring(4,a)),e=e.substring(a+3),o=!1)):v.test(e)?(l=e.match(v),l&&(e=e.replace(l[0],""),o=!1)):g.test(e)?(l=e.match(p),l&&(e=e.substring(l[0].length),l[0].replace(p,i),o=!1)):f.test(e)&&(l=e.match(d),l?(l[4]&&(e=e.substring(l[0].length),l[0].replace(d,r)),o=!1):(u+="<",e=e.substring(1))),o&&(a=e.indexOf("<"),u+=0>a?e:e.substring(0,a),e=0>a?"":e.substring(a),n.chars&&n.chars(s(u)))),e==S)throw c("badparse","The sanitizer was unable to parse the following block of html: {0}",e);S=e}i()}function s(e){return e?(E.innerHTML=e.replace(/</g,"&lt;"),E.textContent):""}function l(e){return e.replace(/&/g,"&amp;").replace(b,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(S,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function u(e,n){var r=!1,i=t.bind(e,e.push);return{start:function(e,a,o){e=t.lowercase(e),!r&&k[e]&&(r=e),r||M[e]!==!0||(i("<"),i(e),t.forEach(a,function(r,a){var o=t.lowercase(a),s="img"===e&&"src"===o||"background"===o;P[o]!==!0||T[o]===!0&&!n(r,s)||(i(" "),i(a),i('="'),i(l(r)),i('"'))}),i(o?"/>":">"))},end:function(e){e=t.lowercase(e),r||M[e]!==!0||(i("</"),i(e),i(">")),e==r&&(r=!1)},chars:function(e){r||i(l(e))}}}var c=t.$$minErr("$sanitize"),d=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,p=/^<\/\s*([\w:-]+)[^>]*>/,h=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,f=/^</,g=/^<\//,m=/<!--(.*?)-->/g,v=/<!DOCTYPE([^>]*?)>/i,y=/<!\[CDATA\[(.*?)]]>/g,b=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,S=/([^\#-~| |!])/g,D=a("area,br,col,hr,img,wbr"),w=a("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),A=a("rp,rt"),C=t.extend({},A,w),_=t.extend({},w,a("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),x=t.extend({},A,a("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),$=a("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan,use"),k=a("script,style"),M=t.extend({},D,_,x,C,$),T=a("background,cite,href,longdesc,src,usemap,xlink:href"),F=a("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),O=a("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),P=t.extend({},T,O,F),E=document.createElement("pre");t.module("ngSanitize",[]).provider("$sanitize",r),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,r=/^mailto:/i;return function(a,o){function s(e){e&&h.push(i(e))}function l(e,n){h.push("<a "),t.isDefined(o)&&h.push('target="',o,'" '),h.push('href="',e.replace(/"/g,"&quot;"),'">'),s(n),h.push("</a>")}if(!a)return a;for(var u,c,d,p=a,h=[];u=p.match(n);)c=u[0],u[2]||u[4]||(c=(u[3]?"http://":"mailto:")+c),d=u.index,s(p.substr(0,d)),l(c,u[0].replace(r,"")),p=p.substring(d+u[0].length);return s(p),e(h.join(""))}}])}(window,window.angular),n("angular-sanitize",["angular"],function(){}),n("webservices/lookup/AirlineLookupDataService",["angular","lodash","webservices/SabreDevStudioWebServicesModule"],function(e,t,n){"use strict";return e.module("sabreDevStudioWebServices").factory("AirlineLookupDataService",["$q","AirlineLookupWebService","$localStorage","ErrorReportingService","businessMessagesErrorHandler",function(e,n,r,i,a){return{getAirlineAndAirlineCodesList:function(){return e(function(e,o){return r.airlineAndAirlineCodesList?e(t.clone(r.airlineAndAirlineCodesList)):void n.get().$promise.then(function(n){var i=n.AirlineInfo.map(function(e){return{AirlineCode:e.AirlineCode,AirlineName:e.AlternativeBusinessName}});r.airlineAndAirlineCodesList=i,e(t.clone(i))},function(e){i.reportError("Cannot get airlines and airline codes dictionary"),a.handle(o,e)})})},getAirlinesDictionary:function(){function o(e){var t={};return e.AirlineInfo.forEach(function(e){t[e.AirlineCode]=e.AlternativeBusinessName}),t}return e(function(e,s){return r.airlinesDictionary?e(t.clone(r.airlinesDictionary)):void n.get().$promise.then(function(n){var i=o(n);r.airlinesDictionary=i,e(t.clone(i))},function(e){i.reportError("Cannot get airlines dictionary"),a.handle(s,e)})})}}}])}),n("webservices/lookup/EquipmentLookupDataService",["angular","lodash","webservices/SabreDevStudioWebServicesModule"],function(e,t,n){"use strict";return e.module("sabreDevStudioWebServices").factory("EquipmentLookupDataService",["$q","EquipmentLookupWebService","$localStorage","ErrorReportingService","businessMessagesErrorHandler",function(e,n,r,i,a){function o(e){var t={};return e.AircraftInfo.forEach(function(e){t[e.AircraftCode]=e.AircraftName}),t}return{getAircraftDictionary:function(){return e(function(e,s){return r.aircraftDictionary?e(t.clone(r.aircraftDictionary)):void n.get().$promise.then(function(n){var i=o(n);r.aircraftDictionary=i,e(t.clone(i))},function(e){i.reportError("Cannot get aircraft dictionary"),a.handle(s,e)})})}}}])}),n("webservices/lookup/PointOfSaleCountryLookupDataService",["angular","lodash","webservices/SabreDevStudioWebServicesModule"],function(e,t,n){"use strict";return e.module("sabreDevStudioWebServices").factory("PointOfSaleCountryLookupDataService",["PointOfSaleCountryLookupWebService","$q","$localStorage","ErrorReportingService","businessMessagesErrorHandler",function(e,n,r,i,a){function o(e){return e.Countries.map(function(e){return{countryCode:e.CountryCode,countryName:e.CountryName}})}return{getPointOfSaleCountries:function(){return n(function(n,s){return r.pointOfSaleCountries?n(t.clone(r.pointOfSaleCountries)):void e.get().$promise.then(function(e){var i=o(e);r.pointOfSaleCountries=i,n(t.clone(i))},function(e){i.reportError("Cannot get point of sales dictionary"),a.handle(s,e)})})}}}])}),n("util/LookupFilters",["angular","lodash","webservices/lookup/AirlineLookupDataService","webservices/lookup/AirportLookupDataService","webservices/lookup/EquipmentLookupDataService","webservices/lookup/PointOfSaleCountryLookupDataService"],function(e,t,n,r,i,a){"use strict";function o(e){var t=null,n=!1,r=function(r){if(null===t)return n||(n=!0,e.then(function(e){t=e})),r;var i=t[r];return i?i:r};return r.$stateful=!0,r}function s(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t.isUndefined(l[e])&&(l[e]={}),t.isUndefined(l[e][r.join()])){var a=n.apply(null,r);l[e][r.join()]=o(a)}return l[e][r.join()]}var l={};return e.module("sDSLookups",["sabreDevStudioWebServices"]).filter("airlineFullName",["AirlineLookupDataService",function(e){return o(e.getAirlinesDictionary())}]).filter("cityFullName",["AirportLookupDataService",function(e){var t=o(e.getShoppingAirportsDictionary()),n=function(e){var n=t(e);return n&&n.CityName?n.CityName:n};return n.$stateful=!0,n}]).filter("cityAndAirportFullName",["AirportLookupDataService",function(e){var n=s("AirportLookupDataService.getShoppingAirportsDictionaryForAllPoS",e.getShoppingAirportsDictionaryForAllPoS),r=function(r,i){var a=s("AirportLookupDataService.getShoppingAirportsDictionary",e.getShoppingAirportsDictionary,i),o=a(r);if(o===r){var l=n(r);if(l===r)return l;o=l}return o.AirportName===o.CityName||t.includes(o.AirportName.toUpperCase(),o.CityName.toUpperCase())?o.AirportName:o.AirportName+", "+o.CityName};return r.$stateful=!0,r}]).filter("cityAndAirportFullNameNoAirportWord",["$filter",function(e){return function(t){var n=e("cityAndAirportFullName");return n(t).replace("Airport","")}}]).filter("airportCountry",["AirportLookupDataService",function(e){var t=o(e.getShoppingAirportsDictionary()),n=function(e){var n=t(e);return n===e?n:n.CountryName};return n.$stateful=t.$stateful,n}]).filter("aircraftName",["EquipmentLookupDataService",function(e){return o(e.getAircraftDictionary())}])}),n("datamodel/search/SearchCriteriaFactory",["lodash","util/LodashExtensions","moment","datamodel/search/SearchCriteria","datamodel/search/SearchCriteriaLeg","datamodel/search/alternateDates/PlusMinusDaysTravelDatesFlexibility"],function(e,t,n,r,i,a){"use strict";function o(t){var n=new r,i=t&&t.searchCriteriaOptions||1;return n.addPassenger("ADT",i),t&&t.preferredCabin&&(n.preferredCabin=t.preferredCabin),t&&!e.isEmpty(t.preferredAirlines)&&(n.preferredAirlines=t.preferredAirlines),n}function s(e,t,r,a,s){var l=n(r,n.ISO_8601),u=n(a,n.ISO_8601),c=new i({origin:e,destination:t,departureDateTime:l,returnDateTime:u}),d=new i({origin:t,destination:e,departureDateTime:u,returnDateTime:l}),p=o(s);return p.addLeg(c),p.addLeg(d),p}function l(e,t,r,a){var s=n(r,n.ISO_8601),l=new i({origin:e,destination:t,departureDateTime:s}),u=o(a);return u.addLeg(l),u}function u(e,t,n,r,i,o){var l=s(e,t,n,r,o);return l.dateFlexibilityDays=a.prototype.buildConstantDaysFlexibility(i),l}function c(e){var t=7,a=new r;return e.forEach(function(e,r){var o=n().add(r*t,"days"),s=o.clone().add(t,"days"),l=new i({origin:e.origin,destination:e.destination,departureDateTime:o,returnDateTime:s});a.addLeg(l)}),a.addPassenger("ADT",1),a}return{buildRoundTripTravelSearchCriteria:s,buildOneWayTravelSearchCriteria:l,buildRoundTripTravelSearchCriteriaWithDateFlexibility:u,buildMultidestinationSearchCriteria:c}}),n("util/SerializationServices",["angular","lodash","moment","datamodel/Itinerary","datamodel/Leg","datamodel/Segment","datamodel/ItineraryPricingInfo","datamodel/SegmentBaggageAllowance","datamodel/search/SearchCriteriaFactory"],function(e,t,n,r,i,a,o,s,l){"use strict";return e.module("SDSWidgets.SerializationServices",[]).factory("ItinerarySerializer",function(){function e(e){return e.map(function(e){var t=new i;return t.segments=l(e.segments),t.duration=e.duration,t.hasAirportChangeAtDeparture=e.hasAirportChangeAtDeparture,t.hasAirportChangeAtArrival=e.hasAirportChangeAtArrival,t.build(),t})}function l(e){return e.map(function(e){return e.departureDateTime=n(new Date(e.departureDateTime)),e.arrivalDateTime=n(new Date(e.arrivalDateTime)),new a(e)})}function u(e){var n=new o;return n=t.extend(n,e),n.baggageAllowance=new s(e.baggageAllowance.legSegmentBaggageAllowance),n}return{deserialize:function(t){var n=new r;return n.legs=e(t.legs),n.itineraryPricingInfo=u(t.itineraryPricingInfo),n.pricingSource=t.pricingSource,n.id=t.id,n.build(),n}}}).factory("SearchCriteriaSerializer",function(){return{deserialize:function(e){var n={totalPassengerCount:e.totalPassengerCount,preferredCabin:e.preferredCabin,preferredAirlines:e.preferredAirlines};return e.altDatesPlusMinus?l.buildRoundTripTravelSearchCriteriaWithDateFlexibility(e.origin,e.destination,e.outboundDepartureDateTime,e.inboundDepartureDateTime,e.altDatesPlusMinus,n):t.isUndefined(e.inboundDepartureDateTime)?l.buildOneWayTravelSearchCriteria(e.origin,e.destination,e.outboundDepartureDateTime,n):l.buildRoundTripTravelSearchCriteria(e.origin,e.destination,e.outboundDepartureDateTime,e.inboundDepartureDateTime,n)},serialize:function(e){var t=e.getFirstLeg(),n={origin:t.origin,destination:t.destination,outboundDepartureDateTime:t.departureDateTime.format(),totalPassengerCount:e.getTotalPassengerCount(),preferredCabin:e.preferredCabin.name,preferredAirlines:e.getPreferredAirlines()};return e.isRoundTripTravel()&&(n.inboundDepartureDateTime=e.getSecondLeg().departureDateTime.format()),e.isPlusMinusDaysDateFlexibilityRequest()&&(n.dateFlexibilityDays=e.dateFlexibilityDays),n}}})}),angular.module("dcbImgFallback",[]).directive("fallbackSrc",function(){var e="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QBoRXhpZgAATU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAAExAAIAAAASAAAATgAAAAAAAABgAAAAAQAAAGAAAAABUGFpbnQuTkVUIHYzLjUuMTEA/9sAQwAEAgMDAwIEAwMDBAQEBAUJBgUFBQULCAgGCQ0LDQ0NCwwMDhAUEQ4PEw8MDBIYEhMVFhcXFw4RGRsZFhoUFhcW/9sAQwEEBAQFBQUKBgYKFg8MDxYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYW/8AAEQgB9AH0AwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A+ggKcBQBRQAUAZpQKUUAFOAxRSgUAIBThQBTqAAClAoApwFACU4CilAoAQCnYoxTsUAJilpcUtACYpaXFLQAmKXFLiloAbilxTsUuKAG0YNOowaAExS4FLilxQA2inYooAbRg07BpcGgBmDRg0/FGKAGYNFPxSYNADaKdg0UANxSYp+BSYoAbikwafikoAbikxT6TFADMUYp2KMUAR4oxT8UmKAGYpMU/FJigCPFJin4pMUAMpCKfSEUAMIppFSEU2gBhFIRTyKaRQAykIp9NoAaRmm08ikNADaQilooAbiilxRQAtKBSAZpwoABTqKUCgAApwFAFKKAACnAUU4CgBAKUClApQKAClApaUCgBMU7FGKdigBMUuKUClxQAmKXFLiloATFLS4paAG4NLinYpcUANpcUtLigBuKXAp2KKAG0YNOooATFGKWigBMUYpaKAExRilooATBpMGnUUANowKdRigBmKTBp+KMUAMxSYp9JigBlGKdijFADMUmKdiigBmKTFPxSYoAjxSYp+KTFADKQin00igBpFNxTyKQigCMikIp5FIRQAwim08ikNAEZGKQin00jFADTTaeRSEUANooooAdTqAMUoFAABTgKAKUUAAFOopwoAAKUCgCnAUAAFLQBTqADGKUClApQKAEApwFFOAoATFLRinAUAJilpcUuKAExS0uKWgBMUuKKKACijBpcUAJRTqMGgBMGjFOxRigBuKXAp2BRigBuBRgU6igBuBSYp9GBQAzFGKfgUmKAGYNFPxSYoAbRTsUmKAEpMUtFADcUYp1GKAI8UYp+KTFAEeKMU7FJigBmKQin0hFADKaRipCKaaAGEUhFPIpCKAI6aRUlNNADCKQjNPIppFADCKbUhFNNAEZGKQinn0ptADaKXFFACgU4CgU4UAAp1ApwFAAKUChRTgKAAClAzQBmnAUAFOFAFOAoAQClApQKWgApQKUClAoAQCnYop2KAExS0UUAFFLiloATFLS4paAExS4pcUuKAG0uKXBpcUANxS4FOxRigBtFOowaAG0U7BowaAG0U7BowaAG4oxTqMCgBmKTBp+KMUAMpMU+kxQAzBoxTsUYoAZikp+KSgBtGKXFJQA0ikxT6QigBlNIqTFNIoAaRTaeRSUARkUhFPIpCKAGEZptPIpCKAIzSEU+mmgBjCmkU8jFIwoAYRmmmnsKawoAZRTqKAHAUqihRTgKABR3pyikApwoAUClAoFOoAKcBQKcBQAAYpQKAKWgApwFFOAxQAgFOAoApaACiilAoAAKWgCnUAJilxS4paAExS4pcUuKAExS0uKWgBuDS4p2KMUAJgUU6igBuDS4pcGlwaAG4oxTsUYoAbijBp2KTBoAbg0U7BooAbgUmKfikxQAzFGKdg0YoAZikxT8UlADMUmKfikoAZikxTyKQigCOinUhFACYzTadRQAwimkU8jFIRQAymkYp5FJQAwimkU8jFIRQAwjNNNPYU0igBh9KaakIppoAjPFNIqQ02gBmKKWigBwp1ApVoAUU4UiinKKAFHFOApFFOUUACinAUgFOoAKdQBTgMUAAGKUCgCloAKKAM07FAAKUClAxSgUAJinUAU7FACYpaXFLQAYoxTsUUAJilpcUtADcGlxTsUYoATFGDTqMGgBMGjFOxRigBuKMU7FGKAG4oxTsUYoAZg0U/FJg0ANxSYp+KTFADKKdg0YoAZikp+KSgBmKSn4pKAIyKQin4pCKAGU0ipKaRigBhFJTyKQigBtNIxTqKAGEU0inkYpCKAGU008ikoAjIxSMKeaaaAGMKawp5ppFADGFNanmmmgBtFLiigBRThQKcKAAU4UCnCgAFOFApwoAKcBSKKcooAAKcooApaACgDNFOHpQAU4UClAoAAKcBQBSgZoAAKcBRinAUAIBS0YzTsUAJilpcUtACYpaXFLigBMUuKXFLigBuKXFLg0uKAG4pcCnYoxQA3AowKdRQA3ApMU+jAoAZijBp2KMUAMpMU/FGKAI8UYp+KTFADMUmKfikxQBHiinYpMUAMxSEU+kIoAYRTSKkIptADCKaRTzSEUAMIzTaeRSEUANppp1FAEZFIwp9NNADSKaacaRhQAw0009qa1ADDTTT29aa1ADKKdiigBVpy0lOoAVactIKcKAFWlFFOFAAKcKBThQAUUUq0AKKcBikUU5RQAAU4ChRSgZoAUClAoAp1ABSgUAUoFAAKcBRTgKAEApaUCloATFLilxS4oATFLS4pcUAJijFOxS4oAbiinUYNADaKdg0YNADaKdg0YNADcCkxT8UmKAGYNGKfikoAZikp+KSgBmKTFPxSEUAR4pCKeRSEUAMptSEZptADCKQinEYpCKAGEU01IRTaAIyKRhT6aaAGMKSnGmmgANNNOpGoAYabT2prUAMNNNPamtQAw0009qa1ADKKdRQAq05aSnCgBVpy0gp1ACrTlpKcKAFWloooAVaUUU4UAApwoFOFAAKcPSgU4CgApQKFFKBQAoFKKBTgKAClApQKUCgAApaAKdQAmKXFLilxQAYoxTsUYoATFLilxS0ANwaXBpaKAExRilooATFJg06igBtGKdRigBmKSn4pKAGYpKfikoAZikxT8UhFAEZFIRTzTSKAGEUhp5FNIoAZTSMVIaaaAGEUhFOpGFADDTTT2pretADDTae1NagBlFK1JQA00009qa1ADKaae1IaAIzTTUjUxqAGUU6igBVpy0gp1ACrTlpKcKAFWnLSU6gApVpKdQAq05aQU4UAKtOX1pBThQAq0o5opwoABTqBThQAU4CkApwFAABTgKAKUDNAABTqKcBQAgFLilApaADFFFFABRS4paAG4NLinYNGKAG4oxTsUYoAbijBp2KMUAMop2DRigBtFLikoATFJTqKAGEU0inkUhFADCKaakIzTaAGEU0inkU0jFADGFIRTiKRhQAwim09qa3rQAw001IaaaAIzTTUhppoAjNNNSNTWoAbTTTqRqAGU2ntTWoAYaaae1NagBlFOxRQALT1pq09elAAKetNWnrQAq0tA6UUAKtOWkFOFACrTlpBThQA5actNFOoAVactJTqAFWnLSU4UAKopQKKdQACnUCnCgAFKBQBS0AFFFOAoAQClxSgUuKAExS4p2KMUAJijFOxS4FADcCjAp1FADcCkxT6MUAMxSU/FJQAzFJT8UlADCKSnEUhFACUhFLRQAwikIp5FNYUAMNNp7CmtQAymmntSNQBGaaakamtQBHSNTmpDQAxqYakNNNAEZppp7U1qAGUUrUlADTTTT2prUAMpppx60jUAMooPWigB1Opq9acOtADqcKRactAC0L1opVoActOWkXpTh0oAVactIKcKAFWnLSU4UAKtOWkpwoAVactIKcKAFWnLSCnCgBVpyikFOoAKKKcKACnAUAUoFAABS4pQKWgAxRinYoxQAmKWnYooAbRg07BpcGgBlGKdg0UAMxSU/FJQAzFJTyKQigCMikIp9NIxQAwikp7CmsKAEppp1BoAjNNNSGmmgCM001IaaaAIzTTUhpjUAMNNp7U1qAGNTTT2prUAMNNp7U1qAGGm09qYetAA3SmNT6bQAxqa1PNNoAbRRRQAq05aRelOXpQAq09elNHSnUAFOFNFOHWgB1OHWkWnLQAq9aetNWnLQAq9aetNWnLQA5actIOlOFACrTlpBThQA5acKaKcKAHCiiigBVpy0gpwoAVRTgKQU4UAAFOFApwoAAKMUoFKBQAYowadijBoATFGKdijFADcGkp+KTFADMUlPxSUAMIpCKeRTWFADCKbTyKQigCM001IaaaAIzRTjTaAEamtT6aaAGNTGqQ0xqAGGmmntTWoAZTTT2pjdaAG00049aa3WgBpprdKcetNNADGprU8009KAG0jdaWkagBh602ntTW60AMNFK1FAC04U2nUAOp1NHWnUAKvWnLTVpy0AOWnr0pq9KcKAHDpTqbTqAHCnU0dacvWgBwpy9aRactADlpy01aevSgBVpy0gp1ABSrSU6gBVp600U4UAOFOFNFOWgBwrUt9GlkgSUTIN6hgCDxkVlrXU27FNHjdeqwAj/vmgDN/sOX/nun5Gl/sSX/AJ7p+RqMaxdntH/3zS/2vd+kf/fNAEn9iy/89k/I0f2LL/z2T8jTP7WuvSP/AL5pf7Vu/SP/AL5oAf8A2NJ/z2X8jR/Y0n/PZPyNN/tW6/6Z/wDfNH9q3X/TP/vmgB39iy/89l/I0n9jS/8APZPyNN/tW6/6Z/8AfNJ/at16R/8AfNADv7Fl/wCeyfkaP7El/wCe6fkab/a136R/980n9r3fpH/3zQA7+w5v+e6fkaralpr2cAlaRWDNtwB7H/CrVnqlzLdxxsI9rMAcLVjxR/yD0/66j+RoA55qa1PppoAY1NanmmmgCNqaae1NagBKa3WnUjUAMNNNPamtQAw009KcetNNADW6UxqfTT0oAY1NanN0pG6UAMamt1pzU1qAGHrTae1MPWgBtDdKKDQAxqa1PbpTGoASiiigApy9aaOtPXrQA5aWkWloAVaevSmr0pwoAdTqbTh1oAcvWnDrSLTl60AOXrTlpq05aAHLT16U1elOHSgBw6U6m04daAHDrTqRetLQADrT1601actADlpy01aeOlACrT1ptOoAcK6aP/kCL/17j/0GuZHWumj/AOQKv/XuP/QaAOdFOFItKKAFAp2DU+mQ+feIhHyg5b6Crus2fW4iH++B/OgDLxS4FOxRQAzFLDG0syxKOWOBSkVPpTqmoRlvUj8xQBqWun20SAGNZG7swz+lQ6lpkUkTPAmyQDOB0b2xWhSOwRCzHAUZJoA5rTf+QhD/ANdB/OtTxR/yD0/66j+RrNsTnU4jjrIP51peKP8AkHr/ANdR/I0AYDU1qe3SmNQAw9aaae1NagBlNPSnN1ppoAbQelFFADW6UxqeelNbpQAxqa3WnNTWoAYetNp7daYetADT0ptOptADW6Uxqeaa3SgBjU1qc1NagBjdaKVqSgBtNbpTjTT0oAbRRRQAL1p60xetPWgBy0tItLQA5elOpq9KdQA6nL1ptOXrQA9actNWnLQA5actNWnLQA9elOpq9KdQA6nL1ptOXrQA9aWkWloAVactNWnLQA9elOpq9KdQA6nL1po609aAHLXSx/8AIFX/AK9x/wCg1zS10sf/ACBV/wCvcf8AoNAHPLTlpF6U6MFmCgZJOBQBr+HodsLTEcscD6Vo9eDTLaMQ26RD+EYp9AGPqVp5Em9B+7Y8e3tVWuglRZIyjjIPWsW8haCUoeR/CfUUAQMKa1Oanx280kLSIhKqMk0ATW+qTRKFdRIB0J61FfX81yuw4VPRe/1qu1MbrQBLp3/IQh/3xWp4m/48E/66j+RrM0//AJCEP++P51p+Jv8AjwT/AK6j+RoAwDTW6U4009KAGNTWpzU1qAGtTG609qY3WgBtFFFADaa3SnGmt0oAY1NanNTWoAa1MbrT2pjdaAG02nU2gBtNbpTqa3SgBjU1qc1NagBrUlK1JQA2m06m0ANooooAF609aZTl60APWlpFpaAHL0p1MXpTx0oAdTl602nDrQA9actNXrSr1oAetOWmrTloAevSnUxaeOlADqcvWm04UAPWlpq9adQAq05aavWnLQA9elOFMWnr0oAdTh1po6U6gB610sf/ACBV/wCvcf8AoNcyK6aP/kCr/wBe4/8AQaAOeWr+gw+ZebyPljGfx7f59qzxW/oMPlWIcj5pDn8O3+fegC7RRRQAVFeQLcQlG6/wn0NS0UAZlnpzFt1xwAeFB61pKoVdqgADoBS0UAYesWvkXG5R+7fp7H0qjXTXcK3Fu0T9+h9D61zdxG0MrRuMMpwaAH6d/wAhCH/fFanib/jwT/rqP5GsrTf+QhD/ANdB/OtTxR/yD0/66j+RoAwTTW6UrU1qAGtTWpzU1utADWph6049abQA2iiigBtNbpTj0pjUANamtTmprUANamN1pzdaaaAG02nU2gBtNbpTj0prdKAGNTWpzU1qAGtSUN1ooAbTacaa3SgBtFFFABTh1ptOoAevWlpo606gBVp69KYtOWgB46U6mr0pw6UAOHWnCm06gBy9aetMpw60APWnLTV605aAHr0pwpi05aAH06mr0pwoAKcOtNpwoAetOWmCnUAPWnLTKcKAHrXTx/8AIDX/AK9x/wCg1y4rqIudEXH/AD7j/wBBoAwLOMz3CRD+I4rqFUKoVRgKMAVy0IuI33xrIrDoQDU/2i//AOek/wCtAHR0VzouL7/npN+tL599/wA9Jv1oA6Giue8++/56TfrR59//AM9Jv1oA6Giue8++/wCek360faL7/npN+tAHQ1n69aebD56D54xz7is37Rf/APPSb9aabi//AOek/wCtADdN/wCQjD/10H861PFH/IPT/rqP5GszTo5BqEJMbf6wZ+WtPxV/yD0/66j+RoA58000401qAGmm0rU1qAENNPSlamtQAlDdKKRqAGtTWpzUw9aAEamN1pxptADTTacelNbpQA09KaelK1NbpQAjdKY1OamtQA1qa3WnN1ph60ANPWiig9KAGnpTW6U5ulMagBKKKKAAU4dKYvSnLQA+nU1elOHSgAXrT1plOFAD1py0wdaetAD16U4dKYtOWgB46U4UxactAD6cKYtPFADh1p60wU4UAPWnLTKdQA6lWkooAetOWmU4UAPWnKaYKcDQA9TXQWeqWcdnFG0jbljUH5T1ArngaUGgDpf7Wsf+erf98Gl/tay/56N/3ya5oGnZoA6P+1bL/no3/fJo/tWy/wCejf8AfJrnc0uaAOi/tSz/AOejf98mj+1LP/no3/fJrncmjJoA6L+1LP8A56N/3yaT+1bL/no3/fJrnqM0AdD/AGrZf89G/wC+TSf2tY/89G/75Nc7mgmgDov7Wsf+ejf98GqOvX9tc2axwuSwkBOVI4wf8ayc00mgAJpppSaaxoAQ000rGmtQAhptK1JQAU005qY1ACU00rU1qAEPSmNTmprUANamtSt1ppoARqa1LTT1oARutMPWnU00ANpppx6U1ulADaRulLSNQA1qa1ObrTD1oAKKa3WigBVpy0wdadQA9actMHWnrQAtOHSm0q0APFOFMWnLQA8U5etNFOFADqcOtNpwoActPWmCnCgB605aYKdQA9actMp1AD1pabTqAFU0oNNpVNADwadTAaUGgCQGlBplOBoAeDS5pmaXNAD80uaZmjNAD80ZpuRRmgB2aTNJkUmaAFzRmm5ozQAE0hNJmkJoACaQmgmm0ABNNNBNNJoAKKKRjQAhpppWprUAIaaaVqa1ACGmmlamtQAhpp6UrU1qAEpp6UrU1qAEbpTGpzUxqAEamtSmm0AFNPWnU00ANNNpx6U00ANooooABTqYtOWgB4pwpi05aAH0Ui0tADh1py00U4UAPWnLTBThQA9actMp1AD1py0wU4UAPWnLTBTgaAHrTlpgpwNADwaUGmA05TQA+ikBpaAFBpwNMpQaAH5p2ajBp2aAH5pc0zNLmgB2TS5pmaXNADs0ZpuaM0AOzRmm5oyaAFzSZpM0maAFzSE0maTNACk00mjNNJoAUmkoooADTSaKaTQAU2gmkY0AJTaVjTWNACGmmlamtQAlNpWprUAIabStTWoAQ000rU1qAEPSm0rUlACNTWpW6000AI1Nalpp60AITRSUUAApwpq04UAOpwpopy0AOFOpopwoAVactMpwoAetOWmCnCgB605aYKcKAHCnCmilWgB4pwNMU05TQA8GnA0xTSg0ASA04GowadQA8GnA0wGlBoAfRTQadmgAzTs02igB2aXNMzS5oAfRk03NGTQA/NGaZk0ZNAD8mkyabk0ZoAdmkzSZpM0ALmkzSUUAFFFITQAuabQTTSaAAmkJoJppNAAxpCaCabQAE00mimk0ABppoNNNABTTStTWoAQ02lamtQAhptK1NagBKKKRqAENNbpStTWoAQ000rU1qAEopCaKAEWnrTBThQA9aUU0U6gBwp60wU4UAOpVpBRQA9acppgpwNADgacKYppymgB4p1MU05TQA8U4Go6dQA8GnKaYDSg0ASA0oNMBpQaAJAaUGmUuaAH5p2ajzTs0APzS0zNLmgB1FNyaXNAC0UZFFABmjNFFABRRRQAUUZFJmgBaM03NJmgBc0maTNJmgBaaTRSE0ABNITQTTaACmk0E0hNAATTWNBNITQAjGkNFNNAAaaaCaaaAA000E0jGgBDTaVqSgApppWprUAIabStTWoASm0rU1qAEopM0UAC05aYKcKAHrTlpgpwoAcKcKaKVaAHg06mLTlNAC04U2lU0APpwqMGnA0ASA04GowadQA9TSg00GlBoAfTgajBpwNADwaUGmg0oNAD6UGmZp2aAHZp2ajzTs0APzS5qPNLmgB+aXNMzS5oAfmjNMzS5FADs0Z96bkUZFADs0ZFNyKTNADs0ZpuaTJoAdSZpM0maAFzSZpM0maAFpCaSkJoAUmm0E00mgBSaaTQTSE0ABNNopCaAEJpGNDGmk0ADGmsaUmmk0AIxpCaCabQAUGimk0ABppoNNNABTaVqa1ACU00rU1qAEopM0UAIKcKYtOWgB4pwpi05aAHinUxTTlNADxThUYNOBoAkBopop1ACqacpplOBoAeDSg0wGnA0APBpwNRg06gB4NLTQaUGgB4NKDTKXNAD807NR5p2aAHZp2ajzS5oAfmlzTM0uaAH5oyabmjNAD80ZpuTRmgB2aM03NGaAHZozTc0ZoAdmkzTcmjNADs0mabmjNAC5pM0maTNAC5pM0maTNAC5puaM03NACk0lGabmgAJpCaCaaTQAE0hNBNNoACaaTQTSMaAEJoopCaABjTWNKTTSaAEY0hoppNAAaaaDTTQAGmmg000AFFITRQAlOFMU05TQA+nUxTSg0ASCnA1GDTgaAJAaVTTKdQA8GlBpimnA0APopoNOoAcDSg0ynA0AOBp1MBpQaAJAaUGmA0uaAH5p2ajzTs0AOpc03NLmgB2aXNMpc0APpc0zNGTQBJmimZpcigB2TS5NMzRk0APzRmmZNGTQA/NJk03JoyaAHZozTc0ZFAC5pMmkzSZoAdmkzSZpM0ALSZpKTNAC0maTNJmgBc00mjNNzQApNITSE0hNAATTSaCaQmgAJpKKCaAAmmk0U0mgAJptBNIxoAGNNY0pNNJoARjTWpSaaaAEY0jUU00AFFNooAAacDUYNOFAEgNKppgpwNAD1NOU0wGnA0AOBpwNMBpymgB9KDTAadQA8GlBpgNOBoAfRTQadQAoNKDTaAaAJM0oNMpQaAH5p2ajzTs0APzS5qPNOzQA7NLmmZpc0APoyabmjJoAfmjNNzS5FADs0ZpuaKAHZozTaKAHZozTaKAHZFJmkzSZoAdmkpM0mTQA6kzSZpM0ALmkzSUmaAFzSZpKTNAC5ppNGaQmgAJpCaCabQAE0UUhNACk02gmmk0ABNITQTSE0ABNNJoptABTSaCaQmgBCaaTSsaaxoAGNNY0MaQmgBM0UlFACKacppgNKDQA8GnA0xTTgaAH04VGDTgaAJAaVTTKcDQA8GlBpgNOBoAfSg0wGnUAOBp1MBpQaAJAaKaDS5oAWlzSUUAOzTs1HmnZoAdmlzTM0uaAH5pc0ylzQA/NGTTc0ZoAfmjNNyaM0APyKM0zNLkUAOzRmm5FGRQA7NGabkUZoAdkUmabmjNADsmkpuTRmgB2aTNNzSZoAdmkzSZpM0ALmkzSUmaAFzSZpKKACijNNJoAUmkJpCaQmgAJppNFITQApNNoJptAATTSaCaQmgAJprGgmkJoACaaTRTSaACm0E00mgAopM0UAJThTFNKKAJAaUGmU4GgB6mnA0wGlBoAeDTqYDSg0ASA0oNMBpQaAHg04GmA0uaAJAaM03NKDQA8GlBplKDQA/NLmmZpc0APopuaXNAC0uaSigB2aXNMoyaAH5pc0zNLkUAOyaXJpmaMmgB+aM03NGaAHZozTc0ZoAdmjNNzRmgB2aMmm5NJk0AOozTc0ZoAXNJmkzSUAOzSZpKKACiikzQAtJmkzSZoAXNNzRmm5oAUmkozTSaAFJpCaQmkJoAKaTQTSE0ABNNJoJpCaAAmm0U0mgAJpCaGNNJoAGNNY0pNNoAKKbmigABpVNMpwNADgadTAaUGgCQGnA1HTgaAHg0oNMBpwNAD804GowacDQA8GlzTAaUGgCQGlBpmaXNAD80uaZmlzQA+lzTM07NADqXNMpc0APzS5pmaXNAD80UzNLmgB1FJk0ZoAWijIozQAZNLk0lFAC5ozSUUALmkyaKKADJooozQAUUmaM0ALRTcmjNAC5pMmkzSZoAdmkzSZpM0ALmkzSUmaAFpM0lJmgBc03NGabmgBSaQmkzSZoACaQmkJpCaAFJptBNNJoACaQmgmmk0ABNITQTTaACmk0pNNY0AGaKSigAopFNLQA4GlBplOBoAcDTs0wGloAkBpQaYDSg0APzTgajBp1ADwaXNMBpQaAJM0uaZmlzQA/NLmmZpc0APzTs1HmlzQA/NLmmZpc0APoyabmlzQA7NLmmZpaAHZNLmmUuTQA7NLkUzNGaAH5ozTcijIoAdmjNNzRmgB2aM03NGRQA7NGRTcikzQA7NGTTc0mTQA7NGabRmgBc0lJmkyaAHZpM0maTNAC0maSkzQAtJmkzSZoAXNNzRmm5oAUmkozTc0AKTTSaCaQmgAppNFNJoAUmkJpCaSgApCaQmkJoACaSiigAoptFAAtKtFFAC0UUUAOpVoooAWnUUUAKtLRRQA6lWiigBacKKKACnUUUAFOoooAKcKKKACjJoooAdRRRQAZpc0UUALRRRQAUUUUAFFFFABRRRQAUUUUABpuTRRQAUUUUAITSUUUAFITRRQAlI1FFACUjUUUAJSMaKKAEptFFACNSUUUANpGoooASmmiigBGpKKKACm0UUAITRRRQB//Z";
return{restrict:"A",link:function(t,n,r){var i=function(){n.off("error",i);var t=r.fallbackSrc||e;n[0].src!==t&&(n[0].src=t)};n.on("error",i)}}}).directive("loadingSrc",["$interpolate",function(e){var t="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QBoRXhpZgAATU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAAExAAIAAAASAAAATgAAAAAAAABgAAAAAQAAAGAAAAABUGFpbnQuTkVUIHYzLjUuMTEA/9sAQwAEAgMDAwIEAwMDBAQEBAUJBgUFBQULCAgGCQ0LDQ0NCwwMDhAUEQ4PEw8MDBIYEhMVFhcXFw4RGRsZFhoUFhcW/9sAQwEEBAQFBQUKBgYKFg8MDxYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYW/8AAEQgB9AH0AwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A+ggKcBQBRQAUAZpQKUUAFOAxRSgUAIBThQBTqAAClAoApwFACU4CilAoAQCnYoxTsUAJilpcUtACYpaXFLQAmKXFLiloAbilxTsUuKAG0YNOowaAExS4FLilxQA2inYooAbRg07BpcGgBmDRg0/FGKAGYNFPxSYNADaKdg0UANxSYp+BSYoAbikwafikoAbikxT6TFADMUYp2KMUAR4oxT8UmKAGYpMU/FJigCPFJin4pMUAMpCKfSEUAMIppFSEU2gBhFIRTyKaRQAykIp9NoAaRmm08ikNADaQilooAbiilxRQAtKBSAZpwoABTqKUCgAApwFAFKKAACnAUU4CgBAKUClApQKAClApaUCgBMU7FGKdigBMUuKUClxQAmKXFLiloATFLS4paAG4NLinYpcUANpcUtLigBuKXAp2KKAG0YNOooATFGKWigBMUYpaKAExRilooATBpMGnUUANowKdRigBmKTBp+KMUAMxSYp9JigBlGKdijFADMUmKdiigBmKTFPxSYoAjxSYp+KTFADKQin00igBpFNxTyKQigCMikIp5FIRQAwim08ikNAEZGKQin00jFADTTaeRSEUANooooAdTqAMUoFAABTgKAKUUAAFOopwoAAKUCgCnAUAAFLQBTqADGKUClApQKAEApwFFOAoATFLRinAUAJilpcUuKAExS0uKWgBMUuKKKACijBpcUAJRTqMGgBMGjFOxRigBuKXAp2BRigBuBRgU6igBuBSYp9GBQAzFGKfgUmKAGYNFPxSYoAbRTsUmKAEpMUtFADcUYp1GKAI8UYp+KTFAEeKMU7FJigBmKQin0hFADKaRipCKaaAGEUhFPIpCKAI6aRUlNNADCKQjNPIppFADCKbUhFNNAEZGKQinn0ptADaKXFFACgU4CgU4UAAp1ApwFAAKUChRTgKAAClAzQBmnAUAFOFAFOAoAQClApQKWgApQKUClAoAQCnYop2KAExS0UUAFFLiloATFLS4paAExS4pcUuKAG0uKXBpcUANxS4FOxRigBtFOowaAG0U7BowaAG0U7BowaAG4oxTqMCgBmKTBp+KMUAMpMU+kxQAzBoxTsUYoAZikp+KSgBtGKXFJQA0ikxT6QigBlNIqTFNIoAaRTaeRSUARkUhFPIpCKAGEZptPIpCKAIzSEU+mmgBjCmkU8jFIwoAYRmmmnsKawoAZRTqKAHAUqihRTgKABR3pyikApwoAUClAoFOoAKcBQKcBQAAYpQKAKWgApwFFOAxQAgFOAoApaACiilAoAAKWgCnUAJilxS4paAExS4pcUuKAExS0uKWgBuDS4p2KMUAJgUU6igBuDS4pcGlwaAG4oxTsUYoAbijBp2KTBoAbg0U7BooAbgUmKfikxQAzFGKdg0YoAZikxT8UlADMUmKfikoAZikxTyKQigCOinUhFACYzTadRQAwimkU8jFIRQAymkYp5FJQAwimkU8jFIRQAwjNNNPYU0igBh9KaakIppoAjPFNIqQ02gBmKKWigBwp1ApVoAUU4UiinKKAFHFOApFFOUUACinAUgFOoAKdQBTgMUAAGKUCgCloAKKAM07FAAKUClAxSgUAJinUAU7FACYpaXFLQAYoxTsUUAJilpcUtADcGlxTsUYoATFGDTqMGgBMGjFOxRigBuKMU7FGKAG4oxTsUYoAZg0U/FJg0ANxSYp+KTFADKKdg0YoAZikp+KSgBmKSn4pKAIyKQin4pCKAGU0ipKaRigBhFJTyKQigBtNIxTqKAGEU0inkYpCKAGU008ikoAjIxSMKeaaaAGMKawp5ppFADGFNanmmmgBtFLiigBRThQKcKAAU4UCnCgAFOFApwoAKcBSKKcooAAKcooApaACgDNFOHpQAU4UClAoAAKcBQBSgZoAAKcBRinAUAIBS0YzTsUAJilpcUtACYpaXFLigBMUuKXFLigBuKXFLg0uKAG4pcCnYoxQA3AowKdRQA3ApMU+jAoAZijBp2KMUAMpMU/FGKAI8UYp+KTFADMUmKfikxQBHiinYpMUAMxSEU+kIoAYRTSKkIptADCKaRTzSEUAMIzTaeRSEUANppp1FAEZFIwp9NNADSKaacaRhQAw0009qa1ADDTTT29aa1ADKKdiigBVpy0lOoAVactIKcKAFWlFFOFAAKcKBThQAUUUq0AKKcBikUU5RQAAU4ChRSgZoAUClAoAp1ABSgUAUoFAAKcBRTgKAEApaUCloATFLilxS4oATFLS4pcUAJijFOxS4oAbiinUYNADaKdg0YNADaKdg0YNADcCkxT8UmKAGYNGKfikoAZikp+KSgBmKTFPxSEUAR4pCKeRSEUAMptSEZptADCKQinEYpCKAGEU01IRTaAIyKRhT6aaAGMKSnGmmgANNNOpGoAYabT2prUAMNNNPamtQAw0009qa1ADKKdRQAq05aSnCgBVpy0gp1ACrTlpKcKAFWloooAVaUUU4UAApwoFOFAAKcPSgU4CgApQKFFKBQAoFKKBTgKAClApQKUCgAApaAKdQAmKXFLilxQAYoxTsUYoATFLilxS0ANwaXBpaKAExRilooATFJg06igBtGKdRigBmKSn4pKAGYpKfikoAZikxT8UhFAEZFIRTzTSKAGEUhp5FNIoAZTSMVIaaaAGEUhFOpGFADDTTT2pretADDTae1NagBlFK1JQA00009qa1ADKaae1IaAIzTTUjUxqAGUU6igBVpy0gp1ACrTlpKcKAFWnLSU6gApVpKdQAq05aQU4UAKtOX1pBThQAq0o5opwoABTqBThQAU4CkApwFAABTgKAKUDNAABTqKcBQAgFLilApaADFFFFABRS4paAG4NLinYNGKAG4oxTsUYoAbijBp2KMUAMop2DRigBtFLikoATFJTqKAGEU0inkUhFADCKaakIzTaAGEU0inkU0jFADGFIRTiKRhQAwim09qa3rQAw001IaaaAIzTTUhppoAjNNNSNTWoAbTTTqRqAGU2ntTWoAYaaae1NagBlFOxRQALT1pq09elAAKetNWnrQAq0tA6UUAKtOWkFOFACrTlpBThQA5actNFOoAVactJTqAFWnLSU4UAKopQKKdQACnUCnCgAFKBQBS0AFFFOAoAQClxSgUuKAExS4p2KMUAJijFOxS4FADcCjAp1FADcCkxT6MUAMxSU/FJQAzFJT8UlADCKSnEUhFACUhFLRQAwikIp5FNYUAMNNp7CmtQAymmntSNQBGaaakamtQBHSNTmpDQAxqYakNNNAEZppp7U1qAGUUrUlADTTTT2prUAMpppx60jUAMooPWigB1Opq9acOtADqcKRactAC0L1opVoActOWkXpTh0oAVactIKcKAFWnLSU4UAKtOWkpwoAVactIKcKAFWnLSCnCgBVpyikFOoAKKKcKACnAUAUoFAABS4pQKWgAxRinYoxQAmKWnYooAbRg07BpcGgBlGKdg0UAMxSU/FJQAzFJTyKQigCMikIp9NIxQAwikp7CmsKAEppp1BoAjNNNSGmmgCM001IaaaAIzTTUhpjUAMNNp7U1qAGNTTT2prUAMNNp7U1qAGGm09qYetAA3SmNT6bQAxqa1PNNoAbRRRQAq05aRelOXpQAq09elNHSnUAFOFNFOHWgB1OHWkWnLQAq9aetNWnLQAq9aetNWnLQA5actIOlOFACrTlpBThQA5acKaKcKAHCiiigBVpy0gpwoAVRTgKQU4UAAFOFApwoAAKMUoFKBQAYowadijBoATFGKdijFADcGkp+KTFADMUlPxSUAMIpCKeRTWFADCKbTyKQigCM001IaaaAIzRTjTaAEamtT6aaAGNTGqQ0xqAGGmmntTWoAZTTT2pjdaAG00049aa3WgBpprdKcetNNADGprU8009KAG0jdaWkagBh602ntTW60AMNFK1FAC04U2nUAOp1NHWnUAKvWnLTVpy0AOWnr0pq9KcKAHDpTqbTqAHCnU0dacvWgBwpy9aRactADlpy01aevSgBVpy0gp1ABSrSU6gBVp600U4UAOFOFNFOWgBwrUt9GlkgSUTIN6hgCDxkVlrXU27FNHjdeqwAj/vmgDN/sOX/nun5Gl/sSX/AJ7p+RqMaxdntH/3zS/2vd+kf/fNAEn9iy/89k/I0f2LL/z2T8jTP7WuvSP/AL5pf7Vu/SP/AL5oAf8A2NJ/z2X8jR/Y0n/PZPyNN/tW6/6Z/wDfNH9qXXon/fNADv7Fl/57L+RpP7Gl/wCeyfkab/at1/0z/wC+aT+1br0j/wC+aAHf2LL/AM9k/I0f2JL/AM90/I03+1rv0j/75pP7Xu/SP/vmgB39hzf890/I1W1LTXs4BK0isGbbgD2P+FWrPVLmW7jjYR7WYA4WrHij/kHp/wBdR/I0Ac81Nan000AMamtTzTTQBG1NNPamtQAlNbrTqRqAGGmmntTWoAYaaelOPWmmgBrdKY1Ppp6UAMamtTm6UjdKAGNTW605qa1ADD1ptPamHrQA2hulFBoAY1Nant0pjUAJRRRQAU5etNHWnr1oActLSLS0AKtPXpTV6U4UAOp1Npw60AOXrTh1pFpy9aAHL1py01actADlp69KavSnDpQA4dKdTacOtADh1p1IvWloAB1p69aatOWgBy05aatPHSgBVp602nUAOFdNH/yBF/69x/6DXMjrXTR/8gVf+vcf+g0Ac6KcKRaUUAOjQuwVQST0ArVs9LULvuT/AMBB/mafpsEdna/aZ/vEZ+g9PrVK9vJbliM7U7KP60AaIn0+3O1TGp/2Rn9RThf2bceYPxU1i4ooA2pLOzuEyqrz/ElZeoWElv8AMPnj/vDt9aZBLJC++Jip7jsa2bG5S7hOQNw4dTQBzp4pGq9q1p9nmyg/dv8Ad9vaqVAEmm/8hCH/AK6D+danij/kHp/11H8jWZpv/IQh/wCug/nWn4o/5B6/9dR/I0AYDU1qe3SmNQAw9aaae1NagBlNPSnN1ppoAbQelFFADW6UxqeelNbpQAxqa3WnNTWoAYetNp7daYetADT0ptOptADW6Uxqeaa3SgBjU1qc1NagBjdaKVqSgBtNbpTjTT0oAbRRRQAL1p60xetPWgBy0tItLQA5elOpq9KdQA6nL1ptOXrQA9actNWnLQA5actNWnLQA9elOpq9KdQA6nL1ptOXrQA9aWkWloAVactNWnLQA9elOpq9KdQA6nL1po609aAHLXSx/wDIFX/r3H/oNc0tdLH/AMgVf+vcf+g0Ac8tWdLi868RD0zk/QVXXpV/w7/x/H/cP9KAJNdnLXAhB+VOv1qkKddktdSE/wB8/wA6bQA4CiilJoAawqSymMF0smeM4b6VG1NagDd1OITWTrjJA3L9RXOnrXT253W6HPVR/Kuak4kIHrQA/Tv+QhD/AL4rU8Tf8eCf9dR/I1maf/yEIf8AfH860/E3/Hgn/XUfyNAGAaa3SnGmnpQAxqa1OamtQA1qY3WntTG60ANooooAbTW6U401ulADGprU5qa1ADWpjdae1MbrQA2m06m0ANprdKdTW6UAMamtTmprUANakpWpKAG02nU2gBtFFFAAvWnrTKcvWgB60tItLQA5elOpi9KeOlADqcvWm04daAHrTlpq9aVetAD1py01actAD16U6mLTx0oAdTl602nCgB60tNXrTqAFWnLTV605aAHr0pwpi09elADqcOtNHSnUAPWulj/5Aq/9e4/9BrmRXTR/8gVf+vcf+g0Ac8tXdEkEeoLno2VqiKepKsGBwQcg0AWdSj8u+kX1bI/HmolNX7oC+s1uY/8AWRjDrWeDQA8GjNNzRmgBSaaaM0sal2wOB1J9BQBILi4S38tZWCt29qrU+ZgW+Xp0A9qYaAJdO/5CEP8AvitTxN/x4J/11H8jWVpv/IQh/wCug/nWp4o/5B6f9dR/I0AYJprdKVqa1ADWprU5qa3WgBrUw9acetNoAbRRRQA2mt0px6UxqAGtTWpzU1qAGtTG605utNNADabTqbQA2mt0px6U1ulADGprU5qa1ADWpKG60UANptONNbpQA2iiigApw602nUAPXrS00dadQAq09elMWnLQA8dKdTV6U4dKAHDrThTadQA5etPWmU4daAHrTlpq9actAD16U4UxactAD6dTV6U4UAFOHWm04UAPWnLTBTqAHrTlplOFAD1rp4/+QGv/AF7j/wBBrlxXURc6IuP+fcf+g0Ac4tOBo8qX/nm//fJpfLl/55v/AN8mgCWzuJLaXfGfqD0NXGjtr354HEMp6o3Q/SqAjk/55t/3zR5cn/PNv++aAJ5rW5iOGhb6gZH6UwRyngRsf+AmnRyXkYwjTADtzStPfN1eb9aAD7M6jdOwiX/a+9+VMmlXb5cQ2p3z1b60xklJyUc/gaTy5P8Anm3/AHzQA2mk08xy/wDPNv8AvmkMcv8Azzf/AL5NAEmm/wDIRh/66D+danij/kHp/wBdR/I1mabHINQhJjYfOO1afir/AJB6f9dR/I0Ac+aaacaa1ADTTaVqa1ACGmnpStTWoAShulFI1ADWprU5qYetACNTG60402gBpptOPSmt0oAaelNPSlamt0oARulManNTWoAa1NbrTm60w9aAGnrRRQelADT0prdKc3SmNQAlFFFAAKcOlMXpTloAfTqavSnDpQAL1p60ynCgB605aYOtPWgB69KcOlMWnLQA8dKcKYtOWgB9OFMWnigBw609aYKcKAHrTlplOoAdSrSUUAPWnLTKcKAHrTlNMFOBoAeproLPVLOOzijaRtyxqD8p6gVzwNKDQB0v9rWP/PVv++DS/wBrWX/PRv8Avk1zQNOzQB0f9q2X/PRv++TR/atl/wA9G/75Nc7mlzQB0X9qWf8Az0b/AL5NH9qWf/PRv++TXO5NGTQB0X9qWf8Az0b/AL5NJ/atl/z0b/vk1z1GaAOh/tWy/wCejf8AfJpP7Wsf+ejf98mudzQTQB0X9rWP/PRv++DVHXr+2ubNY4XJYSAnKkcYP+NZOaaTQAE000pNNY0AIaaaVjTWoAQ02lakoAKaac1MagBKaaVqa1ACHpTGpzU1qAGtTWpW6000AI1Nalpp60AI3WmHrTqaaAG00049Ka3SgBtI3SlpGoAa1NanN1ph60AFFNbrRQAq05aYOtOoAetOWmDrT1oAWnDpTaVaAHinCmLTloAeKcvWminCgB1OHWm04UAOWnrTBThQA9actMFOoAetOWmU6gB60tNp1ACqaUGm0qmgB4NOpgNKDQBIDSg0ynA0APBpc0zNLmgB+aXNMzRmgB+aM03IozQA7NJmkyKTNAC5ozTc0ZoACaQmkzSE0ABNITQTTaAAmmmgmmk0AFFFIxoAQ000rU1qAENNNK1NagBDTTStTWoAQ009KVqa1ACU09KVqa1ACN0pjU5qY1ACNTWpTTaACmnrTqaaAGmm049KaaAG0UUUAAp1MWnLQA8U4UxactAD6KRaWgBw605aaKcKAHrTlpgpwoAetOWmU6gB605aYKcKAHrTlpgpwNAD1py0wU4GgB4NKDTAacpoAfRSA0tACg04GmUoNAD807NRg07NAD80uaZmlzQA7Jpc0zNLmgB2aM03NGaAHZozTc0ZNAC5pM0maTNAC5pCaTNJmgBSaaTRmmk0AKTSUUUABppNFNJoAKbQTSMaAEptKxprGgBDTTStTWoASm0rU1qAENNpWprUAIaaaVqa1ACHpTaVqSgBGprUrdaaaAEamtS009aAEJopKKAAU4U1acKAHU4U0U5aAHCnU0U4UAKtOWmU4UAPWnLTBThQA9actMFOFADhThTRSrQA8U4GmKacpoAeDTgaYppQaAJAacDUYNOoAeDTgaYDSg0APopoNOzQAZp2abRQA7NLmmZpc0APoyabmjJoAfmjNMyaMmgB+TSZNNyaM0AOzSZpM0maAFzSZpKKACiikJoAXNNoJppNAATSE0E00mgAY0hNBNNoACaaTRTSaAA000GmmgApppWprUAIabStTWoAQ02lamtQAlFFI1ACGmt0pWprUAIaaaVqa1ACUUhNFACLT1pgpwoAetKKaKdQA4U9aYKcKAHUq0gooAetOU0wU4GgBwNOFMU05TQA8U6mKacpoAeKcDUdOoAeDTlNMBpQaAJAaUGmA0oNAEgNKDTKXNAD807NR5p2aAH5paZmlzQA6im5NLmgBaKMiigAzRmiigAooooAKKMikzQAtGabmkzQAuaTNJmkzQAtNJopCaAAmkJoJptABTSaCaQmgAJprGgmkJoARjSGimmgANNNBNNNAAaaaCaRjQAhptK1JQAU00rU1qAENNpWprUAJTaVqa1ACUUmaKABactMFOFAD1py0wU4UAOFOFNFKtADwadTFpymgBacKbSqaAH04VGDTgaAJAacDUYNOoAeppQaaDSg0APpwNRg04GgB4NKDTQaUGgB9KDTM07NADs07NR5p2aAH5pc1HmlzQA/NLmmZpc0APzRmmZpcigB2aM+9NyKMigB2aMim5FJmgB2aM03NJk0AOpM0maTNAC5pM0maTNAC0hNJSE0AKTTaCaaTQApNNJoJpCaAAmm0UhNACE0jGhjTSaABjTWNKTTSaAEY0hNBNNoAKDRTSaAA000GmmgAptK1NagBKaaVqa1ACUUmaKAEFOFMWnLQA8U4UxactADxTqYppymgB4pwqMGnA0ASA0U0U6gBVNOU0ynA0APBpQaYDTgaAHg04GowadQA8GlpoNKDQA8GlBplLmgB+admo807NADs07NR5pc0APzS5pmaXNAD80ZNNzRmgB+aM03JozQA7NGabmjNADs0ZpuaM0AOzSZpuTRmgB2aTNNzRmgBc0maTNJmgBc0maTNJmgBc03NGabmgBSaSjNNzQAE0hNBNNJoACaQmgmm0ABNNJoJpGNACE0UUhNAAxprGlJppNACMaQ0U0mgANNNBppoADTTQaaaACikJooASnCmKacpoAfTqYppQaAJBTgajBpwNAEgNKpplOoAeDSg0xTTgaAH0U0GnUAOBpQaZTgaAHA06mA0oNAEgNKDTAaXNAD807NR5p2aAHUuabmlzQA7NLmmUuaAH0uaZmjJoAkzRTM0uRQA7JpcmmZoyaAH5ozTMmjJoAfmkyabk0ZNADs0ZpuaMigBc0mTSZpM0AOzSZpM0maAFpM0lJmgBaTNJmkzQAuaaTRmm5oAUmkJpCaQmgAJppNBNITQAE0lFBNAATTSaKaTQAE02gmkY0ADGmsaUmmk0AIxprUpNNNACMaRqKaaACim0UAANOBqMGnCgCQGlU0wU4GgB6mnKaYDTgaAHA04GmA05TQA+lBpgNOoAeDSg0wGnA0APopoNOoAUGlBptANAEmaUGmUoNAD807NR5p2aAH5pc1HmnZoAdmlzTM0uaAH0ZNNzRk0APzRmm5pcigB2aM03NFADs0ZptFADs0ZptFADsikzSZpM0AOzSUmaTJoAdSZpM0maAFzSZpKTNAC5pM0lJmgBc00mjNITQAE0hNBNNoACaKKQmgBSabQTTSaAAmkJoJpCaAAmmk0U2gAppNBNITQAhNNJpWNNY0ADGmsaGNITQAmaKSigBFNOU0wGlBoAeDTgaYppwNAD6cKjBpwNAEgNKpplOBoAeDSg0wGnA0APpQaYDTqAHA06mA0oNAEgNFNBpc0ALS5pKKAHZp2ajzTs0AOzS5pmaXNAD80uaZS5oAfmjJpuaM0APzRmm5NGaAH5FGaZmlyKAHZozTcijIoAdmjNNyKM0AOyKTNNzRmgB2TSU3JozQA7NJmm5pM0AOzSZpM0maAFzSZpKTNAC5pM0lFABRRmmk0AKTSE0hNITQAE00mikJoAUmm0E02gAJppNBNITQAE01jQTSE0ABNNJoppNABTaCaaTQAUUmaKAEpwpimlFAEgNKDTKcDQA9TTgaYDSg0APBp1MBpQaAJAaUGmA0oNADwacDTAaXNAEgNGabmlBoAeDSg0ylBoAfmlzTM0uaAH0U3NLmgBaXNJRQA7NLmmUZNAD80uaZmlyKAHZNLk0zNGTQA/NGabmjNADs0ZpuaM0AOzRmm5ozQA7NGTTcmkyaAHUZpuaM0ALmkzSZpKAHZpM0lFABRRSZoAWkzSZpM0ALmm5ozTc0AKTSUZppNACk0hNITSE0AFNJoJpCaAAmmk0E0hNAATTaKaTQAE0hNDGmk0ADGmsaUmm0AFFNzRQAA0qmmU4GgBwNOpgNKDQBIDTgajpwNADwaUGmA04GgB+acDUYNOBoAeDS5pgNKDQBIDSg0zNLmgB+aXNMzS5oAfS5pmadmgB1LmmUuaAH5pc0zNLmgB+aKZmlzQA6ikyaM0ALRRkUZoAMmlyaSigBc0ZpKKAFzSZNFFABk0UUZoAKKTNGaAFopuTRmgBc0mTSZpM0AOzSZpM0maAFzSZpKTNAC0maSkzQAuabmjNNzQApNITSZpM0ABNITSE0hNACk02gmmk0ABNITQTTSaAAmkJoJptABTSaUmmsaADNFJRQAUUimloAcDSg0ynA0AOBp2aYDS0ASA0oNMBpQaAH5pwNRg06gB4NLmmA0oNAEmaXNMzS5oAfmlzTM0uaAH5p2ajzS5oAfmlzTM0uaAH0ZNNzS5oAdmlzTM0tADsmlzTKXJoAdmlyKZmjNAD80ZpuRRkUAOzRmm5ozQA7NGabmjIoAdmjIpuRSZoAdmjJpuaTJoAdmjNNozQAuaSkzSZNADs0maTNJmgBaTNJSZoAWkzSZpM0ALmm5ozTc0AKTSUZpuaAFJppNBNITQAU0mimk0AKTSE0hNJQAUhNITSE0ABNJRRQAUU2igAWlWiigBaKKKAHUq0UUALTqKKAFWloooAdSrRRQAtOFFFABTqKKACnUUUAFOFFFABRk0UUAOooooAM0uaKKAFooooAKKKKACiiigAooooAKKKKAA03JoooAKKKKAEJpKKKACkJoooASkaiigBKRqKKAEpGNFFACU2iigBGpKKKAG0jUUUAJTTRRQAjUlFFABTaKKAEJooooA//2Q==",n=function(n,r,i){r[0].src=i.loadingSrc||t;var a=new Image;a.src=e(i.imgSrc)(n),a.onload=function(){a.onload=null,r[0].src!==a.src&&(r[0].src=a.src)}};return{restrict:"A",compile:function(e,t){return t.imgSrc=t.ngSrc,delete t.ngSrc,n}}}]),n("angular-img-fallback",["angular"],function(){}),function(){"use strict";var e=1===angular.version.major&&0===angular.version.minor;angular.module("ui-rangeSlider",[]).directive("rangeSlider",["$document","$filter","$log",function(t,n,r){var i=".rangeSlider",a={disabled:!1,orientation:"horizontal",step:0,decimalPlaces:0,showValues:!0,preventEqualMinMax:!1,attachHandleValues:!1},o=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup",over:"pointerdown",out:"mouseout"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp",over:"MSPointerDown",out:"mouseout"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend",over:"mouseover touchstart",out:"mouseout"},s=o.start+i,l=o.move+i,u=o.end+i,c=o.over+i,d=o.out+i,p=function(e){try{return[e.clientX||e.originalEvent.clientX||e.originalEvent.touches[0].clientX,e.clientY||e.originalEvent.clientY||e.originalEvent.touches[0].clientY]}catch(t){return["x","y"]}},h=function(e){return 0>e?0:e>100?100:e},f=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},g={disabled:"=?",min:"=",max:"=",modelMin:"=?",modelMax:"=?",onHandleDown:"&",onHandleUp:"&",orientation:"@",step:"@",decimalPlaces:"@",filter:"@",filterOptions:"@",showValues:"@",pinHandle:"@",preventEqualMinMax:"@",attachHandleValues:"@",getterSetter:"@"};e&&(g.disabled="=",g.modelMin="=",g.modelMax="=");var m=function(e,t){for(var n=[],r=0;r<e.length;r++)t(e[r])&&n.push(e[r]);return n},v=function(e,t){return angular.element(m(e.find("div"),function(e){return angular.element(e).hasClass(t)}))};return{restrict:"A",replace:!0,template:['<div class="ngrs-range-slider">','<div class="ngrs-runner">','<div class="ngrs-handle ngrs-handle-min"><i></i></div>','<div class="ngrs-handle ngrs-handle-max"><i></i></div>','<div class="ngrs-join"></div>',"</div>",'<div class="ngrs-value-runner">','<div class="ngrs-value ngrs-value-min" ng-show="showValues"><div>{{filteredModelMin}}</div></div>','<div class="ngrs-value ngrs-value-max" ng-show="showValues"><div>{{filteredModelMax}}</div></div>',"</div>","</div>"].join(""),scope:g,link:function(e,o,g,m){function y(t){return e.getterSetter?arguments.length?e.modelMin(t):e.modelMin():arguments.length?e.modelMin=t:e.modelMin}function b(t){return e.getterSetter?arguments.length?e.modelMax(t):e.modelMax():arguments.length?e.modelMax=t:e.modelMax}function S(e){"min"===e?(angular.element(M[0]).css("display","none"),angular.element(M[1]).css("display","block")):"max"===e?(angular.element(M[0]).css("display","block"),angular.element(M[1]).css("display","none")):(angular.element(M[0]).css("display","block"),angular.element(M[1]).css("display","block"))}function D(e){e?$.addClass("ngrs-disabled"):$.removeClass("ngrs-disabled")}function w(){e.min>e.max&&_("min must be less than or equal to max"),angular.isDefined(e.min)&&angular.isDefined(e.max)&&(f(e.min)||_("min must be a number"),f(e.max)||_("max must be a number"),I=e.max-e.min,L=[e.min,e.max],A())}function A(){if(y()>b()&&(x("modelMin must be less than or equal to modelMax"),y(b())),(angular.isDefined(y())||"min"===e.pinHandle)&&(angular.isDefined(b())||"max"===e.pinHandle)){f(y())||("min"!==e.pinHandle&&x("modelMin must be a number"),y(e.min)),f(b())||("max"!==e.pinHandle&&x("modelMax must be a number"),b(e.max));var t,r,i=h((y()-e.min)/I*100),a=h((b()-e.min)/I*100);if(e.attachHandleValues&&(t=i,r=a),y(Math.max(e.min,y())),b(Math.min(e.max,b())),e.filter&&e.filterOptions)e.filteredModelMin=n(e.filter)(y(),e.filterOptions),e.filteredModelMax=n(e.filter)(b(),e.filterOptions);else if(e.filter){var o,s,l=e.filter.split(":"),u=e.filter.split(":")[0],c=l.slice().slice(1);c=c.map(function(e){return f(e)?+e:'"'==e[0]&&'"'==e[e.length-1]||"'"==e[0]&&"'"==e[e.length-1]?e.slice(1,-1):void 0}),o=c.slice(),s=c.slice(),o.unshift(y()),s.unshift(b()),e.filteredModelMin=n(u).apply(null,o),e.filteredModelMax=n(u).apply(null,s)}else e.filteredModelMin=y(),e.filteredModelMax=b();e.min===e.max&&y()==b()?(angular.element(M[0]).css(O,"0%"),angular.element(M[1]).css(O,"100%"),e.attachHandleValues&&(angular.element(T[0]).css(O,"0%"),angular.element(T[1]).css(O,"100%")),angular.element(F).css(O,"0%").css(P,"0%")):(angular.element(M[0]).css(O,i+"%"),angular.element(M[1]).css(O,a+"%"),e.attachHandleValues&&(angular.element(T[0]).css(O,t+"%"),angular.element(T[1]).css(O,r+"%"),angular.element(T[1]).css(P,"auto")),angular.element(F).css(O,i+"%").css(P,100-a+"%"),i>95&&angular.element(M[0]).css("z-index",3))}}function C(n){var r=M[n];r.bind(s+"X",function(a){var o=(0===n?"ngrs-handle-min":"ngrs-handle-max")+"-down",s=(0===n?y():b())-e.min,c=s/I*100,d=p(a),f=d,g=!1;angular.isFunction(e.onHandleDown)&&e.onHandleDown(),k.bind("selectstart"+i,function(){return!1}),e.disabled||(R=!0,r.addClass("ngrs-down"),$.addClass("ngrs-focus "+o),k.addClass("ngrs-touching"),t.bind(l,function(t){t.preventDefault();var i,a,o=p(t),s=e.step/I*100,l=((0===n?b():y())-e.min)/I*100;"x"!==o[0]&&(o[0]-=d[0],o[1]-=d[1],i=[f[0]!==o[0],f[1]!==o[1]],a=c+100*o[E]/(E?$[0].offsetHeight:$[0].offsetWidth),a=h(a),e.preventEqualMinMax&&(0===s&&(s=1/I*100),0===n?l-=s:1===n&&(l+=s)),0===n?a=a>l?l:a:1===n&&(a=l>a?l:a),e.step>0&&100>a&&a>0&&(a=Math.round(a/s)*s),a>95&&0===n?r.css("z-index",3):r.css("z-index",""),i[E]&&a!=g&&(0===n?y(parseFloat(parseFloat(a*I/100+e.min).toFixed(e.decimalPlaces))):1===n&&b(parseFloat(parseFloat(a*I/100+e.min).toFixed(e.decimalPlaces))),e.$apply(),g=a),f=o)}).bind(u,function(){angular.isFunction(e.onHandleUp)&&e.onHandleUp(),t.off(l),t.off(u),k.removeClass("ngrs-touching"),R=!1,r.removeClass("ngrs-down"),r.removeClass("ngrs-over"),$.removeClass("ngrs-focus "+o)}))}).on(c,function(){r.addClass("ngrs-over")}).on(d,function(){R||r.removeClass("ngrs-over")})}function _(t){throw e.disabled=!0,new Error("RangeSlider: "+t)}function x(e){r.warn(e)}var $=angular.element(o),k=angular.element(t).find("body"),M=[v(o,"ngrs-handle-min"),v(o,"ngrs-handle-max")],T=[v(o,"ngrs-value-min"),v(o,"ngrs-value-max")],F=v(o,"ngrs-join"),O="left",P="right",E=0,L=[0,0],I=0,R=!1;e.filteredModelMin=y(),e.filteredModelMax=b(),g.$observe("disabled",function(t){angular.isDefined(t)||(e.disabled=a.disabled),e.$watch("disabled",D)}),g.$observe("orientation",function(t){angular.isDefined(t)||(e.orientation=a.orientation);for(var n,r=e.orientation.split(" "),i=0,o=r.length;o>i;i++)r[i]="ngrs-"+r[i];n=r.join(" "),$.addClass(n),("vertical"===e.orientation||"vertical left"===e.orientation||"vertical right"===e.orientation)&&(O="top",P="bottom",E=1)}),g.$observe("step",function(t){angular.isDefined(t)||(e.step=a.step)}),g.$observe("decimalPlaces",function(t){angular.isDefined(t)||(e.decimalPlaces=a.decimalPlaces)}),g.$observe("showValues",function(t){angular.isDefined(t)?"false"===t?e.showValues=!1:e.showValues=!0:e.showValues=a.showValues}),g.$observe("pinHandle",function(t){angular.isDefined(t)&&("min"===t||"max"===t)?e.pinHandle=t:e.pinHandle=null,e.$watch("pinHandle",S)}),g.$observe("preventEqualMinMax",function(t){angular.isDefined(t)?"false"===t?e.preventEqualMinMax=!1:e.preventEqualMinMax=!0:e.preventEqualMinMax=a.preventEqualMinMax}),g.$observe("attachHandleValues",function(t){angular.isDefined(t)?"true"===t||""===t?(e.attachHandleValues=!0,v(o,"ngrs-value-runner").addClass("ngrs-attached-handles")):e.attachHandleValues=!1:e.attachHandleValues=a.attachHandleValues}),e.$watch("min",w),e.$watch("max",w),e.$watch(function(){return y()},A),e.$watch(function(){return b()},A),e.$on("$destroy",function(){$.off(i),k.off(i),t.off(i);for(var e=0,n=M.length;n>e;e++)M[e].off(i),M[e].off(i+"X")}),$.bind("selectstart"+i,function(e){return!1}).bind("click",function(e){e.stopPropagation()}),C(0),C(1)}}}]),window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}()}(),n("angular-rangeslider",["angular"],function(){}),angular.module("isoCurrency.common",[]).factory("iso4217",function(){var e={AFN:{text:"Afghani",fraction:2,symbol:"؋"},EUR:{text:"Euro",fraction:2,symbol:"€"},ALL:{text:"Lek",fraction:2,symbol:"Lek"},DZD:{text:"Algerian Dinar",fraction:2,symbol:"د.ج"},USD:{text:"US Dollar",fraction:2,symbol:"$"},AOA:{text:"Kwanza",fraction:2,symbol:"Kz"},XCD:{text:"East Caribbean Dollar",fraction:2,symbol:"$"},ARS:{text:"Argentine Peso",fraction:2,symbol:"$"},AMD:{text:"Armenian Dram",fraction:2,symbol:!1},AWG:{text:"Aruban Florin",fraction:2,symbol:"ƒ"},AUD:{text:"Australian Dollar",fraction:2,symbol:"$"},AZN:{text:"Azerbaijani Manat",fraction:2,symbol:"ман"},BSD:{text:"Bahamian Dollar",fraction:2,symbol:"$"},BHD:{text:"Bahraini Dinar",fraction:3,symbol:"BD"},BDT:{text:"Taka",fraction:2,symbol:"৳"},BBD:{text:"Barbados Dollar",fraction:2,symbol:"$"},BYR:{text:"Belarusian Ruble",fraction:0,symbol:"p."},BZD:{text:"Belize Dollar",fraction:2,symbol:"BZ$"},XOF:{text:"CFA Franc BCEAO",fraction:0,symbol:"CFA"},BMD:{text:"Bermudian Dollar",fraction:2,symbol:"$"},BTN:{text:"Ngultrum",fraction:2,symbol:"Nu"},INR:{text:"Indian Rupee",fraction:2,symbol:"₹"},BOB:{text:"Boliviano",fraction:2,symbol:"$b"},BOV:{text:"Mvdol",fraction:2,symbol:"$b"},BAM:{text:"Convertible Mark",fraction:2,symbol:"KM"},BWP:{text:"Pula",fraction:2,symbol:"P"},NOK:{text:"Norwegian Krone",fraction:2,symbol:"kr"},BRL:{text:"Brazilian Real",fraction:2,symbol:"R$"},BND:{text:"Brunei Dollar",fraction:2,symbol:"$"},BGN:{text:"Bulgarian Lev",fraction:2,symbol:"лв"},BIF:{text:"Burundian Franc",fraction:0,symbol:"BIF"},KHR:{text:"Riel",fraction:2,symbol:"៛"},XAF:{text:"CFA Franc BEAC",fraction:0,symbol:!1},CAD:{text:"Canadian Dollar",fraction:2,symbol:"$"},CVE:{text:"Cabo Verde Escudo",fraction:2,symbol:"$"},KYD:{text:"Cayman Islands Dollar",fraction:2,symbol:"$"},CLF:{text:"Unidad de Fomento",fraction:4,symbol:!1},CLP:{text:"Chilean Peso",fraction:0,symbol:"$"},CNY:{text:"Yuan Renminbi",fraction:2,symbol:"¥"},COP:{text:"Colombian Peso",fraction:2,symbol:"$"},COU:{text:"Unidad de Valor Real",fraction:2,symbol:!1},KMF:{text:"Comoro Franc",fraction:0,symbol:!1},CDF:{text:"Congolese Franc",fraction:2,symbol:!1},NZD:{text:"New Zealand Dollar",fraction:2,symbol:"$"},CRC:{text:"Costa Rican Colon",fraction:2,symbol:"₡"},HRK:{text:"Croatian Kuna",fraction:2,symbol:"kn"},CUC:{text:"Peso Convertible",fraction:2,symbol:!1},CUP:{text:"Cuban Peso",fraction:2,symbol:"₱"},ANG:{text:"Netherlands Antillean Guilder",fraction:2,symbol:"ƒ"},CZK:{text:"Czech Koruna",fraction:2,symbol:"Kč"},DKK:{text:"Danish Krone",fraction:2,symbol:"kr"},DJF:{text:"Djibouti Franc",fraction:0,symbol:!1},DOP:{text:"Dominican Peso",fraction:2,symbol:"RD$"},EGP:{text:"Egyptian Pound",fraction:2,symbol:"£"},SVC:{text:"El Salvador Colon",fraction:2,symbol:"$"},ERN:{text:"Nakfa",fraction:2,symbol:!1},ETB:{text:"Ethiopian Birr",fraction:2,symbol:!1},FKP:{text:"Falkland Islands Pound",fraction:2,symbol:"£"},FJD:{text:"Fiji Dollar",fraction:2,symbol:"$"},XPF:{text:"CFP Franc",fraction:0,symbol:!1},GMD:{text:"Dalasi",fraction:2,symbol:!1},GEL:{text:"Lari",fraction:2,symbol:!1},GHS:{text:"Ghan Cedi",fraction:2,symbol:!1},GIP:{text:"Gibraltar Pound",fraction:2,symbol:"£"},GTQ:{text:"Quetzal",fraction:2,symbol:"Q"},GBP:{text:"Pound Sterling",fraction:2,symbol:"£"},GNF:{text:"Guinean Franc",fraction:0,symbol:!1},GYD:{text:"Guyanese Dollar",fraction:2,symbol:"$"},HTG:{text:"Gourde",fraction:2,symbol:!1},HNL:{text:"Lempira",fraction:2,symbol:"L"},HKD:{text:"Hong Kong Dollar",fraction:2,symbol:"$"},HUF:{text:"Forint",fraction:2,symbol:"Ft"},ISK:{text:"Iceland Krona",fraction:0,symbol:"kr"},IDR:{text:"Rupiah",fraction:2,symbol:"Rp"},XDR:{text:"SDR (Special Drawing Right)",fraction:0,symbol:!1},IRR:{text:"Iranian Rial",fraction:2,symbol:"﷼"},IQD:{text:"Iraqi Dinar",fraction:3,symbol:!1},ILS:{text:"New Israeli Sheqel",fraction:2,symbol:"₪"},JMD:{text:"Jamaican Dollar",fraction:2,symbol:"J$"},JPY:{text:"Yen",fraction:0,symbol:"¥"},JOD:{text:"Jordanian Dinar",fraction:3,symbol:!1},KZT:{text:"Tenge",fraction:2,symbol:"₸"},KES:{text:"Kenyan Shilling",fraction:2,symbol:!1},KPW:{text:"North Korean Won",fraction:2,symbol:"₩"},KRW:{text:"Won",fraction:0,symbol:"₩"},KWD:{text:"Kuwaiti Dinar",fraction:3,symbol:!1},KGS:{text:"Som",fraction:2,symbol:"som"},LAK:{text:"Kip",fraction:2,symbol:"₭"},LBP:{text:"Lebanese Pound",fraction:2,symbol:"£"},LSL:{text:"Loti",fraction:2,symbol:!1},ZAR:{text:"South African Rand",fraction:2,symbol:"R"},LRD:{text:"Liberian Dollar",fraction:2,symbol:"$"},LYD:{text:"Libyan Dinar",fraction:3,symbol:!1},CHF:{text:"Swiss Franc",fraction:2,symbol:"CHF"},LTL:{text:"Lithuanian Litas",fraction:2,symbol:"Lt"},MOP:{text:"Pataca",fraction:2,symbol:!1},MKD:{text:"Denar",fraction:2,symbol:"ден"},MGA:{text:"Malagasy riary",fraction:2,symbol:!1},MWK:{text:"Kwacha",fraction:2,symbol:!1},MYR:{text:"Malaysian Ringgit",fraction:2,symbol:"RM"},MVR:{text:"Rufiyaa",fraction:2,symbol:!1},MRO:{text:"Ouguiya",fraction:2,symbol:!1},MUR:{text:"Mauritius Rupee",fraction:2,symbol:"₨"},XUA:{text:"ADB Unit of account",fraction:0,symbol:!1},MXN:{text:"Mexican Peso",fraction:2,symbol:"$"},MXV:{text:"Mexican Unidad de Inversion (UDI)",fraction:2,symbol:!1},MDL:{text:"Moldovan Leu",fraction:2,symbol:!1},MNT:{text:"Tugrik",fraction:2,symbol:"₮"},MAD:{text:"Moroccan Dirham",fraction:2,symbol:!1},MZN:{text:"Mozambique Metical",fraction:2,symbol:"MT"},MMK:{text:"Kyat",fraction:2,symbol:!1},NAD:{text:"Namibian Dollar",fraction:2,symbol:"$"},NPR:{text:"Nepalese Rupee",fraction:2,symbol:"₨"},NIO:{text:"Cordob Oro",fraction:2,symbol:"C$"},NGN:{text:"Naira",fraction:2,symbol:"₦"},OMR:{text:"Rial Omani",fraction:3,symbol:"﷼"},PKR:{text:"Pakistan Rupee",fraction:2,symbol:"₨"},PAB:{text:"Balboa",fraction:2,symbol:"B/."},PGK:{text:"Kina",fraction:2,symbol:"K"},PYG:{text:"Guarani",fraction:0,symbol:"Gs"},PEN:{text:"Nuevo Sol",fraction:2,symbol:"S/."},PHP:{text:"Philippine Peso",fraction:2,symbol:"₱"},PLN:{text:"Zloty",fraction:2,symbol:"zł"},QAR:{text:"Qatari Rial",fraction:2,symbol:"﷼"},RON:{text:"New Romanian Leu",fraction:2,symbol:"lei"},RUB:{text:"Russian Ruble",fraction:2,symbol:"руб"},RWF:{text:"Rwandan Franc",fraction:0,symbol:"R₣"},SHP:{text:"Saint Helena Pound",fraction:2,symbol:"£"},WST:{text:"Tala",fraction:2,symbol:"$"},STD:{text:"Dobra",fraction:2,symbol:!1},SAR:{text:"Saudi Riyal",fraction:2,symbol:"﷼"},RSD:{text:"Serbian Dinar",fraction:2,symbol:"Дин."},SCR:{text:"Seychelles Rupee",fraction:2,symbol:"₨"},SLL:{text:"Leone",fraction:2,symbol:"Le"},SGD:{text:"Singapore Dollar",fraction:2,symbol:"$"},XSU:{text:"Sucre",fraction:0,symbol:!1},SBD:{text:"Solomon Islands Dollar",fraction:2,symbol:"$"},SOS:{text:"Somali Shilling",fraction:2,symbol:"S"},SSP:{text:"South Sudanese Pound",fraction:2,symbol:!1},LKR:{text:"Sri Lankan Rupee",fraction:2,symbol:"₨"},SDG:{text:"Sudanese Pound",fraction:2,symbol:!1},SRD:{text:"Surinam Dollar",fraction:2,symbol:"$"},SZL:{text:"Lilangeni",fraction:2,symbol:!1},SEK:{text:"Swedish Krona",fraction:2,symbol:"kr"},CHE:{text:"WIR Euro",fraction:2,symbol:!1},CHW:{text:"WIR Franc",fraction:2,symbol:!1},SYP:{text:"Syrian Pound",fraction:2,symbol:"£"},TWD:{text:"New Taiwan Dollar",fraction:2,symbol:"NT$"},TJS:{text:"Somoni",fraction:2,symbol:!1},TZS:{text:"Tanzanian Shilling",fraction:2,symbol:!1},THB:{text:"Baht",fraction:2,symbol:"฿"},TOP:{text:"Pa’anga",fraction:2,symbol:!1},TTD:{text:"Trinidad and Tobago Dollar",fraction:2,symbol:"TT$"},TND:{text:"Tunisian Dinar",fraction:3,symbol:!1},TRY:{text:"Turkish Lira",fraction:2,symbol:"₺"},TMT:{text:"Turkmenistan New Manat",fraction:2,symbol:!1},UGX:{text:"Ugandan Shilling",fraction:0,symbol:!1},UAH:{text:"Hryvnia",fraction:2,symbol:"₴"},AED:{text:"UAE Dirham",fraction:2,symbol:!1},USN:{text:"US Dollar (Next day)",fraction:2,symbol:!1},UYI:{text:"Uruguay Peso en Unidades Indexadas (URUIURUI)",fraction:0,symbol:!1},UYU:{text:"Peso Uruguayo",fraction:2,symbol:"$U"},UZS:{text:"Uzbekistan Sum",fraction:2,symbol:"som"},VUV:{text:"Vatu",fraction:0,symbol:!1},VEF:{text:"Bolivar",fraction:2,symbol:"Bs"},VND:{text:"Dong",fraction:0,symbol:"₫"},YER:{text:"Yemeni Rial",fraction:2,symbol:"﷼"},ZMW:{text:"Zambian Kwacha",fraction:2,symbol:!1},ZWL:{text:"Zimbabwe Dollar",fraction:2,symbol:"$"}};return{getCurrencyByCode:function(t){return t&&"string"==typeof t?e[t.toUpperCase()]:void 0},getCurrencies:function(){return e}}}),angular.module("isoCurrency",["isoCurrency.common"]).filter("isoCurrency",["$filter","iso4217",function(e,t){return function(n,r,i){var a=t.getCurrencyByCode(r);if(!a)return n;var o=void 0===i?a.fraction:i;return e("currency")(n,a.symbol||r+" ",o)}}]),n("angular_iso_currency",["angular"],function(){}),function(e,t,n){"use strict";function r(e){return t.lowercase(e.nodeName||e[0]&&e[0].nodeName)}function i(e,n,r){a.directive(e,["$parse","$swipe",function(i,a){var o=75,s=.3,l=30;return function(u,c,d){function p(e){if(!h)return!1;var t=Math.abs(e.y-h.y),r=(e.x-h.x)*n;return f&&o>t&&r>0&&r>l&&s>t/r}var h,f,g=i(d[e]),m=["touch"];t.isDefined(d.ngSwipeDisableMouse)||m.push("mouse"),a.bind(c,{start:function(e,t){h=e,f=!0},cancel:function(e){f=!1},end:function(e,t){p(e)&&u.$apply(function(){c.triggerHandler(r),g(u,{$event:t})})}},m)}}])}var a=t.module("ngTouch",[]);a.factory("$swipe",[function(){function e(e){var t=e.originalEvent||e,n=t.touches&&t.touches.length?t.touches:[t],r=t.changedTouches&&t.changedTouches[0]||n[0];return{x:r.clientX,y:r.clientY}}function n(e,n){var r=[];return t.forEach(e,function(e){var t=i[e][n];t&&r.push(t)}),r.join(" ")}var r=10,i={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}};return{bind:function(t,i,a){var o,s,l,u,c=!1;a=a||["mouse","touch"],t.on(n(a,"start"),function(t){l=e(t),c=!0,o=0,s=0,u=l,i.start&&i.start(l,t)});var d=n(a,"cancel");d&&t.on(d,function(e){c=!1,i.cancel&&i.cancel(e)}),t.on(n(a,"move"),function(t){if(c&&l){var n=e(t);if(o+=Math.abs(n.x-u.x),s+=Math.abs(n.y-u.y),u=n,!(r>o&&r>s))return s>o?(c=!1,void(i.cancel&&i.cancel(t))):(t.preventDefault(),void(i.move&&i.move(n,t)))}}),t.on(n(a,"end"),function(t){c&&(c=!1,i.end&&i.end(e(t),t))})}}}]),a.config(["$provide",function(e){e.decorator("ngClickDirective",["$delegate",function(e){return e.shift(),e}])}]),a.directive("ngClick",["$parse","$timeout","$rootElement",function(e,n,i){function a(e,t,n,r){return Math.abs(e-n)<m&&Math.abs(t-r)<m}function o(e,t,n){for(var r=0;r<e.length;r+=2)if(a(e[r],e[r+1],t,n))return e.splice(r,r+2),!0;return!1}function s(e){if(!(Date.now()-c>g)){var t=e.touches&&e.touches.length?e.touches:[e],n=t[0].clientX,i=t[0].clientY;1>n&&1>i||p&&p[0]===n&&p[1]===i||(p&&(p=null),"label"===r(e.target)&&(p=[n,i]),o(d,n,i)||(e.stopPropagation(),e.preventDefault(),e.target&&e.target.blur&&e.target.blur()))}}function l(e){var t=e.touches&&e.touches.length?e.touches:[e],r=t[0].clientX,i=t[0].clientY;d.push(r,i),n(function(){for(var e=0;e<d.length;e+=2)if(d[e]==r&&d[e+1]==i)return void d.splice(e,e+2)},g,!1)}function u(e,t){d||(i[0].addEventListener("click",s,!0),i[0].addEventListener("touchstart",l,!0),d=[]),c=Date.now(),o(d,e,t)}var c,d,p,h=750,f=12,g=2500,m=25,v="ng-click-active";return function(n,r,i){function a(){p=!1,r.removeClass(v)}var o,s,l,c,d=e(i.ngClick),p=!1;r.on("touchstart",function(e){p=!0,o=e.target?e.target:e.srcElement,3==o.nodeType&&(o=o.parentNode),r.addClass(v),s=Date.now();var t=e.originalEvent||e,n=t.touches&&t.touches.length?t.touches:[t],i=n[0];l=i.clientX,c=i.clientY}),r.on("touchcancel",function(e){a()}),
r.on("touchend",function(e){var n=Date.now()-s,d=e.originalEvent||e,g=d.changedTouches&&d.changedTouches.length?d.changedTouches:d.touches&&d.touches.length?d.touches:[d],m=g[0],v=m.clientX,y=m.clientY,b=Math.sqrt(Math.pow(v-l,2)+Math.pow(y-c,2));p&&h>n&&f>b&&(u(v,y),o&&o.blur(),t.isDefined(i.disabled)&&i.disabled!==!1||r.triggerHandler("click",[e])),a()}),r.onclick=function(e){},r.on("click",function(e,t){n.$apply(function(){d(n,{$event:t||e})})}),r.on("mousedown",function(e){r.addClass(v)}),r.on("mousemove mouseup",function(e){r.removeClass(v)})}}]),i("ngSwipeLeft",-1,"swipeleft"),i("ngSwipeRight",1,"swiperight")}(window,window.angular),n("angular-touch",["angular"],function(){}),function(e,t,n){"use strict";var r=t.module("nsPopover",[]),i=t.element,a=t.isDefined,o=[],s=0;r.provider("nsPopover",function(){var e={template:"",theme:"ns-popover-list-theme",plain:"false",trigger:"click",triggerPrevent:!0,angularEvent:"",scopeEvent:"",container:"body",placement:"bottom|left",timeout:1.5,hideOnInsideClick:!1,hideOnOutsideClick:!0,hideOnButtonClick:!0,mouseRelative:"",popupDelay:0};this.setDefaults=function(n){t.extend(e,n)},this.$get=function(){return{getDefaults:function(){return e}}}}),r.directive("nsPopover",["nsPopover","$rootScope","$timeout","$templateCache","$q","$http","$compile","$document","$parse",function(r,l,u,c,d,p,h,f,g){return{restrict:"A",scope:!0,link:function(m,v,y){function b(e,t,n,r,i){var a,o,s=D(e[0]),l=function(){return"center"===n?Math.round(r.left+r.width/2-s.width/2):"right"===n?r.right-s.width:r.left},u=function(){return"center"===n?Math.round(r.top+r.height/2-s.height/2):"bottom"===n?r.bottom-s.height:r.top};"top"===t?(a=r.top-s.height,o=l()):"right"===t?(a=u(),o=r.right):"bottom"===t?(a=r.bottom,o=l()):"left"===t&&(a=u(),o=r.left-s.width),e.css("top",a.toString()+"px").css("left",o.toString()+"px"),i&&("top"===t||"bottom"===t?(o=r.left+r.width/2-o,i.css("left",o.toString()+"px")):(a=r.top+r.height/2-a,i.css("top",a.toString()+"px")))}function S(e,t,n,r){var i={bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width};return t&&(i.left=r.pageX,i.right=r.pageX,i.width=0),n&&(i.top=r.pageY,i.bottom=r.pageY,i.height=0),i}function D(t){var n=e,r=document.documentElement||document.body.parentNode||document.body,i=a(n.pageXOffset)?n.pageXOffset:r.scrollLeft,o=a(n.pageYOffset)?n.pageYOffset:r.scrollTop,s=t.getBoundingClientRect();return i||o?{bottom:s.bottom+o,left:s.left+i,right:s.right+i,top:s.top+o,height:s.height,width:s.width}:s}function w(e){if(e&&0!==e.length){var t=(""+e).toLowerCase();e="true"==t}else e=!1;return e}function A(e,n){return e?t.isString(e)&&n?e:c.get(e)||p.get(e,{cache:!0}):""}function C(){L.isOpen&&T.hide(0)}function _(e){function n(e){if(e.id===r)return!0;var i=t.element(e).parent()[0];return i?i.id===r?!0:n(i):!1}if(L.isOpen&&e.target!==v[0]){var r=L[0].id;n(e.target)||T.hide(0)}}function x(){L.isOpen&&T.hide(0)}var $=r.getDefaults(),k={template:y.nsPopoverTemplate||$.template,theme:y.nsPopoverTheme||$.theme,plain:w(y.nsPopoverPlain||$.plain),trigger:y.nsPopoverTrigger||$.trigger,triggerPrevent:y.nsPopoverTriggerPrevent||$.triggerPrevent,angularEvent:y.nsPopoverAngularEvent||$.angularEvent,scopeEvent:y.nsPopoverScopeEvent||$.scopeEvent,container:y.nsPopoverContainer||$.container,placement:y.nsPopoverPlacement||$.placement,timeout:y.nsPopoverTimeout||$.timeout,hideOnInsideClick:w(y.nsPopoverHideOnInsideClick||$.hideOnInsideClick),hideOnOutsideClick:w(y.nsPopoverHideOnOutsideClick||$.hideOnOutsideClick),hideOnButtonClick:w(y.nsPopoverHideOnButtonClick||$.hideOnButtonClick),mouseRelative:y.nsPopoverMouseRelative,popupDelay:y.nsPopoverPopupDelay||$.popupDelay,group:y.nsPopoverGroup};k.mouseRelative&&(k.mouseRelativeX=-1!==k.mouseRelative.indexOf("x"),k.mouseRelativeY=-1!==k.mouseRelative.indexOf("y"));var M={id_:n,display:function(e,t){g(y.nsPopover)(m)!==!1&&(u.cancel(M.id_),a(e)||(e=0),k.group&&l.$broadcast("ns:popover:hide",k.group),M.id_=u(function(){L.isOpen=!0,L.css("display","block");var e=D(v[0]);k.mouseRelative&&(e=S(e,k.mouseRelativeX,k.mouseRelativeY,t)),b(L,P,E,e,O),k.hideOnInsideClick&&L.on("click",C),k.hideOnOutsideClick&&f.on("click",_),k.hideOnButtonClick&&v.on("click",x)},1e3*e))},cancel:function(){u.cancel(M.id_)}},T={id_:n,hide:function(e){u.cancel(T.id_),"-1"!==e&&(a(e)||(e=1.5),T.id_=u(function(){L.off("click",C),f.off("click",_),v.off("click",x),L.isOpen=!1,M.cancel(),L.css("display","none")},1e3*e))},cancel:function(){u.cancel(T.id_)}},F=f.find(k.container);F.length||(F=f.find("body"));var O,P,E;s+=1;var L=i('<div id="nspopover-'+s+'"></div>');o.push(L);var I=k.placement.match(/^(top|bottom|left|right)$|((top|bottom)\|(center|left|right)+)|((left|right)\|(center|top|bottom)+)/);if(!I)throw new Error('"'+k.placement+'" is not a valid placement or has a invalid combination of placements.');P=I[6]||I[3]||I[1],E=I[7]||I[4]||I[2]||"center",d.when(A(k.template,k.plain)).then(function(e){e=t.isString(e)?e:e.data&&t.isString(e.data)?e.data:"",L.html(e),k.theme&&L.addClass(k.theme),L.addClass("ns-popover-"+P+"-placement").addClass("ns-popover-"+E+"-align"),h(L)(m),m.$on("$destroy",function(){L.remove()}),m.hidePopover=function(){T.hide(0)},m.$on("ns:popover:hide",function(e,t){k.group===t&&m.hidePopover()}),L.css("position","absolute").css("display","none"),O=L[0].querySelectorAll(".triangle"),O.length&&(O=i(O)),F.append(L)}),k.angularEvent?l.$on(k.angularEvent,function(){T.cancel(),M.display(k.popupDelay)}):k.scopeEvent?m.$on(k.scopeEvent,function(){T.cancel(),M.display(L,k.popupDelay)}):v.on(k.trigger,function(e){!1!==k.triggerPrevent&&e.preventDefault(),T.cancel(),M.display(k.popupDelay,e)}),v.on("mouseout",function(){T.hide(k.timeout)}).on("mouseover",function(){T.cancel()}),L.on("mouseout",function(e){T.hide(k.timeout)}).on("mouseover",function(){T.cancel()})}}}])}(window,window.angular),n("nsPopover",["angular"],function(){}),function(e,t){"function"==typeof n&&n.amd?n("WidgetsFilterPanel",t):"object"==typeof exports?module.exports=t():e.WidgetsFilterPanel=t()}(this,function(){var e,t,n;return function(r){function i(e,t){return D.call(e,t)}function a(e,t){var n,r,i,a,o,s,l,u,c,d,p,h,f=t&&t.split("/"),g=b.map,m=g&&g["*"]||{};if(e){for(e=e.split("/"),o=e.length-1,b.nodeIdCompat&&A.test(e[o])&&(e[o]=e[o].replace(A,"")),"."===e[0].charAt(0)&&f&&(h=f.slice(0,f.length-1),e=h.concat(e)),c=0;c<e.length;c++)if(p=e[c],"."===p)e.splice(c,1),c-=1;else if(".."===p){if(0===c||1===c&&".."===e[2]||".."===e[c-1])continue;c>0&&(e.splice(c-1,2),c-=2)}e=e.join("/")}if((f||m)&&g){for(n=e.split("/"),c=n.length;c>0;c-=1){if(r=n.slice(0,c).join("/"),f)for(d=f.length;d>0;d-=1)if(i=g[f.slice(0,d).join("/")],i&&(i=i[r])){a=i,s=c;break}if(a)break;!l&&m&&m[r]&&(l=m[r],u=c)}!a&&l&&(a=l,s=u),a&&(n.splice(0,s,a),e=n.join("/"))}return e}function o(e,t){return function(){var n=w.call(arguments,0);return"string"!=typeof n[0]&&1===n.length&&n.push(null),f.apply(r,n.concat([e,t]))}}function s(e){return function(t){return a(t,e)}}function l(e){return function(t){v[e]=t}}function u(e){if(i(y,e)){var t=y[e];delete y[e],S[e]=!0,h.apply(r,t)}if(!i(v,e)&&!i(S,e))throw new Error("No "+e);return v[e]}function c(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function d(e){return e?c(e):[]}function p(e){return function(){return b&&b.config&&b.config[e]||{}}}var h,f,g,m,v={},y={},b={},S={},D=Object.prototype.hasOwnProperty,w=[].slice,A=/\.js$/;g=function(e,t){var n,r=c(e),i=r[0],o=t[1];return e=r[1],i&&(i=a(i,o),n=u(i)),i?e=n&&n.normalize?n.normalize(e,s(o)):a(e,o):(e=a(e,o),r=c(e),i=r[0],e=r[1],i&&(n=u(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},m={require:function(e){return o(e)},exports:function(e){var t=v[e];return"undefined"!=typeof t?t:v[e]={}},module:function(e){return{id:e,uri:"",exports:v[e],config:p(e)}}},h=function(e,t,n,a){var s,c,p,h,f,b,D,w=[],A=typeof n;if(a=a||e,b=d(a),"undefined"===A||"function"===A){for(t=!t.length&&n.length?["require","exports","module"]:t,f=0;f<t.length;f+=1)if(h=g(t[f],b),c=h.f,"require"===c)w[f]=m.require(e);else if("exports"===c)w[f]=m.exports(e),D=!0;else if("module"===c)s=w[f]=m.module(e);else if(i(v,c)||i(y,c)||i(S,c))w[f]=u(c);else{if(!h.p)throw new Error(e+" missing "+c);h.p.load(h.n,o(a,!0),l(c),{}),w[f]=v[c]}p=n?n.apply(v[e],w):void 0,e&&(s&&s.exports!==r&&s.exports!==v[e]?v[e]=s.exports:p===r&&D||(v[e]=p))}else e&&(v[e]=n)},e=t=f=function(e,t,n,i,a){if("string"==typeof e)return m[e]?m[e](t):u(g(e,d(t)).f);if(!e.splice){if(b=e,b.deps&&f(b.deps,b.callback),!t)return;t.splice?(e=t,t=n,n=null):e=r}return t=t||function(){},"function"==typeof n&&(n=i,i=a),i?h(r,e,t,n):setTimeout(function(){h(r,e,t,n)},4),f},f.config=function(e){return f(e)},e._defined=v,n=function(e,t,n){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),i(v,e)||i(y,e)||(y[e]=[e,t,n])},n.amd={jQuery:!0}}(),n("../../node_modules/almond/almond",function(){}),n("angular",[],function(){"use strict";return angular}),n("templates.mod",["angular"],function(e){e.module("WidgetsFilterPanel.templates",[]).run(["$templateCache",function(e){"use strict";e.put("../app/src/filterPanel/filterPanel.tpl.html",'<div class="SDSResponsiveElement panel panel-default" ng-show=isAnyDataToDisplayAvailable()><div class="panel-heading text-center SDS-responsive-panel-heading"><h4 class=panel-title>Filter options</h4></div><div class="panel-body SDS-responsive-panel-body"><ng-transclude></ng-transclude></div><div class="panel-footer text-center"><a href="" ng-click=resetAllFilters()>Reset all filters</a></div></div>'),e.put("../app/src/filterPanel/valuesFilter.tpl.html","<div ng-show=filterInstance.filterInitialized class=SDSValuesFilter><div class=\"panel panel-default\"><div class=\"panel-heading SDS-responsive-panel-heading\"><div ng-click=\"filterContentCollapsed =! filterContentCollapsed\"><span ng-if=filterContentCollapsed class=\"glyphicon glyphicon-collapse-up\"></span> <span ng-if=!filterContentCollapsed class=\"glyphicon glyphicon-collapse-down\"></span> {{::filterInstance.label}}</div></div><div class=\"panel-body SDS-responsive-panel-body\" ng-hide=filterContentCollapsed><div ng-if=\"filterType === 'discrete' || filterType === 'discreteListAllRequired' || filterType === 'discreteListAnyRequired'\"><div class=checkbox ng-repeat=\"i in filterInstance.selectableValues\"><label class=SDSDiscreteFilterValueLabel for={{filterPanelId}}_{{::filterInstance.filterablePropertyName}}_{{i.propertyValue}}><input type=checkbox id={{filterPanelId}}_{{::filterInstance.filterablePropertyName}}_{{i.propertyValue}} checked ng-model=i.permitted ng-change=permittedValuesChanged()> <span>{{i.propertyValue | applyFilter:valuesDisplayFilter:valuesDisplayFilterOptions}} ({{i.count}})</span> <span class=pull-right ng-hide=hidePriceFrom>{{i.minPrice | applyFilter:currencyFilter:i.currency:0}}</span></label></div></div><div ng-if=\"filterType === 'boolean'\"><div class=checkbox><label for={{filterPanelId}}_{{::filterInstance.filterablePropertyName}}><input type=checkbox id={{filterPanelId}}_{{::filterInstance.filterablePropertyName}} ng-checked=filterInstance.isRequired ng-model=filterInstance.isRequired ng-change=permittedValuesChanged()> {{::filterInstance.label}}</label></div></div><div ng-if=\"filterType === 'range' || filterType === 'rangeDateTime' || filterType === 'rangeMonetaryAmount'\" class=SDSRangeFilter><span class=top-left><span ng-if=\"filterType === 'range' || filterType === 'rangeDateTime'\">{{filterInstance.minConstraint | applyFilter:valuesDisplayFilter:valuesDisplayFilterOptions}} </span><span ng-if=\"filterType === 'rangeMonetaryAmount'\">{{filterInstance.minConstraint.amount | applyFilter:currencyFilter:filterInstance.minConstraint.currency}} </span></span><span class=pull-right><span ng-if=\"filterType === 'range' || filterType === 'rangeDateTime'\">{{filterInstance.maxConstraint | applyFilter:valuesDisplayFilter:valuesDisplayFilterOptions}} </span><span ng-if=\"filterType === 'rangeMonetaryAmount'\">{{filterInstance.maxConstraint.amount | applyFilter:currencyFilter:filterInstance.maxConstraint.currency}}</span></span><div ng-if=\"filterType === 'range' || filterType === 'rangeDateTime'\" id={{filterPanelId}}_{{::filterInstance.filterablePropertyName}} range-slider min=filterInstance.minConstraint max=filterInstance.maxConstraint model-min=filterInstance.min model-max=filterInstance.max prevent-equal-min-max=true show-values=true attach-handle-values=true ng-attr-pin-handle=\"{{canFilterOnlyOnMaxValue && 'min' || canFilterOnlyOnMinValue && 'max' || undefined}}\" filter={{valuesDisplayFilter}} filter-options={{valuesDisplayFilterOptions}} on-handle-up=permittedValuesChanged()></div><div ng-if=\"filterType === 'rangeMonetaryAmount'\" id={{filterPanelId}}_{{::filterInstance.filterablePropertyName}} range-slider min=filterInstance.minConstraint.amount max=filterInstance.maxConstraint.amount model-min=filterInstance.min.amount model-max=filterInstance.max.amount prevent-equal-min-max=true show-values=true attach-handle-values=true ng-attr-pin-handle=\"{{canFilterOnlyOnMaxValue && 'min' || canFilterOnlyOnMinValue && 'max' || undefined}}\" filter={{currencyFilter}} filter-options={{filterInstance.minConstraint.currency}} decimal-places=2 on-handle-up=permittedValuesChanged()></div></div></div></div></div>")}])}),function(){"use strict";var e=1===angular.version.major&&0===angular.version.minor;angular.module("ui-rangeSlider",[]).directive("rangeSlider",["$document","$filter","$log",function(t,n,r){var i=".rangeSlider",a={disabled:!1,orientation:"horizontal",step:0,decimalPlaces:0,showValues:!0,preventEqualMinMax:!1,attachHandleValues:!1},o=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup",over:"pointerdown",out:"mouseout"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp",over:"MSPointerDown",out:"mouseout"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend",over:"mouseover touchstart",out:"mouseout"},s=o.start+i,l=o.move+i,u=o.end+i,c=o.over+i,d=o.out+i,p=function(e){try{return[e.clientX||e.originalEvent.clientX||e.originalEvent.touches[0].clientX,e.clientY||e.originalEvent.clientY||e.originalEvent.touches[0].clientY]}catch(t){return["x","y"]}},h=function(e){return 0>e?0:e>100?100:e},f=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},g={disabled:"=?",min:"=",max:"=",modelMin:"=?",modelMax:"=?",onHandleDown:"&",onHandleUp:"&",orientation:"@",step:"@",decimalPlaces:"@",filter:"@",filterOptions:"@",showValues:"@",pinHandle:"@",preventEqualMinMax:"@",attachHandleValues:"@",getterSetter:"@"};e&&(g.disabled="=",g.modelMin="=",g.modelMax="=");var m=function(e,t){for(var n=[],r=0;r<e.length;r++)t(e[r])&&n.push(e[r]);return n},v=function(e,t){return angular.element(m(e.find("div"),function(e){return angular.element(e).hasClass(t)}))};return{restrict:"A",replace:!0,template:['<div class="ngrs-range-slider">','<div class="ngrs-runner">','<div class="ngrs-handle ngrs-handle-min"><i></i></div>','<div class="ngrs-handle ngrs-handle-max"><i></i></div>','<div class="ngrs-join"></div>',"</div>",'<div class="ngrs-value-runner">','<div class="ngrs-value ngrs-value-min" ng-show="showValues"><div>{{filteredModelMin}}</div></div>','<div class="ngrs-value ngrs-value-max" ng-show="showValues"><div>{{filteredModelMax}}</div></div>',"</div>","</div>"].join(""),scope:g,link:function(e,o,g,m){function y(t){return e.getterSetter?arguments.length?e.modelMin(t):e.modelMin():arguments.length?e.modelMin=t:e.modelMin}function b(t){return e.getterSetter?arguments.length?e.modelMax(t):e.modelMax():arguments.length?e.modelMax=t:e.modelMax}function S(e){"min"===e?(angular.element(M[0]).css("display","none"),angular.element(M[1]).css("display","block")):"max"===e?(angular.element(M[0]).css("display","block"),angular.element(M[1]).css("display","none")):(angular.element(M[0]).css("display","block"),angular.element(M[1]).css("display","block"))}function D(e){e?$.addClass("ngrs-disabled"):$.removeClass("ngrs-disabled")}function w(){e.min>e.max&&_("min must be less than or equal to max"),angular.isDefined(e.min)&&angular.isDefined(e.max)&&(f(e.min)||_("min must be a number"),f(e.max)||_("max must be a number"),I=e.max-e.min,L=[e.min,e.max],A())}function A(){if(y()>b()&&(x("modelMin must be less than or equal to modelMax"),y(b())),(angular.isDefined(y())||"min"===e.pinHandle)&&(angular.isDefined(b())||"max"===e.pinHandle)){f(y())||("min"!==e.pinHandle&&x("modelMin must be a number"),y(e.min)),f(b())||("max"!==e.pinHandle&&x("modelMax must be a number"),b(e.max));var t,r,i=h((y()-e.min)/I*100),a=h((b()-e.min)/I*100);if(e.attachHandleValues&&(t=i,r=a),y(Math.max(e.min,y())),b(Math.min(e.max,b())),e.filter&&e.filterOptions)e.filteredModelMin=n(e.filter)(y(),e.filterOptions),e.filteredModelMax=n(e.filter)(b(),e.filterOptions);else if(e.filter){var o,s,l=e.filter.split(":"),u=e.filter.split(":")[0],c=l.slice().slice(1);c=c.map(function(e){return f(e)?+e:'"'==e[0]&&'"'==e[e.length-1]||"'"==e[0]&&"'"==e[e.length-1]?e.slice(1,-1):void 0}),o=c.slice(),s=c.slice(),o.unshift(y()),s.unshift(b()),e.filteredModelMin=n(u).apply(null,o),e.filteredModelMax=n(u).apply(null,s)}else e.filteredModelMin=y(),e.filteredModelMax=b();e.min===e.max&&y()==b()?(angular.element(M[0]).css(O,"0%"),angular.element(M[1]).css(O,"100%"),e.attachHandleValues&&(angular.element(T[0]).css(O,"0%"),angular.element(T[1]).css(O,"100%")),angular.element(F).css(O,"0%").css(P,"0%")):(angular.element(M[0]).css(O,i+"%"),angular.element(M[1]).css(O,a+"%"),e.attachHandleValues&&(angular.element(T[0]).css(O,t+"%"),angular.element(T[1]).css(O,r+"%"),angular.element(T[1]).css(P,"auto")),angular.element(F).css(O,i+"%").css(P,100-a+"%"),i>95&&angular.element(M[0]).css("z-index",3))}}function C(n){var r=M[n];r.bind(s+"X",function(a){var o=(0===n?"ngrs-handle-min":"ngrs-handle-max")+"-down",s=(0===n?y():b())-e.min,c=s/I*100,d=p(a),f=d,g=!1;angular.isFunction(e.onHandleDown)&&e.onHandleDown(),k.bind("selectstart"+i,function(){return!1}),e.disabled||(R=!0,r.addClass("ngrs-down"),$.addClass("ngrs-focus "+o),k.addClass("ngrs-touching"),t.bind(l,function(t){t.preventDefault();var i,a,o=p(t),s=e.step/I*100,l=((0===n?b():y())-e.min)/I*100;"x"!==o[0]&&(o[0]-=d[0],o[1]-=d[1],i=[f[0]!==o[0],f[1]!==o[1]],a=c+100*o[E]/(E?$[0].offsetHeight:$[0].offsetWidth),a=h(a),e.preventEqualMinMax&&(0===s&&(s=1/I*100),0===n?l-=s:1===n&&(l+=s)),0===n?a=a>l?l:a:1===n&&(a=l>a?l:a),e.step>0&&100>a&&a>0&&(a=Math.round(a/s)*s),a>95&&0===n?r.css("z-index",3):r.css("z-index",""),i[E]&&a!=g&&(0===n?y(parseFloat(parseFloat(a*I/100+e.min).toFixed(e.decimalPlaces))):1===n&&b(parseFloat(parseFloat(a*I/100+e.min).toFixed(e.decimalPlaces))),e.$apply(),g=a),f=o)}).bind(u,function(){angular.isFunction(e.onHandleUp)&&e.onHandleUp(),t.off(l),t.off(u),k.removeClass("ngrs-touching"),R=!1,r.removeClass("ngrs-down"),r.removeClass("ngrs-over"),$.removeClass("ngrs-focus "+o)}))}).on(c,function(){r.addClass("ngrs-over")}).on(d,function(){R||r.removeClass("ngrs-over")})}function _(t){throw e.disabled=!0,new Error("RangeSlider: "+t)}function x(e){r.warn(e)}var $=angular.element(o),k=angular.element(t).find("body"),M=[v(o,"ngrs-handle-min"),v(o,"ngrs-handle-max")],T=[v(o,"ngrs-value-min"),v(o,"ngrs-value-max")],F=v(o,"ngrs-join"),O="left",P="right",E=0,L=[0,0],I=0,R=!1;e.filteredModelMin=y(),e.filteredModelMax=b(),g.$observe("disabled",function(t){angular.isDefined(t)||(e.disabled=a.disabled),e.$watch("disabled",D)}),g.$observe("orientation",function(t){angular.isDefined(t)||(e.orientation=a.orientation);for(var n,r=e.orientation.split(" "),i=0,o=r.length;o>i;i++)r[i]="ngrs-"+r[i];n=r.join(" "),$.addClass(n),("vertical"===e.orientation||"vertical left"===e.orientation||"vertical right"===e.orientation)&&(O="top",P="bottom",E=1)}),g.$observe("step",function(t){angular.isDefined(t)||(e.step=a.step)}),g.$observe("decimalPlaces",function(t){angular.isDefined(t)||(e.decimalPlaces=a.decimalPlaces)}),g.$observe("showValues",function(t){angular.isDefined(t)?"false"===t?e.showValues=!1:e.showValues=!0:e.showValues=a.showValues}),g.$observe("pinHandle",function(t){angular.isDefined(t)&&("min"===t||"max"===t)?e.pinHandle=t:e.pinHandle=null,e.$watch("pinHandle",S)}),g.$observe("preventEqualMinMax",function(t){angular.isDefined(t)?"false"===t?e.preventEqualMinMax=!1:e.preventEqualMinMax=!0:e.preventEqualMinMax=a.preventEqualMinMax}),g.$observe("attachHandleValues",function(t){angular.isDefined(t)?"true"===t||""===t?(e.attachHandleValues=!0,v(o,"ngrs-value-runner").addClass("ngrs-attached-handles")):e.attachHandleValues=!1:e.attachHandleValues=a.attachHandleValues}),e.$watch("min",w),e.$watch("max",w),e.$watch(function(){return y()},A),e.$watch(function(){return b()},A),e.$on("$destroy",function(){$.off(i),k.off(i),t.off(i);for(var e=0,n=M.length;n>e;e++)M[e].off(i),M[e].off(i+"X")}),$.bind("selectstart"+i,function(e){return!1}).bind("click",function(e){e.stopPropagation()}),C(0),C(1)}}}]),window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}()}(),n("angular_rangeslider",["angular"],function(){}),function(){function e(e,t){return e.set(t[0],t[1]),e}function t(e,t){return e.add(t),e}function r(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function i(e,t,n,r){for(var i=-1,a=e?e.length:0;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}function a(e,t){for(var n=-1,r=e?e.length:0;++n<r&&t(e[n],n,e)!==!1;);return e}function o(e,t){for(var n=e?e.length:0;n--&&t(e[n],n,e)!==!1;);return e}function s(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(!t(e[n],n,e))return!1;return!0}function l(e,t){for(var n=-1,r=e?e.length:0,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}function u(e,t){var n=e?e.length:0;return!!n&&y(e,t,0)>-1}function c(e,t,n){for(var r=-1,i=e?e.length:0;++r<i;)if(n(t,e[r]))return!0;return!1}function d(e,t){for(var n=-1,r=e?e.length:0,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function p(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function h(e,t,n,r){var i=-1,a=e?e.length:0;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function f(e,t,n,r){var i=e?e.length:0;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function g(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(t(e[n],n,e))return!0;return!1}function m(e,t,n){var r;return n(e,function(e,n,i){return t(e,n,i)?(r=n,!1):void 0}),r}function v(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function y(e,t,n){if(t!==t)return v(e,S,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function b(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}function S(e){return e!==e}function D(e,t){var n=e?e.length:0;return n?x(e,t)/n:De}function w(e){return function(t){return null==t?H:t[e]}}function A(e){return function(t){return null==e?H:e[t]}}function C(e,t,n,r,i){return i(e,function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)}),n}function _(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function x(e,t){for(var n,r=-1,i=e.length;++r<i;){var a=t(e[r]);a!==H&&(n=n===H?a:n+a)}return n}function $(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function k(e,t){return d(t,function(t){return[t,e[t]]})}function M(e){return function(t){return e(t)}}function T(e,t){return d(t,function(t){return e[t]})}function F(e,t){return e.has(t)}function O(e,t){for(var n=-1,r=e.length;++n<r&&y(t,e[n],0)>-1;);return n}function P(e,t){for(var n=e.length;n--&&y(t,e[n],0)>-1;);return n}function E(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&r++;return r}function L(e){return"\\"+On[e]}function I(e,t){return null==e?H:e[t]}function R(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function N(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function B(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function W(e,t){return function(n){return e(t(n))}}function U(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n];(o===t||o===J)&&(e[n]=J,a[i++]=n)}return a}function G(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function q(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function j(e){if(!e||!An.test(e))return e.length;for(var t=Dn.lastIndex=0;Dn.test(e);)t++;return t}function K(e){return e.match(Dn)}function z(n){function A(e){if(Rs(e)&&!Wd(e)&&!(e instanceof Rt)){if(e instanceof It)return e;if(Ku.call(e,"__wrapped__"))return Oa(e)}return new It(e)}function Lt(){}function It(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=H}function Rt(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=we,this.__views__=[]}function Nt(){var e=new Rt(this.__wrapped__);return e.__actions__=Ci(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ci(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ci(this.__views__),e}function Bt(){if(this.__filtered__){var e=new Rt(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Wt(){var e=this.__wrapped__.value(),t=this.__dir__,n=Wd(e),r=0>t,i=n?e.length:0,a=sa(0,i,this.__views__),o=a.start,s=a.end,l=s-o,u=r?s:o-1,c=this.__iteratees__,d=c.length,p=0,h=vc(l,this.__takeCount__);if(!n||Y>i||i==l&&h==l)return ai(e,this.__actions__);var f=[];e:for(;l--&&h>p;){u+=t;for(var g=-1,m=e[u];++g<d;){var v=c[g],y=v.iteratee,b=v.type,S=y(m);if(b==me)m=S;else if(!S){if(b==ge)continue e;break e}}f[p++]=m}return f}function Ut(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gt(){this.__data__=kc?kc(null):{}}function qt(e){return this.has(e)&&delete this.__data__[e]}function jt(e){var t=this.__data__;if(kc){var n=t[e];return n===Z?H:n}return Ku.call(t,e)?t[e]:H}function Kt(e){var t=this.__data__;return kc?t[e]!==H:Ku.call(t,e)}function zt(e,t){var n=this.__data__;return n[e]=kc&&t===H?Z:t,this}function Ht(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Vt(){this.__data__=[]}function Yt(e){var t=this.__data__,n=Dn(t,e);if(0>n)return!1;var r=t.length-1;return n==r?t.pop():ic.call(t,n,1),!0}function Qt(e){var t=this.__data__,n=Dn(t,e);return 0>n?H:t[n][1]}function Zt(e){return Dn(this.__data__,e)>-1}function Jt(e,t){var n=this.__data__,r=Dn(n,e);return 0>r?n.push([e,t]):n[r][1]=t,this}function Xt(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function en(){this.__data__={hash:new Ut,map:new(Cc||Ht),string:new Ut}}function tn(e){return ia(this,e).delete(e)}function nn(e){return ia(this,e).get(e)}function rn(e){return ia(this,e).has(e)}function an(e,t){return ia(this,e).set(e,t),this}function on(e){var t=-1,n=e?e.length:0;for(this.__data__=new Xt;++t<n;)this.add(e[t])}function sn(e){return this.__data__.set(e,Z),this}function ln(e){return this.__data__.has(e)}function un(e){this.__data__=new Ht(e)}function cn(){this.__data__=new Ht}function dn(e){return this.__data__.delete(e)}function pn(e){return this.__data__.get(e)}function hn(e){return this.__data__.has(e)}function fn(e,t){var n=this.__data__;if(n instanceof Ht){var r=n.__data__;if(!Cc||r.length<Y-1)return r.push([e,t]),this;n=this.__data__=new Xt(r)}return n.set(e,t),this}function gn(e,t){var n=Wd(e)||Hs(e)||As(e)?$(e.length,String):[],r=n.length,i=!!r;for(var a in e)!t&&!Ku.call(e,a)||i&&("length"==a||ga(a,r))||n.push(a);return n}function mn(e,t,n,r){return e===H||ws(e,Wu[n])&&!Ku.call(r,n)?t:e}function vn(e,t,n){(n!==H&&!ws(e[t],n)||"number"==typeof t&&n===H&&!(t in e))&&(e[t]=n)}function yn(e,t,n){var r=e[t];Ku.call(e,t)&&ws(r,n)&&(n!==H||t in e)||(e[t]=n)}function Dn(e,t){for(var n=e.length;n--;)if(ws(e[n][0],t))return n;return-1}function Mn(e,t,n,r){return Uc(e,function(e,i,a){t(r,e,n(e),a)}),r}function Tn(e,t){return e&&_i(t,yl(t),e)}function Fn(e,t){for(var n=-1,r=null==e,i=t.length,a=Eu(i);++n<i;)a[n]=r?H:gl(e,t[n]);return a}function On(e,t,n){return e===e&&(n!==H&&(e=n>=e?e:n),t!==H&&(e=e>=t?e:t)),e}function Ln(e,t,n,r,i,o,s){var l;if(r&&(l=o?r(e,i,o,s):r(e)),l!==H)return l;if(!Is(e))return e;var u=Wd(e);if(u){if(l=ca(e),!t)return Ci(e,l)}else{var c=Zc(e),d=c==Fe||c==Oe;if(Gd(e))return pi(e,t);if(c==Le||c==xe||d&&!o){if(R(e))return o?e:{};if(l=da(d?{}:e),!t)return xi(e,Tn(l,e))}else{if(!kn[c])return o?e:{};l=pa(e,c,Ln,t)}}s||(s=new un);var p=s.get(e);if(p)return p;if(s.set(e,l),!u)var h=n?Xi(e):yl(e);return a(h||e,function(i,a){h&&(a=i,i=e[a]),yn(l,a,Ln(i,t,n,r,a,e,s))}),l}function In(e){var t=yl(e);return function(n){return Nn(n,e,t)}}function Nn(e,t,n){var r=n.length;if(null==e)return!r;for(e=Object(e);r--;){var i=n[r],a=t[i],o=e[i];if(o===H&&!(i in e)||!a(o))return!1}return!0}function Bn(e){return Is(e)?nc(e):{}}function Un(e,t,n){if("function"!=typeof e)throw new Nu(Q);return ed(function(){e.apply(H,n)},t)}function Gn(e,t,n,r){var i=-1,a=u,o=!0,s=e.length,l=[],p=t.length;if(!s)return l;n&&(t=d(t,M(n))),r?(a=c,o=!1):t.length>=Y&&(a=F,o=!1,t=new on(t));e:for(;++i<s;){var h=e[i],f=n?n(h):h;if(h=r||0!==h?h:0,o&&f===f){for(var g=p;g--;)if(t[g]===f)continue e;l.push(h)}else a(t,f,r)||l.push(h)}return l}function Xn(e,t){var n=!0;return Uc(e,function(e,r,i){return n=!!t(e,r,i)}),n}function er(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],o=t(a);if(null!=o&&(s===H?o===o&&!Vs(o):n(o,s)))var s=o,l=a}return l}function tr(e,t,n,r){var i=e.length;for(n=el(n),0>n&&(n=-n>i?0:i+n),r=r===H||r>i?i:el(r),0>r&&(r+=i),r=n>r?0:tl(r);r>n;)e[n++]=t;return e}function nr(e,t){var n=[];return Uc(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function rr(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=fa),i||(i=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?rr(s,t-1,n,r,i):p(i,s):r||(i[i.length]=s)}return i}function ir(e,t){return e&&qc(e,t,yl)}function ar(e,t){return e&&jc(e,t,yl)}function or(e,t){return l(t,function(t){return Ps(e[t])})}function sr(e,t){t=va(t,e)?[t]:ci(t);for(var n=0,r=t.length;null!=e&&r>n;)e=e[Ma(t[n++])];return n&&n==r?e:H}function lr(e,t,n){var r=t(e);return Wd(e)?r:p(r,n(e))}function ur(e){return Vu.call(e)}function cr(e,t){return e>t}function dr(e,t){return null!=e&&Ku.call(e,t)}function pr(e,t){return null!=e&&t in Object(e)}function hr(e,t,n){return e>=vc(t,n)&&e<mc(t,n)}function fr(e,t,n){for(var r=n?c:u,i=e[0].length,a=e.length,o=a,s=Eu(a),l=1/0,p=[];o--;){var h=e[o];o&&t&&(h=d(h,M(t))),l=vc(h.length,l),s[o]=!n&&(t||i>=120&&h.length>=120)?new on(o&&h):H}h=e[0];var f=-1,g=s[0];e:for(;++f<i&&p.length<l;){var m=h[f],v=t?t(m):m;if(m=n||0!==m?m:0,!(g?F(g,v):r(p,v,n))){for(o=a;--o;){var y=s[o];if(!(y?F(y,v):r(e[o],v,n)))continue e}g&&g.push(v),p.push(m)}}return p}function gr(e,t,n,r){return ir(e,function(e,i,a){t(r,n(e),i,a)}),r}function mr(e,t,n){va(t,e)||(t=ci(t),e=$a(e,t),t=Za(t));var i=null==e?e:e[Ma(t)];return null==i?H:r(i,e,n)}function vr(e){return Rs(e)&&Vu.call(e)==qe}function yr(e){return Rs(e)&&Vu.call(e)==Me}function br(e,t,n,r,i){return e===t?!0:null==e||null==t||!Is(e)&&!Rs(t)?e!==e&&t!==t:Sr(e,t,br,n,r,i)}function Sr(e,t,n,r,i,a){var o=Wd(e),s=Wd(t),l=$e,u=$e;o||(l=Zc(e),l=l==xe?Le:l),s||(u=Zc(t),u=u==xe?Le:u);var c=l==Le&&!R(e),d=u==Le&&!R(t),p=l==u;if(p&&!c)return a||(a=new un),o||Hd(e)?Qi(e,t,n,r,i,a):Zi(e,t,l,n,r,i,a);if(!(i&ce)){var h=c&&Ku.call(e,"__wrapped__"),f=d&&Ku.call(t,"__wrapped__");if(h||f){var g=h?e.value():e,m=f?t.value():t;return a||(a=new un),n(g,m,r,i,a)}}return p?(a||(a=new un),Ji(e,t,n,r,i,a)):!1}function Dr(e){return Rs(e)&&Zc(e)==Pe}function wr(e,t,n,r){var i=n.length,a=i,o=!r;if(null==e)return!a;for(e=Object(e);i--;){var s=n[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){s=n[i];var l=s[0],u=e[l],c=s[1];
if(o&&s[2]){if(u===H&&!(l in e))return!1}else{var d=new un;if(r)var p=r(u,c,l,e,t,d);if(!(p===H?br(c,u,r,ue|ce,d):p))return!1}}return!0}function Ar(e){if(!Is(e)||Sa(e))return!1;var t=Ps(e)||R(e)?Qu:Mt;return t.test(Ta(e))}function Cr(e){return Is(e)&&Vu.call(e)==Re}function _r(e){return Rs(e)&&Zc(e)==Ne}function xr(e){return Rs(e)&&Ls(e.length)&&!!$n[Vu.call(e)]}function $r(e){return"function"==typeof e?e:null==e?lu:"object"==typeof e?Wd(e)?Pr(e[0],e[1]):Or(e):mu(e)}function kr(e){if(!Da(e))return gc(e);var t=[];for(var n in Object(e))Ku.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Mr(e){if(!Is(e))return xa(e);var t=Da(e),n=[];for(var r in e)("constructor"!=r||!t&&Ku.call(e,r))&&n.push(r);return n}function Tr(e,t){return t>e}function Fr(e,t){var n=-1,r=Cs(e)?Eu(e.length):[];return Uc(e,function(e,i,a){r[++n]=t(e,i,a)}),r}function Or(e){var t=aa(e);return 1==t.length&&t[0][2]?Aa(t[0][0],t[0][1]):function(n){return n===e||wr(n,e,t)}}function Pr(e,t){return va(e)&&wa(t)?Aa(Ma(e),t):function(n){var r=gl(n,e);return r===H&&r===t?vl(n,e):br(t,r,H,ue|ce)}}function Er(e,t,n,r,i){if(e!==t){if(!Wd(t)&&!Hd(t))var o=Mr(t);a(o||t,function(a,s){if(o&&(s=a,a=t[s]),Is(a))i||(i=new un),Lr(e,t,s,n,Er,r,i);else{var l=r?r(e[s],a,s+"",e,t,i):H;l===H&&(l=a),vn(e,s,l)}})}}function Lr(e,t,n,r,i,a,o){var s=e[n],l=t[n],u=o.get(l);if(u)return void vn(e,n,u);var c=a?a(s,l,n+"",e,t,o):H,d=c===H;d&&(c=l,Wd(l)||Hd(l)?Wd(s)?c=s:_s(s)?c=Ci(s):(d=!1,c=Ln(l,!0)):Ks(l)||As(l)?As(s)?c=rl(s):!Is(s)||r&&Ps(s)?(d=!1,c=Ln(l,!0)):c=s:d=!1),d&&(o.set(l,c),i(c,l,r,a,o),o.delete(l)),vn(e,n,c)}function Ir(e,t){var n=e.length;if(n)return t+=0>t?n:0,ga(t,n)?e[t]:H}function Rr(e,t,n){var r=-1;t=d(t.length?t:[lu],M(ra()));var i=Fr(e,function(e,n,i){var a=d(t,function(t){return t(e)});return{criteria:a,index:++r,value:e}});return _(i,function(e,t){return Di(e,t,n)})}function Nr(e,t){return e=Object(e),Br(e,t,function(t,n){return n in e})}function Br(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=e[o];n(s,o)&&(a[o]=s)}return a}function Wr(e){return function(t){return sr(t,e)}}function Ur(e,t,n,r){var i=r?b:y,a=-1,o=t.length,s=e;for(e===t&&(t=Ci(t)),n&&(s=d(e,M(n)));++a<o;)for(var l=0,u=t[a],c=n?n(u):u;(l=i(s,c,l,r))>-1;)s!==e&&ic.call(s,l,1),ic.call(e,l,1);return e}function Gr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==a){var a=i;if(ga(i))ic.call(e,i,1);else if(va(i,e))delete e[Ma(i)];else{var o=ci(i),s=$a(e,o);null!=s&&delete s[Ma(Za(o))]}}}return e}function qr(e,t){return e+cc(bc()*(t-e+1))}function jr(e,t,n,r){for(var i=-1,a=mc(uc((t-e)/(n||1)),0),o=Eu(a);a--;)o[r?a:++i]=e,e+=n;return o}function Kr(e,t){var n="";if(!e||1>t||t>be)return n;do t%2&&(n+=e),t=cc(t/2),t&&(e+=e);while(t);return n}function zr(e,t){return t=mc(t===H?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=mc(n.length-t,0),o=Eu(a);++i<a;)o[i]=n[t+i];i=-1;for(var s=Eu(t+1);++i<t;)s[i]=n[i];return s[t]=o,r(e,this,s)}}function Hr(e,t,n,r){if(!Is(e))return e;t=va(t,e)?[t]:ci(t);for(var i=-1,a=t.length,o=a-1,s=e;null!=s&&++i<a;){var l=Ma(t[i]),u=n;if(i!=o){var c=s[l];u=r?r(c,l,s):H,u===H&&(u=Is(c)?c:ga(t[i+1])?[]:{})}yn(s,l,u),s=s[l]}return e}function Vr(e,t,n){var r=-1,i=e.length;0>t&&(t=-t>i?0:i+t),n=n>i?i:n,0>n&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Eu(i);++r<i;)a[r]=e[r+t];return a}function Yr(e,t){var n;return Uc(e,function(e,r,i){return n=t(e,r,i),!n}),!!n}function Qr(e,t,n){var r=0,i=e?e.length:r;if("number"==typeof t&&t===t&&Ce>=i){for(;i>r;){var a=r+i>>>1,o=e[a];null!==o&&!Vs(o)&&(n?t>=o:t>o)?r=a+1:i=a}return i}return Zr(e,t,lu,n)}function Zr(e,t,n,r){t=n(t);for(var i=0,a=e?e.length:0,o=t!==t,s=null===t,l=Vs(t),u=t===H;a>i;){var c=cc((i+a)/2),d=n(e[c]),p=d!==H,h=null===d,f=d===d,g=Vs(d);if(o)var m=r||f;else m=u?f&&(r||p):s?f&&p&&(r||!h):l?f&&p&&!h&&(r||!g):h||g?!1:r?t>=d:t>d;m?i=c+1:a=c}return vc(a,Ae)}function Jr(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n],s=t?t(o):o;if(!n||!ws(s,l)){var l=s;a[i++]=0===o?0:o}}return a}function Xr(e){return"number"==typeof e?e:Vs(e)?De:+e}function ei(e){if("string"==typeof e)return e;if(Vs(e))return Wc?Wc.call(e):"";var t=e+"";return"0"==t&&1/e==-ye?"-0":t}function ti(e,t,n){var r=-1,i=u,a=e.length,o=!0,s=[],l=s;if(n)o=!1,i=c;else if(a>=Y){var d=t?null:Hc(e);if(d)return G(d);o=!1,i=F,l=new on}else l=t?[]:s;e:for(;++r<a;){var p=e[r],h=t?t(p):p;if(p=n||0!==p?p:0,o&&h===h){for(var f=l.length;f--;)if(l[f]===h)continue e;t&&l.push(h),s.push(p)}else i(l,h,n)||(l!==s&&l.push(h),s.push(p))}return s}function ni(e,t){t=va(t,e)?[t]:ci(t),e=$a(e,t);var n=Ma(Za(t));return!(null!=e&&Ku.call(e,n))||delete e[n]}function ri(e,t,n,r){return Hr(e,t,n(sr(e,t)),r)}function ii(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?Vr(e,r?0:a,r?a+1:i):Vr(e,r?a+1:0,r?i:a)}function ai(e,t){var n=e;return n instanceof Rt&&(n=n.value()),h(t,function(e,t){return t.func.apply(t.thisArg,p([e],t.args))},n)}function oi(e,t,n){for(var r=-1,i=e.length;++r<i;)var a=a?p(Gn(a,e[r],t,n),Gn(e[r],a,t,n)):e[r];return a&&a.length?ti(a,t,n):[]}function si(e,t,n){for(var r=-1,i=e.length,a=t.length,o={};++r<i;){var s=a>r?t[r]:H;n(o,e[r],s)}return o}function li(e){return _s(e)?e:[]}function ui(e){return"function"==typeof e?e:lu}function ci(e){return Wd(e)?e:nd(e)}function di(e,t,n){var r=e.length;return n=n===H?r:n,!t&&n>=r?e:Vr(e,t,n)}function pi(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}function hi(e){var t=new e.constructor(e.byteLength);return new Xu(t).set(new Xu(e)),t}function fi(e,t){var n=t?hi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function gi(t,n,r){var i=n?r(B(t),!0):B(t);return h(i,e,new t.constructor)}function mi(e){var t=new e.constructor(e.source,_t.exec(e));return t.lastIndex=e.lastIndex,t}function vi(e,n,r){var i=n?r(G(e),!0):G(e);return h(i,t,new e.constructor)}function yi(e){return Bc?Object(Bc.call(e)):{}}function bi(e,t){var n=t?hi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Si(e,t){if(e!==t){var n=e!==H,r=null===e,i=e===e,a=Vs(e),o=t!==H,s=null===t,l=t===t,u=Vs(t);if(!s&&!u&&!a&&e>t||a&&o&&l&&!s&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!a&&!u&&t>e||u&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!l)return-1}return 0}function Di(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;++r<o;){var l=Si(i[r],a[r]);if(l){if(r>=s)return l;var u=n[r];return l*("desc"==u?-1:1)}}return e.index-t.index}function wi(e,t,n,r){for(var i=-1,a=e.length,o=n.length,s=-1,l=t.length,u=mc(a-o,0),c=Eu(l+u),d=!r;++s<l;)c[s]=t[s];for(;++i<o;)(d||a>i)&&(c[n[i]]=e[i]);for(;u--;)c[s++]=e[i++];return c}function Ai(e,t,n,r){for(var i=-1,a=e.length,o=-1,s=n.length,l=-1,u=t.length,c=mc(a-s,0),d=Eu(c+u),p=!r;++i<c;)d[i]=e[i];for(var h=i;++l<u;)d[h+l]=t[l];for(;++o<s;)(p||a>i)&&(d[h+n[o]]=e[i++]);return d}function Ci(e,t){var n=-1,r=e.length;for(t||(t=Eu(r));++n<r;)t[n]=e[n];return t}function _i(e,t,n,r){n||(n={});for(var i=-1,a=t.length;++i<a;){var o=t[i],s=r?r(n[o],e[o],o,n,e):H;yn(n,o,s===H?e[o]:s)}return n}function xi(e,t){return _i(e,Yc(e),t)}function $i(e,t){return function(n,r){var a=Wd(n)?i:Mn,o=t?t():{};return a(n,e,ra(r,2),o)}}function ki(e){return zr(function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:H,o=i>2?n[2]:H;for(a=e.length>3&&"function"==typeof a?(i--,a):H,o&&ma(n[0],n[1],o)&&(a=3>i?H:a,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,a)}return t})}function Mi(e,t){return function(n,r){if(null==n)return n;if(!Cs(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Object(n);(t?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}function Ti(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var l=o[e?s:++i];if(n(a[l],l,a)===!1)break}return t}}function Fi(e,t,n){function r(){var t=this&&this!==Rn&&this instanceof r?a:e;return t.apply(i?n:this,arguments)}var i=t&X,a=Ei(e);return r}function Oi(e){return function(t){t=al(t);var n=An.test(t)?K(t):H,r=n?n[0]:t.charAt(0),i=n?di(n,1).join(""):t.slice(1);return r[e]()+i}}function Pi(e){return function(t){return h(ru(Rl(t).replace(bn,"")),e,"")}}function Ei(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Bn(e.prototype),r=e.apply(n,t);return Is(r)?r:n}}function Li(e,t,n){function i(){for(var o=arguments.length,s=Eu(o),l=o,u=na(i);l--;)s[l]=arguments[l];var c=3>o&&s[0]!==u&&s[o-1]!==u?[]:U(s,u);if(o-=c.length,n>o)return zi(e,t,Ni,i.placeholder,H,s,c,H,H,n-o);var d=this&&this!==Rn&&this instanceof i?a:e;return r(d,this,s)}var a=Ei(e);return i}function Ii(e){return function(t,n,r){var i=Object(t);if(!Cs(t)){var a=ra(n,3);t=yl(t),n=function(e){return a(i[e],e,i)}}var o=e(t,n,r);return o>-1?i[a?t[o]:o]:H}}function Ri(e){return zr(function(t){t=rr(t,1);var n=t.length,r=n,i=It.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new Nu(Q);if(i&&!o&&"wrapper"==ta(a))var o=new It([],!0)}for(r=o?r:n;++r<n;){a=t[r];var s=ta(a),l="wrapper"==s?Vc(a):H;o=l&&ba(l[0])&&l[1]==(oe|ne|ie|se)&&!l[4].length&&1==l[9]?o[ta(l[0])].apply(o,l[3]):1==a.length&&ba(a)?o[s]():o.thru(a)}return function(){var e=arguments,r=e[0];if(o&&1==e.length&&Wd(r)&&r.length>=Y)return o.plant(r).value();for(var i=0,a=n?t[i].apply(this,e):r;++i<n;)a=t[i].call(this,a);return a}})}function Ni(e,t,n,r,i,a,o,s,l,u){function c(){for(var v=arguments.length,y=Eu(v),b=v;b--;)y[b]=arguments[b];if(f)var S=na(c),D=E(y,S);if(r&&(y=wi(y,r,i,f)),a&&(y=Ai(y,a,o,f)),v-=D,f&&u>v){var w=U(y,S);return zi(e,t,Ni,c.placeholder,n,y,w,s,l,u-v)}var A=p?n:this,C=h?A[e]:e;return v=y.length,s?y=ka(y,s):g&&v>1&&y.reverse(),d&&v>l&&(y.length=l),this&&this!==Rn&&this instanceof c&&(C=m||Ei(C)),C.apply(A,y)}var d=t&oe,p=t&X,h=t&ee,f=t&(ne|re),g=t&le,m=h?H:Ei(e);return c}function Bi(e,t){return function(n,r){return gr(n,e,t(r),{})}}function Wi(e,t){return function(n,r){var i;if(n===H&&r===H)return t;if(n!==H&&(i=n),r!==H){if(i===H)return r;"string"==typeof n||"string"==typeof r?(n=ei(n),r=ei(r)):(n=Xr(n),r=Xr(r)),i=e(n,r)}return i}}function Ui(e){return zr(function(t){return t=1==t.length&&Wd(t[0])?d(t[0],M(ra())):d(rr(t,1),M(ra())),zr(function(n){var i=this;return e(t,function(e){return r(e,i,n)})})})}function Gi(e,t){t=t===H?" ":ei(t);var n=t.length;if(2>n)return n?Kr(t,e):t;var r=Kr(t,uc(e/j(t)));return An.test(t)?di(K(r),0,e).join(""):r.slice(0,e)}function qi(e,t,n,i){function a(){for(var t=-1,l=arguments.length,u=-1,c=i.length,d=Eu(c+l),p=this&&this!==Rn&&this instanceof a?s:e;++u<c;)d[u]=i[u];for(;l--;)d[u++]=arguments[++t];return r(p,o?n:this,d)}var o=t&X,s=Ei(e);return a}function ji(e){return function(t,n,r){return r&&"number"!=typeof r&&ma(t,n,r)&&(n=r=H),t=Xs(t),n===H?(n=t,t=0):n=Xs(n),r=r===H?n>t?1:-1:Xs(r),jr(t,n,r,e)}}function Ki(e){return function(t,n){return("string"!=typeof t||"string"!=typeof n)&&(t=nl(t),n=nl(n)),e(t,n)}}function zi(e,t,n,r,i,a,o,s,l,u){var c=t&ne,d=c?o:H,p=c?H:o,h=c?a:H,f=c?H:a;t|=c?ie:ae,t&=~(c?ae:ie),t&te||(t&=~(X|ee));var g=[e,t,i,h,d,f,p,s,l,u],m=n.apply(H,g);return ba(e)&&Xc(m,g),m.placeholder=r,td(m,e,t)}function Hi(e){var t=Iu[e];return function(e,n){if(e=nl(e),n=vc(el(n),292)){var r=(al(e)+"e").split("e"),i=t(r[0]+"e"+(+r[1]+n));return r=(al(i)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return t(e)}}function Vi(e){return function(t){var n=Zc(t);return n==Pe?B(t):n==Ne?q(t):k(t,e(t))}}function Yi(e,t,n,r,i,a,o,s){var l=t&ee;if(!l&&"function"!=typeof e)throw new Nu(Q);var u=r?r.length:0;if(u||(t&=~(ie|ae),r=i=H),o=o===H?o:mc(el(o),0),s=s===H?s:el(s),u-=i?i.length:0,t&ae){var c=r,d=i;r=i=H}var p=l?H:Vc(e),h=[e,t,n,r,i,c,d,a,o,s];if(p&&Ca(h,p),e=h[0],t=h[1],n=h[2],r=h[3],i=h[4],s=h[9]=null==h[9]?l?0:e.length:mc(h[9]-u,0),!s&&t&(ne|re)&&(t&=~(ne|re)),t&&t!=X)f=t==ne||t==re?Li(e,t,s):t!=ie&&t!=(X|ie)||i.length?Ni.apply(H,h):qi(e,t,n,r);else var f=Fi(e,t,n);var g=p?Kc:Xc;return td(g(f,h),e,t)}function Qi(e,t,n,r,i,a){var o=i&ce,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(e);if(u&&a.get(t))return u==t;var c=-1,d=!0,p=i&ue?new on:H;for(a.set(e,t),a.set(t,e);++c<s;){var h=e[c],f=t[c];if(r)var m=o?r(f,h,c,t,e,a):r(h,f,c,e,t,a);if(m!==H){if(m)continue;d=!1;break}if(p){if(!g(t,function(e,t){return p.has(t)||h!==e&&!n(h,e,r,i,a)?void 0:p.add(t)})){d=!1;break}}else if(h!==f&&!n(h,f,r,i,a)){d=!1;break}}return a.delete(e),a.delete(t),d}function Zi(e,t,n,r,i,a,o){switch(n){case je:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case qe:return e.byteLength==t.byteLength&&r(new Xu(e),new Xu(t))?!0:!1;case ke:case Me:case Ee:return ws(+e,+t);case Te:return e.name==t.name&&e.message==t.message;case Re:case Be:return e==t+"";case Pe:var s=B;case Ne:var l=a&ce;if(s||(s=G),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;a|=ue,o.set(e,t);var c=Qi(s(e),s(t),r,i,a,o);return o.delete(e),c;case We:if(Bc)return Bc.call(e)==Bc.call(t)}return!1}function Ji(e,t,n,r,i,a){var o=i&ce,s=yl(e),l=s.length,u=yl(t),c=u.length;if(l!=c&&!o)return!1;for(var d=l;d--;){var p=s[d];if(!(o?p in t:Ku.call(t,p)))return!1}var h=a.get(e);if(h&&a.get(t))return h==t;var f=!0;a.set(e,t),a.set(t,e);for(var g=o;++d<l;){p=s[d];var m=e[p],v=t[p];if(r)var y=o?r(v,m,p,t,e,a):r(m,v,p,e,t,a);if(!(y===H?m===v||n(m,v,r,i,a):y)){f=!1;break}g||(g="constructor"==p)}if(f&&!g){var b=e.constructor,S=t.constructor;b!=S&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof S&&S instanceof S)&&(f=!1)}return a.delete(e),a.delete(t),f}function Xi(e){return lr(e,yl,Yc)}function ea(e){return lr(e,bl,Qc)}function ta(e){for(var t=e.name+"",n=Oc[t],r=Ku.call(Oc,t)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function na(e){var t=Ku.call(A,"placeholder")?A:e;return t.placeholder}function ra(){var e=A.iteratee||uu;return e=e===uu?$r:e,arguments.length?e(arguments[0],arguments[1]):e}function ia(e,t){var n=e.__data__;return ya(t)?n["string"==typeof t?"string":"hash"]:n.map}function aa(e){for(var t=yl(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,wa(i)]}return t}function oa(e,t){var n=I(e,t);return Ar(n)?n:H}function sa(e,t,n){for(var r=-1,i=n.length;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=vc(t,e+o);break;case"takeRight":e=mc(e,t-o)}}return{start:e,end:t}}function la(e){var t=e.match(St);return t?t[1].split(Dt):[]}function ua(e,t,n){t=va(t,e)?[t]:ci(t);for(var r,i=-1,a=t.length;++i<a;){var o=Ma(t[i]);if(!(r=null!=e&&n(e,o)))break;e=e[o]}if(r)return r;var a=e?e.length:0;return!!a&&Ls(a)&&ga(o,a)&&(Wd(e)||Hs(e)||As(e))}function ca(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&Ku.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function da(e){return"function"!=typeof e.constructor||Da(e)?{}:Bn(ec(e))}function pa(e,t,n,r){var i=e.constructor;switch(t){case qe:return hi(e);case ke:case Me:return new i(+e);case je:return fi(e,r);case Ke:case ze:case He:case Ve:case Ye:case Qe:case Ze:case Je:case Xe:return bi(e,r);case Pe:return gi(e,r,n);case Ee:case Be:return new i(e);case Re:return mi(e);case Ne:return vi(e,r,n);case We:return yi(e)}}function ha(e,t){var n=t.length,r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(bt,"{\n/* [wrapped with "+t+"] */\n")}function fa(e){return Wd(e)||As(e)||!!(ac&&e&&e[ac])}function ga(e,t){return t=null==t?be:t,!!t&&("number"==typeof e||Ft.test(e))&&e>-1&&e%1==0&&t>e}function ma(e,t,n){if(!Is(n))return!1;var r=typeof t;return("number"==r?Cs(n)&&ga(t,n.length):"string"==r&&t in n)?ws(n[t],e):!1}function va(e,t){if(Wd(e))return!1;var n=typeof e;return"number"==n||"symbol"==n||"boolean"==n||null==e||Vs(e)?!0:dt.test(e)||!ct.test(e)||null!=t&&e in Object(t)}function ya(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function ba(e){var t=ta(e),n=A[t];if("function"!=typeof n||!(t in Rt.prototype))return!1;if(e===n)return!0;var r=Vc(n);return!!r&&e===r[0]}function Sa(e){return!!qu&&qu in e}function Da(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||Wu;return e===n}function wa(e){return e===e&&!Is(e)}function Aa(e,t){return function(n){return null==n?!1:n[e]===t&&(t!==H||e in Object(n))}}function Ca(e,t){var n=e[1],r=t[1],i=n|r,a=(X|ee|oe)>i,o=r==oe&&n==ne||r==oe&&n==se&&e[7].length<=t[8]||r==(oe|se)&&t[7].length<=t[8]&&n==ne;if(!a&&!o)return e;r&X&&(e[2]=t[2],i|=n&X?0:te);var s=t[3];if(s){var l=e[3];e[3]=l?wi(l,s,t[4]):s,e[4]=l?U(e[3],J):t[4]}return s=t[5],s&&(l=e[5],e[5]=l?Ai(l,s,t[6]):s,e[6]=l?U(e[5],J):t[6]),s=t[7],s&&(e[7]=s),r&oe&&(e[8]=null==e[8]?t[8]:vc(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function _a(e,t,n,r,i,a){return Is(e)&&Is(t)&&(a.set(t,e),Er(e,t,H,_a,a),a.delete(t)),e}function xa(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}function $a(e,t){return 1==t.length?e:sr(e,Vr(t,0,-1))}function ka(e,t){for(var n=e.length,r=vc(t.length,n),i=Ci(e);r--;){var a=t[r];e[r]=ga(a,n)?i[a]:H}return e}function Ma(e){if("string"==typeof e||Vs(e))return e;var t=e+"";return"0"==t&&1/e==-ye?"-0":t}function Ta(e){if(null!=e){try{return ju.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Fa(e,t){return a(_e,function(n){var r="_."+n[0];t&n[1]&&!u(e,r)&&e.push(r)}),e.sort()}function Oa(e){if(e instanceof Rt)return e.clone();var t=new It(e.__wrapped__,e.__chain__);return t.__actions__=Ci(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Pa(e,t,n){t=(n?ma(e,t,n):t===H)?1:mc(el(t),0);var r=e?e.length:0;if(!r||1>t)return[];for(var i=0,a=0,o=Eu(uc(r/t));r>i;)o[a++]=Vr(e,i,i+=t);return o}function Ea(e){for(var t=-1,n=e?e.length:0,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i}function La(){for(var e=arguments.length,t=Eu(e?e-1:0),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return e?p(Wd(n)?Ci(n):[n],rr(t,1)):[]}function Ia(e,t,n){var r=e?e.length:0;return r?(t=n||t===H?1:el(t),Vr(e,0>t?0:t,r)):[]}function Ra(e,t,n){var r=e?e.length:0;return r?(t=n||t===H?1:el(t),t=r-t,Vr(e,0,0>t?0:t)):[]}function Na(e,t){return e&&e.length?ii(e,ra(t,3),!0,!0):[]}function Ba(e,t){return e&&e.length?ii(e,ra(t,3),!0):[]}function Wa(e,t,n,r){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&ma(e,t,n)&&(n=0,r=i),tr(e,t,n,r)):[]}function Ua(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=null==n?0:el(n);return 0>i&&(i=mc(r+i,0)),v(e,ra(t,3),i)}function Ga(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=r-1;return n!==H&&(i=el(n),i=0>n?mc(r+i,0):vc(i,r-1)),v(e,ra(t,3),i,!0)}function qa(e){var t=e?e.length:0;return t?rr(e,1):[]}function ja(e){var t=e?e.length:0;return t?rr(e,ye):[]}function Ka(e,t){var n=e?e.length:0;return n?(t=t===H?1:el(t),rr(e,t)):[]}function za(e){for(var t=-1,n=e?e.length:0,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r}function Ha(e){return e&&e.length?e[0]:H}function Va(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=null==n?0:el(n);return 0>i&&(i=mc(r+i,0)),y(e,t,i)}function Ya(e){var t=e?e.length:0;return t?Vr(e,0,-1):[]}function Qa(e,t){return e?fc.call(e,t):""}function Za(e){var t=e?e.length:0;return t?e[t-1]:H}function Ja(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=r;if(n!==H&&(i=el(n),i=(0>i?mc(r+i,0):vc(i,r-1))+1),t!==t)return v(e,S,i-1,!0);for(;i--;)if(e[i]===t)return i;return-1}function Xa(e,t){return e&&e.length?Ir(e,el(t)):H}function eo(e,t){return e&&e.length&&t&&t.length?Ur(e,t):e}function to(e,t,n){return e&&e.length&&t&&t.length?Ur(e,t,ra(n,2)):e}function no(e,t,n){return e&&e.length&&t&&t.length?Ur(e,t,H,n):e}function ro(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],a=e.length;for(t=ra(t,3);++r<a;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return Gr(e,i),n}function io(e){return e?Dc.call(e):e}function ao(e,t,n){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&ma(e,t,n)?(t=0,n=r):(t=null==t?0:el(t),n=n===H?r:el(n)),Vr(e,t,n)):[]}function oo(e,t){return Qr(e,t)}function so(e,t,n){return Zr(e,t,ra(n,2))}function lo(e,t){var n=e?e.length:0;if(n){var r=Qr(e,t);if(n>r&&ws(e[r],t))return r}return-1}function uo(e,t){return Qr(e,t,!0)}function co(e,t,n){return Zr(e,t,ra(n,2),!0)}function po(e,t){var n=e?e.length:0;if(n){var r=Qr(e,t,!0)-1;if(ws(e[r],t))return r}return-1}function ho(e){return e&&e.length?Jr(e):[]}function fo(e,t){return e&&e.length?Jr(e,ra(t,2)):[]}function go(e){var t=e?e.length:0;return t?Vr(e,1,t):[]}function mo(e,t,n){return e&&e.length?(t=n||t===H?1:el(t),Vr(e,0,0>t?0:t)):[]}function vo(e,t,n){var r=e?e.length:0;return r?(t=n||t===H?1:el(t),t=r-t,Vr(e,0>t?0:t,r)):[]}function yo(e,t){return e&&e.length?ii(e,ra(t,3),!1,!0):[]}function bo(e,t){return e&&e.length?ii(e,ra(t,3)):[]}function So(e){return e&&e.length?ti(e):[]}function Do(e,t){return e&&e.length?ti(e,ra(t,2)):[]}function wo(e,t){return e&&e.length?ti(e,H,t):[]}function Ao(e){if(!e||!e.length)return[];var t=0;return e=l(e,function(e){return _s(e)?(t=mc(e.length,t),!0):void 0}),$(t,function(t){return d(e,w(t))})}function Co(e,t){if(!e||!e.length)return[];var n=Ao(e);return null==t?n:d(n,function(e){return r(t,H,e)})}function _o(e,t){return si(e||[],t||[],yn)}function xo(e,t){return si(e||[],t||[],Hr)}function $o(e){var t=A(e);return t.__chain__=!0,t}function ko(e,t){return t(e),e}function Mo(e,t){return t(e)}function To(){return $o(this)}function Fo(){return new It(this.value(),this.__chain__)}function Oo(){this.__values__===H&&(this.__values__=Js(this.value()));var e=this.__index__>=this.__values__.length,t=e?H:this.__values__[this.__index__++];return{done:e,value:t}}function Po(){return this}function Eo(e){for(var t,n=this;n instanceof Lt;){var r=Oa(n);r.__index__=0,r.__values__=H,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t}function Lo(){var e=this.__wrapped__;if(e instanceof Rt){var t=e;return this.__actions__.length&&(t=new Rt(this)),t=t.reverse(),t.__actions__.push({func:Mo,args:[io],thisArg:H}),new It(t,this.__chain__)}return this.thru(io)}function Io(){return ai(this.__wrapped__,this.__actions__)}function Ro(e,t,n){var r=Wd(e)?s:Xn;return n&&ma(e,t,n)&&(t=H),r(e,ra(t,3))}function No(e,t){var n=Wd(e)?l:nr;return n(e,ra(t,3))}function Bo(e,t){return rr(Ko(e,t),1)}function Wo(e,t){return rr(Ko(e,t),ye)}function Uo(e,t,n){return n=n===H?1:el(n),rr(Ko(e,t),n)}function Go(e,t){var n=Wd(e)?a:Uc;return n(e,ra(t,3))}function qo(e,t){var n=Wd(e)?o:Gc;return n(e,ra(t,3))}function jo(e,t,n,r){e=Cs(e)?e:Fl(e),n=n&&!r?el(n):0;var i=e.length;return 0>n&&(n=mc(i+n,0)),Hs(e)?i>=n&&e.indexOf(t,n)>-1:!!i&&y(e,t,n)>-1}function Ko(e,t){var n=Wd(e)?d:Fr;return n(e,ra(t,3))}function zo(e,t,n,r){return null==e?[]:(Wd(t)||(t=null==t?[]:[t]),n=r?H:n,Wd(n)||(n=null==n?[]:[n]),Rr(e,t,n))}function Ho(e,t,n){var r=Wd(e)?h:C,i=arguments.length<3;return r(e,ra(t,4),n,i,Uc)}function Vo(e,t,n){var r=Wd(e)?f:C,i=arguments.length<3;return r(e,ra(t,4),n,i,Gc)}function Yo(e,t){var n=Wd(e)?l:nr;return n(e,us(ra(t,3)))}function Qo(e){var t=Cs(e)?e:Fl(e),n=t.length;return n>0?t[qr(0,n-1)]:H}function Zo(e,t,n){var r=-1,i=Js(e),a=i.length,o=a-1;for(t=(n?ma(e,t,n):t===H)?1:On(el(t),0,a);++r<t;){var s=qr(r,o),l=i[s];i[s]=i[r],i[r]=l}return i.length=t,i}function Jo(e){return Zo(e,we)}function Xo(e){if(null==e)return 0;if(Cs(e)){var t=e.length;return t&&Hs(e)?j(e):t}if(Rs(e)){var n=Zc(e);if(n==Pe||n==Ne)return e.size}return kr(e).length}function es(e,t,n){var r=Wd(e)?g:Yr;return n&&ma(e,t,n)&&(t=H),r(e,ra(t,3))}function ts(e,t){if("function"!=typeof t)throw new Nu(Q);return e=el(e),function(){return--e<1?t.apply(this,arguments):void 0}}function ns(e,t,n){return t=n?H:t,t=e&&null==t?e.length:t,Yi(e,oe,H,H,H,H,t)}function rs(e,t){var n;if("function"!=typeof t)throw new Nu(Q);return e=el(e),function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=H),n}}function is(e,t,n){t=n?H:t;var r=Yi(e,ne,H,H,H,H,H,t);return r.placeholder=is.placeholder,r}function as(e,t,n){t=n?H:t;var r=Yi(e,re,H,H,H,H,H,t);return r.placeholder=as.placeholder,r}function os(e,t,n){function r(t){var n=p,r=h;return p=h=H,y=t,g=e.apply(r,n)}function i(e){return y=e,m=ed(s,t),b?r(e):g}function a(e){var n=e-v,r=e-y,i=t-n;return S?vc(i,f-r):i}function o(e){var n=e-v,r=e-y;return v===H||n>=t||0>n||S&&r>=f}function s(){var e=Md();return o(e)?l(e):void(m=ed(s,a(e)))}function l(e){return m=H,D&&p?r(e):(p=h=H,g)}function u(){m!==H&&zc(m),y=0,p=v=h=m=H}function c(){return m===H?g:l(Md())}function d(){var e=Md(),n=o(e);if(p=arguments,h=this,v=e,n){if(m===H)return i(v);if(S)return m=ed(s,t),r(v)}return m===H&&(m=ed(s,t)),g}var p,h,f,g,m,v,y=0,b=!1,S=!1,D=!0;if("function"!=typeof e)throw new Nu(Q);return t=nl(t)||0,Is(n)&&(b=!!n.leading,S="maxWait"in n,f=S?mc(nl(n.maxWait)||0,t):f,D="trailing"in n?!!n.trailing:D),d.cancel=u,d.flush=c,d}function ss(e){return Yi(e,le)}function ls(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new Nu(Q);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o),o};return n.cache=new(ls.Cache||Xt),n}function us(e){if("function"!=typeof e)throw new Nu(Q);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function cs(e){return rs(2,e)}function ds(e,t){if("function"!=typeof e)throw new Nu(Q);return t=t===H?t:el(t),zr(e,t)}function ps(e,t){if("function"!=typeof e)throw new Nu(Q);return t=t===H?0:mc(el(t),0),zr(function(n){var i=n[t],a=di(n,0,t);return i&&p(a,i),r(e,this,a)})}function hs(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Nu(Q);return Is(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),os(e,t,{leading:r,maxWait:t,trailing:i})}function fs(e){return ns(e,1)}function gs(e,t){return t=null==t?lu:t,Ld(t,e)}function ms(){if(!arguments.length)return[];var e=arguments[0];return Wd(e)?e:[e]}function vs(e){return Ln(e,!1,!0)}function ys(e,t){return Ln(e,!1,!0,t)}function bs(e){return Ln(e,!0,!0)}function Ss(e,t){return Ln(e,!0,!0,t)}function Ds(e,t){return null==t||Nn(e,t,yl(t))}function ws(e,t){return e===t||e!==e&&t!==t}function As(e){return _s(e)&&Ku.call(e,"callee")&&(!rc.call(e,"callee")||Vu.call(e)==xe)}function Cs(e){return null!=e&&Ls(e.length)&&!Ps(e)}function _s(e){return Rs(e)&&Cs(e)}function xs(e){return e===!0||e===!1||Rs(e)&&Vu.call(e)==ke}function $s(e){return!!e&&1===e.nodeType&&Rs(e)&&!Ks(e)}function ks(e){if(Cs(e)&&(Wd(e)||Hs(e)||Ps(e.splice)||As(e)||Gd(e)))return!e.length;if(Rs(e)){var t=Zc(e);if(t==Pe||t==Ne)return!e.size}var n=Da(e);for(var r in e)if(Ku.call(e,r)&&(!n||"constructor"!=r))return!1;return!(Fc&&gc(e).length)}function Ms(e,t){return br(e,t)}function Ts(e,t,n){n="function"==typeof n?n:H;var r=n?n(e,t):H;return r===H?br(e,t,n):!!r}function Fs(e){return Rs(e)?Vu.call(e)==Te||"string"==typeof e.message&&"string"==typeof e.name:!1}function Os(e){return"number"==typeof e&&hc(e)}function Ps(e){var t=Is(e)?Vu.call(e):"";return t==Fe||t==Oe}function Es(e){return"number"==typeof e&&e==el(e)}function Ls(e){return"number"==typeof e&&e>-1&&e%1==0&&be>=e}function Is(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Rs(e){return!!e&&"object"==typeof e}function Ns(e,t){return e===t||wr(e,t,aa(t))}function Bs(e,t,n){return n="function"==typeof n?n:H,wr(e,t,aa(t),n)}function Ws(e){return js(e)&&e!=+e}function Us(e){if(Jc(e))throw new Lu("This method is not supported with core-js. Try https://github.com/es-shims.");return Ar(e)}function Gs(e){return null===e}function qs(e){return null==e}function js(e){return"number"==typeof e||Rs(e)&&Vu.call(e)==Ee}function Ks(e){if(!Rs(e)||Vu.call(e)!=Le||R(e))return!1;var t=ec(e);if(null===t)return!0;var n=Ku.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ju.call(n)==Hu}function zs(e){return Es(e)&&e>=-be&&be>=e}function Hs(e){return"string"==typeof e||!Wd(e)&&Rs(e)&&Vu.call(e)==Be}function Vs(e){return"symbol"==typeof e||Rs(e)&&Vu.call(e)==We}function Ys(e){return e===H}function Qs(e){return Rs(e)&&Zc(e)==Ue}function Zs(e){return Rs(e)&&Vu.call(e)==Ge}function Js(e){if(!e)return[];if(Cs(e))return Hs(e)?K(e):Ci(e);if(tc&&e[tc])return N(e[tc]());var t=Zc(e),n=t==Pe?B:t==Ne?G:Fl;return n(e)}function Xs(e){if(!e)return 0===e?e:0;if(e=nl(e),e===ye||e===-ye){var t=0>e?-1:1;return t*Se}return e===e?e:0}function el(e){var t=Xs(e),n=t%1;return t===t?n?t-n:t:0}function tl(e){return e?On(el(e),0,we):0}function nl(e){if("number"==typeof e)return e;if(Vs(e))return De;if(Is(e)){var t=Ps(e.valueOf)?e.valueOf():e;e=Is(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(mt,"");var n=kt.test(e);return n||Tt.test(e)?En(e.slice(2),n?2:8):$t.test(e)?De:+e}function rl(e){return _i(e,bl(e))}function il(e){return On(el(e),-be,be)}function al(e){return null==e?"":ei(e)}function ol(e,t){var n=Bn(e);return t?Tn(n,t):n}function sl(e,t){return m(e,ra(t,3),ir)}function ll(e,t){return m(e,ra(t,3),ar)}function ul(e,t){return null==e?e:qc(e,ra(t,3),bl)}function cl(e,t){return null==e?e:jc(e,ra(t,3),bl)}function dl(e,t){return e&&ir(e,ra(t,3))}function pl(e,t){return e&&ar(e,ra(t,3))}function hl(e){return null==e?[]:or(e,yl(e))}function fl(e){return null==e?[]:or(e,bl(e))}function gl(e,t,n){var r=null==e?H:sr(e,t);return r===H?n:r}function ml(e,t){return null!=e&&ua(e,t,dr)}function vl(e,t){return null!=e&&ua(e,t,pr)}function yl(e){return Cs(e)?gn(e):kr(e)}function bl(e){return Cs(e)?gn(e,!0):Mr(e)}function Sl(e,t){var n={};return t=ra(t,3),ir(e,function(e,r,i){n[t(e,r,i)]=e}),n}function Dl(e,t){var n={};return t=ra(t,3),ir(e,function(e,r,i){n[r]=t(e,r,i)}),n}function wl(e,t){return Al(e,us(ra(t)))}function Al(e,t){return null==e?{}:Br(e,ea(e),ra(t))}function Cl(e,t,n){t=va(t,e)?[t]:ci(t);var r=-1,i=t.length;for(i||(e=H,i=1);++r<i;){var a=null==e?H:e[Ma(t[r])];a===H&&(r=i,a=n),e=Ps(a)?a.call(e):a}return e}function _l(e,t,n){return null==e?e:Hr(e,t,n)}function xl(e,t,n,r){return r="function"==typeof r?r:H,null==e?e:Hr(e,t,n,r)}function $l(e,t,n){var r=Wd(e)||Hd(e);if(t=ra(t,4),null==n)if(r||Is(e)){var i=e.constructor;n=r?Wd(e)?new i:[]:Ps(i)?Bn(ec(e)):{}}else n={};return(r?a:ir)(e,function(e,r,i){return t(n,e,r,i)}),n}function kl(e,t){return null==e?!0:ni(e,t)}function Ml(e,t,n){return null==e?e:ri(e,t,ui(n))}function Tl(e,t,n,r){return r="function"==typeof r?r:H,null==e?e:ri(e,t,ui(n),r)}function Fl(e){return e?T(e,yl(e)):[]}function Ol(e){return null==e?[]:T(e,bl(e))}function Pl(e,t,n){return n===H&&(n=t,t=H),n!==H&&(n=nl(n),n=n===n?n:0),t!==H&&(t=nl(t),t=t===t?t:0),On(nl(e),t,n)}function El(e,t,n){return t=Xs(t),n===H?(n=t,t=0):n=Xs(n),e=nl(e),hr(e,t,n)}function Ll(e,t,n){if(n&&"boolean"!=typeof n&&ma(e,t,n)&&(t=n=H),n===H&&("boolean"==typeof t?(n=t,t=H):"boolean"==typeof e&&(n=e,e=H)),e===H&&t===H?(e=0,t=1):(e=Xs(e),t===H?(t=e,e=0):t=Xs(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=bc();return vc(e+i*(t-e+Pn("1e-"+((i+"").length-1))),t)}return qr(e,t)}function Il(e){return bp(al(e).toLowerCase())}function Rl(e){return e=al(e),e&&e.replace(Ot,Yn).replace(Sn,"")}function Nl(e,t,n){e=al(e),t=ei(t);var r=e.length;n=n===H?r:On(el(n),0,r);var i=n;return n-=t.length,n>=0&&e.slice(n,i)==t}function Bl(e){return e=al(e),e&&ot.test(e)?e.replace(it,Qn):e}function Wl(e){return e=al(e),e&&gt.test(e)?e.replace(ft,"\\$&"):e}function Ul(e,t,n){e=al(e),t=el(t);var r=t?j(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Gi(cc(i),n)+e+Gi(uc(i),n)}function Gl(e,t,n){e=al(e),t=el(t);var r=t?j(e):0;return t&&t>r?e+Gi(t-r,n):e}function ql(e,t,n){e=al(e),t=el(t);var r=t?j(e):0;return t&&t>r?Gi(t-r,n)+e:e}function jl(e,t,n){return n||null==t?t=0:t&&(t=+t),e=al(e).replace(mt,""),yc(e,t||(xt.test(e)?16:10))}function Kl(e,t,n){return t=(n?ma(e,t,n):t===H)?1:el(t),Kr(al(e),t)}function zl(){var e=arguments,t=al(e[0]);return e.length<3?t:Sc.call(t,e[1],e[2])}function Hl(e,t,n){return n&&"number"!=typeof n&&ma(e,t,n)&&(t=n=H),
(n=n===H?we:n>>>0)?(e=al(e),e&&("string"==typeof t||null!=t&&!Kd(t))&&(t=ei(t),""==t&&An.test(e))?di(K(e),0,n):wc.call(e,t,n)):[]}function Vl(e,t,n){return e=al(e),n=On(el(n),0,e.length),t=ei(t),e.slice(n,n+t.length)==t}function Yl(e,t,n){var r=A.templateSettings;n&&ma(e,t,n)&&(t=H),e=al(e),t=Jd({},t,r,mn);var i,a,o=Jd({},t.imports,r.imports,mn),s=yl(o),l=T(o,s),u=0,c=t.interpolate||Pt,d="__p += '",p=Ru((t.escape||Pt).source+"|"+c.source+"|"+(c===ut?Ct:Pt).source+"|"+(t.evaluate||Pt).source+"|$","g"),h="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++xn+"]")+"\n";e.replace(p,function(t,n,r,o,s,l){return r||(r=o),d+=e.slice(u,l).replace(Et,L),n&&(i=!0,d+="' +\n__e("+n+") +\n'"),s&&(a=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=l+t.length,t}),d+="';\n";var f=t.variable;f||(d="with (obj) {\n"+d+"\n}\n"),d=(a?d.replace(et,""):d).replace(tt,"$1").replace(nt,"$1;"),d="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=Sp(function(){return Function(s,h+"return "+d).apply(H,l)});if(g.source=d,Fs(g))throw g;return g}function Ql(e){return al(e).toLowerCase()}function Zl(e){return al(e).toUpperCase()}function Jl(e,t,n){if(e=al(e),e&&(n||t===H))return e.replace(mt,"");if(!e||!(t=ei(t)))return e;var r=K(e),i=K(t),a=O(r,i),o=P(r,i)+1;return di(r,a,o).join("")}function Xl(e,t,n){if(e=al(e),e&&(n||t===H))return e.replace(yt,"");if(!e||!(t=ei(t)))return e;var r=K(e),i=P(r,K(t))+1;return di(r,0,i).join("")}function eu(e,t,n){if(e=al(e),e&&(n||t===H))return e.replace(vt,"");if(!e||!(t=ei(t)))return e;var r=K(e),i=O(r,K(t));return di(r,i).join("")}function tu(e,t){var n=de,r=pe;if(Is(t)){var i="separator"in t?t.separator:i;n="length"in t?el(t.length):n,r="omission"in t?ei(t.omission):r}e=al(e);var a=e.length;if(An.test(e)){var o=K(e);a=o.length}if(n>=a)return e;var s=n-j(r);if(1>s)return r;var l=o?di(o,0,s).join(""):e.slice(0,s);if(i===H)return l+r;if(o&&(s+=l.length-s),Kd(i)){if(e.slice(s).search(i)){var u,c=l;for(i.global||(i=Ru(i.source,al(_t.exec(i))+"g")),i.lastIndex=0;u=i.exec(c);)var d=u.index;l=l.slice(0,d===H?s:d)}}else if(e.indexOf(ei(i),s)!=s){var p=l.lastIndexOf(i);p>-1&&(l=l.slice(0,p))}return l+r}function nu(e){return e=al(e),e&&at.test(e)?e.replace(rt,Zn):e}function ru(e,t,n){return e=al(e),t=n?H:t,t===H&&(t=Cn.test(e)?wn:wt),e.match(t)||[]}function iu(e){var t=e?e.length:0,n=ra();return e=t?d(e,function(e){if("function"!=typeof e[1])throw new Nu(Q);return[n(e[0]),e[1]]}):[],zr(function(n){for(var i=-1;++i<t;){var a=e[i];if(r(a[0],this,n))return r(a[1],this,n)}})}function au(e){return In(Ln(e,!0))}function ou(e){return function(){return e}}function su(e,t){return null==e||e!==e?t:e}function lu(e){return e}function uu(e){return $r("function"==typeof e?e:Ln(e,!0))}function cu(e){return Or(Ln(e,!0))}function du(e,t){return Pr(e,Ln(t,!0))}function pu(e,t,n){var r=yl(t),i=or(t,r);null!=n||Is(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=or(t,yl(t)));var o=!(Is(n)&&"chain"in n&&!n.chain),s=Ps(e);return a(i,function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=Ci(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,p([this.value()],arguments))})}),e}function hu(){return Rn._===this&&(Rn._=Yu),this}function fu(){}function gu(e){return e=el(e),zr(function(t){return Ir(t,e)})}function mu(e){return va(e)?w(Ma(e)):Wr(e)}function vu(e){return function(t){return null==e?H:sr(e,t)}}function yu(){return[]}function bu(){return!1}function Su(){return{}}function Du(){return""}function wu(){return!0}function Au(e,t){if(e=el(e),1>e||e>be)return[];var n=we,r=vc(e,we);t=ra(t),e-=we;for(var i=$(r,t);++n<e;)t(n);return i}function Cu(e){return Wd(e)?d(e,Ma):Vs(e)?[e]:Ci(nd(e))}function _u(e){var t=++zu;return al(e)+t}function xu(e){return e&&e.length?er(e,lu,cr):H}function $u(e,t){return e&&e.length?er(e,ra(t,2),cr):H}function ku(e){return D(e,lu)}function Mu(e,t){return D(e,ra(t,2))}function Tu(e){return e&&e.length?er(e,lu,Tr):H}function Fu(e,t){return e&&e.length?er(e,ra(t,2),Tr):H}function Ou(e){return e&&e.length?x(e,lu):0}function Pu(e,t){return e&&e.length?x(e,ra(t,2)):0}n=n?Jn.defaults({},n,Jn.pick(Rn,_n)):Rn;var Eu=n.Array,Lu=n.Error,Iu=n.Math,Ru=n.RegExp,Nu=n.TypeError,Bu=n.Array.prototype,Wu=n.Object.prototype,Uu=n.String.prototype,Gu=n["__core-js_shared__"],qu=function(){var e=/[^.]+$/.exec(Gu&&Gu.keys&&Gu.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ju=n.Function.prototype.toString,Ku=Wu.hasOwnProperty,zu=0,Hu=ju.call(Object),Vu=Wu.toString,Yu=Rn._,Qu=Ru("^"+ju.call(Ku).replace(ft,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Zu=Wn?n.Buffer:H,Ju=n.Symbol,Xu=n.Uint8Array,ec=W(Object.getPrototypeOf,Object),tc=Ju?Ju.iterator:H,nc=n.Object.create,rc=Wu.propertyIsEnumerable,ic=Bu.splice,ac=Ju?Ju.isConcatSpreadable:H,oc=n.clearTimeout!==Rn.clearTimeout&&n.clearTimeout,sc=n.Date&&n.Date.now!==Rn.Date.now&&n.Date.now,lc=n.setTimeout!==Rn.setTimeout&&n.setTimeout,uc=Iu.ceil,cc=Iu.floor,dc=Object.getOwnPropertySymbols,pc=Zu?Zu.isBuffer:H,hc=n.isFinite,fc=Bu.join,gc=W(Object.keys,Object),mc=Iu.max,vc=Iu.min,yc=n.parseInt,bc=Iu.random,Sc=Uu.replace,Dc=Bu.reverse,wc=Uu.split,Ac=oa(n,"DataView"),Cc=oa(n,"Map"),_c=oa(n,"Promise"),xc=oa(n,"Set"),$c=oa(n,"WeakMap"),kc=oa(n.Object,"create"),Mc=function(){var e=oa(n.Object,"defineProperty"),t=oa.name;return t&&t.length>2?e:H}(),Tc=$c&&new $c,Fc=!rc.call({valueOf:1},"valueOf"),Oc={},Pc=Ta(Ac),Ec=Ta(Cc),Lc=Ta(_c),Ic=Ta(xc),Rc=Ta($c),Nc=Ju?Ju.prototype:H,Bc=Nc?Nc.valueOf:H,Wc=Nc?Nc.toString:H;A.templateSettings={escape:st,evaluate:lt,interpolate:ut,variable:"",imports:{_:A}},A.prototype=Lt.prototype,A.prototype.constructor=A,It.prototype=Bn(Lt.prototype),It.prototype.constructor=It,Rt.prototype=Bn(Lt.prototype),Rt.prototype.constructor=Rt,Ut.prototype.clear=Gt,Ut.prototype.delete=qt,Ut.prototype.get=jt,Ut.prototype.has=Kt,Ut.prototype.set=zt,Ht.prototype.clear=Vt,Ht.prototype.delete=Yt,Ht.prototype.get=Qt,Ht.prototype.has=Zt,Ht.prototype.set=Jt,Xt.prototype.clear=en,Xt.prototype.delete=tn,Xt.prototype.get=nn,Xt.prototype.has=rn,Xt.prototype.set=an,on.prototype.add=on.prototype.push=sn,on.prototype.has=ln,un.prototype.clear=cn,un.prototype.delete=dn,un.prototype.get=pn,un.prototype.has=hn,un.prototype.set=fn;var Uc=Mi(ir),Gc=Mi(ar,!0),qc=Ti(),jc=Ti(!0),Kc=Tc?function(e,t){return Tc.set(e,t),e}:lu,zc=oc||function(e){return Rn.clearTimeout(e)},Hc=xc&&1/G(new xc([,-0]))[1]==ye?function(e){return new xc(e)}:fu,Vc=Tc?function(e){return Tc.get(e)}:fu,Yc=dc?W(dc,Object):yu,Qc=dc?function(e){for(var t=[];e;)p(t,Yc(e)),e=ec(e);return t}:yu,Zc=ur;(Ac&&Zc(new Ac(new ArrayBuffer(1)))!=je||Cc&&Zc(new Cc)!=Pe||_c&&Zc(_c.resolve())!=Ie||xc&&Zc(new xc)!=Ne||$c&&Zc(new $c)!=Ue)&&(Zc=function(e){var t=Vu.call(e),n=t==Le?e.constructor:H,r=n?Ta(n):H;if(r)switch(r){case Pc:return je;case Ec:return Pe;case Lc:return Ie;case Ic:return Ne;case Rc:return Ue}return t});var Jc=Gu?Ps:bu,Xc=function(){var e=0,t=0;return function(n,r){var i=Md(),a=fe-(i-t);if(t=i,a>0){if(++e>=he)return n}else e=0;return Kc(n,r)}}(),ed=lc||function(e,t){return Rn.setTimeout(e,t)},td=Mc?function(e,t,n){var r=t+"";return Mc(e,"toString",{configurable:!0,enumerable:!1,value:ou(ha(r,Fa(la(r),n)))})}:lu,nd=ls(function(e){e=al(e);var t=[];return pt.test(e)&&t.push(""),e.replace(ht,function(e,n,r,i){t.push(r?i.replace(At,"$1"):n||e)}),t}),rd=zr(function(e,t){return _s(e)?Gn(e,rr(t,1,_s,!0)):[]}),id=zr(function(e,t){var n=Za(t);return _s(n)&&(n=H),_s(e)?Gn(e,rr(t,1,_s,!0),ra(n,2)):[]}),ad=zr(function(e,t){var n=Za(t);return _s(n)&&(n=H),_s(e)?Gn(e,rr(t,1,_s,!0),H,n):[]}),od=zr(function(e){var t=d(e,li);return t.length&&t[0]===e[0]?fr(t):[]}),sd=zr(function(e){var t=Za(e),n=d(e,li);return t===Za(n)?t=H:n.pop(),n.length&&n[0]===e[0]?fr(n,ra(t,2)):[]}),ld=zr(function(e){var t=Za(e),n=d(e,li);return t===Za(n)?t=H:n.pop(),n.length&&n[0]===e[0]?fr(n,H,t):[]}),ud=zr(eo),cd=zr(function(e,t){t=rr(t,1);var n=e?e.length:0,r=Fn(e,t);return Gr(e,d(t,function(e){return ga(e,n)?+e:e}).sort(Si)),r}),dd=zr(function(e){return ti(rr(e,1,_s,!0))}),pd=zr(function(e){var t=Za(e);return _s(t)&&(t=H),ti(rr(e,1,_s,!0),ra(t,2))}),hd=zr(function(e){var t=Za(e);return _s(t)&&(t=H),ti(rr(e,1,_s,!0),H,t)}),fd=zr(function(e,t){return _s(e)?Gn(e,t):[]}),gd=zr(function(e){return oi(l(e,_s))}),md=zr(function(e){var t=Za(e);return _s(t)&&(t=H),oi(l(e,_s),ra(t,2))}),vd=zr(function(e){var t=Za(e);return _s(t)&&(t=H),oi(l(e,_s),H,t)}),yd=zr(Ao),bd=zr(function(e){var t=e.length,n=t>1?e[t-1]:H;return n="function"==typeof n?(e.pop(),n):H,Co(e,n)}),Sd=zr(function(e){e=rr(e,1);var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return Fn(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Rt&&ga(n)?(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:Mo,args:[i],thisArg:H}),new It(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(H),e})):this.thru(i)}),Dd=$i(function(e,t,n){Ku.call(e,n)?++e[n]:e[n]=1}),wd=Ii(Ua),Ad=Ii(Ga),Cd=$i(function(e,t,n){Ku.call(e,n)?e[n].push(t):e[n]=[t]}),_d=zr(function(e,t,n){var i=-1,a="function"==typeof t,o=va(t),s=Cs(e)?Eu(e.length):[];return Uc(e,function(e){var l=a?t:o&&null!=e?e[t]:H;s[++i]=l?r(l,e,n):mr(e,t,n)}),s}),xd=$i(function(e,t,n){e[n]=t}),$d=$i(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),kd=zr(function(e,t){if(null==e)return[];var n=t.length;return n>1&&ma(e,t[0],t[1])?t=[]:n>2&&ma(t[0],t[1],t[2])&&(t=[t[0]]),Rr(e,rr(t,1),[])}),Md=sc||function(){return Rn.Date.now()},Td=zr(function(e,t,n){var r=X;if(n.length){var i=U(n,na(Td));r|=ie}return Yi(e,r,t,n,i)}),Fd=zr(function(e,t,n){var r=X|ee;if(n.length){var i=U(n,na(Fd));r|=ie}return Yi(t,r,e,n,i)}),Od=zr(function(e,t){return Un(e,1,t)}),Pd=zr(function(e,t,n){return Un(e,nl(t)||0,n)});ls.Cache=Xt;var Ed=zr(function(e,t){t=1==t.length&&Wd(t[0])?d(t[0],M(ra())):d(rr(t,1),M(ra()));var n=t.length;return zr(function(i){for(var a=-1,o=vc(i.length,n);++a<o;)i[a]=t[a].call(this,i[a]);return r(e,this,i)})}),Ld=zr(function(e,t){var n=U(t,na(Ld));return Yi(e,ie,H,t,n)}),Id=zr(function(e,t){var n=U(t,na(Id));return Yi(e,ae,H,t,n)}),Rd=zr(function(e,t){return Yi(e,se,H,H,H,rr(t,1))}),Nd=Ki(cr),Bd=Ki(function(e,t){return e>=t}),Wd=Eu.isArray,Ud=qn?M(qn):vr,Gd=pc||bu,qd=jn?M(jn):yr,jd=Kn?M(Kn):Dr,Kd=zn?M(zn):Cr,zd=Hn?M(Hn):_r,Hd=Vn?M(Vn):xr,Vd=Ki(Tr),Yd=Ki(function(e,t){return t>=e}),Qd=ki(function(e,t){if(Fc||Da(t)||Cs(t))return void _i(t,yl(t),e);for(var n in t)Ku.call(t,n)&&yn(e,n,t[n])}),Zd=ki(function(e,t){_i(t,bl(t),e)}),Jd=ki(function(e,t,n,r){_i(t,bl(t),e,r)}),Xd=ki(function(e,t,n,r){_i(t,yl(t),e,r)}),ep=zr(function(e,t){return Fn(e,rr(t,1))}),tp=zr(function(e){return e.push(H,mn),r(Jd,H,e)}),np=zr(function(e){return e.push(H,_a),r(sp,H,e)}),rp=Bi(function(e,t,n){e[t]=n},ou(lu)),ip=Bi(function(e,t,n){Ku.call(e,t)?e[t].push(n):e[t]=[n]},ra),ap=zr(mr),op=ki(function(e,t,n){Er(e,t,n)}),sp=ki(function(e,t,n,r){Er(e,t,n,r)}),lp=zr(function(e,t){return null==e?{}:(t=d(rr(t,1),Ma),Nr(e,Gn(ea(e),t)))}),up=zr(function(e,t){return null==e?{}:Nr(e,d(rr(t,1),Ma))}),cp=Vi(yl),dp=Vi(bl),pp=Pi(function(e,t,n){return t=t.toLowerCase(),e+(n?Il(t):t)}),hp=Pi(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),fp=Pi(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),gp=Oi("toLowerCase"),mp=Pi(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),vp=Pi(function(e,t,n){return e+(n?" ":"")+bp(t)}),yp=Pi(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),bp=Oi("toUpperCase"),Sp=zr(function(e,t){try{return r(e,H,t)}catch(n){return Fs(n)?n:new Lu(n)}}),Dp=zr(function(e,t){return a(rr(t,1),function(t){t=Ma(t),e[t]=Td(e[t],e)}),e}),wp=Ri(),Ap=Ri(!0),Cp=zr(function(e,t){return function(n){return mr(n,e,t)}}),_p=zr(function(e,t){return function(n){return mr(e,n,t)}}),xp=Ui(d),$p=Ui(s),kp=Ui(g),Mp=ji(),Tp=ji(!0),Fp=Wi(function(e,t){return e+t},0),Op=Hi("ceil"),Pp=Wi(function(e,t){return e/t},1),Ep=Hi("floor"),Lp=Wi(function(e,t){return e*t},1),Ip=Hi("round"),Rp=Wi(function(e,t){return e-t},0);return A.after=ts,A.ary=ns,A.assign=Qd,A.assignIn=Zd,A.assignInWith=Jd,A.assignWith=Xd,A.at=ep,A.before=rs,A.bind=Td,A.bindAll=Dp,A.bindKey=Fd,A.castArray=ms,A.chain=$o,A.chunk=Pa,A.compact=Ea,A.concat=La,A.cond=iu,A.conforms=au,A.constant=ou,A.countBy=Dd,A.create=ol,A.curry=is,A.curryRight=as,A.debounce=os,A.defaults=tp,A.defaultsDeep=np,A.defer=Od,A.delay=Pd,A.difference=rd,A.differenceBy=id,A.differenceWith=ad,A.drop=Ia,A.dropRight=Ra,A.dropRightWhile=Na,A.dropWhile=Ba,A.fill=Wa,A.filter=No,A.flatMap=Bo,A.flatMapDeep=Wo,A.flatMapDepth=Uo,A.flatten=qa,A.flattenDeep=ja,A.flattenDepth=Ka,A.flip=ss,A.flow=wp,A.flowRight=Ap,A.fromPairs=za,A.functions=hl,A.functionsIn=fl,A.groupBy=Cd,A.initial=Ya,A.intersection=od,A.intersectionBy=sd,A.intersectionWith=ld,A.invert=rp,A.invertBy=ip,A.invokeMap=_d,A.iteratee=uu,A.keyBy=xd,A.keys=yl,A.keysIn=bl,A.map=Ko,A.mapKeys=Sl,A.mapValues=Dl,A.matches=cu,A.matchesProperty=du,A.memoize=ls,A.merge=op,A.mergeWith=sp,A.method=Cp,A.methodOf=_p,A.mixin=pu,A.negate=us,A.nthArg=gu,A.omit=lp,A.omitBy=wl,A.once=cs,A.orderBy=zo,A.over=xp,A.overArgs=Ed,A.overEvery=$p,A.overSome=kp,A.partial=Ld,A.partialRight=Id,A.partition=$d,A.pick=up,A.pickBy=Al,A.property=mu,A.propertyOf=vu,A.pull=ud,A.pullAll=eo,A.pullAllBy=to,A.pullAllWith=no,A.pullAt=cd,A.range=Mp,A.rangeRight=Tp,A.rearg=Rd,A.reject=Yo,A.remove=ro,A.rest=ds,A.reverse=io,A.sampleSize=Zo,A.set=_l,A.setWith=xl,A.shuffle=Jo,A.slice=ao,A.sortBy=kd,A.sortedUniq=ho,A.sortedUniqBy=fo,A.split=Hl,A.spread=ps,A.tail=go,A.take=mo,A.takeRight=vo,A.takeRightWhile=yo,A.takeWhile=bo,A.tap=ko,A.throttle=hs,A.thru=Mo,A.toArray=Js,A.toPairs=cp,A.toPairsIn=dp,A.toPath=Cu,A.toPlainObject=rl,A.transform=$l,A.unary=fs,A.union=dd,A.unionBy=pd,A.unionWith=hd,A.uniq=So,A.uniqBy=Do,A.uniqWith=wo,A.unset=kl,A.unzip=Ao,A.unzipWith=Co,A.update=Ml,A.updateWith=Tl,A.values=Fl,A.valuesIn=Ol,A.without=fd,A.words=ru,A.wrap=gs,A.xor=gd,A.xorBy=md,A.xorWith=vd,A.zip=yd,A.zipObject=_o,A.zipObjectDeep=xo,A.zipWith=bd,A.entries=cp,A.entriesIn=dp,A.extend=Zd,A.extendWith=Jd,pu(A,A),A.add=Fp,A.attempt=Sp,A.camelCase=pp,A.capitalize=Il,A.ceil=Op,A.clamp=Pl,A.clone=vs,A.cloneDeep=bs,A.cloneDeepWith=Ss,A.cloneWith=ys,A.conformsTo=Ds,A.deburr=Rl,A.defaultTo=su,A.divide=Pp,A.endsWith=Nl,A.eq=ws,A.escape=Bl,A.escapeRegExp=Wl,A.every=Ro,A.find=wd,A.findIndex=Ua,A.findKey=sl,A.findLast=Ad,A.findLastIndex=Ga,A.findLastKey=ll,A.floor=Ep,A.forEach=Go,A.forEachRight=qo,A.forIn=ul,A.forInRight=cl,A.forOwn=dl,A.forOwnRight=pl,A.get=gl,A.gt=Nd,A.gte=Bd,A.has=ml,A.hasIn=vl,A.head=Ha,A.identity=lu,A.includes=jo,A.indexOf=Va,A.inRange=El,A.invoke=ap,A.isArguments=As,A.isArray=Wd,A.isArrayBuffer=Ud,A.isArrayLike=Cs,A.isArrayLikeObject=_s,A.isBoolean=xs,A.isBuffer=Gd,A.isDate=qd,A.isElement=$s,A.isEmpty=ks,A.isEqual=Ms,A.isEqualWith=Ts,A.isError=Fs,A.isFinite=Os,A.isFunction=Ps,A.isInteger=Es,A.isLength=Ls,A.isMap=jd,A.isMatch=Ns,A.isMatchWith=Bs,A.isNaN=Ws,A.isNative=Us,A.isNil=qs,A.isNull=Gs,A.isNumber=js,A.isObject=Is,A.isObjectLike=Rs,A.isPlainObject=Ks,A.isRegExp=Kd,A.isSafeInteger=zs,A.isSet=zd,A.isString=Hs,A.isSymbol=Vs,A.isTypedArray=Hd,A.isUndefined=Ys,A.isWeakMap=Qs,A.isWeakSet=Zs,A.join=Qa,A.kebabCase=hp,A.last=Za,A.lastIndexOf=Ja,A.lowerCase=fp,A.lowerFirst=gp,A.lt=Vd,A.lte=Yd,A.max=xu,A.maxBy=$u,A.mean=ku,A.meanBy=Mu,A.min=Tu,A.minBy=Fu,A.stubArray=yu,A.stubFalse=bu,A.stubObject=Su,A.stubString=Du,A.stubTrue=wu,A.multiply=Lp,A.nth=Xa,A.noConflict=hu,A.noop=fu,A.now=Md,A.pad=Ul,A.padEnd=Gl,A.padStart=ql,A.parseInt=jl,A.random=Ll,A.reduce=Ho,A.reduceRight=Vo,A.repeat=Kl,A.replace=zl,A.result=Cl,A.round=Ip,A.runInContext=z,A.sample=Qo,A.size=Xo,A.snakeCase=mp,A.some=es,A.sortedIndex=oo,A.sortedIndexBy=so,A.sortedIndexOf=lo,A.sortedLastIndex=uo,A.sortedLastIndexBy=co,A.sortedLastIndexOf=po,A.startCase=vp,A.startsWith=Vl,A.subtract=Rp,A.sum=Ou,A.sumBy=Pu,A.template=Yl,A.times=Au,A.toFinite=Xs,A.toInteger=el,A.toLength=tl,A.toLower=Ql,A.toNumber=nl,A.toSafeInteger=il,A.toString=al,A.toUpper=Zl,A.trim=Jl,A.trimEnd=Xl,A.trimStart=eu,A.truncate=tu,A.unescape=nu,A.uniqueId=_u,A.upperCase=yp,A.upperFirst=bp,A.each=Go,A.eachRight=qo,A.first=Ha,pu(A,function(){var e={};return ir(A,function(t,n){Ku.call(A.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),A.VERSION=V,a(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){A[e].placeholder=A}),a(["drop","take"],function(e,t){Rt.prototype[e]=function(n){var r=this.__filtered__;if(r&&!t)return new Rt(this);n=n===H?1:mc(el(n),0);var i=this.clone();return r?i.__takeCount__=vc(n,i.__takeCount__):i.__views__.push({size:vc(n,we),type:e+(i.__dir__<0?"Right":"")}),i},Rt.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),a(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==ge||n==ve;Rt.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ra(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),a(["head","last"],function(e,t){var n="take"+(t?"Right":"");Rt.prototype[e]=function(){return this[n](1).value()[0]}}),a(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");Rt.prototype[e]=function(){return this.__filtered__?new Rt(this):this[n](1)}}),Rt.prototype.compact=function(){return this.filter(lu)},Rt.prototype.find=function(e){return this.filter(e).head()},Rt.prototype.findLast=function(e){return this.reverse().find(e)},Rt.prototype.invokeMap=zr(function(e,t){return"function"==typeof e?new Rt(this):this.map(function(n){return mr(n,e,t)})}),Rt.prototype.reject=function(e){return this.filter(us(ra(e)))},Rt.prototype.slice=function(e,t){e=el(e);var n=this;return n.__filtered__&&(e>0||0>t)?new Rt(n):(0>e?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==H&&(t=el(t),n=0>t?n.dropRight(-t):n.take(t-e)),n)},Rt.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Rt.prototype.toArray=function(){return this.take(we)},ir(Rt.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=A[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);i&&(A.prototype[t]=function(){var t=this.__wrapped__,o=r?[1]:arguments,s=t instanceof Rt,l=o[0],u=s||Wd(t),c=function(e){var t=i.apply(A,p([e],o));return r&&d?t[0]:t};u&&n&&"function"==typeof l&&1!=l.length&&(s=u=!1);var d=this.__chain__,h=!!this.__actions__.length,f=a&&!d,g=s&&!h;if(!a&&u){t=g?t:new Rt(this);var m=e.apply(t,o);return m.__actions__.push({func:Mo,args:[c],thisArg:H}),new It(m,d)}return f&&g?e.apply(this,o):(m=this.thru(c),f?r?m.value()[0]:m.value():m)})}),a(["pop","push","shift","sort","splice","unshift"],function(e){var t=Bu[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);A.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Wd(i)?i:[],e)}return this[n](function(n){return t.apply(Wd(n)?n:[],e)})}}),ir(Rt.prototype,function(e,t){var n=A[t];if(n){var r=n.name+"",i=Oc[r]||(Oc[r]=[]);i.push({name:t,func:n})}}),Oc[Ni(H,ee).name]=[{name:"wrapper",func:H}],Rt.prototype.clone=Nt,Rt.prototype.reverse=Bt,Rt.prototype.value=Wt,A.prototype.at=Sd,A.prototype.chain=To,A.prototype.commit=Fo,A.prototype.next=Oo,A.prototype.plant=Eo,A.prototype.reverse=Lo,A.prototype.toJSON=A.prototype.valueOf=A.prototype.value=Io,A.prototype.first=A.prototype.head,tc&&(A.prototype[tc]=Po),A}var H,V="4.14.2",Y=200,Q="Expected a function",Z="__lodash_hash_undefined__",J="__lodash_placeholder__",X=1,ee=2,te=4,ne=8,re=16,ie=32,ae=64,oe=128,se=256,le=512,ue=1,ce=2,de=30,pe="...",he=150,fe=16,ge=1,me=2,ve=3,ye=1/0,be=9007199254740991,Se=1.7976931348623157e308,De=NaN,we=4294967295,Ae=we-1,Ce=we>>>1,_e=[["ary",oe],["bind",X],["bindKey",ee],["curry",ne],["curryRight",re],["flip",le],["partial",ie],["partialRight",ae],["rearg",se]],xe="[object Arguments]",$e="[object Array]",ke="[object Boolean]",Me="[object Date]",Te="[object Error]",Fe="[object Function]",Oe="[object GeneratorFunction]",Pe="[object Map]",Ee="[object Number]",Le="[object Object]",Ie="[object Promise]",Re="[object RegExp]",Ne="[object Set]",Be="[object String]",We="[object Symbol]",Ue="[object WeakMap]",Ge="[object WeakSet]",qe="[object ArrayBuffer]",je="[object DataView]",Ke="[object Float32Array]",ze="[object Float64Array]",He="[object Int8Array]",Ve="[object Int16Array]",Ye="[object Int32Array]",Qe="[object Uint8Array]",Ze="[object Uint8ClampedArray]",Je="[object Uint16Array]",Xe="[object Uint32Array]",et=/\b__p \+= '';/g,tt=/\b(__p \+=) '' \+/g,nt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,rt=/&(?:amp|lt|gt|quot|#39|#96);/g,it=/[&<>"'`]/g,at=RegExp(rt.source),ot=RegExp(it.source),st=/<%-([\s\S]+?)%>/g,lt=/<%([\s\S]+?)%>/g,ut=/<%=([\s\S]+?)%>/g,ct=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dt=/^\w*$/,pt=/^\./,ht=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ft=/[\\^$.*+?()[\]{}|]/g,gt=RegExp(ft.source),mt=/^\s+|\s+$/g,vt=/^\s+/,yt=/\s+$/,bt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,St=/\{\n\/\* \[wrapped with (.+)\] \*/,Dt=/,? & /,wt=/[a-zA-Z0-9]+/g,At=/\\(\\)?/g,Ct=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,_t=/\w*$/,xt=/^0x/i,$t=/^[-+]0x[0-9a-f]+$/i,kt=/^0b[01]+$/i,Mt=/^\[object .+?Constructor\]$/,Tt=/^0o[0-7]+$/i,Ft=/^(?:0|[1-9]\d*)$/,Ot=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Pt=/($^)/,Et=/['\n\r\u2028\u2029\\]/g,Lt="\\ud800-\\udfff",It="\\u0300-\\u036f\\ufe20-\\ufe23",Rt="\\u20d0-\\u20f0",Nt="\\u2700-\\u27bf",Bt="a-z\\xdf-\\xf6\\xf8-\\xff",Wt="\\xac\\xb1\\xd7\\xf7",Ut="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Gt="\\u2000-\\u206f",qt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",jt="A-Z\\xc0-\\xd6\\xd8-\\xde",Kt="\\ufe0e\\ufe0f",zt=Wt+Ut+Gt+qt,Ht="['’]",Vt="["+Lt+"]",Yt="["+zt+"]",Qt="["+It+Rt+"]",Zt="\\d+",Jt="["+Nt+"]",Xt="["+Bt+"]",en="[^"+Lt+zt+Zt+Nt+Bt+jt+"]",tn="\\ud83c[\\udffb-\\udfff]",nn="(?:"+Qt+"|"+tn+")",rn="[^"+Lt+"]",an="(?:\\ud83c[\\udde6-\\uddff]){2}",on="[\\ud800-\\udbff][\\udc00-\\udfff]",sn="["+jt+"]",ln="\\u200d",un="(?:"+Xt+"|"+en+")",cn="(?:"+sn+"|"+en+")",dn="(?:"+Ht+"(?:d|ll|m|re|s|t|ve))?",pn="(?:"+Ht+"(?:D|LL|M|RE|S|T|VE))?",hn=nn+"?",fn="["+Kt+"]?",gn="(?:"+ln+"(?:"+[rn,an,on].join("|")+")"+fn+hn+")*",mn=fn+hn+gn,vn="(?:"+[Jt,an,on].join("|")+")"+mn,yn="(?:"+[rn+Qt+"?",Qt,an,on,Vt].join("|")+")",bn=RegExp(Ht,"g"),Sn=RegExp(Qt,"g"),Dn=RegExp(tn+"(?="+tn+")|"+yn+mn,"g"),wn=RegExp([sn+"?"+Xt+"+"+dn+"(?="+[Yt,sn,"$"].join("|")+")",cn+"+"+pn+"(?="+[Yt,sn+un,"$"].join("|")+")",sn+"?"+un+"+"+dn,sn+"+"+pn,Zt,vn].join("|"),"g"),An=RegExp("["+ln+Lt+It+Rt+Kt+"]"),Cn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,_n=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],xn=-1,$n={};$n[Ke]=$n[ze]=$n[He]=$n[Ve]=$n[Ye]=$n[Qe]=$n[Ze]=$n[Je]=$n[Xe]=!0,$n[xe]=$n[$e]=$n[qe]=$n[ke]=$n[je]=$n[Me]=$n[Te]=$n[Fe]=$n[Pe]=$n[Ee]=$n[Le]=$n[Re]=$n[Ne]=$n[Be]=$n[Ue]=!1;var kn={};kn[xe]=kn[$e]=kn[qe]=kn[je]=kn[ke]=kn[Me]=kn[Ke]=kn[ze]=kn[He]=kn[Ve]=kn[Ye]=kn[Pe]=kn[Ee]=kn[Le]=kn[Re]=kn[Ne]=kn[Be]=kn[We]=kn[Qe]=kn[Ze]=kn[Je]=kn[Xe]=!0,kn[Te]=kn[Fe]=kn[Ue]=!1;var Mn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Tn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Fn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},On={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Pn=parseFloat,En=parseInt,Ln="object"==typeof global&&global&&global.Object===Object&&global,In="object"==typeof self&&self&&self.Object===Object&&self,Rn=Ln||In||Function("return this")(),Nn="object"==typeof exports&&exports&&!exports.nodeType&&exports,Bn=Nn&&"object"==typeof module&&module&&!module.nodeType&&module,Wn=Bn&&Bn.exports===Nn,Un=Wn&&Ln.process,Gn=function(){try{return Un&&Un.binding("util")}catch(e){}}(),qn=Gn&&Gn.isArrayBuffer,jn=Gn&&Gn.isDate,Kn=Gn&&Gn.isMap,zn=Gn&&Gn.isRegExp,Hn=Gn&&Gn.isSet,Vn=Gn&&Gn.isTypedArray,Yn=A(Mn),Qn=A(Tn),Zn=A(Fn),Jn=z();"function"==typeof n&&"object"==typeof n.amd&&n.amd?(Rn._=Jn,n("lodash",[],function(){return Jn})):Bn?((Bn.exports=Jn)._=Jn,Nn._=Jn):Rn._=Jn}.call(this),n("messaging/filteringCriteriaChangedNotification.srv",["lodash"],function(e){"use strict";return function(){var t={};return{registerListener:function(n,r){e.isUndefined(t[r])&&(t[r]=[]),t[r].push(n)},notify:function(n,r){e.isUndefined(t[r])||t[r].forEach(function(e){e(n)})},clearAllListeners:function(n){e.isUndefined(t[n])||(t[n]=[])}}}}),n("messaging/statisticsGatheringRequestsRegistry.srv",["lodash"],function(e){"use strict";return function(){var t={};return{register:function(n,r){e.isUndefined(t[r])&&(t[r]=[]),t[r].push(n)},getAll:function(n){return e.isUndefined(t[n])?[]:t[n]}}}}),n("messaging/statisticsBroadcast.srv",[],function(){"use strict";return function(e,t){return{statistics:{},broadcast:function(){e.$broadcast(t)}}}}),n("messaging/messaging.mod",["angular","messaging/filteringCriteriaChangedNotification.srv","messaging/statisticsGatheringRequestsRegistry.srv","messaging/statisticsBroadcast.srv"],function(e,t,n,r){"use strict";return e.module("WidgetsFilterPanel.messaging",[]).constant("resetAllFiltersEvent","resetAllFiltersEvent").constant("statisticsUpdateNotification","statisticsUpdateNotification").factory("FilteringCriteriaChangedNotificationService",t).factory("StatisticsGatheringRequestsRegistryService",n).service("StatisticsBroadcastingService",["$rootScope","statisticsUpdateNotification",r])}),n("filterPanel/filterPanel.ctr",["lodash"],function(e){"use strict";return function(t,n,r){var i,a={};this.notifyOnStatisticsUpdate=function(){i=!0},this.updateFilteringFunction=function(r,i){a[r]=i;var o=function(t){return e.values(a).every(function(e){return e(t)})};n.notify(o,t.ownerId)},this.getOwnerId=function(){return t.ownerId},t.resetAllFilters=function(){t.$broadcast(r)},t.isAnyDataToDisplayAvailable=function(){return i}}}),function(e,t){"function"==typeof n&&n.amd?n("ResizeSensor",t):"object"==typeof exports?module.exports=t():e.ResizeSensor=t()}(this,function(){function e(e,t){var n=Object.prototype.toString.call(e),r="[object Array]"===n||"[object NodeList]"===n||"[object HTMLCollection]"===n||"undefined"!=typeof jQuery&&e instanceof jQuery||"undefined"!=typeof Elements&&e instanceof Elements,i=0,a=e.length;if(r)for(;a>i;i++)t(e[i]);else t(e)}var t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)},n=function(r,i){function a(){var e=[];this.add=function(t){e.push(t)};var t,n;this.call=function(){for(t=0,n=e.length;n>t;t++)e[t].call()},this.remove=function(r){var i=[];for(t=0,n=e.length;n>t;t++)e[t]!==r&&i.push(e[t]);e=i},this.length=function(){return e.length}}function o(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle?window.getComputedStyle(e,null).getPropertyValue(t):e.style[t]}function s(e,n){if(e.resizedAttached){if(e.resizedAttached)return void e.resizedAttached.add(n)}else e.resizedAttached=new a,e.resizedAttached.add(n);e.resizeSensor=document.createElement("div"),e.resizeSensor.className="resize-sensor";var r="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;",i="position: absolute; left: 0; top: 0; transition: 0s;";e.resizeSensor.style.cssText=r,e.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+r+'"><div style="'+i+'"></div></div><div class="resize-sensor-shrink" style="'+r+'"><div style="'+i+' width: 200%; height: 200%"></div></div>',e.appendChild(e.resizeSensor),"static"==o(e,"position")&&(e.style.position="relative");var s=e.resizeSensor.childNodes[0],l=s.childNodes[0],u=e.resizeSensor.childNodes[1],c=function(){l.style.width=1e5+"px",l.style.height=1e5+"px",s.scrollLeft=1e5,s.scrollTop=1e5,u.scrollLeft=1e5,u.scrollTop=1e5};c();var d=!1,p=function(){e.resizedAttached&&(d&&(e.resizedAttached.call(),d=!1),t(p))};t(p);var h,f,g,m,v=function(){((g=e.offsetWidth)!=h||(m=e.offsetHeight)!=f)&&(d=!0,h=g,f=m),c()},y=function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n)};y(s,"scroll",v),y(u,"scroll",v)}e(r,function(e){s(e,i)}),this.detach=function(e){n.detach(r,e)}};return n.detach=function(t,n){e(t,function(e){e.resizedAttached&&"function"==typeof n&&(e.resizedAttached.remove(n),e.resizedAttached.length())||e.resizeSensor&&(e.removeChild(e.resizeSensor),delete e.resizeSensor,delete e.resizedAttached)})},n}),function(e,r){"function"==typeof n&&n.amd?n("elementQuery",["ResizeSensor"],r):"object"==typeof exports?module.exports=r(t("./ResizeSensor.js")):e.ElementQueries=r(e.ResizeSensor)}(this,function(e){var t=function(){function n(e){e||(e=document.documentElement);var t=window.getComputedStyle(e,null).fontSize;return parseFloat(t)||16}function r(e,t){var r=t.split(/\d/),i=r[r.length-1];switch(t=parseFloat(t),i){case"px":return t;case"em":return t*n(e);case"rem":return t*n();case"vw":return t*document.documentElement.clientWidth/100;case"vh":return t*document.documentElement.clientHeight/100;case"vmin":case"vmax":var a=document.documentElement.clientWidth/100,o=document.documentElement.clientHeight/100,s=Math["vmin"===i?"min":"max"];return t*s(a,o);default:return t}}function i(e){this.element=e,this.options={};var t,n,i,a,o,s,l,u=0,c=0;this.addOption=function(e){var t=[e.mode,e.property,e.value].join(",");this.options[t]=e};var d=["min-width","min-height","max-width","max-height"];this.call=function(){u=this.element.offsetWidth,c=this.element.offsetHeight,o={};for(t in this.options)this.options.hasOwnProperty(t)&&(n=this.options[t],i=r(this.element,n.value),a="width"==n.property?u:c,l=n.mode+"-"+n.property,s="","min"==n.mode&&a>=i&&(s+=n.value),"max"==n.mode&&i>=a&&(s+=n.value),o[l]||(o[l]=""),s&&-1===(" "+o[l]+" ").indexOf(" "+s+" ")&&(o[l]+=" "+s));for(var e in d)d.hasOwnProperty(e)&&(o[d[e]]?this.element.setAttribute(d[e],o[d[e]].substr(1)):this.element.removeAttribute(d[e]))}}function a(t,n){t.elementQueriesSetupInformation?t.elementQueriesSetupInformation.addOption(n):(t.elementQueriesSetupInformation=new i(t),t.elementQueriesSetupInformation.addOption(n),t.elementQueriesSensor=new e(t,function(){t.elementQueriesSetupInformation.call()})),t.elementQueriesSetupInformation.call(),h&&f.indexOf(t)<0&&f.push(t)}function o(e,t,n,r){"undefined"==typeof g[t]&&(g[t]={}),"undefined"==typeof g[t][n]&&(g[t][n]={}),"undefined"==typeof g[t][n][r]?g[t][n][r]=e:g[t][n][r]+=","+e}function s(){var e;if(document.querySelectorAll&&(e=document.querySelectorAll.bind(document)),e||"undefined"==typeof $$||(e=$$),e||"undefined"==typeof jQuery||(e=jQuery),!e)throw"No document.querySelectorAll, jQuery or Mootools's $$ found.";return e}function l(){var e=s();for(var t in g)if(g.hasOwnProperty(t))for(var n in g[t])if(g[t].hasOwnProperty(n))for(var r in g[t][n])if(g[t][n].hasOwnProperty(r))for(var i=e(g[t][n][r]),o=0,l=i.length;l>o;o++)a(i[o],{mode:t,property:n,value:r})}function u(t){function n(){var e,n=!1;for(e in r)r.hasOwnProperty(e)&&i[e].minWidth&&t.offsetWidth>i[e].minWidth&&(n=e);
if(n||(n=o),s!=n)if(l[n])r[s].style.display="none",r[n].style.display="block",s=n;else{var u=new Image;u.onload=function(){r[n].src=a[n],r[s].style.display="none",r[n].style.display="block",l[n]=!0,s=n},u.src=a[n]}else r[n].src=a[n]}var r=[],i=[],a=[],o=0,s=-1,l=[];for(var u in t.children)if(t.children.hasOwnProperty(u)&&t.children[u].tagName&&"img"===t.children[u].tagName.toLowerCase()){r.push(t.children[u]);var c=t.children[u].getAttribute("min-width")||t.children[u].getAttribute("data-min-width"),d=t.children[u].getAttribute("data-src")||t.children[u].getAttribute("url");a.push(d);var p={minWidth:c};i.push(p),c?t.children[u].style.display="none":(o=r.length-1,t.children[u].style.display="block")}s=o,t.resizeSensor=new e(t,n),n(),h&&f.push(t)}function c(){for(var e=s(),t=e("[data-responsive-image],[responsive-image]"),n=0,r=t.length;r>n;n++)u(t[n])}function d(e){var t,n;for(e=e.replace(/'/g,'"');null!==(t=m.exec(e));)for(n=t[1]+t[3],attrs=t[2];null!==(attrMatch=v.exec(attrs));)o(n,attrMatch[1],attrMatch[2],attrMatch[3])}function p(e){var t="";if(e)if("string"==typeof e)e=e.toLowerCase(),(-1!==e.indexOf("min-width")||-1!==e.indexOf("max-width"))&&d(e);else for(var n=0,r=e.length;r>n;n++)1===e[n].type?(t=e[n].selectorText||e[n].cssText,-1!==t.indexOf("min-height")||-1!==t.indexOf("max-height")?d(t):(-1!==t.indexOf("min-width")||-1!==t.indexOf("max-width"))&&d(t)):4===e[n].type&&p(e[n].cssRules||e[n].rules)}var h=!1,f=[],g={},m=/,?[\s\t]*([^,\n]*?)((?:\[[\s\t]*?(?:min|max)-(?:width|height)[\s\t]*?[~$\^]?=[\s\t]*?"[^"]*?"[\s\t]*?])+)([^,\n\s\{]*)/gim,v=/\[[\s\t]*?(min|max)-(width|height)[\s\t]*?[~$\^]?=[\s\t]*?"([^"]*?)"[\s\t]*?]/gim,y=!1;this.init=function(e){h="undefined"==typeof e?!1:e;for(var t=0,n=document.styleSheets.length;n>t;t++)try{p(document.styleSheets[t].cssRules||document.styleSheets[t].rules||document.styleSheets[t].cssText)}catch(r){if("SecurityError"!==r.name)throw r}if(!y){var i=document.createElement("style");i.type="text/css",i.innerHTML="[responsive-image] > img, [data-responsive-image] {overflow: hidden; padding: 0; } [responsive-image] > img, [data-responsive-image] > img { width: 100%;}",document.getElementsByTagName("head")[0].appendChild(i),y=!0}l(),c()},this.update=function(e){this.init(e)},this.detach=function(){if(!this.withTracking)throw"withTracking is not enabled. We can not detach elements since we don not store it.Use ElementQueries.withTracking = true; before domready or call ElementQueryes.update(true).";for(var e;e=f.pop();)t.detach(e);f=[]}};t.update=function(e){t.instance.update(e)},t.detach=function(e){e.elementQueriesSetupInformation?(e.elementQueriesSensor.detach(),delete e.elementQueriesSetupInformation,delete e.elementQueriesSensor):e.resizeSensor&&(e.resizeSensor.detach(),delete e.resizeSensor)},t.withTracking=!1,t.init=function(){t.instance||(t.instance=new t),t.instance.init(t.withTracking)};var n=function(e){if(document.addEventListener)document.addEventListener("DOMContentLoaded",e,!1);else if(/KHTML|WebKit|iCab/i.test(navigator.userAgent))var t=setInterval(function(){/loaded|complete/i.test(document.readyState)&&(e(),clearInterval(t))},10);else window.onload=e};return t.listen=function(){n(t.init)},"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=t:(window.ElementQueries=t,t.listen()),t}),n("infrastructure/WidgetGlobalCallbacks",["elementQuery"],function(e){"use strict";return{linkComplete:function(t,n){e.init(),t.$on("$destroy",function(){e.detach(n)})}}}),n("filterPanel/filterPanel.drv",["infrastructure/WidgetGlobalCallbacks"],function(e){"use strict";return function(){return{restrict:"E",replace:!0,scope:{ownerId:"@"},transclude:!0,templateUrl:"../app/src/filterPanel/filterPanel.tpl.html",controller:"FiltersPanelCtrl",link:function(t,n){e.linkComplete(t,n)}}}}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof n&&n.amd?n("moment",t):e.moment=t()}(this,function(){"use strict";function e(){return fr.apply(null,arguments)}function n(e){fr=e}function r(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function i(e){return"[object Object]"===Object.prototype.toString.call(e)}function a(e){var t;for(t in e)return!1;return!0}function o(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function s(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e,t){for(var n in t)l(t,n)&&(e[n]=t[n]);return l(t,"toString")&&(e.toString=t.toString),l(t,"valueOf")&&(e.valueOf=t.valueOf),e}function c(e,t,n,r){return vt(e,t,n,r,!0).utc()}function d(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function p(e){return null==e._pf&&(e._pf=d()),e._pf}function h(e){if(null==e._isValid){var t=p(e),n=gr.call(t.parsedDateParts,function(e){return null!=e});e._isValid=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function f(e){var t=c(NaN);return null!=e?u(p(t),e):p(t).userInvalidated=!0,t}function g(e){return void 0===e}function m(e,t){var n,r,i;if(g(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),g(t._i)||(e._i=t._i),g(t._f)||(e._f=t._f),g(t._l)||(e._l=t._l),g(t._strict)||(e._strict=t._strict),g(t._tzm)||(e._tzm=t._tzm),g(t._isUTC)||(e._isUTC=t._isUTC),g(t._offset)||(e._offset=t._offset),g(t._pf)||(e._pf=p(t)),g(t._locale)||(e._locale=t._locale),mr.length>0)for(n in mr)r=mr[n],i=t[r],g(i)||(e[r]=i);return e}function v(t){m(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),vr===!1&&(vr=!0,e.updateOffset(this),vr=!1)}function y(e){return e instanceof v||null!=e&&null!=e._isAMomentObject}function b(e){return 0>e?Math.ceil(e)||0:Math.floor(e)}function S(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=b(t)),n}function D(e,t,n){var r,i=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0;for(r=0;i>r;r++)(n&&e[r]!==t[r]||!n&&S(e[r])!==S(t[r]))&&o++;return o+a}function w(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn}function A(t,n){var r=!0;return u(function(){return null!=e.deprecationHandler&&e.deprecationHandler(null,t),r&&(w(t+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),r=!1),n.apply(this,arguments)},n)}function C(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),yr[t]||(w(n),yr[t]=!0)}function _(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function x(e){var t,n;for(n in e)t=e[n],_(t)?this[n]=t:this["_"+n]=t;this._config=e,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function $(e,t){var n,r=u({},e);for(n in t)l(t,n)&&(i(e[n])&&i(t[n])?(r[n]={},u(r[n],e[n]),u(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)l(e,n)&&!l(t,n)&&i(e[n])&&(r[n]=u({},r[n]));return r}function k(e){null!=e&&this.set(e)}function M(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return _(r)?r.call(t,n):r}function T(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function F(){return this._invalidDate}function O(e){return this._ordinal.replace("%d",e)}function P(e,t,n,r){var i=this._relativeTime[n];return _(i)?i(e,t,n,r):i.replace(/%d/i,e)}function E(e,t){var n=this._relativeTime[e>0?"future":"past"];return _(n)?n(t):n.replace(/%s/i,t)}function L(e,t){var n=e.toLowerCase();$r[n]=$r[n+"s"]=$r[t]=e}function I(e){return"string"==typeof e?$r[e]||$r[e.toLowerCase()]:void 0}function R(e){var t,n,r={};for(n in e)l(e,n)&&(t=I(n),t&&(r[t]=e[n]));return r}function N(e,t){kr[e]=t}function B(e){var t=[];for(var n in e)t.push({unit:n,priority:kr[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function W(t,n){return function(r){return null!=r?(G(this,t,r),e.updateOffset(this,n),this):U(this,t)}}function U(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function G(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function q(e){return e=I(e),_(this[e])?this[e]():this}function j(e,t){if("object"==typeof e){e=R(e);for(var n=B(e),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit])}else if(e=I(e),_(this[e]))return this[e](t);return this}function K(e,t,n){var r=""+Math.abs(e),i=t-r.length,a=e>=0;return(a?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function z(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(Or[e]=i),t&&(Or[t[0]]=function(){return K(i.apply(this,arguments),t[1],t[2])}),n&&(Or[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function H(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function V(e){var t,n,r=e.match(Mr);for(t=0,n=r.length;n>t;t++)Or[r[t]]?r[t]=Or[r[t]]:r[t]=H(r[t]);return function(t){var i,a="";for(i=0;n>i;i++)a+=r[i]instanceof Function?r[i].call(t,e):r[i];return a}}function Y(e,t){return e.isValid()?(t=Q(t,e.localeData()),Fr[t]=Fr[t]||V(t),Fr[t](e)):e.localeData().invalidDate()}function Q(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(Tr.lastIndex=0;r>=0&&Tr.test(e);)e=e.replace(Tr,n),Tr.lastIndex=0,r-=1;return e}function Z(e,t,n){Qr[e]=_(t)?t:function(e,r){return e&&n?n:t}}function J(e,t){return l(Qr,e)?Qr[e](t._strict,t._locale):new RegExp(X(e))}function X(e){return ee(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}))}function ee(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function te(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(r=function(e,n){n[t]=S(e)}),n=0;n<e.length;n++)Zr[e[n]]=r}function ne(e,t){te(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function re(e,t,n){null!=t&&l(Zr,e)&&Zr[e](t,n._a,n,e)}function ie(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function ae(e,t){return r(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||si).test(t)?"format":"standalone"][e.month()]}function oe(e,t){return r(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[si.test(t)?"format":"standalone"][e.month()]}function se(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;12>r;++r)a=c([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===t?(i=Sr.call(this._shortMonthsParse,o),-1!==i?i:null):(i=Sr.call(this._longMonthsParse,o),-1!==i?i:null):"MMM"===t?(i=Sr.call(this._shortMonthsParse,o),-1!==i?i:(i=Sr.call(this._longMonthsParse,o),-1!==i?i:null)):(i=Sr.call(this._longMonthsParse,o),-1!==i?i:(i=Sr.call(this._shortMonthsParse,o),-1!==i?i:null))}function le(e,t,n){var r,i,a;if(this._monthsParseExact)return se.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;12>r;r++){if(i=c([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ue(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=S(t);else if(t=e.localeData().monthsParse(t),"number"!=typeof t)return e;return n=Math.min(e.date(),ie(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ce(t){return null!=t?(ue(this,t),e.updateOffset(this,!0),this):U(this,"Month")}function de(){return ie(this.year(),this.month())}function pe(e){return this._monthsParseExact?(l(this,"_monthsRegex")||fe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=ci),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function he(e){return this._monthsParseExact?(l(this,"_monthsRegex")||fe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=di),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function fe(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],a=[];for(t=0;12>t;t++)n=c([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),a.push(this.months(n,"")),a.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),a.sort(e),t=0;12>t;t++)r[t]=ee(r[t]),i[t]=ee(i[t]);for(t=0;24>t;t++)a[t]=ee(a[t]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function ge(e){return me(e)?366:365}function me(e){return e%4===0&&e%100!==0||e%400===0}function ve(){return me(this.year())}function ye(e,t,n,r,i,a,o){var s=new Date(e,t,n,r,i,a,o);return 100>e&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function be(e){var t=new Date(Date.UTC.apply(null,arguments));return 100>e&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function Se(e,t,n){var r=7+t-n,i=(7+be(e,0,r).getUTCDay()-t)%7;return-i+r-1}function De(e,t,n,r,i){var a,o,s=(7+n-r)%7,l=Se(e,r,i),u=1+7*(t-1)+s+l;return 0>=u?(a=e-1,o=ge(a)+u):u>ge(e)?(a=e+1,o=u-ge(e)):(a=e,o=u),{year:a,dayOfYear:o}}function we(e,t,n){var r,i,a=Se(e.year(),t,n),o=Math.floor((e.dayOfYear()-a-1)/7)+1;return 1>o?(i=e.year()-1,r=o+Ae(i,t,n)):o>Ae(e.year(),t,n)?(r=o-Ae(e.year(),t,n),i=e.year()+1):(i=e.year(),r=o),{week:r,year:i}}function Ae(e,t,n){var r=Se(e,t,n),i=Se(e+1,t,n);return(ge(e)-r+i)/7}function Ce(e){return we(e,this._week.dow,this._week.doy).week}function _e(){return this._week.dow}function xe(){return this._week.doy}function $e(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function ke(e){var t=we(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Me(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Te(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Fe(e,t){return r(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]}function Oe(e){return this._weekdaysShort[e.day()]}function Pe(e){return this._weekdaysMin[e.day()]}function Ee(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;7>r;++r)a=c([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===t?(i=Sr.call(this._weekdaysParse,o),-1!==i?i:null):"ddd"===t?(i=Sr.call(this._shortWeekdaysParse,o),-1!==i?i:null):(i=Sr.call(this._minWeekdaysParse,o),-1!==i?i:null):"dddd"===t?(i=Sr.call(this._weekdaysParse,o),-1!==i?i:(i=Sr.call(this._shortWeekdaysParse,o),-1!==i?i:(i=Sr.call(this._minWeekdaysParse,o),-1!==i?i:null))):"ddd"===t?(i=Sr.call(this._shortWeekdaysParse,o),-1!==i?i:(i=Sr.call(this._weekdaysParse,o),-1!==i?i:(i=Sr.call(this._minWeekdaysParse,o),-1!==i?i:null))):(i=Sr.call(this._minWeekdaysParse,o),-1!==i?i:(i=Sr.call(this._weekdaysParse,o),-1!==i?i:(i=Sr.call(this._shortWeekdaysParse,o),-1!==i?i:null)))}function Le(e,t,n){var r,i,a;if(this._weekdaysParseExact)return Ee.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;7>r;r++){if(i=c([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Ie(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Me(e,this.localeData()),this.add(e-t,"d")):t}function Re(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Ne(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Te(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Be(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Ge.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=vi),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function We(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Ge.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=yi),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ue(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Ge.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=bi),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ge(){function e(e,t){return t.length-e.length}var t,n,r,i,a,o=[],s=[],l=[],u=[];for(t=0;7>t;t++)n=c([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),a=this.weekdays(n,""),o.push(r),s.push(i),l.push(a),u.push(r),u.push(i),u.push(a);for(o.sort(e),s.sort(e),l.sort(e),u.sort(e),t=0;7>t;t++)s[t]=ee(s[t]),l[t]=ee(l[t]),u[t]=ee(u[t]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function qe(){return this.hours()%12||12}function je(){return this.hours()||24}function Ke(e,t){z(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function ze(e,t){return t._meridiemParse}function He(e){return"p"===(e+"").toLowerCase().charAt(0)}function Ve(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Ye(e){return e?e.toLowerCase().replace("_","-"):e}function Qe(e){for(var t,n,r,i,a=0;a<e.length;){for(i=Ye(e[a]).split("-"),t=i.length,n=Ye(e[a+1]),n=n?n.split("-"):null;t>0;){if(r=Ze(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&D(i,n,!0)>=t-1)break;t--}a++}return null}function Ze(e){var n=null;if(!Ci[e]&&"undefined"!=typeof module&&module&&module.exports)try{n=Si._abbr,t("./locale/"+e),Je(n)}catch(r){}return Ci[e]}function Je(e,t){var n;return e&&(n=g(t)?tt(e):Xe(e,t),n&&(Si=n)),Si._abbr}function Xe(e,t){if(null!==t){var n=Ai;return t.abbr=e,null!=Ci[e]?(C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Ci[e]._config):null!=t.parentLocale&&(null!=Ci[t.parentLocale]?n=Ci[t.parentLocale]._config:C("parentLocaleUndefined","specified parentLocale is not defined yet. See http://momentjs.com/guides/#/warnings/parent-locale/")),Ci[e]=new k($(n,t)),Je(e),Ci[e]}return delete Ci[e],null}function et(e,t){if(null!=t){var n,r=Ai;null!=Ci[e]&&(r=Ci[e]._config),t=$(r,t),n=new k(t),n.parentLocale=Ci[e],Ci[e]=n,Je(e)}else null!=Ci[e]&&(null!=Ci[e].parentLocale?Ci[e]=Ci[e].parentLocale:null!=Ci[e]&&delete Ci[e]);return Ci[e]}function tt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Si;if(!r(e)){if(t=Ze(e))return t;e=[e]}return Qe(e)}function nt(){return br(Ci)}function rt(e){var t,n=e._a;return n&&-2===p(e).overflow&&(t=n[Xr]<0||n[Xr]>11?Xr:n[ei]<1||n[ei]>ie(n[Jr],n[Xr])?ei:n[ti]<0||n[ti]>24||24===n[ti]&&(0!==n[ni]||0!==n[ri]||0!==n[ii])?ti:n[ni]<0||n[ni]>59?ni:n[ri]<0||n[ri]>59?ri:n[ii]<0||n[ii]>999?ii:-1,p(e)._overflowDayOfYear&&(Jr>t||t>ei)&&(t=ei),p(e)._overflowWeeks&&-1===t&&(t=ai),p(e)._overflowWeekday&&-1===t&&(t=oi),p(e).overflow=t),e}function it(e){var t,n,r,i,a,o,s=e._i,l=_i.exec(s)||xi.exec(s);if(l){for(p(e).iso=!0,t=0,n=ki.length;n>t;t++)if(ki[t][1].exec(l[1])){i=ki[t][0],r=ki[t][2]!==!1;break}if(null==i)return void(e._isValid=!1);if(l[3]){for(t=0,n=Mi.length;n>t;t++)if(Mi[t][1].exec(l[3])){a=(l[2]||" ")+Mi[t][0];break}if(null==a)return void(e._isValid=!1)}if(!r&&null!=a)return void(e._isValid=!1);if(l[4]){if(!$i.exec(l[4]))return void(e._isValid=!1);o="Z"}e._f=i+(a||"")+(o||""),ct(e)}else e._isValid=!1}function at(t){var n=Ti.exec(t._i);return null!==n?void(t._d=new Date(+n[1])):(it(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function ot(e,t,n){return null!=e?e:null!=t?t:n}function st(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function lt(e){var t,n,r,i,a=[];if(!e._d){for(r=st(e),e._w&&null==e._a[ei]&&null==e._a[Xr]&&ut(e),e._dayOfYear&&(i=ot(e._a[Jr],r[Jr]),e._dayOfYear>ge(i)&&(p(e)._overflowDayOfYear=!0),n=be(i,0,e._dayOfYear),e._a[Xr]=n.getUTCMonth(),e._a[ei]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=a[t]=r[t];for(;7>t;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ti]&&0===e._a[ni]&&0===e._a[ri]&&0===e._a[ii]&&(e._nextDay=!0,e._a[ti]=0),e._d=(e._useUTC?be:ye).apply(null,a),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ti]=24)}}function ut(e){var t,n,r,i,a,o,s,l;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(a=1,o=4,n=ot(t.GG,e._a[Jr],we(yt(),1,4).year),r=ot(t.W,1),i=ot(t.E,1),(1>i||i>7)&&(l=!0)):(a=e._locale._week.dow,o=e._locale._week.doy,n=ot(t.gg,e._a[Jr],we(yt(),a,o).year),r=ot(t.w,1),null!=t.d?(i=t.d,(0>i||i>6)&&(l=!0)):null!=t.e?(i=t.e+a,(t.e<0||t.e>6)&&(l=!0)):i=a),1>r||r>Ae(n,a,o)?p(e)._overflowWeeks=!0:null!=l?p(e)._overflowWeekday=!0:(s=De(n,r,i,a,o),e._a[Jr]=s.year,e._dayOfYear=s.dayOfYear)}function ct(t){if(t._f===e.ISO_8601)return void it(t);t._a=[],p(t).empty=!0;var n,r,i,a,o,s=""+t._i,l=s.length,u=0;for(i=Q(t._f,t._locale).match(Mr)||[],n=0;n<i.length;n++)a=i[n],r=(s.match(J(a,t))||[])[0],r&&(o=s.substr(0,s.indexOf(r)),o.length>0&&p(t).unusedInput.push(o),s=s.slice(s.indexOf(r)+r.length),u+=r.length),Or[a]?(r?p(t).empty=!1:p(t).unusedTokens.push(a),re(a,r,t)):t._strict&&!r&&p(t).unusedTokens.push(a);p(t).charsLeftOver=l-u,s.length>0&&p(t).unusedInput.push(s),t._a[ti]<=12&&p(t).bigHour===!0&&t._a[ti]>0&&(p(t).bigHour=void 0),p(t).parsedDateParts=t._a.slice(0),p(t).meridiem=t._meridiem,t._a[ti]=dt(t._locale,t._a[ti],t._meridiem),lt(t),rt(t)}function dt(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&12>t&&(t+=12),r||12!==t||(t=0),t):t}function pt(e){var t,n,r,i,a;if(0===e._f.length)return p(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)a=0,t=m({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],ct(t),h(t)&&(a+=p(t).charsLeftOver,a+=10*p(t).unusedTokens.length,p(t).score=a,(null==r||r>a)&&(r=a,n=t));u(e,n||t)}function ht(e){if(!e._d){var t=R(e._i);e._a=s([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),lt(e)}}function ft(e){var t=new v(rt(gt(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function gt(e){var t=e._i,n=e._f;return e._locale=e._locale||tt(e._l),null===t||void 0===n&&""===t?f({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),y(t)?new v(rt(t)):(r(n)?pt(e):o(t)?e._d=t:n?ct(e):mt(e),h(e)||(e._d=null),e))}function mt(t){var n=t._i;void 0===n?t._d=new Date(e.now()):o(n)?t._d=new Date(n.valueOf()):"string"==typeof n?at(t):r(n)?(t._a=s(n.slice(0),function(e){return parseInt(e,10)}),lt(t)):"object"==typeof n?ht(t):"number"==typeof n?t._d=new Date(n):e.createFromInputFallback(t)}function vt(e,t,n,o,s){var l={};return"boolean"==typeof n&&(o=n,n=void 0),(i(e)&&a(e)||r(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=s,l._l=n,l._i=e,l._f=t,l._strict=o,ft(l)}function yt(e,t,n,r){return vt(e,t,n,r,!1)}function bt(e,t){var n,i;if(1===t.length&&r(t[0])&&(t=t[0]),!t.length)return yt();for(n=t[0],i=1;i<t.length;++i)(!t[i].isValid()||t[i][e](n))&&(n=t[i]);return n}function St(){var e=[].slice.call(arguments,0);return bt("isBefore",e)}function Dt(){var e=[].slice.call(arguments,0);return bt("isAfter",e)}function wt(e){var t=R(e),n=t.year||0,r=t.quarter||0,i=t.month||0,a=t.week||0,o=t.day||0,s=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+1e3*s*60*60,this._days=+o+7*a,this._months=+i+3*r+12*n,this._data={},this._locale=tt(),this._bubble()}function At(e){return e instanceof wt}function Ct(e,t){z(e,0,0,function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+K(~~(e/60),2)+t+K(~~e%60,2)})}function _t(e,t){var n=(t||"").match(e)||[],r=n[n.length-1]||[],i=(r+"").match(Ei)||["-",0,0],a=+(60*i[1])+S(i[2]);return"+"===i[0]?a:-a}function xt(t,n){var r,i;return n._isUTC?(r=n.clone(),i=(y(t)||o(t)?t.valueOf():yt(t).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),e.updateOffset(r,!1),r):yt(t).local()}function $t(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function kt(t,n){var r,i=this._offset||0;return this.isValid()?null!=t?("string"==typeof t?t=_t(Hr,t):Math.abs(t)<16&&(t=60*t),!this._isUTC&&n&&(r=$t(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==t&&(!n||this._changeInProgress?Kt(this,Bt(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:$t(this):null!=t?this:NaN}function Mt(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Tt(e){return this.utcOffset(0,e)}function Ft(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract($t(this),"m")),this}function Ot(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(_t(zr,this._i)),this}function Pt(e){return this.isValid()?(e=e?yt(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function Et(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Lt(){if(!g(this._isDSTShifted))return this._isDSTShifted;var e={};if(m(e,this),e=gt(e),e._a){var t=e._isUTC?c(e._a):yt(e._a);this._isDSTShifted=this.isValid()&&D(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function It(){return this.isValid()?!this._isUTC:!1}function Rt(){return this.isValid()?this._isUTC:!1}function Nt(){return this.isValid()?this._isUTC&&0===this._offset:!1}function Bt(e,t){var n,r,i,a=e,o=null;return At(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(a={},t?a[t]=e:a.milliseconds=e):(o=Li.exec(e))?(n="-"===o[1]?-1:1,a={y:0,d:S(o[ei])*n,h:S(o[ti])*n,m:S(o[ni])*n,s:S(o[ri])*n,ms:S(o[ii])*n}):(o=Ii.exec(e))?(n="-"===o[1]?-1:1,a={y:Wt(o[2],n),M:Wt(o[3],n),w:Wt(o[4],n),d:Wt(o[5],n),h:Wt(o[6],n),m:Wt(o[7],n),s:Wt(o[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(i=Gt(yt(a.from),yt(a.to)),a={},a.ms=i.milliseconds,a.M=i.months),r=new wt(a),At(e)&&l(e,"_locale")&&(r._locale=e._locale),r}function Wt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Ut(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Gt(e,t){var n;return e.isValid()&&t.isValid()?(t=xt(t,e),e.isBefore(t)?n=Ut(e,t):(n=Ut(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function qt(e){return 0>e?-1*Math.round(-1*e):Math.round(e)}function jt(e,t){return function(n,r){var i,a;return null===r||isNaN(+r)||(C(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=n,n=r,r=a),n="string"==typeof n?+n:n,i=Bt(n,r),Kt(this,i,e),this}}function Kt(t,n,r,i){var a=n._milliseconds,o=qt(n._days),s=qt(n._months);t.isValid()&&(i=null==i?!0:i,a&&t._d.setTime(t._d.valueOf()+a*r),o&&G(t,"Date",U(t,"Date")+o*r),s&&ue(t,U(t,"Month")+s*r),i&&e.updateOffset(t,o||s))}function zt(e,t){var n=e.diff(t,"days",!0);return-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse"}function Ht(t,n){var r=t||yt(),i=xt(r,this).startOf("day"),a=e.calendarFormat(this,i)||"sameElse",o=n&&(_(n[a])?n[a].call(this,r):n[a]);return this.format(o||this.localeData().calendar(a,this,yt(r)))}function Vt(){return new v(this)}function Yt(e,t){var n=y(e)?e:yt(e);return this.isValid()&&n.isValid()?(t=I(g(t)?"millisecond":t),"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function Qt(e,t){var n=y(e)?e:yt(e);return this.isValid()&&n.isValid()?(t=I(g(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function Zt(e,t,n,r){return r=r||"()",("("===r[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))}function Jt(e,t){var n,r=y(e)?e:yt(e);return this.isValid()&&r.isValid()?(t=I(t||"millisecond"),"millisecond"===t?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf())):!1}function Xt(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function en(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function tn(e,t,n){var r,i,a,o;return this.isValid()?(r=xt(e,this),r.isValid()?(i=6e4*(r.utcOffset()-this.utcOffset()),t=I(t),"year"===t||"month"===t||"quarter"===t?(o=nn(this,r),"quarter"===t?o/=3:"year"===t&&(o/=12)):(a=this-r,o="second"===t?a/1e3:"minute"===t?a/6e4:"hour"===t?a/36e5:"day"===t?(a-i)/864e5:"week"===t?(a-i)/6048e5:a),n?o:b(o)):NaN):NaN}function nn(e,t){var n,r,i=12*(t.year()-e.year())+(t.month()-e.month()),a=e.clone().add(i,"months");return 0>t-a?(n=e.clone().add(i-1,"months"),r=(t-a)/(a-n)):(n=e.clone().add(i+1,"months"),r=(t-a)/(n-a)),-(i+r)||0}function rn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function an(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?_(Date.prototype.toISOString)?this.toDate().toISOString():Y(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):Y(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function on(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=Y(this,t);return this.localeData().postformat(n)}function sn(e,t){return this.isValid()&&(y(e)&&e.isValid()||yt(e).isValid())?Bt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ln(e){return this.from(yt(),e)}function un(e,t){return this.isValid()&&(y(e)&&e.isValid()||yt(e).isValid())?Bt({
from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function cn(e){return this.to(yt(),e)}function dn(e){var t;return void 0===e?this._locale._abbr:(t=tt(e),null!=t&&(this._locale=t),this)}function pn(){return this._locale}function hn(e){switch(e=I(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function fn(e){return e=I(e),void 0===e||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function gn(){return this._d.valueOf()-6e4*(this._offset||0)}function mn(){return Math.floor(this.valueOf()/1e3)}function vn(){return new Date(this.valueOf())}function yn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function bn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Sn(){return this.isValid()?this.toISOString():null}function Dn(){return h(this)}function wn(){return u({},p(this))}function An(){return p(this).overflow}function Cn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function _n(e,t){z(0,[e,e.length],0,t)}function xn(e){return Tn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function $n(e){return Tn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function kn(){return Ae(this.year(),1,4)}function Mn(){var e=this.localeData()._week;return Ae(this.year(),e.dow,e.doy)}function Tn(e,t,n,r,i){var a;return null==e?we(this,r,i).year:(a=Ae(e,r,i),t>a&&(t=a),Fn.call(this,e,t,n,r,i))}function Fn(e,t,n,r,i){var a=De(e,t,n,r,i),o=be(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function On(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Pn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function En(e,t){t[ii]=S(1e3*("0."+e))}function Ln(){return this._isUTC?"UTC":""}function In(){return this._isUTC?"Coordinated Universal Time":""}function Rn(e){return yt(1e3*e)}function Nn(){return yt.apply(null,arguments).parseZone()}function Bn(e){return e}function Wn(e,t,n,r){var i=tt(),a=c().set(r,t);return i[n](a,e)}function Un(e,t,n){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return Wn(e,t,n,"month");var r,i=[];for(r=0;12>r;r++)i[r]=Wn(e,r,n,"month");return i}function Gn(e,t,n,r){"boolean"==typeof e?("number"==typeof t&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,"number"==typeof t&&(n=t,t=void 0),t=t||"");var i=tt(),a=e?i._week.dow:0;if(null!=n)return Wn(t,(n+a)%7,r,"day");var o,s=[];for(o=0;7>o;o++)s[o]=Wn(t,(o+a)%7,r,"day");return s}function qn(e,t){return Un(e,t,"months")}function jn(e,t){return Un(e,t,"monthsShort")}function Kn(e,t,n){return Gn(e,t,n,"weekdays")}function zn(e,t,n){return Gn(e,t,n,"weekdaysShort")}function Hn(e,t,n){return Gn(e,t,n,"weekdaysMin")}function Vn(){var e=this._data;return this._milliseconds=Vi(this._milliseconds),this._days=Vi(this._days),this._months=Vi(this._months),e.milliseconds=Vi(e.milliseconds),e.seconds=Vi(e.seconds),e.minutes=Vi(e.minutes),e.hours=Vi(e.hours),e.months=Vi(e.months),e.years=Vi(e.years),this}function Yn(e,t,n,r){var i=Bt(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Qn(e,t){return Yn(this,e,t,1)}function Zn(e,t){return Yn(this,e,t,-1)}function Jn(e){return 0>e?Math.floor(e):Math.ceil(e)}function Xn(){var e,t,n,r,i,a=this._milliseconds,o=this._days,s=this._months,l=this._data;return a>=0&&o>=0&&s>=0||0>=a&&0>=o&&0>=s||(a+=864e5*Jn(tr(s)+o),o=0,s=0),l.milliseconds=a%1e3,e=b(a/1e3),l.seconds=e%60,t=b(e/60),l.minutes=t%60,n=b(t/60),l.hours=n%24,o+=b(n/24),i=b(er(o)),s+=i,o-=Jn(tr(i)),r=b(s/12),s%=12,l.days=o,l.months=s,l.years=r,this}function er(e){return 4800*e/146097}function tr(e){return 146097*e/4800}function nr(e){var t,n,r=this._milliseconds;if(e=I(e),"month"===e||"year"===e)return t=this._days+r/864e5,n=this._months+er(t),"month"===e?n:n/12;switch(t=this._days+Math.round(tr(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function rr(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*S(this._months/12)}function ir(e){return function(){return this.as(e)}}function ar(e){return e=I(e),this[e+"s"]()}function or(e){return function(){return this._data[e]}}function sr(){return b(this.days()/7)}function lr(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function ur(e,t,n){var r=Bt(e).abs(),i=ca(r.as("s")),a=ca(r.as("m")),o=ca(r.as("h")),s=ca(r.as("d")),l=ca(r.as("M")),u=ca(r.as("y")),c=i<da.s&&["s",i]||1>=a&&["m"]||a<da.m&&["mm",a]||1>=o&&["h"]||o<da.h&&["hh",o]||1>=s&&["d"]||s<da.d&&["dd",s]||1>=l&&["M"]||l<da.M&&["MM",l]||1>=u&&["y"]||["yy",u];return c[2]=t,c[3]=+e>0,c[4]=n,lr.apply(null,c)}function cr(e){return void 0===e?ca:"function"==typeof e?(ca=e,!0):!1}function dr(e,t){return void 0===da[e]?!1:void 0===t?da[e]:(da[e]=t,!0)}function pr(e){var t=this.localeData(),n=ur(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function hr(){var e,t,n,r=pa(this._milliseconds)/1e3,i=pa(this._days),a=pa(this._months);e=b(r/60),t=b(e/60),r%=60,e%=60,n=b(a/12),a%=12;var o=n,s=a,l=i,u=t,c=e,d=r,p=this.asSeconds();return p?(0>p?"-":"")+"P"+(o?o+"Y":"")+(s?s+"M":"")+(l?l+"D":"")+(u||c||d?"T":"")+(u?u+"H":"")+(c?c+"M":"")+(d?d+"S":""):"P0D"}var fr,gr;gr=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;n>r;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var mr=e.momentProperties=[],vr=!1,yr={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var br;br=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)l(e,t)&&n.push(t);return n};var Sr,Dr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},wr={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Ar="Invalid date",Cr="%d",_r=/\d{1,2}/,xr={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},$r={},kr={},Mr=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Tr=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Fr={},Or={},Pr=/\d/,Er=/\d\d/,Lr=/\d{3}/,Ir=/\d{4}/,Rr=/[+-]?\d{6}/,Nr=/\d\d?/,Br=/\d\d\d\d?/,Wr=/\d\d\d\d\d\d?/,Ur=/\d{1,3}/,Gr=/\d{1,4}/,qr=/[+-]?\d{1,6}/,jr=/\d+/,Kr=/[+-]?\d+/,zr=/Z|[+-]\d\d:?\d\d/gi,Hr=/Z|[+-]\d\d(?::?\d\d)?/gi,Vr=/[+-]?\d+(\.\d{1,3})?/,Yr=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Qr={},Zr={},Jr=0,Xr=1,ei=2,ti=3,ni=4,ri=5,ii=6,ai=7,oi=8;Sr=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},z("M",["MM",2],"Mo",function(){return this.month()+1}),z("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),z("MMMM",0,0,function(e){return this.localeData().months(this,e)}),L("month","M"),N("month",8),Z("M",Nr),Z("MM",Nr,Er),Z("MMM",function(e,t){return t.monthsShortRegex(e)}),Z("MMMM",function(e,t){return t.monthsRegex(e)}),te(["M","MM"],function(e,t){t[Xr]=S(e)-1}),te(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[Xr]=i:p(n).invalidMonth=e});var si=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,li="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ui="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ci=Yr,di=Yr;z("Y",0,0,function(){var e=this.year();return 9999>=e?""+e:"+"+e}),z(0,["YY",2],0,function(){return this.year()%100}),z(0,["YYYY",4],0,"year"),z(0,["YYYYY",5],0,"year"),z(0,["YYYYYY",6,!0],0,"year"),L("year","y"),N("year",1),Z("Y",Kr),Z("YY",Nr,Er),Z("YYYY",Gr,Ir),Z("YYYYY",qr,Rr),Z("YYYYYY",qr,Rr),te(["YYYYY","YYYYYY"],Jr),te("YYYY",function(t,n){n[Jr]=2===t.length?e.parseTwoDigitYear(t):S(t)}),te("YY",function(t,n){n[Jr]=e.parseTwoDigitYear(t)}),te("Y",function(e,t){t[Jr]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return S(e)+(S(e)>68?1900:2e3)};var pi=W("FullYear",!0);z("w",["ww",2],"wo","week"),z("W",["WW",2],"Wo","isoWeek"),L("week","w"),L("isoWeek","W"),N("week",5),N("isoWeek",5),Z("w",Nr),Z("ww",Nr,Er),Z("W",Nr),Z("WW",Nr,Er),ne(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=S(e)});var hi={dow:0,doy:6};z("d",0,"do","day"),z("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),z("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),z("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),z("e",0,0,"weekday"),z("E",0,0,"isoWeekday"),L("day","d"),L("weekday","e"),L("isoWeekday","E"),N("day",11),N("weekday",11),N("isoWeekday",11),Z("d",Nr),Z("e",Nr),Z("E",Nr),Z("dd",function(e,t){return t.weekdaysMinRegex(e)}),Z("ddd",function(e,t){return t.weekdaysShortRegex(e)}),Z("dddd",function(e,t){return t.weekdaysRegex(e)}),ne(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:p(n).invalidWeekday=e}),ne(["d","e","E"],function(e,t,n,r){t[r]=S(e)});var fi="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),gi="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),mi="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),vi=Yr,yi=Yr,bi=Yr;z("H",["HH",2],0,"hour"),z("h",["hh",2],0,qe),z("k",["kk",2],0,je),z("hmm",0,0,function(){return""+qe.apply(this)+K(this.minutes(),2)}),z("hmmss",0,0,function(){return""+qe.apply(this)+K(this.minutes(),2)+K(this.seconds(),2)}),z("Hmm",0,0,function(){return""+this.hours()+K(this.minutes(),2)}),z("Hmmss",0,0,function(){return""+this.hours()+K(this.minutes(),2)+K(this.seconds(),2)}),Ke("a",!0),Ke("A",!1),L("hour","h"),N("hour",13),Z("a",ze),Z("A",ze),Z("H",Nr),Z("h",Nr),Z("HH",Nr,Er),Z("hh",Nr,Er),Z("hmm",Br),Z("hmmss",Wr),Z("Hmm",Br),Z("Hmmss",Wr),te(["H","HH"],ti),te(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),te(["h","hh"],function(e,t,n){t[ti]=S(e),p(n).bigHour=!0}),te("hmm",function(e,t,n){var r=e.length-2;t[ti]=S(e.substr(0,r)),t[ni]=S(e.substr(r)),p(n).bigHour=!0}),te("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[ti]=S(e.substr(0,r)),t[ni]=S(e.substr(r,2)),t[ri]=S(e.substr(i)),p(n).bigHour=!0}),te("Hmm",function(e,t,n){var r=e.length-2;t[ti]=S(e.substr(0,r)),t[ni]=S(e.substr(r))}),te("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[ti]=S(e.substr(0,r)),t[ni]=S(e.substr(r,2)),t[ri]=S(e.substr(i))});var Si,Di=/[ap]\.?m?\.?/i,wi=W("Hours",!0),Ai={calendar:Dr,longDateFormat:wr,invalidDate:Ar,ordinal:Cr,ordinalParse:_r,relativeTime:xr,months:li,monthsShort:ui,week:hi,weekdays:fi,weekdaysMin:mi,weekdaysShort:gi,meridiemParse:Di},Ci={},_i=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,xi=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,$i=/Z|[+-]\d\d(?::?\d\d)?/,ki=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Mi=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ti=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=A("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),e.ISO_8601=function(){};var Fi=A("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=yt.apply(null,arguments);return this.isValid()&&e.isValid()?this>e?this:e:f()}),Oi=A("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=yt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:f()}),Pi=function(){return Date.now?Date.now():+new Date};Ct("Z",":"),Ct("ZZ",""),Z("Z",Hr),Z("ZZ",Hr),te(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=_t(Hr,e)});var Ei=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Li=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,Ii=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Bt.fn=wt.prototype;var Ri=jt(1,"add"),Ni=jt(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Bi=A("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});z(0,["gg",2],0,function(){return this.weekYear()%100}),z(0,["GG",2],0,function(){return this.isoWeekYear()%100}),_n("gggg","weekYear"),_n("ggggg","weekYear"),_n("GGGG","isoWeekYear"),_n("GGGGG","isoWeekYear"),L("weekYear","gg"),L("isoWeekYear","GG"),N("weekYear",1),N("isoWeekYear",1),Z("G",Kr),Z("g",Kr),Z("GG",Nr,Er),Z("gg",Nr,Er),Z("GGGG",Gr,Ir),Z("gggg",Gr,Ir),Z("GGGGG",qr,Rr),Z("ggggg",qr,Rr),ne(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=S(e)}),ne(["gg","GG"],function(t,n,r,i){n[i]=e.parseTwoDigitYear(t)}),z("Q",0,"Qo","quarter"),L("quarter","Q"),N("quarter",7),Z("Q",Pr),te("Q",function(e,t){t[Xr]=3*(S(e)-1)}),z("D",["DD",2],"Do","date"),L("date","D"),N("date",9),Z("D",Nr),Z("DD",Nr,Er),Z("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),te(["D","DD"],ei),te("Do",function(e,t){t[ei]=S(e.match(Nr)[0],10)});var Wi=W("Date",!0);z("DDD",["DDDD",3],"DDDo","dayOfYear"),L("dayOfYear","DDD"),N("dayOfYear",4),Z("DDD",Ur),Z("DDDD",Lr),te(["DDD","DDDD"],function(e,t,n){n._dayOfYear=S(e)}),z("m",["mm",2],0,"minute"),L("minute","m"),N("minute",14),Z("m",Nr),Z("mm",Nr,Er),te(["m","mm"],ni);var Ui=W("Minutes",!1);z("s",["ss",2],0,"second"),L("second","s"),N("second",15),Z("s",Nr),Z("ss",Nr,Er),te(["s","ss"],ri);var Gi=W("Seconds",!1);z("S",0,0,function(){return~~(this.millisecond()/100)}),z(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),z(0,["SSS",3],0,"millisecond"),z(0,["SSSS",4],0,function(){return 10*this.millisecond()}),z(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),z(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),z(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),z(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),z(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),L("millisecond","ms"),N("millisecond",16),Z("S",Ur,Pr),Z("SS",Ur,Er),Z("SSS",Ur,Lr);var qi;for(qi="SSSS";qi.length<=9;qi+="S")Z(qi,jr);for(qi="S";qi.length<=9;qi+="S")te(qi,En);var ji=W("Milliseconds",!1);z("z",0,0,"zoneAbbr"),z("zz",0,0,"zoneName");var Ki=v.prototype;Ki.add=Ri,Ki.calendar=Ht,Ki.clone=Vt,Ki.diff=tn,Ki.endOf=fn,Ki.format=on,Ki.from=sn,Ki.fromNow=ln,Ki.to=un,Ki.toNow=cn,Ki.get=q,Ki.invalidAt=An,Ki.isAfter=Yt,Ki.isBefore=Qt,Ki.isBetween=Zt,Ki.isSame=Jt,Ki.isSameOrAfter=Xt,Ki.isSameOrBefore=en,Ki.isValid=Dn,Ki.lang=Bi,Ki.locale=dn,Ki.localeData=pn,Ki.max=Oi,Ki.min=Fi,Ki.parsingFlags=wn,Ki.set=j,Ki.startOf=hn,Ki.subtract=Ni,Ki.toArray=yn,Ki.toObject=bn,Ki.toDate=vn,Ki.toISOString=an,Ki.toJSON=Sn,Ki.toString=rn,Ki.unix=mn,Ki.valueOf=gn,Ki.creationData=Cn,Ki.year=pi,Ki.isLeapYear=ve,Ki.weekYear=xn,Ki.isoWeekYear=$n,Ki.quarter=Ki.quarters=On,Ki.month=ce,Ki.daysInMonth=de,Ki.week=Ki.weeks=$e,Ki.isoWeek=Ki.isoWeeks=ke,Ki.weeksInYear=Mn,Ki.isoWeeksInYear=kn,Ki.date=Wi,Ki.day=Ki.days=Ie,Ki.weekday=Re,Ki.isoWeekday=Ne,Ki.dayOfYear=Pn,Ki.hour=Ki.hours=wi,Ki.minute=Ki.minutes=Ui,Ki.second=Ki.seconds=Gi,Ki.millisecond=Ki.milliseconds=ji,Ki.utcOffset=kt,Ki.utc=Tt,Ki.local=Ft,Ki.parseZone=Ot,Ki.hasAlignedHourOffset=Pt,Ki.isDST=Et,Ki.isLocal=It,Ki.isUtcOffset=Rt,Ki.isUtc=Nt,Ki.isUTC=Nt,Ki.zoneAbbr=Ln,Ki.zoneName=In,Ki.dates=A("dates accessor is deprecated. Use date instead.",Wi),Ki.months=A("months accessor is deprecated. Use month instead",ce),Ki.years=A("years accessor is deprecated. Use year instead",pi),Ki.zone=A("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Mt),Ki.isDSTShifted=A("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Lt);var zi=Ki,Hi=k.prototype;Hi.calendar=M,Hi.longDateFormat=T,Hi.invalidDate=F,Hi.ordinal=O,Hi.preparse=Bn,Hi.postformat=Bn,Hi.relativeTime=P,Hi.pastFuture=E,Hi.set=x,Hi.months=ae,Hi.monthsShort=oe,Hi.monthsParse=le,Hi.monthsRegex=he,Hi.monthsShortRegex=pe,Hi.week=Ce,Hi.firstDayOfYear=xe,Hi.firstDayOfWeek=_e,Hi.weekdays=Fe,Hi.weekdaysMin=Pe,Hi.weekdaysShort=Oe,Hi.weekdaysParse=Le,Hi.weekdaysRegex=Be,Hi.weekdaysShortRegex=We,Hi.weekdaysMinRegex=Ue,Hi.isPM=He,Hi.meridiem=Ve,Je("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===S(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=A("moment.lang is deprecated. Use moment.locale instead.",Je),e.langData=A("moment.langData is deprecated. Use moment.localeData instead.",tt);var Vi=Math.abs,Yi=ir("ms"),Qi=ir("s"),Zi=ir("m"),Ji=ir("h"),Xi=ir("d"),ea=ir("w"),ta=ir("M"),na=ir("y"),ra=or("milliseconds"),ia=or("seconds"),aa=or("minutes"),oa=or("hours"),sa=or("days"),la=or("months"),ua=or("years"),ca=Math.round,da={s:45,m:45,h:22,d:26,M:11},pa=Math.abs,ha=wt.prototype;ha.abs=Vn,ha.add=Qn,ha.subtract=Zn,ha.as=nr,ha.asMilliseconds=Yi,ha.asSeconds=Qi,ha.asMinutes=Zi,ha.asHours=Ji,ha.asDays=Xi,ha.asWeeks=ea,ha.asMonths=ta,ha.asYears=na,ha.valueOf=rr,ha._bubble=Xn,ha.get=ar,ha.milliseconds=ra,ha.seconds=ia,ha.minutes=aa,ha.hours=oa,ha.days=sa,ha.weeks=sr,ha.months=la,ha.years=ua,ha.humanize=pr,ha.toISOString=hr,ha.toString=hr,ha.toJSON=hr,ha.locale=dn,ha.localeData=pn,ha.toIsoString=A("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",hr),ha.lang=Bi,z("X",0,0,"unix"),z("x",0,0,"valueOf"),Z("x",Kr),Z("X",Vr),te("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),te("x",function(e,t,n){n._d=new Date(S(e))}),e.version="2.14.2",n(yt),e.fn=zi,e.min=St,e.max=Dt,e.now=Pi,e.utc=c,e.unix=Rn,e.months=qn,e.isDate=o,e.locale=Je,e.invalid=f,e.duration=Bt,e.isMoment=y,e.weekdays=Kn,e.parseZone=Nn,e.localeData=tt,e.isDuration=At,e.monthsShort=jn,e.weekdaysMin=Hn,e.defineLocale=Xe,e.updateLocale=et,e.locales=nt,e.weekdaysShort=zn,e.normalizeUnits=I,e.relativeTimeRounding=cr,e.relativeTimeThreshold=dr,e.calendarFormat=zt,e.prototype=zi;var fa=e;return fa}),n("filterModel/AbstractFilter",["lodash"],function(e){"use strict";function t(t,n,r){this.filterId=t,this.label=n,this.filterablePropertyName=r,this.filterInitialized=!1;var i=e.constant(!0);this.filteringFunction=i}return t.prototype.getFilterablePropertyName=function(){return this.filterablePropertyName},t.prototype.isListenableStatistics=function(e){return this.filterablePropertyName===e.filterablePropertyName},t.prototype.applyStatistics=function(e){this.filterInitialized=!0;var t=this;e.filter(t.isListenableStatistics.bind(t)).forEach(function(e){t.applyListenableStatistics(e.statistics)})},t}),n("filterModel/DiscreteValuesFilter",["filterModel/AbstractFilter","lodash"],function(e,t){"use strict";function n(){e.apply(this,arguments),this.selectableValues=[]}return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype.applyListenableStatistics=function(e){this.selectableValues=e.selectableValues.map(function(e){return{propertyValue:e.value,minPrice:e.minPrice,count:e.count,currency:e.currency,permitted:!0}})},n.prototype.getRequestedStatisticsType=function(){return"discrete"},n.prototype.reset=function(){this.selectableValues.forEach(function(e){e.permitted=!0})},n.prototype.rebuildFilteringFunction=function(){var e=t.map(t.filter(this.selectableValues,"permitted"),"propertyValue");return this.filteringFunction=this.filteringFunctionConstructor(this.filterablePropertyName,e),this.filteringFunction},n.prototype.filteringFunctionConstructor=function(e,n){return function(r){var i=t.result(r,e);return-1!==n.indexOf(i)}},n}),n("filterModel/DiscreteValuesListAllRequiredFilter",["lodash","filterModel/DiscreteValuesFilter"],function(e,t){"use strict";function n(){t.apply(this,arguments)}return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.filteringFunctionConstructor=function(t,n){return function(r){var i=e.result(r,t);return i.every(function(t){return e.includes(n,t)})}},n}),n("filterModel/DiscreteValuesListAnyRequiredFilter",["lodash","filterModel/DiscreteValuesFilter"],function(e,t){"use strict";function n(){t.apply(this,arguments)}return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.filteringFunctionConstructor=function(t,n){return function(r){var i=e.result(r,t);return i.some(function(t){return e.includes(n,t)})}},n}),n("filterModel/RangeFilter",["moment","lodash","filterModel/AbstractFilter"],function(e,t,n){"use strict";function r(){n.apply(this,arguments)}return r.prototype=Object.create(n.prototype),r.prototype.constructor=r,r.prototype.applyListenableStatistics=function(e){this.minConstraint=e.min,this.maxConstraint=e.max,this.min=e.min,this.max=e.max},r.prototype.getRequestedStatisticsType=function(){return"range"},r.prototype.reset=function(){this.min=this.minConstraint,this.max=this.maxConstraint},r.prototype.rebuildFilteringFunction=function(){return this.filteringFunction=this.filteringFunctionConstructor(this.filterablePropertyName,this.min,this.max),this.filteringFunction},r.prototype.filteringFunctionConstructor=function(e,n,r){return function(i){var a=t.result(i,e);return(t.isUndefined(n)||a>=n)&&(t.isUndefined(r)||r>=a)}},r}),n("filterModel/RangeDateTimeFilter",["moment","lodash","filterModel/RangeFilter"],function(e,t,n){"use strict";function r(){n.apply(this,arguments)}return r.prototype=Object.create(n.prototype),r.prototype.constructor=r,r.prototype.applyListenableStatistics=function(e){var t=1e3*e.min.unix(),n=1e3*e.max.unix();this.minConstraint=t,this.maxConstraint=n,this.min=t,this.max=n},r.prototype.rebuildFilteringFunction=function(){return this.filteringFunction=this.filteringFunctionConstructor(this.filterablePropertyName,e(this.min),e(this.max)),this.filteringFunction},r.prototype.filteringFunctionConstructor=function(e,n,r){return function(i){var a=t.result(i,e);return a.isBetween(n,r)||a.isSame(n)||a.isSame(r)}},r}),n("filterModel/RangeMonetaryAmountFilter",["lodash","moment","filterModel/RangeFilter"],function(e,t,n){"use strict";function r(){n.apply(this,arguments)}return r.prototype=Object.create(n.prototype),r.prototype.constructor=r,r.prototype.getRequestedStatisticsType=function(){return"rangeMonetaryAmount"},r.prototype.applyListenableStatistics=function(t){this.minConstraint=e.assign({},t.min),this.maxConstraint=e.assign({},t.max),this.min=e.assign({},t.min),this.max=e.assign({},t.max)},r.prototype.reset=function(){this.min=e.assign({},this.minConstraint),this.max=e.assign({},this.maxConstraint)},r.prototype.filteringFunctionConstructor=function(t,n,r){return function(i){var a=e.result(i,t);return(e.isUndefined(n.amount)||a.amount>=n.amount)&&(e.isUndefined(r.amount)||a.amount<=r.amount)}},r}),n("filterModel/BooleanFilter",["lodash","filterModel/AbstractFilter"],function(e,t){"use strict";function n(){t.apply(this,arguments),this.isRequired=!1}return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.applyListenableStatistics=e.noop,n.prototype.getRequestedStatisticsType=function(){return"noop"},n.prototype.reset=function(){this.isRequired=!1},n.prototype.rebuildFilteringFunction=function(){return this.filteringFunction=this.filteringFunctionConstructor(this.filterablePropertyName,this.isRequired),this.filteringFunction},n.prototype.filteringFunctionConstructor=function(t,n){return function(r){var i=e.result(r,t);return!n||i===n}},n}),n("filterPanel/valuesFilter.drv",["lodash","moment","filterModel/DiscreteValuesFilter","filterModel/DiscreteValuesListAllRequiredFilter","filterModel/DiscreteValuesListAnyRequiredFilter","filterModel/RangeFilter","filterModel/RangeDateTimeFilter","filterModel/RangeMonetaryAmountFilter","filterModel/BooleanFilter"],function(e,t,n,r,i,a,o,s,l){"use strict";return function(t,u,c,d,p){return{restrict:"E",require:"^filterPanel",replace:!0,scope:{canFilterOnlyOnMaxValue:"@",canFilterOnlyOnMinValue:"@",filterType:"@type",filterPanelId:"@?"},templateUrl:"../app/src/filterPanel/valuesFilter.tpl.html",link:function(h,f,g,m){function v(){var e=d.next();switch(h.filterType){case"discrete":return new n(e,g.label,g.filterablePropertyName);case"discreteListAllRequired":return new r(e,g.label,g.filterablePropertyName);case"discreteListAnyRequired":return new i(e,g.label,g.filterablePropertyName);case"range":return new a(e,g.label,g.filterablePropertyName);case"rangeDateTime":return new o(e,g.label,g.filterablePropertyName);case"rangeMonetaryAmount":return new s(e,g.label,g.filterablePropertyName,g.currencyPropertyName);case"boolean":return new l(e,g.label,g.filterablePropertyName)}}h.filterInstance=v(),h.valuesDisplayFilter=g.valuesDisplayFilter,h.valuesDisplayFilterOptions=g.valuesDisplayFilterOptions,h.hidePriceFrom="true"===g.hidePriceFrom,h.currencyFilter=g.customCurrencyFilter||"currency",t.register({property:h.filterInstance.getFilterablePropertyName(),type:h.filterInstance.getRequestedStatisticsType()},m.getOwnerId()),h.$on(u,function(){m.notifyOnStatisticsUpdate();var t=c.statistics[m.getOwnerId()];e.isUndefined(t)||(h.filterInstance.applyStatistics(t),h.$evalAsync())}),h.permittedValuesChanged=function(){var e=h.filterInstance.rebuildFilteringFunction();m.updateFilteringFunction(h.filterInstance.filterId,e),h.$evalAsync()},h.$on(p,function(){h.filterInstance.reset(),h.permittedValuesChanged()})}}}}),n("filterPanel/applyFilter.ftr",["lodash"],function(e){"use strict";return function(t){return function(){var n=Array.prototype.slice.call(arguments),r=n.shift(),i=n.shift();e.isUndefined(i)&&(i="passAllFilter");var a=t(i);return n.unshift(r),a.apply(null,n)}}}),n("filterPanel/filterPanel.mod",["angular","angular_rangeslider","messaging/messaging.mod","filterPanel/filterPanel.ctr","filterPanel/filterPanel.drv","filterPanel/valuesFilter.drv","filterPanel/applyFilter.ftr"],function(e,t,n,r,i,a,o){"use strict";return e.module("WidgetsFilterPanel.filterPanel",["WidgetsFilterPanel.messaging","ui-rangeSlider"]).service("FilterIdGeneratorService",function(){var e=0;return{next:function(){return e++}}}).controller("FiltersPanelCtrl",["$scope","FilteringCriteriaChangedNotificationService","resetAllFiltersEvent",r]).filter("applyFilter",["$filter",o]).filter("passAllFilter",function(){return function(e){return e}}).directive("filterPanel",i).directive("valuesFilter",["StatisticsGatheringRequestsRegistryService","statisticsUpdateNotification","StatisticsBroadcastingService","FilterIdGeneratorService","resetAllFiltersEvent",a])}),n("commonDisplayFilters/makeMomentAndFormat.ftr",["lodash","moment"],function(e,t){"use strict";return function(){return function(n,r){return e.isUndefined(n)||null===n?"":t(n).format(r)}}}),n("commonDisplayFilters/makeMomentDurationAndFormat.ftr",["lodash","moment"],function(e,t){"use strict";return function(){return function(n,r,i){if(e.isUndefined(n)||null===n)return"";var a=t.duration(n,r);return 0===a.asMilliseconds()?0:a.humanize(i)}}}),n("commonDisplayFilters/commonDisplayFilters.mod",["angular","commonDisplayFilters/makeMomentAndFormat.ftr","commonDisplayFilters/makeMomentDurationAndFormat.ftr"],function(e,t,n){"use strict";return e.module("WidgetsFilterPanel.commonDisplayFilters",[]).filter("makeMomentAndFormat",t).filter("makeMomentDurationAndFormat",n)}),n("statistics/LodashExtensions",["lodash"],function(e){"use strict";var t=e.runInContext();return t.mixin({minOfValues:function(t){var n=e.values(t);return Math.min.apply(void 0,n)},groupByAndGetCountAndMin:function(t,n,r,i){function a(t,n,a){e.isUndefined(t.keysAcc[n])&&(t.keysAcc[n]=n,t.valuesAcc[n]={min:1/0,count:0}),t.valuesAcc[n].count++;var o=e.result(a,r),s=e.result(a,i);if(i&&t.valuesAcc[n].mustBeEqualPropertyValue&&t.valuesAcc[n].mustBeEqualPropertyValue!==s)throw new Error('Error while calculating min value. The property to be equal "'+i+"' while calculating minimum was different across values");return o<t.valuesAcc[n].min&&(t.valuesAcc[n].min=o,t.valuesAcc[n].mustBeEqualPropertyValue=s),t}var o=t.reduce(function(t,r){var i=e.result(r,n);return e.isArray(i)?i.reduce(function(e,t){return a(e,t,r)},t):a(t,i,r)},{keysAcc:{},valuesAcc:{}}),s=e.map(o.keysAcc,function(e){return{value:o.keysAcc[e],count:o.valuesAcc[e].count,min:o.valuesAcc[e].min,mustBeEqualPropertyValue:o.valuesAcc[e].mustBeEqualPropertyValue}});return s}}),t}),n("statistics/StatisticsCalculator",["statistics/LodashExtensions"],function(e){"use strict";function t(e,t){if(0===e.length)throw new Error("No point to create statistics calculator on empty statistics definitions");this.statisticsSpecifications=e,t&&(this.pricePropertyAmountAccessor=t.pricePropertyAmountAccessor,this.pricePropertyAmountForPriceFrom=t.pricePropertyAmountForPriceFrom,this.pricePropertyCurrencyForPriceFrom=t.pricePropertyCurrencyForPriceFrom)}return t.prototype.getCurrentValuesBounds=function(e){var t=this;return this.statisticsSpecifications.map(function(n){return{filterablePropertyName:n.property,statistics:t.getStatistics(e,n)}})},t.prototype.getStatistics=function(e,t){var n=t.property;switch(t.type){case"range":return this.getRangeStatistics(e,n);case"rangeMonetaryAmount":return this.getMonetaryAmountRangeStatistics(e,n);case"discrete":return this.getDiscreteValuesStatistics(e,n);case"noop":return;default:throw new Error("Illegal specification of bounds requested: "+t.type)}},t.prototype.getMinValue=function(t,n,r){var i=1/0,a=t[0];return t.forEach(function(t){var o=e.result(t,n),s=e.isUndefined(r)?o:o[r];i>s&&(i=s,a=o)}),a},t.prototype.getMaxValue=function(t,n,r){var i=-(1/0),a=t[0];return t.forEach(function(t){var o=e.result(t,n),s=e.isUndefined(r)?o:o[r];s>i&&(i=s,a=o)}),a},t.prototype.getRangeStatistics=function(e,t){return{min:this.getMinValue(e,t),max:this.getMaxValue(e,t)}},t.prototype.getMonetaryAmountRangeStatistics=function(e,t){return{min:this.getMinValue(e,t,this.pricePropertyAmountAccessor),max:this.getMaxValue(e,t,this.pricePropertyAmountAccessor)}},t.prototype.getDiscreteValuesStatistics=function(t,n){var r=e.chain(t).groupByAndGetCountAndMin(n,this.pricePropertyAmountForPriceFrom,this.pricePropertyCurrencyForPriceFrom).map(function(e){return{value:e.value,count:e.count,minPrice:e.min,currency:e.mustBeEqualPropertyValue}}).sortBy("value").value();return{selectableValues:r}},t}),n("FilterService",["statistics/StatisticsCalculator","lodash"],function(e,t){
"use strict";return function(n,r,i,a,o){this.creatorId=o;var s,l=this;this.configure=function(e){s=e},this.onFilterChange=function(e){n.registerListener(e,l.creatorId)},this.updateFiltersState=function(n){if(t.isUndefined(s))throw new Error("call configure first before using the service");var o=a(function(){var t=r.getAll(l.creatorId);if(0!==t.length){var u=new e(t,s);i.statistics[l.creatorId]=u.getCurrentValuesBounds(n),i.broadcast(),a.cancel(o)}},10)},this.destroy=function(){n.clearAllListeners(l.creatorId)}}}),n("filterServiceFactory.srv",["FilterService"],function(e){"use strict";return function(t,n,r,i){return{newInstance:function(a){return new e(t,n,r,i,a)}}}}),n("WidgetsFilterPanel.mod",["angular","templates.mod","filterPanel/filterPanel.mod","messaging/messaging.mod","commonDisplayFilters/commonDisplayFilters.mod","filterServiceFactory.srv"],function(e,t,n,r,i,a){"use strict";e.module("WidgetsFilterPanel",["WidgetsFilterPanel.templates","WidgetsFilterPanel.messaging","WidgetsFilterPanel.filterPanel","WidgetsFilterPanel.commonDisplayFilters"]).factory("filterServiceFactory",["FilteringCriteriaChangedNotificationService","StatisticsGatheringRequestsRegistryService","StatisticsBroadcastingService","$interval",a])}),t.config({paths:{angular:"../../bower_components/angular/angular",lodash:"../../bower_components/lodash/lodash",angular_rangeslider:"../../bower_components/angular-rangeslider/angular.rangeSlider",moment:"../../bower_components/moment/moment",elementQuery:"../../bower_components/css-element-queries/src/ElementQueries",ResizeSensor:"../../bower_components/css-element-queries/src/ResizeSensor"},shim:{angular:{exports:"angular"},angular_rangeslider:{deps:["angular"]}}}),n("main",["angular","WidgetsFilterPanel.mod"],function(e,t){"use strict"}),t(["main"]),t("main")}),function(e,t){"object"==typeof module&&module.exports?module.exports=t():"function"==typeof n&&n.amd?n("spin",t):e.Spinner=t()}(this,function(){"use strict";function e(e,t){var n,r=document.createElement(e||"div");for(n in t)r[n]=t[n];return r}function t(e){for(var t=1,n=arguments.length;n>t;t++)e.appendChild(arguments[t]);return e}function n(e,t,n,r){var i=["opacity",t,~~(100*e),n,r].join("-"),a=.01+n/r*100,o=Math.max(1-(1-e)/t*(100-a),e),s=u.substring(0,u.indexOf("Animation")).toLowerCase(),l=s&&"-"+s+"-"||"";return p[i]||(c.insertRule("@"+l+"keyframes "+i+"{0%{opacity:"+o+"}"+a+"%{opacity:"+e+"}"+(a+.01)+"%{opacity:1}"+(a+t)%100+"%{opacity:"+e+"}100%{opacity:"+o+"}}",c.cssRules.length),p[i]=1),i}function r(e,t){var n,r,i=e.style;if(t=t.charAt(0).toUpperCase()+t.slice(1),void 0!==i[t])return t;for(r=0;r<d.length;r++)if(n=d[r]+t,void 0!==i[n])return n}function i(e,t){for(var n in t)e.style[r(e,n)||n]=t[n];return e}function a(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)void 0===e[r]&&(e[r]=n[r])}return e}function o(e,t){return"string"==typeof e?e:e[t%e.length]}function s(e){this.opts=a(e||{},s.defaults,h)}function l(){function n(t,n){return e("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',n)}c.addRule(".spin-vml","behavior:url(#default#VML)"),s.prototype.lines=function(e,r){function a(){return i(n("group",{coordsize:c+" "+c,coordorigin:-u+" "+-u}),{width:c,height:c})}function s(e,s,l){t(p,t(i(a(),{rotation:360/r.lines*e+"deg",left:~~s}),t(i(n("roundrect",{arcsize:r.corners}),{width:u,height:r.scale*r.width,left:r.scale*r.radius,top:-r.scale*r.width>>1,filter:l}),n("fill",{color:o(r.color,e),opacity:r.opacity}),n("stroke",{opacity:0}))))}var l,u=r.scale*(r.length+r.width),c=2*r.scale*u,d=-(r.width+r.length)*r.scale*2+"px",p=i(a(),{position:"absolute",top:d,left:d});if(r.shadow)for(l=1;l<=r.lines;l++)s(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(l=1;l<=r.lines;l++)s(l);return t(e,p)},s.prototype.opacity=function(e,t,n,r){var i=e.firstChild;r=r.shadow&&r.lines||0,i&&t+r<i.childNodes.length&&(i=i.childNodes[t+r],i=i&&i.firstChild,i=i&&i.firstChild,i&&(i.opacity=n))}}var u,c,d=["webkit","Moz","ms","O"],p={},h={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:100,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};if(s.defaults={},a(s.prototype,{spin:function(t){this.stop();var n=this,r=n.opts,a=n.el=e(null,{className:r.className});if(i(a,{position:r.position,width:0,zIndex:r.zIndex,left:r.left,top:r.top}),t&&t.insertBefore(a,t.firstChild||null),a.setAttribute("role","progressbar"),n.lines(a,n.opts),!u){var o,s=0,l=(r.lines-1)*(1-r.direction)/2,c=r.fps,d=c/r.speed,p=(1-r.opacity)/(d*r.trail/100),h=d/r.lines;!function f(){s++;for(var e=0;e<r.lines;e++)o=Math.max(1-(s+(r.lines-e)*h)%d*p,r.opacity),n.opacity(a,e*r.direction+l,o,r);n.timeout=n.el&&setTimeout(f,~~(1e3/c))}()}return n},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(r,a){function s(t,n){return i(e(),{position:"absolute",width:a.scale*(a.length+a.width)+"px",height:a.scale*a.width+"px",background:t,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/a.lines*c+a.rotate)+"deg) translate("+a.scale*a.radius+"px,0)",borderRadius:(a.corners*a.scale*a.width>>1)+"px"})}for(var l,c=0,d=(a.lines-1)*(1-a.direction)/2;c<a.lines;c++)l=i(e(),{position:"absolute",top:1+~(a.scale*a.width/2)+"px",transform:a.hwaccel?"translate3d(0,0,0)":"",opacity:a.opacity,animation:u&&n(a.opacity,a.trail,d+c*a.direction,a.lines)+" "+1/a.speed+"s linear infinite"}),a.shadow&&t(l,i(s("#000","0 0 4px #000"),{top:"2px"})),t(r,t(l,s(o(a.color,c),"0 0 1px rgba(0,0,0,.1)")));return r},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}}),"undefined"!=typeof document){c=function(){var n=e("style",{type:"text/css"});return t(document.getElementsByTagName("head")[0],n),n.sheet||n.styleSheet}();var f=i(e("group"),{behavior:"url(#default#VML)"});!r(f,"transform")&&f.adj?l():u=r(f,"animation")}return s}),function(e){"use strict";function r(e,t){return e.module("angularSpinner",[]).constant("SpinJSSpinner",t).provider("usSpinnerConfig",function(){var e={},t={};return{setDefaults:function(t){e=t||e},setTheme:function(e,n){t[e]=n},$get:function(){return{config:e,themes:t}}}}).factory("usSpinnerService",["$rootScope",function(e){var t={};return t.spin=function(t){e.$broadcast("us-spinner:spin",t)},t.stop=function(t){e.$broadcast("us-spinner:stop",t)},t}]).directive("usSpinner",["SpinJSSpinner","usSpinnerConfig",function(t,n){return{scope:!0,link:function(r,i,a){function o(){r.spinner&&r.spinner.stop()}r.spinner=null,r.key=e.isDefined(a.spinnerKey)?a.spinnerKey:!1,r.startActive=e.isDefined(a.spinnerStartActive)?r.$eval(a.spinnerStartActive):r.key?!1:!0,r.spin=function(){r.spinner&&r.spinner.spin(i[0])},r.stop=function(){r.startActive=!1,o()},r.$watch(a.usSpinner,function(s){o(),s=e.extend({},n.config,n.themes[a.spinnerTheme],s),r.spinner=new t(s),r.key&&!r.startActive||a.spinnerOn||r.spinner.spin(i[0])},!0),a.spinnerOn&&r.$watch(a.spinnerOn,function(e){e?r.spin():r.stop()}),r.$on("us-spinner:spin",function(e,t){t===r.key&&r.spin()}),r.$on("us-spinner:stop",function(e,t){t===r.key&&r.stop()}),r.$on("$destroy",function(){r.stop(),r.spinner=null})}}}])}"object"==typeof module&&module.exports?module.exports=r(t("angular"),t("spin.js")):"function"==typeof n&&n.amd?n("usSpinnerService",["angular","spin"],r):r(e.angular,e.Spinner)}(this),n("widgets/SDSWidgets",["angular","util/BaseServices","util/CommonDirectives","util/CommonGenericFilters","util/CommonDisplayFilters","widgets/inspirational/InspirationalWidgets.mod","widgets/basicSearch/basicSearch.mod","widgets/searchForm/searchForm.mod","webservices/Interceptors","angular-ui-select","angular-sanitize","util/LookupFilters","util/SerializationServices","angular-img-fallback","angular-rangeslider","angular_iso_currency","angular-touch","nsPopover","WidgetsFilterPanel","usSpinnerService"],function(e,t,n,r,i,a,o,s,l,u,c,d,p,h,f,g,m,v,y,b){"use strict";return e.module("sdsWidgets",["baseServices","sabreDevStudioWebServices","sdsWidgets.inspirationalWidgets","sdsWidgets.errorDisplays","sdsWidgets.basicSearch","sdsWidgets.searchForm","commonDirectives","commonFilters","ui.bootstrap","ngSanitize","ui.select","sDSLookups","SDSWidgets.SerializationServices","dcbImgFallback","ui-rangeSlider","isoCurrency","ngTouch","nsPopover","WidgetsFilterPanel","angularSpinner"]).constant("newSearchCriteriaEvent","newSearchCriteria").constant("newInspirationalSearchCriteriaEvent","newInspirationalSearchCriteriaEvent").constant("resetAllFiltersEvent","resetAllFiltersEvent").constant("dateSelectedEvent","dateSelectedEvent").constant("noResultsFoundEvent","noResultsFoundEvent").config(["uibDatepickerConfig",function(e){e.showWeeks=!1,e.startingDay=1,e.yearRange=2,e.showButtonBar=!1}]).config(["$compileProvider",function(e){e.debugInfoEnabled(!1)}]).service("SearchCriteriaBroadcastingService",["$rootScope","newSearchCriteriaEvent",function(e,t){var n={searchCriteria:void 0,broadcast:function(){e.$broadcast(t)}};return n}]).service("InspirationalSearchCriteriaBroadcastingService",["$rootScope","newInspirationalSearchCriteriaEvent",function(e,t){var n={searchCriteria:void 0,broadcast:function(){e.$broadcast(t)}};return n}]).service("DateSelectedBroadcastingService",["$rootScope","dateSelectedEvent",function(e,t){var n={originalDataSourceWebService:void 0,newSearchCriteria:void 0,broadcast:function(){e.$broadcast(t)}};return n}]).service("NoResultsFoundBroadcastingService",["$rootScope","noResultsFoundEvent",function(e,t){var n={broadcast:function(){e.$broadcast(t)}};return n}])}),n("webservices/instaflights/InstaflightSearchCriteriaValidator",["util/LodashExtensions","moment","webservices/common/validators/TravelInsightEngineSearchCriteriaValidator"],function(e,t,n){"use strict";function r(){this.travelInsightEngineSearchCriteriaValidator=new n}return r.prototype.validate=function(t){var n=[],r=this.travelInsightEngineSearchCriteriaValidator.validate(t);return e.pushAll(n,r),t.isAlternateDatesRequest()&&n.push("Instaflight does not support alt dates requests (date flexibility)"),n},r}),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.debounce","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/alert/alert.html","uib/template/carousel/carousel.html","uib/template/carousel/slide.html","uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/popup.html","uib/template/datepicker/year.html","uib/template/modal/backdrop.html","uib/template/modal/window.html","uib/template/pager/pager.html","uib/template/pagination/pagination.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/progressbar/bar.html","uib/template/progressbar/progress.html","uib/template/progressbar/progressbar.html","uib/template/rating/rating.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html","uib/template/timepicker/timepicker.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(e,t,n,r){var i=r.has("$animateCss")?r.get("$animateCss"):null;return{link:function(r,a,o){function s(){a.hasClass("collapse")&&a.hasClass("in")||t.resolve(d(r)).then(function(){a.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),i?i(a,{addClass:"in",easing:"ease",to:{height:a[0].scrollHeight+"px"}}).start().finally(l):e.addClass(a,"in",{to:{height:a[0].scrollHeight+"px"}}).then(l)})}function l(){a.removeClass("collapsing").addClass("collapse").css({height:"auto"}),p(r)}function u(){return a.hasClass("collapse")||a.hasClass("in")?void t.resolve(h(r)).then(function(){a.css({height:a[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),i?i(a,{removeClass:"in",to:{height:"0"}}).start().finally(c):e.removeClass(a,"in",{to:{height:"0"}}).then(c)}):c()}function c(){a.css({height:"0"}),a.removeClass("collapsing").addClass("collapse"),f(r)}var d=n(o.expanding),p=n(o.expanded),h=n(o.collapsing),f=n(o.collapsed);r.$eval(o.uibCollapse)||a.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css({height:"auto"}),r.$watch(o.uibCollapse,function(e){e?u():s()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(r){var i=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;i&&angular.forEach(this.groups,function(e){e!==r&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(n){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,r){r.addGroup(e),e.openClass=n.openClass||"panel-open",e.panelClass=n.panelClass||"panel-default",e.$watch("isOpen",function(n){t.toggleClass(e.openClass,!!n),n&&r.closeOthers(e)}),e.toggleOpen=function(t){e.isDisabled||t&&32!==t.which||(e.isOpen=!e.isOpen)};var i="accordiongroup-"+e.$id+"-"+Math.floor(1e4*Math.random());e.headingId=i+"-tab",e.panelId=i+"-panel"}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(e,t,n,r,i){r.setHeading(i(e,angular.noop))}}}).directive("uibAccordionTransclude",function(){return{require:"^uibAccordionGroup",link:function(e,t,n,r){e.$watch(function(){return r[n.uibAccordionTransclude]},function(e){if(e){var n=angular.element(t[0].querySelector("[uib-accordion-header]"));n.html(""),n.append(e)}})}}}),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$attrs","$interpolate","$timeout",function(e,t,n,r){e.closeable=!!t.close;var i=angular.isDefined(t.dismissOnTimeout)?n(t.dismissOnTimeout)(e.$parent):null;i&&r(function(){e.close()},parseInt(i,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",templateUrl:function(e,t){return t.templateUrl||"uib/template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function(e){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(t,n,r,i){var a=i[0],o=i[1],s=e(r.uibUncheckable);n.find("input").css({display:"none"}),o.$render=function(){n.toggleClass(a.activeClass,angular.equals(o.$modelValue,t.$eval(r.uibBtnRadio)))},n.on(a.toggleEvent,function(){if(!r.disabled){var e=n.hasClass(a.activeClass);(!e||angular.isDefined(r.uncheckable))&&t.$apply(function(){o.$setViewValue(e?null:t.$eval(r.uibBtnRadio)),o.$render()})}}),r.uibUncheckable&&t.$watch(s,function(e){r.$set("uncheckable",e?"":void 0)})}}}]).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(e,t,n,r){function i(){return o(n.btnCheckboxTrue,!0)}function a(){return o(n.btnCheckboxFalse,!1)}function o(t,n){return angular.isDefined(t)?e.$eval(t):n}var s=r[0],l=r[1];t.find("input").css({display:"none"}),l.$render=function(){t.toggleClass(s.activeClass,angular.equals(l.$modelValue,i()))},t.on(s.toggleEvent,function(){n.disabled||e.$apply(function(){l.$setViewValue(t.hasClass(s.activeClass)?a():i()),l.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function(e,t,n,r,i){function a(){for(;b.length;)b.shift()}function o(e){for(var t=0;t<m.length;t++)m[t].slide.active=t===e}function s(n,r,l){if(!S){if(angular.extend(n,{direction:l}),angular.extend(m[y].slide||{},{direction:l}),i.enabled(t)&&!e.$currentTransition&&m[r].element&&g.slides.length>1){m[r].element.data(v,n.direction);var u=g.getCurrentIndex();angular.isNumber(u)&&m[u].element&&m[u].element.data(v,n.direction),e.$currentTransition=!0,i.on("addClass",m[r].element,function(t,n){if("close"===n&&(e.$currentTransition=null,i.off("addClass",t),b.length)){var r=b.pop().slide,o=r.index,l=o>g.getCurrentIndex()?"next":"prev";a(),s(r,o,l)}})}e.active=n.index,y=n.index,o(r),d()}}function l(e){for(var t=0;t<m.length;t++)if(m[t].slide===e)return t}function u(){h&&(n.cancel(h),h=null)}function c(t){t.length||(e.$currentTransition=null,a())}function d(){u();var t=+e.interval;!isNaN(t)&&t>0&&(h=n(p,t))}function p(){var t=+e.interval;f&&!isNaN(t)&&t>0&&m.length?e.next():e.pause()}var h,f,g=this,m=g.slides=e.slides=[],v="uib-slideDirection",y=e.active,b=[],S=!1;g.addSlide=function(t,n){m.push({slide:t,element:n}),m.sort(function(e,t){return+e.slide.index>+t.slide.index}),(t.index===e.active||1===m.length&&!angular.isNumber(e.active))&&(e.$currentTransition&&(e.$currentTransition=null),y=t.index,e.active=t.index,o(y),g.select(m[l(t)]),1===m.length&&e.play())},g.getCurrentIndex=function(){for(var e=0;e<m.length;e++)if(m[e].slide.index===y)return e},g.next=e.next=function(){var t=(g.getCurrentIndex()+1)%m.length;return 0===t&&e.noWrap()?void e.pause():g.select(m[t],"next")},g.prev=e.prev=function(){var t=g.getCurrentIndex()-1<0?m.length-1:g.getCurrentIndex()-1;return e.noWrap()&&t===m.length-1?void e.pause():g.select(m[t],"prev")},g.removeSlide=function(t){var n=l(t),r=b.indexOf(m[n]);-1!==r&&b.splice(r,1),m.splice(n,1),m.length>0&&y===n?n>=m.length?(y=m.length-1,e.active=y,o(y),g.select(m[m.length-1])):(y=n,e.active=y,o(y),g.select(m[n])):y>n&&(y--,e.active=y),0===m.length&&(y=null,e.active=null,a())},g.select=e.select=function(t,n){var r=l(t.slide);void 0===n&&(n=r>g.getCurrentIndex()?"next":"prev"),t.slide.index===y||e.$currentTransition?t&&t.slide.index!==y&&e.$currentTransition&&b.push(m[r]):s(t.slide,r,n)},e.indexOfSlide=function(e){return+e.slide.index},e.isActive=function(t){return e.active===t.slide.index},e.pause=function(){e.noPause||(f=!1,u())},e.play=function(){f||(f=!0,d())},e.$on("$destroy",function(){S=!0,u()}),e.$watch("noTransition",function(e){i.enabled(t,!e)}),e.$watch("interval",d),e.$watchCollection("slides",c),e.$watch("active",function(e){if(angular.isNumber(e)&&y!==e){for(var t=0;t<m.length;t++)if(m[t].slide.index===e){e=t;break}var n=m[e];n&&(y=e,o(e),g.select(m[e]))}})}]).directive("uibCarousel",function(){return{transclude:!0,replace:!0,controller:"UibCarouselController",controllerAs:"carousel",templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/carousel.html"},scope:{active:"=",interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}).directive("uibSlide",function(){return{require:"^uibCarousel",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/slide.html"},scope:{actual:"=?",index:"=?"},link:function(e,t,n,r){r.addSlide(e,t),e.$on("$destroy",function(){r.removeSlide(e)})}}}).animation(".item",["$animateCss",function(e){function t(e,t,n){e.removeClass(t),n&&n()}var n="uib-slideDirection";return{beforeAddClass:function(r,i,a){if("active"===i){var o=!1,s=r.data(n),l="next"===s?"left":"right",u=t.bind(this,r,l+" "+s,a);return r.addClass(s),e(r,{addClass:l}).start().done(u),function(){o=!0}}a()},beforeRemoveClass:function(r,i,a){if("active"===i){var o=!1,s=r.data(n),l="next"===s?"left":"right",u=t.bind(this,r,l,a);return e(r,{addClass:l}).start().done(u),function(){o=!0}}a()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter",function(e,t,n,r){function i(e,t){var n=[],i=e.split(""),a=e.indexOf("'");if(a>-1){var o=!1;e=e.split("");for(var s=a;s<e.length;s++)o?("'"===e[s]&&(s+1<e.length&&"'"===e[s+1]?(e[s+1]="$",i[s+1]=""):(i[s]="",o=!1)),e[s]="$"):"'"===e[s]&&(e[s]="$",i[s]="",o=!0);e=e.join("")}return angular.forEach(h,function(r){var a=e.indexOf(r.key);if(a>-1){e=e.split(""),i[a]="("+r.regex+")",e[a]="$";for(var o=a+1,s=a+r.key.length;s>o;o++)i[o]="",e[o]="$";e=e.join(""),n.push({index:a,key:r.key,apply:r[t],matcher:r.regex})}}),{regex:new RegExp("^"+i.join("")+"$"),map:r(n,"index")}}function a(e,t,n){return 1>n?!1:1===t&&n>28?29===n&&(e%4===0&&e%100!==0||e%400===0):3===t||5===t||8===t||10===t?31>n:!0}function o(e){return parseInt(e,10)}function s(e,t){return e&&t?d(e,t):e}function l(e,t){return e&&t?d(e,t,!0):e}function u(e,t){var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function c(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function d(e,t,n){n=n?-1:1;var r=u(t,e.getTimezoneOffset());return c(e,n*(r-e.getTimezoneOffset()))}var p,h,f=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){p=t.id,this.parsers={},this.formatters={},h=[{key:"yyyy",regex:"\\d{4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(e){this.year=+e+2e3},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){var t=e.getMonth();return/^[0-9]$/.test(t)?n(e,"MM"):n(e,"M")}},{key:"MMMM",regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)},formatter:function(e){return n(e,"MMMM")}},{key:"MMM",regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)},formatter:function(e){return n(e,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){var t=e.getDate();return/^[1-9]$/.test(t)?n(e,"dd"):n(e,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"d")}},{key:"EEEE",regex:t.DATETIME_FORMATS.DAY.join("|"),formatter:function(e){return n(e,"EEEE")}},{key:"EEE",regex:t.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(e){return n(e,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e},formatter:function(e){return n(e,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"s")}},{key:"a",regex:t.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)},formatter:function(e){return n(e,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(e){var t=e.match(/([+-])(\d{2})(\d{2})/),n=t[1],r=t[2],i=t[3];this.hours+=o(n+r),this.minutes+=o(n+i)},formatter:function(e){return n(e,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(e){return n(e,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(e){return n(e,"w")}},{key:"GGGG",regex:t.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(e){return n(e,"GGGG")}},{key:"GGG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GGG")}},{key:"GG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GG")}},{key:"G",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"G")}}]},this.init(),this.filter=function(e,n){if(!angular.isDate(e)||isNaN(e)||!n)return"";n=t.DATETIME_FORMATS[n]||n,t.id!==p&&this.init(),this.formatters[n]||(this.formatters[n]=i(n,"formatter"));var r=this.formatters[n],a=r.map,o=n;return a.reduce(function(t,n,r){var i=o.match(new RegExp("(.*)"+n.key));i&&angular.isString(i[1])&&(t+=i[1],o=o.replace(i[1]+n.key,""));var s=r===a.length-1?o:"";return n.apply?t+n.apply.call(null,e)+s:t+s},"")},this.parse=function(n,r,o){if(!angular.isString(n)||!r)return n;r=t.DATETIME_FORMATS[r]||r,r=r.replace(f,"\\$&"),t.id!==p&&this.init(),this.parsers[r]||(this.parsers[r]=i(r,"apply"));var s=this.parsers[r],l=s.regex,u=s.map,c=n.match(l),d=!1;if(c&&c.length){var h,g;angular.isDate(o)&&!isNaN(o.getTime())?h={year:o.getFullYear(),month:o.getMonth(),date:o.getDate(),hours:o.getHours(),minutes:o.getMinutes(),seconds:o.getSeconds(),milliseconds:o.getMilliseconds()}:(o&&e.warn("dateparser:","baseDate is not a valid date"),h={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var m=1,v=c.length;v>m;m++){var y=u[m-1];"Z"===y.matcher&&(d=!0),y.apply&&y.apply.call(h,c[m])}var b=d?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,S=d?Date.prototype.setUTCHours:Date.prototype.setHours;return a(h.year,h.month,h.date)&&(!angular.isDate(o)||isNaN(o.getTime())||d?(g=new Date(0),b.call(g,h.year,h.month,h.date),S.call(g,h.hours||0,h.minutes||0,h.seconds||0,h.milliseconds||0)):(g=new Date(o),b.call(g,h.year,h.month,h.date),S.call(g,h.hours,h.minutes,h.seconds,h.milliseconds))),g}},this.toTimezone=s,this.fromTimezone=l,this.timezoneToOffset=u,this.addDateMinutes=c,this.convertTimezoneToLocal=d}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(e){var t=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,n=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(r,i){function a(e,t,n){l.push(e),u.push({scope:e,element:t}),f.forEach(function(t,n){o(t,e)}),e.$on("$destroy",s)}function o(t,r){var i=t.match(n),a=r.$eval(i[1]),o=i[2],s=c[t];if(!s){var l=function(t){var n=null;u.some(function(e){var r=e.scope.$eval(p);return r===t?(n=e,!0):void 0}),s.lastActivated!==n&&(s.lastActivated&&e.removeClass(s.lastActivated.element,a),n&&e.addClass(n.element,a),s.lastActivated=n)};c[t]=s={lastActivated:null,scope:r,watchFn:l,compareWithExp:o,watcher:r.$watch(o,l)}}s.watchFn(r.$eval(o))}function s(e){var t=e.targetScope,n=l.indexOf(t);if(l.splice(n,1),u.splice(n,1),l.length){var r=l[0];angular.forEach(c,function(e){e.scope===t&&(e.watcher=r.$watch(e.compareWithExp,e.watchFn),e.scope=r)})}else c={}}var l=[],u=[],c={},d=i.uibIsClass.match(t),p=d[2],h=d[1],f=h.split(",");return a}}}]),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(e,t){var n,r={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},i={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/};return{getRawNode:function(e){return e.nodeName?e:e[0]||e},parseStyle:function(e){return e=parseFloat(e),isFinite(e)?e:0},offsetParent:function(n){function r(e){return"static"===(t.getComputedStyle(e).position||"static")}n=this.getRawNode(n);for(var i=n.offsetParent||e[0].documentElement;i&&i!==e[0].documentElement&&r(i);)i=i.offsetParent;return i||e[0].documentElement},scrollbarWidth:function(){if(angular.isUndefined(n)){var t=angular.element('<div class="uib-position-scrollbar-measure"></div>');e.find("body").append(t),n=t[0].offsetWidth-t[0].clientWidth,n=isFinite(n)?n:0,t.remove()}return n},isScrollable:function(e,n){e=this.getRawNode(e);var i=n?r.hidden:r.normal,a=t.getComputedStyle(e);return i.test(a.overflow+a.overflowY+a.overflowX)},scrollParent:function(n,i){n=this.getRawNode(n);var a=i?r.hidden:r.normal,o=e[0].documentElement,s=t.getComputedStyle(n),l="absolute"===s.position,u=n.parentElement||o;if(u===o||"fixed"===s.position)return o;for(;u.parentElement&&u!==o;){var c=t.getComputedStyle(u);if(l&&"static"!==c.position&&(l=!1),!l&&a.test(c.overflow+c.overflowY+c.overflowX))break;u=u.parentElement}return u},position:function(n,r){n=this.getRawNode(n);var i=this.offset(n);if(r){var a=t.getComputedStyle(n);i.top-=this.parseStyle(a.marginTop),i.left-=this.parseStyle(a.marginLeft)}var o=this.offsetParent(n),s={top:0,left:0};return o!==e[0].documentElement&&(s=this.offset(o),s.top+=o.clientTop-o.scrollTop,s.left+=o.clientLeft-o.scrollLeft),{width:Math.round(angular.isNumber(i.width)?i.width:n.offsetWidth),height:Math.round(angular.isNumber(i.height)?i.height:n.offsetHeight),top:Math.round(i.top-s.top),left:Math.round(i.left-s.left)}},offset:function(n){n=this.getRawNode(n);var r=n.getBoundingClientRect();return{width:Math.round(angular.isNumber(r.width)?r.width:n.offsetWidth),height:Math.round(angular.isNumber(r.height)?r.height:n.offsetHeight),top:Math.round(r.top+(t.pageYOffset||e[0].documentElement.scrollTop)),left:Math.round(r.left+(t.pageXOffset||e[0].documentElement.scrollLeft))}},viewportOffset:function(n,r,i){n=this.getRawNode(n),i=i!==!1?!0:!1;var a=n.getBoundingClientRect(),o={top:0,left:0,bottom:0,right:0},s=r?e[0].documentElement:this.scrollParent(n),l=s.getBoundingClientRect();if(o.top=l.top+s.clientTop,o.left=l.left+s.clientLeft,s===e[0].documentElement&&(o.top+=t.pageYOffset,o.left+=t.pageXOffset),o.bottom=o.top+s.clientHeight,o.right=o.left+s.clientWidth,i){var u=t.getComputedStyle(s);o.top+=this.parseStyle(u.paddingTop),o.bottom-=this.parseStyle(u.paddingBottom),o.left+=this.parseStyle(u.paddingLeft),o.right-=this.parseStyle(u.paddingRight)}return{top:Math.round(a.top-o.top),bottom:Math.round(o.bottom-a.bottom),left:Math.round(a.left-o.left),right:Math.round(o.right-a.right)}},parsePlacement:function(e){var t=i.auto.test(e);return t&&(e=e.replace(i.auto,"")),e=e.split("-"),e[0]=e[0]||"top",i.primary.test(e[0])||(e[0]="top"),
e[1]=e[1]||"center",i.secondary.test(e[1])||(e[1]="center"),t?e[2]=!0:e[2]=!1,e},positionElements:function(e,n,r,a){e=this.getRawNode(e),n=this.getRawNode(n);var o=angular.isDefined(n.offsetWidth)?n.offsetWidth:n.prop("offsetWidth"),s=angular.isDefined(n.offsetHeight)?n.offsetHeight:n.prop("offsetHeight");r=this.parsePlacement(r);var l=a?this.offset(e):this.position(e),u={top:0,left:0,placement:""};if(r[2]){var c=this.viewportOffset(e),d=t.getComputedStyle(n),p={width:o+Math.round(Math.abs(this.parseStyle(d.marginLeft)+this.parseStyle(d.marginRight))),height:s+Math.round(Math.abs(this.parseStyle(d.marginTop)+this.parseStyle(d.marginBottom)))};if(r[0]="top"===r[0]&&p.height>c.top&&p.height<=c.bottom?"bottom":"bottom"===r[0]&&p.height>c.bottom&&p.height<=c.top?"top":"left"===r[0]&&p.width>c.left&&p.width<=c.right?"right":"right"===r[0]&&p.width>c.right&&p.width<=c.left?"left":r[0],r[1]="top"===r[1]&&p.height-l.height>c.bottom&&p.height-l.height<=c.top?"bottom":"bottom"===r[1]&&p.height-l.height>c.top&&p.height-l.height<=c.bottom?"top":"left"===r[1]&&p.width-l.width>c.right&&p.width-l.width<=c.left?"right":"right"===r[1]&&p.width-l.width>c.left&&p.width-l.width<=c.right?"left":r[1],"center"===r[1])if(i.vertical.test(r[0])){var h=l.width/2-o/2;c.left+h<0&&p.width-l.width<=c.right?r[1]="left":c.right+h<0&&p.width-l.width<=c.left&&(r[1]="right")}else{var f=l.height/2-p.height/2;c.top+f<0&&p.height-l.height<=c.bottom?r[1]="top":c.bottom+f<0&&p.height-l.height<=c.top&&(r[1]="bottom")}}switch(r[0]){case"top":u.top=l.top-s;break;case"bottom":u.top=l.top+l.height;break;case"left":u.left=l.left-o;break;case"right":u.left=l.left+l.width}switch(r[1]){case"top":u.top=l.top;break;case"bottom":u.top=l.top+l.height-s;break;case"left":u.left=l.left;break;case"right":u.left=l.left+l.width-o;break;case"center":i.vertical.test(r[0])?u.left=l.left+l.width/2-o/2:u.top=l.top+l.height/2-s/2}return u.top=Math.round(u.top),u.left=Math.round(u.left),u.placement="center"===r[1]?r[0]:r[0]+"-"+r[1],u},positionArrow:function(e,n){e=this.getRawNode(e);var r=e.querySelector(".tooltip-inner, .popover-inner");if(r){var a=angular.element(r).hasClass("tooltip-inner"),o=a?e.querySelector(".tooltip-arrow"):e.querySelector(".arrow");if(o){var s={top:"",bottom:"",left:"",right:""};if(n=this.parsePlacement(n),"center"===n[1])return void angular.element(o).css(s);var l="border-"+n[0]+"-width",u=t.getComputedStyle(o)[l],c="border-";c+=i.vertical.test(n[0])?n[0]+"-"+n[1]:n[1]+"-"+n[0],c+="-radius";var d=t.getComputedStyle(a?r:e)[c];switch(n[0]){case"top":s.bottom=a?"0":"-"+u;break;case"bottom":s.top=a?"0":"-"+u;break;case"left":s.right=a?"0":"-"+u;break;case"right":s.left=a?"0":"-"+u}s[n[1]]=d,angular.element(o).css(s)}}}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.position"]).value("$datepickerSuppressError",!1).value("uibDatepickerAttributeWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerSuppressError","uibDatepickerAttributeWarning","uibDateParser",function(e,t,n,r,i,a,o,s,l,u,c){function d(t){e.datepickerMode=t,m&&(e.datepickerOptions.datepickerMode=t)}var p=this,h={$setViewValue:angular.noop},f={},g=[],m=!!t.datepickerOptions;if(this.modes=["day","month","year"],m)["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","initDate","maxDate","maxMode","minDate","minMode","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach(function(t){switch(t){case"customClass":case"dateDisabled":e[t]=e.datepickerOptions[t]||angular.noop;break;case"datepickerMode":e.datepickerMode=angular.isDefined(e.datepickerOptions.datepickerMode)?e.datepickerOptions.datepickerMode:s.datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":p[t]=angular.isDefined(e.datepickerOptions[t])?r(e.datepickerOptions[t])(e.$parent):s[t];break;case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":p[t]=angular.isDefined(e.datepickerOptions[t])?e.datepickerOptions[t]:s[t];break;case"startingDay":angular.isDefined(e.datepickerOptions.startingDay)?p.startingDay=e.datepickerOptions.startingDay:angular.isNumber(s.startingDay)?p.startingDay=s.startingDay:p.startingDay=(i.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":e.datepickerOptions[t]?e.$watch(function(){return e.datepickerOptions[t]},function(e){e?angular.isDate(e)?p[t]=c.fromTimezone(new Date(e),f.timezone):p[t]=new Date(o(e,"medium")):p[t]=null,p.refreshView()}):p[t]=s[t]?c.fromTimezone(new Date(s[t]),f.timezone):null;break;case"maxMode":case"minMode":e.datepickerOptions[t]?e.$watch(function(){return e.datepickerOptions[t]},function(n){p[t]=e[t]=angular.isDefined(n)?n:datepickerOptions[t],("minMode"===t&&p.modes.indexOf(e.datepickerOptions.datepickerMode)<p.modes.indexOf(p[t])||"maxMode"===t&&p.modes.indexOf(e.datepickerOptions.datepickerMode)>p.modes.indexOf(p[t]))&&(e.datepickerMode=p[t],e.datepickerOptions.datepickerMode=p[t])}):p[t]=e[t]=s[t]||null;break;case"initDate":e.datepickerOptions.initDate?(p.activeDate=c.fromTimezone(e.datepickerOptions.initDate,f.timezone)||new Date,e.$watch(function(){return e.datepickerOptions.initDate},function(e){e&&(h.$isEmpty(h.$modelValue)||h.$invalid)&&(p.activeDate=c.fromTimezone(e,f.timezone),p.refreshView())})):p.activeDate=new Date}});else{if(angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle"],function(n){p[n]=angular.isDefined(t[n])?r(t[n])(e.$parent):s[n],angular.isDefined(t[n])&&u&&a.warn("uib-datepicker "+n+" attribute usage is deprecated, use datepicker-options attribute instead")}),angular.forEach(["showWeeks","yearRows","yearColumns","shortcutPropagation"],function(n){p[n]=angular.isDefined(t[n])?e.$parent.$eval(t[n]):s[n],angular.isDefined(t[n])&&u&&a.warn("uib-datepicker "+n+" attribute usage is deprecated, use datepicker-options attribute instead")}),angular.forEach(["dateDisabled","customClass"],function(e){angular.isDefined(t[e])&&u&&a.warn("uib-datepicker "+e+" attribute usage is deprecated, use datepicker-options attribute instead")}),angular.isDefined(t.startingDay)?(u&&a.warn("uib-datepicker startingDay attribute usage is deprecated, use datepicker-options attribute instead"),p.startingDay=e.$parent.$eval(t.startingDay)):angular.isNumber(s.startingDay)?p.startingDay=s.startingDay:p.startingDay=(i.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7,angular.forEach(["minDate","maxDate"],function(n){t[n]?(u&&a.warn("uib-datepicker "+n+" attribute usage is deprecated, use datepicker-options attribute instead"),g.push(e.$parent.$watch(t[n],function(e){e?angular.isDate(e)?p[n]=c.fromTimezone(new Date(e),f.timezone):p[n]=new Date(o(e,"medium")):p[n]=null,p.refreshView()}))):p[n]=s[n]?c.fromTimezone(new Date(s[n]),f.timezone):null}),angular.forEach(["minMode","maxMode"],function(n){t[n]?(u&&a.warn("uib-datepicker "+n+" attribute usage is deprecated, use datepicker-options attribute instead"),g.push(e.$parent.$watch(t[n],function(r){p[n]=e[n]=angular.isDefined(r)?r:t[n],("minMode"===n&&p.modes.indexOf(e.datepickerMode)<p.modes.indexOf(p[n])||"maxMode"===n&&p.modes.indexOf(e.datepickerMode)>p.modes.indexOf(p[n]))&&(e.datepickerMode=p[n])}))):p[n]=e[n]=s[n]||null}),angular.isDefined(t.initDate)){u&&a.warn("uib-datepicker initDate attribute usage is deprecated, use datepicker-options attribute instead");var v=c.fromTimezone(e.$parent.$eval(t.initDate),f.timezone);this.activeDate=isNaN(v)?new Date:v,g.push(e.$parent.$watch(t.initDate,function(e){e&&(h.$isEmpty(h.$modelValue)||h.$invalid)&&(e=c.fromTimezone(e,f.timezone),p.activeDate=isNaN(e)?new Date:e,p.refreshView())}))}else this.activeDate=new Date;t.datepickerMode&&u&&a.warn("uib-datepicker datepickerMode attribute usage is deprecated, use datepicker-options attribute instead"),e.datepickerMode=e.datepickerMode||s.datepickerMode}e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),e.disabled=angular.isDefined(t.disabled)||!1,angular.isDefined(t.ngDisabled)&&g.push(e.$parent.$watch(t.ngDisabled,function(t){e.disabled=t,p.refreshView()})),e.isActive=function(t){return 0===p.compare(t.date,p.activeDate)?(e.activeDateId=t.uid,!0):!1},this.init=function(e){h=e,f=e.$options||s.ngModelOptions,this.activeDate=h.$modelValue||new Date,h.$render=function(){p.render()}},this.render=function(){if(h.$viewValue){var e=new Date(h.$viewValue),t=!isNaN(e);t?this.activeDate=c.fromTimezone(e,f.timezone):l||a.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){e.selectedDt=null,this._refreshView(),e.activeDt&&(e.activeDateId=e.activeDt.uid);var t=h.$viewValue?new Date(h.$viewValue):null;t=c.fromTimezone(t,f.timezone),h.$setValidity("dateDisabled",!t||this.element&&!this.isDisabled(t))}},this.createDateObject=function(t,n){var r=h.$viewValue?new Date(h.$viewValue):null;r=c.fromTimezone(r,f.timezone);var i={date:t,label:c.filter(t,n),selected:r&&0===this.compare(t,r),disabled:this.isDisabled(t),current:0===this.compare(t,new Date),customClass:this.customClass(t)||null};return r&&0===this.compare(t,r)&&(e.selectedDt=i),p.activeDate&&0===this.compare(i.date,p.activeDate)&&(e.activeDt=i),i},this.isDisabled=function(t){return e.disabled||this.minDate&&this.compare(t,this.minDate)<0||this.maxDate&&this.compare(t,this.maxDate)>0||e.dateDisabled&&e.dateDisabled({date:t,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},e.select=function(t){if(e.datepickerMode===p.minMode){var n=h.$viewValue?c.fromTimezone(new Date(h.$viewValue),f.timezone):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n=c.toTimezone(n,f.timezone),h.$setViewValue(n),h.$render()}else p.activeDate=t,d(p.modes[p.modes.indexOf(e.datepickerMode)-1]),e.$emit("uib:datepicker.mode")},e.move=function(e){var t=p.activeDate.getFullYear()+e*(p.step.years||0),n=p.activeDate.getMonth()+e*(p.step.months||0);p.activeDate.setFullYear(t,n,1),p.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===p.maxMode&&1===t||e.datepickerMode===p.minMode&&-1===t||(d(p.modes[p.modes.indexOf(e.datepickerMode)+t]),e.$emit("uib:datepicker.mode"))},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var y=function(){p.element[0].focus()};e.$on("uib:datepicker.focus",y),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey&&!e.disabled)if(t.preventDefault(),p.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(p.isDisabled(p.activeDate))return;e.select(p.activeDate)}else!t.ctrlKey||"up"!==n&&"down"!==n?(p.handleKeyDown(n,t),p.refreshView()):e.toggleMode("up"===n?1:-1)},e.$on("$destroy",function(){for(;g.length;)g.shift()()})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(e,t,n){function r(e,t){return 1!==t||e%4!==0||e%100===0&&e%400!==0?a[t]:29}function i(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}var a=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=t,this.init=function(t){angular.extend(t,this),e.showWeeks=t.showWeeks,t.refreshView()},this.getDates=function(e,t){for(var n,r=new Array(t),i=new Date(e),a=0;t>a;)n=new Date(i),r[a++]=n,i.setDate(i.getDate()+1);return r},this._refreshView=function(){var t=this.activeDate.getFullYear(),r=this.activeDate.getMonth(),a=new Date(this.activeDate);a.setFullYear(t,r,1);var o=this.startingDay-a.getDay(),s=o>0?7-o:-o,l=new Date(a);s>0&&l.setDate(-s+1);for(var u=this.getDates(l,42),c=0;42>c;c++)u[c]=angular.extend(this.createDateObject(u[c],this.formatDay),{secondary:u[c].getMonth()!==r,uid:e.uniqueId+"-"+c});e.labels=new Array(7);for(var d=0;7>d;d++)e.labels[d]={abbr:n(u[d].date,this.formatDayHeader),full:n(u[d].date,"EEEE")};if(e.title=n(this.activeDate,this.formatDayTitle),e.rows=this.split(u,7),e.showWeeks){e.weekNumbers=[];for(var p=(11-this.startingDay)%7,h=e.rows.length,f=0;h>f;f++)e.weekNumbers.push(i(e.rows[f][p].date))}},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(t.getFullYear(),t.getMonth(),t.getDate());return n.setFullYear(e.getFullYear()),r.setFullYear(t.getFullYear()),n-r},this.handleKeyDown=function(e,t){var n=this.activeDate.getDate();if("left"===e)n-=1;else if("up"===e)n-=7;else if("right"===e)n+=1;else if("down"===e)n+=7;else if("pageup"===e||"pagedown"===e){var i=this.activeDate.getMonth()+("pageup"===e?-1:1);this.activeDate.setMonth(i,1),n=Math.min(r(this.activeDate.getFullYear(),this.activeDate.getMonth()),n)}else"home"===e?n=1:"end"===e&&(n=r(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(n)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(e,t,n){this.step={years:1},this.element=t,this.init=function(e){angular.extend(e,this),e.refreshView()},this._refreshView=function(){for(var t,r=new Array(12),i=this.activeDate.getFullYear(),a=0;12>a;a++)t=new Date(this.activeDate),t.setFullYear(i,a,1),r[a]=angular.extend(this.createDateObject(t,this.formatMonth),{uid:e.uniqueId+"-"+a});e.title=n(this.activeDate,this.formatMonthTitle),e.rows=this.split(r,3)},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth()),r=new Date(t.getFullYear(),t.getMonth());return n.setFullYear(e.getFullYear()),r.setFullYear(t.getFullYear()),n-r},this.handleKeyDown=function(e,t){var n=this.activeDate.getMonth();if("left"===e)n-=1;else if("up"===e)n-=3;else if("right"===e)n+=1;else if("down"===e)n+=3;else if("pageup"===e||"pagedown"===e){var r=this.activeDate.getFullYear()+("pageup"===e?-1:1);this.activeDate.setFullYear(r)}else"home"===e?n=0:"end"===e&&(n=11);this.activeDate.setMonth(n)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(e,t,n){function r(e){return parseInt((e-1)/a,10)*a+1}var i,a;this.element=t,this.yearpickerInit=function(){i=this.yearColumns,a=this.yearRows*i,this.step={years:a}},this._refreshView=function(){for(var t,n=new Array(a),o=0,s=r(this.activeDate.getFullYear());a>o;o++)t=new Date(this.activeDate),t.setFullYear(s+o,0,1),n[o]=angular.extend(this.createDateObject(t,this.formatYear),{uid:e.uniqueId+"-"+o});e.title=[n[0].label,n[a-1].label].join(" - "),e.rows=this.split(n,i),e.columns=i},this.compare=function(e,t){return e.getFullYear()-t.getFullYear()},this.handleKeyDown=function(e,t){var n=this.activeDate.getFullYear();"left"===e?n-=1:"up"===e?n-=i:"right"===e?n+=1:"down"===e?n+=i:"pageup"===e||"pagedown"===e?n+=("pageup"===e?-1:1)*a:"home"===e?n=r(this.activeDate.getFullYear()):"end"===e&&(n=r(this.activeDate.getFullYear())+a-1),this.activeDate.setFullYear(n)}}]).directive("uibDatepicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",datepickerOptions:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["uibDatepicker","^ngModel"],controller:"UibDatepickerController",controllerAs:"datepicker",link:function(e,t,n,r){var i=r[0],a=r[1];i.init(a)}}}).directive("uibDaypicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],controller:"UibDaypickerController",link:function(e,t,n,r){var i=r[0],a=r[1];a.init(i)}}}).directive("uibMonthpicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],controller:"UibMonthpickerController",link:function(e,t,n,r){var i=r[0],a=r[1];a.init(i)}}}).directive("uibYearpicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],controller:"UibYearpickerController",link:function(e,t,n,r){var i=r[0];angular.extend(i,r[1]),i.yearpickerInit(),i.refreshView()}}}).value("uibDatepickerPopupAttributeWarning",!0).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepicker/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","uibDatepickerPopupAttributeWarning",function(e,t,n,r,i,a,o,s,l,u,c,d,p,h,f,g){function m(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function v(t){var n=d.parse(t,A,e.date);if(isNaN(n))for(var r=0;r<L.length;r++)if(n=d.parse(t,L[r],e.date),!isNaN(n))return n;return n}function y(e){if(angular.isNumber(e)&&(e=new Date(e)),!e)return null;if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=v(e);if(!isNaN(t))return d.toTimezone(t,P.timezone)}return O.$options&&O.$options.allowInvalid?e:void 0}function b(e,t){var r=e||t;return n.ngRequired||r?(angular.isNumber(r)&&(r=new Date(r)),r?angular.isDate(r)&&!isNaN(r)?!0:angular.isString(r)?!isNaN(v(t)):!1:!0):!0}function S(n){if(e.isOpen||!e.disabled){var r=E[0],i=t[0].contains(n.target),a=void 0!==r.contains&&r.contains(n.target);!e.isOpen||i||a||e.$apply(function(){e.isOpen=!1})}}function D(n){27===n.which&&e.isOpen?(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!1}),t[0].focus()):40!==n.which||e.isOpen||(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!0}))}function w(){if(e.isOpen){var r=angular.element(E[0].querySelector(".uib-datepicker-popup")),i=n.popupPlacement?n.popupPlacement:p.placement,a=u.positionElements(t,r,i,_);r.css({top:a.top+"px",left:a.left+"px"}),r.hasClass("uib-position-measure")&&r.removeClass("uib-position-measure")}}var A,C,_,x,$,k,M,T,F,O,P,E,L,I={},R=!1,N=[];e.watchData={},this.init=function(u){if(O=u,P=u.$options||f.ngModelOptions,C=angular.isDefined(n.closeOnDateSelection)?e.$parent.$eval(n.closeOnDateSelection):p.closeOnDateSelection,_=angular.isDefined(n.datepickerAppendToBody)?e.$parent.$eval(n.datepickerAppendToBody):p.appendToBody,x=angular.isDefined(n.onOpenFocus)?e.$parent.$eval(n.onOpenFocus):p.onOpenFocus,$=angular.isDefined(n.datepickerPopupTemplateUrl)?n.datepickerPopupTemplateUrl:p.datepickerPopupTemplateUrl,k=angular.isDefined(n.datepickerTemplateUrl)?n.datepickerTemplateUrl:p.datepickerTemplateUrl,L=angular.isDefined(n.altInputFormats)?e.$parent.$eval(n.altInputFormats):p.altInputFormats,e.showButtonBar=angular.isDefined(n.showButtonBar)?e.$parent.$eval(n.showButtonBar):p.showButtonBar,p.html5Types[n.type]?(A=p.html5Types[n.type],R=!0):(A=n.uibDatepickerPopup||p.datepickerPopup,n.$observe("uibDatepickerPopup",function(e,t){var n=e||p.datepickerPopup;if(n!==A&&(A=n,O.$modelValue=null,!A))throw new Error("uibDatepickerPopup must have a date format specified.")})),!A)throw new Error("uibDatepickerPopup must have a date format specified.");if(R&&n.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");M=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>"),e.ngModelOptions=angular.copy(P),e.ngModelOptions.timezone=null,e.ngModelOptions.updateOnDefault===!0&&(e.ngModelOptions.updateOn=e.ngModelOptions.updateOn?e.ngModelOptions.updateOn+" default":"default"),M.attr({"ng-model":"date","ng-model-options":"ngModelOptions","ng-change":"dateSelection(date)","template-url":$}),T=angular.element(M.children()[0]),T.attr("template-url",k),R&&"month"===n.type&&(T.attr("datepicker-mode",'"month"'),T.attr("min-mode","month")),e.datepickerOptions&&T.attr("datepicker-options","datepickerOptions"),angular.forEach(["minMode","maxMode","datepickerMode","shortcutPropagation"],function(t){if(n[t]){g&&i.warn("uib-datepicker settings via uib-datepicker-popup attributes are deprecated and will be removed in UI Bootstrap 1.3, use datepicker-options attribute instead");var r=a(n[t]),o={get:function(){return r(e.$parent)}};if(T.attr(m(t),"watchData."+t),"datepickerMode"===t){var s=r.assign;o.set=function(t){s(e.$parent,t)}}Object.defineProperty(e.watchData,t,o)}}),angular.forEach(["minDate","maxDate","initDate"],function(t){if(n[t]){g&&i.warn("uib-datepicker settings via uib-datepicker-popup attributes are deprecated and will be removed in UI Bootstrap 1.3, use datepicker-options attribute instead");var r=a(n[t]);N.push(e.$parent.$watch(r,function(n){if("minDate"===t||"maxDate"===t)null===n?I[t]=null:angular.isDate(n)?I[t]=d.fromTimezone(new Date(n),P.timezone):I[t]=new Date(c(n,"medium")),e.watchData[t]=null===n?null:I[t];else{var r=n?new Date(n):new Date;e.watchData[t]=d.fromTimezone(r,P.timezone)}})),T.attr(m(t),"watchData."+t)}}),n.dateDisabled&&(g&&i.warn("uib-datepicker settings via uib-datepicker-popup attributes are deprecated and will be removed in UI Bootstrap 1.3, use datepicker-options attribute instead"),T.attr("date-disabled","dateDisabled({ date: date, mode: mode })")),angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRows","yearColumns"],function(e){angular.isDefined(n[e])&&(g&&i.warn("uib-datepicker settings via uib-datepicker-popup attributes are deprecated and will be removed in UI Bootstrap 1.3, use datepicker-options attribute instead"),T.attr(m(e),n[e]))}),n.customClass&&(g&&i.warn("uib-datepicker settings via uib-datepicker-popup attributes are deprecated and will be removed in UI Bootstrap 1.3, use datepicker-options attribute instead"),T.attr("custom-class","customClass({ date: date, mode: mode })")),R?O.$formatters.push(function(t){return e.date=d.fromTimezone(t,P.timezone),t}):(O.$$parserName="date",O.$validators.date=b,O.$parsers.unshift(y),O.$formatters.push(function(t){return O.$isEmpty(t)?(e.date=t,t):(e.date=d.fromTimezone(t,P.timezone),angular.isNumber(e.date)&&(e.date=new Date(e.date)),d.filter(e.date,A))})),O.$viewChangeListeners.push(function(){e.date=v(O.$viewValue)}),t.on("keydown",D),E=r(M)(e),M.remove(),_?s.find("body").append(E):t.after(E),e.$on("$destroy",function(){for(e.isOpen===!0&&(l.$$phase||e.$apply(function(){e.isOpen=!1})),E.remove(),t.off("keydown",D),s.off("click",S),F&&F.off("scroll",w),angular.element(o).off("resize",w);N.length;)N.shift()()})},e.getText=function(t){return e[t+"Text"]||p[t+"Text"]},e.isDisabled=function(t){return"today"===t&&(t=new Date),e.watchData.minDate&&e.compare(t,I.minDate)<0||e.watchData.maxDate&&e.compare(t,I.maxDate)>0},e.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},e.dateSelection=function(n){angular.isDefined(n)&&(e.date=n);var r=e.date?d.filter(e.date,A):null;t.val(r),O.$setViewValue(r),C&&(e.isOpen=!1,t[0].focus())},e.keydown=function(n){27===n.which&&(n.stopPropagation(),e.isOpen=!1,t[0].focus())},e.select=function(t,n){if(n.stopPropagation(),"today"===t){var r=new Date;angular.isDate(e.date)?(t=new Date(e.date),t.setFullYear(r.getFullYear(),r.getMonth(),r.getDate())):t=new Date(r.setHours(0,0,0,0))}e.dateSelection(t)},e.close=function(n){n.stopPropagation(),e.isOpen=!1,t[0].focus()},e.disabled=angular.isDefined(n.disabled)||!1,n.ngDisabled&&N.push(e.$parent.$watch(a(n.ngDisabled),function(t){e.disabled=t})),e.$watch("isOpen",function(r){r?e.disabled?e.isOpen=!1:h(function(){w(),x&&e.$broadcast("uib:datepicker.focus"),s.on("click",S);var r=n.popupPlacement?n.popupPlacement:p.placement;_||u.parsePlacement(r)[2]?(F=F||angular.element(u.scrollParent(t)),F&&F.on("scroll",w)):F=null,angular.element(o).on("resize",w)},0,!1):(s.off("click",S),F&&F.off("scroll",w),angular.element(o).off("resize",w))}),e.$on("uib:datepicker.mode",function(){h(w,0,!1)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(e,t,n,r){var i=r[0],a=r[1];a.init(i)}}}).directive("uibDatepickerPopupWrap",function(){return{replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/popup.html"}}}),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(e){return function(t,n){var r;return function(){var i=this,a=Array.prototype.slice.call(arguments);r&&e.cancel(r),r=e(function(){t.apply(i,a)},n)}}}]),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope",function(e,t){var n=null;this.open=function(t){n||(e.on("click",r),e.on("keydown",i)),n&&n!==t&&(n.isOpen=!1),n=t},this.close=function(t){n===t&&(n=null,e.off("click",r),e.off("keydown",i))};var r=function(e){if(n&&!(e&&"disabled"===n.getAutoClose()||e&&3===e.which)){var r=n.getToggleElement();if(!(e&&r&&r[0].contains(e.target))){var i=n.getDropdownElement();e&&"outsideClick"===n.getAutoClose()&&i&&i[0].contains(e.target)||(n.isOpen=!1,t.$$phase||n.$apply())}}},i=function(e){27===e.which?(n.focusToggleElement(),r()):n.isKeynavEnabled()&&-1!==[38,40].indexOf(e.which)&&n.isOpen&&(e.preventDefault(),e.stopPropagation(),n.focusDropdownEntry(e.which))}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(e,t,n,r,i,a,o,s,l,u,c){var d,p,h=this,f=e.$new(),g=i.appendToOpenClass,m=i.openClass,v=angular.noop,y=n.onToggle?r(n.onToggle):angular.noop,b=!1,S=null,D=!1,w=l.find("body");t.addClass("dropdown"),this.init=function(){if(n.isOpen&&(p=r(n.isOpen),v=p.assign,e.$watch(p,function(e){f.isOpen=!!e})),angular.isDefined(n.dropdownAppendTo)){var i=r(n.dropdownAppendTo)(f);i&&(S=angular.element(i))}b=angular.isDefined(n.dropdownAppendToBody),D=angular.isDefined(n.keyboardNav),b&&!S&&(S=w),S&&h.dropdownMenu&&(S.append(h.dropdownMenu),t.on("$destroy",function(){h.dropdownMenu.remove()}))},this.toggle=function(e){return f.isOpen=arguments.length?!!e:!f.isOpen},this.isOpen=function(){return f.isOpen},f.getToggleElement=function(){return h.toggleElement},f.getAutoClose=function(){return n.autoClose||"always"},f.getElement=function(){return t},f.isKeynavEnabled=function(){return D},f.focusDropdownEntry=function(e){var n=h.dropdownMenu?angular.element(h.dropdownMenu).find("a"):t.find("ul").eq(0).find("a");switch(e){case 40:angular.isNumber(h.selectedOption)?h.selectedOption=h.selectedOption===n.length-1?h.selectedOption:h.selectedOption+1:h.selectedOption=0;break;case 38:angular.isNumber(h.selectedOption)?h.selectedOption=0===h.selectedOption?0:h.selectedOption-1:h.selectedOption=n.length-1}n[h.selectedOption].focus()},f.getDropdownElement=function(){return h.dropdownMenu},f.focusToggleElement=function(){h.toggleElement&&h.toggleElement[0].focus()},f.$watch("isOpen",function(n,r){if(S&&h.dropdownMenu){var i,l,p=s.positionElements(t,h.dropdownMenu,"bottom-left",!0);if(i={top:p.top+"px",display:n?"block":"none"},l=h.dropdownMenu.hasClass("dropdown-menu-right"),l?(i.left="auto",i.right=window.innerWidth-(p.left+t.prop("offsetWidth"))+"px"):(i.left=p.left+"px",i.right="auto"),!b){var D=s.offset(S);i.top=p.top-D.top+"px",l?i.right=window.innerWidth-(p.left-D.left+t.prop("offsetWidth"))+"px":i.left=p.left-D.left+"px"}h.dropdownMenu.css(i)}var w=S?S:t,A=w.hasClass(S?g:m);if(A===!n&&o[n?"addClass":"removeClass"](w,S?g:m).then(function(){angular.isDefined(n)&&n!==r&&y(e,{open:!!n})}),n)h.dropdownMenuTemplateUrl&&c(h.dropdownMenuTemplateUrl).then(function(e){d=f.$new(),u(e.trim())(d,function(e){var t=e;h.dropdownMenu.replaceWith(t),h.dropdownMenu=t})}),f.focusToggleElement(),a.open(f);else{if(h.dropdownMenuTemplateUrl){d&&d.$destroy();var C=angular.element('<ul class="dropdown-menu"></ul>');h.dropdownMenu.replaceWith(C),h.dropdownMenu=C}a.close(f),h.selectedOption=null}angular.isFunction(v)&&v(e,n)}),e.$on("$locationChangeSuccess",function(){"disabled"!==f.getAutoClose()&&(f.isOpen=!1)})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(e,t,n,r){r.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(e,t,n,r){if(r&&!angular.isDefined(n.dropdownNested)){t.addClass("dropdown-menu");var i=n.templateUrl;i&&(r.dropdownMenuTemplateUrl=i),r.dropdownMenu||(r.dropdownMenu=t)}}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(e,t,n,r){if(r){t.addClass("dropdown-toggle"),r.toggleElement=t;var i=function(i){i.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){r.toggle()})};t.bind("click",i),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(r.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.unbind("click",i)})}}}}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t===e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,r=0;r<e.length;r++)if(t===e[r].key){n=r;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.stackedMap"]).factory("$$multiMap",function(){return{createNew:function(){var e={};return{entries:function(){return Object.keys(e).map(function(t){return{key:t,value:e[t]}})},get:function(t){return e[t]},hasKey:function(t){return!!e[t]},keys:function(){return Object.keys(e)},put:function(t,n){e[t]||(e[t]=[]),e[t].push(n)},remove:function(t,n){var r=e[t];if(r){var i=r.indexOf(n);-1!==i&&r.splice(i,1),r.length||delete e[t]}}}}}}).provider("$uibResolve",function(){var e=this;this.resolver=null,this.setResolver=function(e){this.resolver=e},this.$get=["$injector","$q",function(t,n){var r=e.resolver?t.get(e.resolver):null;return{resolve:function(e,i,a,o){if(r)return r.resolve(e,i,a,o);var s=[];return angular.forEach(e,function(e){angular.isFunction(e)||angular.isArray(e)?s.push(n.resolve(t.invoke(e))):angular.isString(e)?s.push(n.resolve(t.get(e))):s.push(n.resolve(e))}),n.all(s).then(function(t){var n={},r=0;return angular.forEach(e,function(e,i){n[i]=t[r++]}),n})}}}]}).directive("uibModalBackdrop",["$animateCss","$injector","$uibModalStack",function(e,t,n){function r(t,r,i){i.modalInClass&&(e(r,{addClass:i.modalInClass}).start(),t.$on(n.NOW_CLOSING_EVENT,function(n,a){var o=a();t.modalOptions.animation?e(r,{removeClass:i.modalInClass}).start().then(o):o()}))}return{replace:!0,templateUrl:"uib/template/modal/backdrop.html",compile:function(e,t){return e.addClass(t.backdropClass),
r}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animate","$animateCss","$document",function(e,t,n,r,i){return{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/modal/window.html"},link:function(a,o,s){o.addClass(s.windowClass||""),o.addClass(s.windowTopClass||""),a.size=s.size,a.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},o.on("click",a.close),a.$isRendered=!0;var l=t.defer();s.$observe("modalRender",function(e){"true"===e&&l.resolve()}),l.promise.then(function(){var l=null;s.modalInClass&&(l=r(o,{addClass:s.modalInClass}).start(),a.$on(e.NOW_CLOSING_EVENT,function(e,t){var i=t();r?r(o,{removeClass:s.modalInClass}).start().then(i):n.removeClass(o,s.modalInClass).then(i)})),t.when(l).then(function(){var t=e.getTop();if(t&&e.modalRendered(t.key),!i[0].activeElement||!o[0].contains(i[0].activeElement)){var n=o[0].querySelector("[autofocus]");n?n.focus():o[0].focus()}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.uibModalAnimationClass)}}}).directive("uibModalTransclude",function(){return{link:function(e,t,n,r,i){i(e.$parent,function(e){t.empty(),t.append(e)})}}}).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap",function(e,t,n,r,i,a,o,s){function l(){for(var e=-1,t=b.keys(),n=0;n<t.length;n++)b.get(t[n]).value.backdrop&&(e=n);return e}function u(e,t){var n=b.get(e).value,r=n.appendTo;b.remove(e),p(n.modalDomEl,n.modalScope,function(){var t=n.openedClass||y;S.remove(t,e),r.toggleClass(t,S.hasKey(t)),c(!0)},n.closedDeferred),d(),t&&t.focus?t.focus():r.focus&&r.focus()}function c(e){var t;b.length()>0&&(t=b.top().value,t.modalDomEl.toggleClass(t.windowTopClass||"",e))}function d(){if(g&&-1===l()){var e=m;p(g,m,function(){e=null}),g=void 0,m=void 0}}function p(e,n,r,i){function o(){o.done||(o.done=!0,t(e,{event:"leave"}).start().then(function(){e.remove(),i&&i.resolve()}),n.$destroy(),r&&r())}var s,l=null,u=function(){return s||(s=a.defer(),l=s.promise),function(){s.resolve()}};return n.$broadcast(D.NOW_CLOSING_EVENT,u),a.when(l).then(o)}function h(e){if(e.isDefaultPrevented())return e;var t=b.top();if(t)switch(e.which){case 27:t.value.keyboard&&(e.preventDefault(),i.$apply(function(){D.dismiss(t.key,"escape key press")}));break;case 9:D.loadFocusElementList(t);var n=!1;e.shiftKey?(D.isFocusInFirstItem(e)||D.isModalFocused(e,t))&&(n=D.focusLastFocusableElement()):D.isFocusInLastItem(e)&&(n=D.focusFirstFocusableElement()),n&&(e.preventDefault(),e.stopPropagation())}}function f(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}var g,m,v,y="modal-open",b=s.createNew(),S=o.createNew(),D={NOW_CLOSING_EVENT:"modal.stack.now-closing"},w=0,A="a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]";return i.$watch(l,function(e){m&&(m.index=e)}),n.on("keydown",h),i.$on("$destroy",function(){n.off("keydown",h)}),D.open=function(t,a){var o=n[0].activeElement,s=a.openedClass||y;c(!1),b.add(t,{deferred:a.deferred,renderDeferred:a.renderDeferred,closedDeferred:a.closedDeferred,modalScope:a.scope,backdrop:a.backdrop,keyboard:a.keyboard,openedClass:a.openedClass,windowTopClass:a.windowTopClass,animation:a.animation,appendTo:a.appendTo}),S.put(s,t);var u=a.appendTo,d=l();if(!u.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");d>=0&&!g&&(m=i.$new(!0),m.modalOptions=a,m.index=d,g=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>'),g.attr("backdrop-class",a.backdropClass),a.animation&&g.attr("modal-animation","true"),r(g)(m),e.enter(g,u));var p=angular.element('<div uib-modal-window="modal-window"></div>');p.attr({"template-url":a.windowTemplateUrl,"window-class":a.windowClass,"window-top-class":a.windowTopClass,size:a.size,index:b.length()-1,animate:"animate"}).html(a.content),a.animation&&p.attr("modal-animation","true"),e.enter(r(p)(a.scope),u).then(function(){a.scope.$$uibDestructionScheduled||e.addClass(u,s)}),b.top().value.modalDomEl=p,b.top().value.modalOpener=o,D.clearFocusListCache()},D.close=function(e,t){var n=b.get(e);return n&&f(n,t,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(t),u(e,n.value.modalOpener),!0):!n},D.dismiss=function(e,t){var n=b.get(e);return n&&f(n,t,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(t),u(e,n.value.modalOpener),!0):!n},D.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},D.getTop=function(){return b.top()},D.modalRendered=function(e){var t=b.get(e);t&&t.value.renderDeferred.resolve()},D.focusFirstFocusableElement=function(){return v.length>0?(v[0].focus(),!0):!1},D.focusLastFocusableElement=function(){return v.length>0?(v[v.length-1].focus(),!0):!1},D.isModalFocused=function(e,t){if(e&&t){var n=t.value.modalDomEl;if(n&&n.length)return(e.target||e.srcElement)===n[0]}return!1},D.isFocusInFirstItem=function(e){return v.length>0?(e.target||e.srcElement)===v[0]:!1},D.isFocusInLastItem=function(e){return v.length>0?(e.target||e.srcElement)===v[v.length-1]:!1},D.clearFocusListCache=function(){v=[],w=0},D.loadFocusElementList=function(e){if((void 0===v||!v.length)&&e){var t=e.value.modalDomEl;t&&t.length&&(v=t[0].querySelectorAll(A))}},D}]).provider("$uibModal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(t,n,r,i,a,o,s){function l(e){return e.template?n.when(e.template):i(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}var u={},c=null;return u.getPromiseChain=function(){return c},u.open=function(i){function u(){return v}var d=n.defer(),p=n.defer(),h=n.defer(),f=n.defer(),g={result:d.promise,opened:p.promise,closed:h.promise,rendered:f.promise,close:function(e){return s.close(g,e)},dismiss:function(e){return s.dismiss(g,e)}};if(i=angular.extend({},e.options,i),i.resolve=i.resolve||{},i.appendTo=i.appendTo||r.find("body").eq(0),!i.template&&!i.templateUrl)throw new Error("One of template or templateUrl options is required.");var m,v=n.all([l(i),o.resolve(i.resolve,{},null,null)]);return m=c=n.all([c]).then(u,u).then(function(e){var n=i.scope||t,r=n.$new();r.$close=g.close,r.$dismiss=g.dismiss,r.$on("$destroy",function(){r.$$uibDestructionScheduled||r.$dismiss("$uibUnscheduledDestruction")});var o,l={};i.controller&&(l.$scope=r,l.$uibModalInstance=g,angular.forEach(e[1],function(e,t){l[t]=e}),o=a(i.controller,l),i.controllerAs&&(i.bindToController&&(o.$close=r.$close,o.$dismiss=r.$dismiss,angular.extend(o,n),angular.isFunction(o.$onInit)&&o.$onInit()),r[i.controllerAs]=o)),s.open(g,{scope:r,deferred:d,renderDeferred:f,closedDeferred:h,content:e[0],animation:i.animation,backdrop:i.backdrop,keyboard:i.keyboard,backdropClass:i.backdropClass,windowTopClass:i.windowTopClass,windowClass:i.windowClass,windowTemplateUrl:i.windowTemplateUrl,size:i.size,openedClass:i.openedClass,appendTo:i.appendTo}),p.resolve(!0)},function(e){p.reject(e),d.reject(e)}).finally(function(){c===m&&(c=null)}),g},u}]};return e}),angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(e){return{create:function(t,n,r){t.setNumPages=r.numPages?e(r.numPages).assign:angular.noop,t.ngModelCtrl={$setViewValue:angular.noop},t._watchers=[],t.init=function(e,i){t.ngModelCtrl=e,t.config=i,e.$render=function(){t.render()},r.itemsPerPage?t._watchers.push(n.$parent.$watch(r.itemsPerPage,function(e){t.itemsPerPage=parseInt(e,10),n.totalPages=t.calculateTotalPages(),t.updatePage()})):t.itemsPerPage=i.itemsPerPage,n.$watch("totalItems",function(e,r){(angular.isDefined(e)||e!==r)&&(n.totalPages=t.calculateTotalPages(),t.updatePage())})},t.calculateTotalPages=function(){var e=t.itemsPerPage<1?1:Math.ceil(n.totalItems/t.itemsPerPage);return Math.max(e||0,1)},t.render=function(){n.page=parseInt(t.ngModelCtrl.$viewValue,10)||1},n.selectPage=function(e,r){r&&r.preventDefault();var i=!n.ngDisabled||!r;i&&n.page!==e&&e>0&&e<=n.totalPages&&(r&&r.target&&r.target.blur(),t.ngModelCtrl.$setViewValue(e),t.ngModelCtrl.$render())},n.getText=function(e){return n[e+"Text"]||t.config[e+"Text"]},n.noPrevious=function(){return 1===n.page},n.noNext=function(){return n.page===n.totalPages},t.updatePage=function(){t.setNumPages(n.$parent,n.totalPages),n.page>n.totalPages?n.selectPage(n.totalPages):t.ngModelCtrl.$render()},n.$on("$destroy",function(){for(;t._watchers.length;)t._watchers.shift()()})}}}]),angular.module("ui.bootstrap.pager",["ui.bootstrap.paging"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function(e,t,n,r){e.align=angular.isDefined(t.align)?e.$parent.$eval(t.align):r.align,n.create(this,e,t)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("uibPager",["uibPagerConfig",function(e){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],controller:"UibPagerController",controllerAs:"pager",templateUrl:function(e,t){return t.templateUrl||"uib/template/pager/pager.html"},replace:!0,link:function(t,n,r,i){var a=i[0],o=i[1];o&&a.init(o,e)}}}]),angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(e,t,n,r,i){function a(e,t,n){return{number:e,text:t,active:n}}function o(e,t){var n=[],r=1,i=t,o=angular.isDefined(l)&&t>l;o&&(u?(r=Math.max(e-Math.floor(l/2),1),i=r+l-1,i>t&&(i=t,r=i-l+1)):(r=(Math.ceil(e/l)-1)*l+1,i=Math.min(r+l-1,t)));for(var s=r;i>=s;s++){var h=a(s,p(s),s===e);n.push(h)}if(o&&l>0&&(!u||c||d)){if(r>1){if(!d||r>3){var f=a(r-1,"...",!1);n.unshift(f)}if(d){if(3===r){var g=a(2,"2",!1);n.unshift(g)}var m=a(1,"1",!1);n.unshift(m)}}if(t>i){if(!d||t-2>i){var v=a(i+1,"...",!1);n.push(v)}if(d){if(i===t-2){var y=a(t-1,t-1,!1);n.push(y)}var b=a(t,t,!1);n.push(b)}}}return n}var s=this,l=angular.isDefined(t.maxSize)?e.$parent.$eval(t.maxSize):i.maxSize,u=angular.isDefined(t.rotate)?e.$parent.$eval(t.rotate):i.rotate,c=angular.isDefined(t.forceEllipses)?e.$parent.$eval(t.forceEllipses):i.forceEllipses,d=angular.isDefined(t.boundaryLinkNumbers)?e.$parent.$eval(t.boundaryLinkNumbers):i.boundaryLinkNumbers,p=angular.isDefined(t.pageLabel)?function(n){return e.$parent.$eval(t.pageLabel,{$page:n})}:angular.identity;e.boundaryLinks=angular.isDefined(t.boundaryLinks)?e.$parent.$eval(t.boundaryLinks):i.boundaryLinks,e.directionLinks=angular.isDefined(t.directionLinks)?e.$parent.$eval(t.directionLinks):i.directionLinks,r.create(this,e,t),t.maxSize&&s._watchers.push(e.$parent.$watch(n(t.maxSize),function(e){l=parseInt(e,10),s.render()}));var h=this.render;this.render=function(){h(),e.page>0&&e.page<=e.totalPages&&(e.pages=o(e.page,e.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function(e,t){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"uib/template/pagination/pagination.html"},replace:!0,link:function(e,n,r,i){var a=i[0],o=i[1];o&&a.init(o,t)}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},r={};this.options=function(e){angular.extend(r,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(i,a,o,s,l,u,c,d,p){function h(e){if(27===e.which){var t=f.top();t&&(t.value.close(),f.removeTop(),t=null)}}var f=p.createNew();return s.on("keypress",h),c.$on("$destroy",function(){s.off("keypress",h)}),function(i,c,p,h){function g(e){var t=(e||h.trigger||p).split(" "),r=t.map(function(e){return n[e]||e});return{show:t,hide:r}}h=angular.extend({},t,r,h);var m=e(i),v=u.startSymbol(),y=u.endSymbol(),b="<div "+m+'-popup title="'+v+"title"+y+'" '+(h.useContentExp?'content-exp="contentExp()" ':'content="'+v+"content"+y+'" ')+'placement="'+v+"placement"+y+'" popup-class="'+v+"popupClass"+y+'" animation="animation" is-open="isOpen"origin-scope="origScope" class="uib-position-measure"></div>';return{compile:function(e,t){var n=a(b);return function(e,t,r,a){function u(){B.isOpen?m():p()}function p(){(!N||e.$eval(r[c+"Enable"]))&&(S(),A(),B.popupDelay?O||(O=o(v,B.popupDelay,!1)):v())}function m(){y(),B.popupCloseDelay?P||(P=o(b,B.popupCloseDelay,!1)):b()}function v(){return y(),S(),B.content?(D(),void B.$evalAsync(function(){B.isOpen=!0,C(!0),j()})):angular.noop}function y(){O&&(o.cancel(O),O=null),E&&(o.cancel(E),E=null)}function b(){B&&B.$evalAsync(function(){B&&(B.isOpen=!1,C(!1),B.animation?F||(F=o(w,150,!1)):w())})}function S(){P&&(o.cancel(P),P=null),F&&(o.cancel(F),F=null)}function D(){M||(T=B.$new(),M=n(T,function(e){I?s.find("body").append(e):t.after(e)}),_())}function w(){y(),S(),x(),M&&(M.remove(),M=null),T&&(T.$destroy(),T=null)}function A(){B.title=r[c+"Title"],G?B.content=G(e):B.content=r[i],B.popupClass=r[c+"Class"],B.placement=angular.isDefined(r[c+"Placement"])?r[c+"Placement"]:h.placement;var t=l.parsePlacement(B.placement);L=t[1]?t[0]+"-"+t[1]:t[0];var n=parseInt(r[c+"PopupDelay"],10),a=parseInt(r[c+"PopupCloseDelay"],10);B.popupDelay=isNaN(n)?h.popupDelay:n,B.popupCloseDelay=isNaN(a)?h.popupCloseDelay:a}function C(t){U&&angular.isFunction(U.assign)&&U.assign(e,t)}function _(){q.length=0,G?(q.push(e.$watch(G,function(e){B.content=e,!e&&B.isOpen&&b()})),q.push(T.$watch(function(){W||(W=!0,T.$$postDigest(function(){W=!1,B&&B.isOpen&&j()}))}))):q.push(r.$observe(i,function(e){B.content=e,!e&&B.isOpen?b():j()})),q.push(r.$observe(c+"Title",function(e){B.title=e,B.isOpen&&j()})),q.push(r.$observe(c+"Placement",function(e){B.placement=e?e:h.placement;var t=l.parsePlacement(B.placement);L=t[1]?t[0]+"-"+t[1]:t[0],B.isOpen&&j()}))}function x(){q.length&&(angular.forEach(q,function(e){e()}),q.length=0)}function $(e){B&&B.isOpen&&M&&(t[0].contains(e.target)||M[0].contains(e.target)||m())}function k(){var e=r[c+"Trigger"];K(),R=g(e),"none"!==R.show&&R.show.forEach(function(e,n){"outsideClick"===e?(t.on("click",u),s.on("click",$)):e===R.hide[n]?t.on(e,u):e&&(t.on(e,p),t.on(R.hide[n],m)),t.on("keypress",function(e){27===e.which&&m()})})}var M,T,F,O,P,E,L,I=angular.isDefined(h.appendToBody)?h.appendToBody:!1,R=g(void 0),N=angular.isDefined(r[c+"Enable"]),B=e.$new(!0),W=!1,U=angular.isDefined(r[c+"IsOpen"])?d(r[c+"IsOpen"]):!1,G=h.useContentExp?d(r[i]):!1,q=[],j=function(){M&&M.html()&&(E||(E=o(function(){var e=l.positionElements(t,M,B.placement,I);M.css({top:e.top+"px",left:e.left+"px"}),M.hasClass(e.placement.split("-")[0])||(M.removeClass(L.split("-")[0]),M.addClass(e.placement.split("-")[0])),M.hasClass(h.placementClassPrefix+e.placement)||(M.removeClass(h.placementClassPrefix+L),M.addClass(h.placementClassPrefix+e.placement)),M.hasClass("uib-position-measure")?(l.positionArrow(M,e.placement),M.removeClass("uib-position-measure")):L!==e.placement&&l.positionArrow(M,e.placement),L=e.placement,E=null},0,!1)))};B.origScope=e,B.isOpen=!1,f.add(B,{close:b}),B.contentExp=function(){return B.content},r.$observe("disabled",function(e){e&&y(),e&&B.isOpen&&b()}),U&&e.$watch(U,function(e){B&&!e===B.isOpen&&u()});var K=function(){R.show.forEach(function(e){"outsideClick"===e?t.off("click",u):(t.off(e,p),t.off(e,u))}),R.hide.forEach(function(e){"outsideClick"===e?s.off("click",$):t.off(e,m)})};k();var z=e.$eval(r[c+"Animation"]);B.animation=angular.isDefined(z)?!!z:h.animation;var H,V=c+"AppendToBody";H=V in r&&void 0===r[V]?!0:e.$eval(r[V]),I=angular.isDefined(H)?H:I,e.$on("$destroy",function(){K(),w(),f.remove(B),B=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,n,r){return{link:function(i,a,o){var s,l,u,c=i.$eval(o.tooltipTemplateTranscludeScope),d=0,p=function(){l&&(l.remove(),l=null),s&&(s.$destroy(),s=null),u&&(e.leave(u).then(function(){l=null}),l=u,u=null)};i.$watch(t.parseAsResourceUrl(o.uibTooltipTemplateTransclude),function(t){var o=++d;t?(r(t,!0).then(function(r){if(o===d){var i=c.$new(),l=r,h=n(l)(i,function(t){p(),e.enter(t,a)});s=i,u=h,s.$emit("$includeContentLoaded",t)}},function(){o===d&&(p(),i.$emit("$includeContentError",t))}),i.$emit("$includeContentRequested",t)):p()}),i.$on("$destroy",p)}}}]).directive("uibTooltipClasses",["$uibPosition",function(e){return{restrict:"A",link:function(t,n,r){if(t.placement){var i=e.parsePlacement(t.placement);n.addClass(i[0])}t.popupClass&&n.addClass(t.popupClass),t.animation()&&n.addClass(r.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(e){return e("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(e){return e("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(e){return e("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function(e){return e("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function(e){return e("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function(e){return e("uibPopover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(e,t,n){function r(){return angular.isDefined(e.maxParam)?e.maxParam:n.max}var i=this,a=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=r(),this.addBar=function(e,t,n){a||t.css({transition:"none"}),this.bars.push(e),e.max=r(),e.title=n&&angular.isDefined(n.title)?n.title:"progressbar",e.$watch("value",function(t){e.recalculatePercentage()}),e.recalculatePercentage=function(){var t=i.bars.reduce(function(e,t){return t.percent=+(100*t.value/t.max).toFixed(2),e+t.percent},0);t>100&&(e.percent-=t-100)},e.$on("$destroy",function(){t=null,i.removeBar(e)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1),this.bars.forEach(function(e){e.recalculatePercentage()})},e.$watch("maxParam",function(e){i.bars.forEach(function(e){e.max=r(),e.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{maxParam:"=?max"},templateUrl:"uib/template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function(e,t,n,r){r.addBar(e,t,n)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",maxParam:"=?max",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(e,t,n,r){r.addBar(e,angular.element(t.children()[0]),{title:n.title})}}}),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(e,t,n){var r={$setViewValue:angular.noop};this.init=function(i){r=i,r.$render=this.render,r.$formatters.push(function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e}),this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff;var a=angular.isDefined(t.titles)?e.$parent.$eval(t.titles):n.titles;this.titles=angular.isArray(a)&&a.length>0?a:n.titles;var o=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(o)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;n>t;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(t)},e[t]);return e},this.getTitle=function(e){return e>=this.titles.length?e+1:this.titles[e]},e.rate=function(t){!e.readonly&&t>=0&&t<=e.range.length&&(r.$setViewValue(r.$viewValue===t?0:t),r.$render())},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=r.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=r.$viewValue}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],scope:{readonly:"=?readOnly",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",replace:!0,link:function(e,t,n,r){var i=r[0],a=r[1];i.init(a)}}}),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(e){function t(e){for(var t=0;t<r.tabs.length;t++)if(r.tabs[t].index===e)return t}var n,r=this;r.tabs=[],r.select=function(e){if(!i){var a=t(n),o=r.tabs[a];o&&(o.tab.onDeselect(),o.tab.active=!1);var s=r.tabs[e];s?(s.tab.onSelect(),s.tab.active=!0,r.active=s.index,n=s.index):!s&&angular.isNumber(n)&&(r.active=null,n=null)}},r.addTab=function(e){if(r.tabs.push({tab:e,index:e.index}),r.tabs.sort(function(e,t){return e.index>t.index?1:e.index<t.index?-1:0}),e.index===r.active||!angular.isNumber(r.active)&&1===r.tabs.length){var n=t(e.index);r.select(n)}},r.removeTab=function(e){var n=t(e.index);if(e.index===r.active){var i=n===r.tabs.length-1?n-1:n+1%r.tabs.length;r.select(i)}r.tabs.splice(n,1)},e.$watch("tabset.active",function(e){angular.isNumber(e)&&e!==n&&r.select(t(e))});var i;e.$on("$destroy",function(){i=!0})}]).directive("uibTabset",function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:"=?",type:"@"},controller:"UibTabsetController",controllerAs:"tabset",templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tabset.html"},link:function(e,t,n){e.vertical=angular.isDefined(n.vertical)?e.$parent.$eval(n.vertical):!1,e.justified=angular.isDefined(n.justified)?e.$parent.$eval(n.justified):!1,angular.isUndefined(n.active)&&(e.active=0)}}}).directive("uibTab",["$parse",function(e){return{require:"^uibTabset",replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tab.html"},transclude:!0,scope:{heading:"@",index:"=?",classes:"@?",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(t,n,r,i,a){t.disabled=!1,r.disable&&t.$parent.$watch(e(r.disable),function(e){t.disabled=!!e}),angular.isUndefined(r.index)&&(i.tabs&&i.tabs.length?t.index=Math.max.apply(null,i.tabs.map(function(e){return e.index}))+1:t.index=0),angular.isUndefined(r.classes)&&(t.classes=""),t.select=function(){if(!t.disabled){for(var e,n=0;n<i.tabs.length;n++)if(i.tabs[n].tab===t){e=n;break}i.select(e)}},i.addTab(t),t.$on("$destroy",function(){i.removeTab(t)}),t.$transcludeFn=a}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}).directive("uibTabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("uib-tab-heading")||e.hasAttribute("data-uib-tab-heading")||e.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===e.tagName.toLowerCase()||"data-uib-tab-heading"===e.tagName.toLowerCase()||"x-uib-tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^uibTabset",link:function(t,n,r){var i=t.$eval(r.uibTabContentTransclude).tab;i.$transcludeFn(i.$parent,function(t){angular.forEach(t,function(t){e(t)?i.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(e,t,n,r,i,a,o){function s(){var t=+e.hours,n=e.showMeridian?t>0&&13>t:t>=0&&24>t;return n?(e.showMeridian&&(12===t&&(t=0),e.meridian===S[1]&&(t+=12)),t):void 0}function l(){var t=+e.minutes;return t>=0&&60>t?t:void 0}function u(){var t=+e.seconds;return t>=0&&60>t?t:void 0}function c(e){return null===e?"":angular.isDefined(e)&&e.toString().length<2?"0"+e:e.toString()}function d(e){p(),b.$setViewValue(new Date(v)),h(e)}function p(){b.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1,e.invalidSeconds=!1}function h(t){if(b.$modelValue){var n=v.getHours(),r=v.getMinutes(),i=v.getSeconds();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:c(n),"m"!==t&&(e.minutes=c(r)),e.meridian=v.getHours()<12?S[0]:S[1],"s"!==t&&(e.seconds=c(i)),e.meridian=v.getHours()<12?S[0]:S[1]}else e.hours=null,e.minutes=null,e.seconds=null,e.meridian=S[0]}function f(e){v=m(v,e),d()}function g(e,t){return m(e,60*t)}function m(e,t){var n=new Date(e.getTime()+1e3*t),r=new Date(e);return r.setHours(n.getHours(),n.getMinutes(),n.getSeconds()),r}var v=new Date,y=[],b={$setViewValue:angular.noop},S=angular.isDefined(n.meridians)?e.$parent.$eval(n.meridians):o.meridians||a.DATETIME_FORMATS.AMPMS;e.tabindex=angular.isDefined(n.tabindex)?n.tabindex:0,t.removeAttr("tabindex"),this.init=function(t,r){b=t,b.$render=this.render,b.$formatters.unshift(function(e){return e?new Date(e):null});var i=r.eq(0),a=r.eq(1),s=r.eq(2),l=angular.isDefined(n.mousewheel)?e.$parent.$eval(n.mousewheel):o.mousewheel;l&&this.setupMousewheelEvents(i,a,s);var u=angular.isDefined(n.arrowkeys)?e.$parent.$eval(n.arrowkeys):o.arrowkeys;u&&this.setupArrowkeyEvents(i,a,s),e.readonlyInput=angular.isDefined(n.readonlyInput)?e.$parent.$eval(n.readonlyInput):o.readonlyInput,this.setupInputEvents(i,a,s)};var D=o.hourStep;n.hourStep&&y.push(e.$parent.$watch(r(n.hourStep),function(e){D=+e}));var w=o.minuteStep;n.minuteStep&&y.push(e.$parent.$watch(r(n.minuteStep),function(e){w=+e}));var A;y.push(e.$parent.$watch(r(n.min),function(e){var t=new Date(e);A=isNaN(t)?void 0:t}));var C;y.push(e.$parent.$watch(r(n.max),function(e){var t=new Date(e);C=isNaN(t)?void 0:t}));var _=!1;n.ngDisabled&&y.push(e.$parent.$watch(r(n.ngDisabled),function(e){_=e})),e.noIncrementHours=function(){var e=g(v,60*D);return _||e>C||v>e&&A>e},e.noDecrementHours=function(){var e=g(v,60*-D);return _||A>e||e>v&&e>C},e.noIncrementMinutes=function(){var e=g(v,w);return _||e>C||v>e&&A>e},e.noDecrementMinutes=function(){var e=g(v,-w);return _||A>e||e>v&&e>C},e.noIncrementSeconds=function(){var e=m(v,x);return _||e>C||v>e&&A>e},e.noDecrementSeconds=function(){var e=m(v,-x);return _||A>e||e>v&&e>C},e.noToggleMeridian=function(){return v.getHours()<12?_||g(v,720)>C:_||g(v,-720)<A};var x=o.secondStep;n.secondStep&&y.push(e.$parent.$watch(r(n.secondStep),function(e){x=+e})),e.showSeconds=o.showSeconds,n.showSeconds&&y.push(e.$parent.$watch(r(n.showSeconds),function(t){e.showSeconds=!!t})),e.showMeridian=o.showMeridian,n.showMeridian&&y.push(e.$parent.$watch(r(n.showMeridian),function(t){if(e.showMeridian=!!t,b.$error.time){var n=s(),r=l();angular.isDefined(n)&&angular.isDefined(r)&&(v.setHours(n),d())}else h()})),this.setupMousewheelEvents=function(t,n,r){var i=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.bind("mousewheel wheel",function(t){_||e.$apply(i(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.bind("mousewheel wheel",function(t){_||e.$apply(i(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()}),r.bind("mousewheel wheel",function(t){_||e.$apply(i(t)?e.incrementSeconds():e.decrementSeconds()),t.preventDefault()})},this.setupArrowkeyEvents=function(t,n,r){t.bind("keydown",function(t){_||(38===t.which?(t.preventDefault(),e.incrementHours(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementHours(),e.$apply()))}),n.bind("keydown",function(t){_||(38===t.which?(t.preventDefault(),e.incrementMinutes(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementMinutes(),e.$apply()))}),r.bind("keydown",function(t){_||(38===t.which?(t.preventDefault(),e.incrementSeconds(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementSeconds(),e.$apply()))})},this.setupInputEvents=function(t,n,r){if(e.readonlyInput)return e.updateHours=angular.noop,e.updateMinutes=angular.noop,void(e.updateSeconds=angular.noop);var i=function(t,n,r){b.$setViewValue(null),b.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t),angular.isDefined(n)&&(e.invalidMinutes=n),angular.isDefined(r)&&(e.invalidSeconds=r)};e.updateHours=function(){var e=s(),t=l();b.$setDirty(),angular.isDefined(e)&&angular.isDefined(t)?(v.setHours(e),v.setMinutes(t),A>v||v>C?i(!0):d("h")):i(!0)},t.bind("blur",function(t){b.$setTouched(),null===e.hours||""===e.hours?i(!0):!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=c(e.hours)})}),e.updateMinutes=function(){var e=l(),t=s();b.$setDirty(),angular.isDefined(e)&&angular.isDefined(t)?(v.setHours(t),v.setMinutes(e),A>v||v>C?i(void 0,!0):d("m")):i(void 0,!0)},n.bind("blur",function(t){b.$setTouched(),null===e.minutes?i(void 0,!0):!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=c(e.minutes)})}),e.updateSeconds=function(){var e=u();b.$setDirty(),angular.isDefined(e)?(v.setSeconds(e),d("s")):i(void 0,void 0,!0)},r.bind("blur",function(t){!e.invalidSeconds&&e.seconds<10&&e.$apply(function(){e.seconds=c(e.seconds)})})},this.render=function(){var t=b.$viewValue;isNaN(t)?(b.$setValidity("time",!1),i.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(v=t),
A>v||v>C?(b.$setValidity("time",!1),e.invalidHours=!0,e.invalidMinutes=!0):p(),h())},e.showSpinners=angular.isDefined(n.showSpinners)?e.$parent.$eval(n.showSpinners):o.showSpinners,e.incrementHours=function(){e.noIncrementHours()||f(60*D*60)},e.decrementHours=function(){e.noDecrementHours()||f(60*-D*60)},e.incrementMinutes=function(){e.noIncrementMinutes()||f(60*w)},e.decrementMinutes=function(){e.noDecrementMinutes()||f(60*-w)},e.incrementSeconds=function(){e.noIncrementSeconds()||f(x)},e.decrementSeconds=function(){e.noDecrementSeconds()||f(-x)},e.toggleMeridian=function(){var t=l(),n=s();e.noToggleMeridian()||(angular.isDefined(t)&&angular.isDefined(n)?f(720*(v.getHours()<12?60:-60)):e.meridian=e.meridian===S[0]?S[1]:S[0])},e.blur=function(){b.$setTouched()},e.$on("$destroy",function(){for(;y.length;)y.shift()()})}]).directive("uibTimepicker",["uibTimepickerConfig",function(e){return{require:["uibTimepicker","?^ngModel"],controller:"UibTimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(t,n){return n.templateUrl||e.templateUrl},link:function(e,t,n,r){var i=r[0],a=r[1];a&&i.init(a,t.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var r=n.match(t);if(!r)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:r[3],source:e(r[4]),viewMapper:e(r[2]||r[1]),modelMapper:e(r[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(e,t,n,r,i,a,o,s,l,u,c,d,p){function h(){B.moveInProgress||(B.moveInProgress=!0,B.$digest()),Q()}function f(){B.position=M?d.offset(t):d.position(t),B.position.top+=t.prop("offsetHeight")}var g,m,v=[9,13,27,38,40],y=200,b=e.$eval(n.typeaheadMinLength);b||0===b||(b=1),e.$watch(n.typeaheadMinLength,function(e){b=e||0===e?e:1});var S=e.$eval(n.typeaheadWaitMs)||0,D=e.$eval(n.typeaheadEditable)!==!1;e.$watch(n.typeaheadEditable,function(e){D=e!==!1});var w,A,C=i(n.typeaheadLoading).assign||angular.noop,_=i(n.typeaheadOnSelect),x=angular.isDefined(n.typeaheadSelectOnBlur)?e.$eval(n.typeaheadSelectOnBlur):!1,$=i(n.typeaheadNoResults).assign||angular.noop,k=n.typeaheadInputFormatter?i(n.typeaheadInputFormatter):void 0,M=n.typeaheadAppendToBody?e.$eval(n.typeaheadAppendToBody):!1,T=n.typeaheadAppendTo?e.$eval(n.typeaheadAppendTo):null,F=e.$eval(n.typeaheadFocusFirst)!==!1,O=n.typeaheadSelectOnExact?e.$eval(n.typeaheadSelectOnExact):!1,P=i(n.typeaheadIsOpen).assign||angular.noop,E=e.$eval(n.typeaheadShowHint)||!1,L=i(n.ngModel),I=i(n.ngModel+"($$$p)"),R=function(t,n){return angular.isFunction(L(e))&&m&&m.$options&&m.$options.getterSetter?I(t,{$$$p:n}):L.assign(t,n)},N=p.parse(n.uibTypeahead),B=e.$new(),W=e.$on("$destroy",function(){B.$destroy()});B.$on("$destroy",W);var U="typeahead-"+B.$id+"-"+Math.floor(1e4*Math.random());t.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":U});var G,q;E&&(G=angular.element("<div></div>"),G.css("position","relative"),t.after(G),q=t.clone(),q.attr("placeholder",""),q.attr("tabindex","-1"),q.val(""),q.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),t.css({position:"relative","vertical-align":"top","background-color":"transparent"}),G.append(q),q.after(t));var j=angular.element("<div uib-typeahead-popup></div>");j.attr({id:U,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(n.typeaheadTemplateUrl)&&j.attr("template-url",n.typeaheadTemplateUrl),angular.isDefined(n.typeaheadPopupTemplateUrl)&&j.attr("popup-template-url",n.typeaheadPopupTemplateUrl);var K=function(){E&&q.val("")},z=function(){B.matches=[],B.activeIdx=-1,t.attr("aria-expanded",!1),K()},H=function(e){return U+"-option-"+e};B.$watch("activeIdx",function(e){0>e?t.removeAttr("aria-activedescendant"):t.attr("aria-activedescendant",H(e))});var V=function(e,t){return B.matches.length>t&&e?e.toUpperCase()===B.matches[t].label.toUpperCase():!1},Y=function(n,r){var i={$viewValue:n};C(e,!0),$(e,!1),a.when(N.source(e,i)).then(function(a){var o=n===g.$viewValue;if(o&&w)if(a&&a.length>0){B.activeIdx=F?0:-1,$(e,!1),B.matches.length=0;for(var s=0;s<a.length;s++)i[N.itemName]=a[s],B.matches.push({id:H(s),label:N.viewMapper(B,i),model:a[s]});if(B.query=n,f(),t.attr("aria-expanded",!0),O&&1===B.matches.length&&V(n,0)&&(angular.isNumber(B.debounceUpdate)||angular.isObject(B.debounceUpdate)?c(function(){B.select(0,r)},angular.isNumber(B.debounceUpdate)?B.debounceUpdate:B.debounceUpdate.default):B.select(0,r)),E){var l=B.matches[0].label;angular.isString(n)&&n.length>0&&l.slice(0,n.length).toUpperCase()===n.toUpperCase()?q.val(n+l.slice(n.length)):q.val("")}}else z(),$(e,!0);o&&C(e,!1)},function(){z(),C(e,!1),$(e,!0)})};M&&(angular.element(l).on("resize",h),s.find("body").on("scroll",h));var Q=c(function(){B.matches.length&&f(),B.moveInProgress=!1},y);B.moveInProgress=!1,B.query=void 0;var Z,J=function(e){Z=o(function(){Y(e)},S)},X=function(){Z&&o.cancel(Z)};z(),B.assignIsOpen=function(t){P(e,t)},B.select=function(r,i){var a,s,l={};A=!0,l[N.itemName]=s=B.matches[r].model,a=N.modelMapper(e,l),R(e,a),g.$setValidity("editable",!0),g.$setValidity("parse",!0),_(e,{$item:s,$model:a,$label:N.viewMapper(e,l),$event:i}),z(),B.$eval(n.typeaheadFocusOnSelect)!==!1&&o(function(){t[0].focus()},0,!1)},t.on("keydown",function(e){if(0!==B.matches.length&&-1!==v.indexOf(e.which)){if(-1===B.activeIdx&&(9===e.which||13===e.which)||9===e.which&&e.shiftKey)return z(),void B.$digest();e.preventDefault();var t;switch(e.which){case 9:case 13:B.$apply(function(){angular.isNumber(B.debounceUpdate)||angular.isObject(B.debounceUpdate)?c(function(){B.select(B.activeIdx,e)},angular.isNumber(B.debounceUpdate)?B.debounceUpdate:B.debounceUpdate.default):B.select(B.activeIdx,e)});break;case 27:e.stopPropagation(),z(),B.$digest();break;case 38:B.activeIdx=(B.activeIdx>0?B.activeIdx:B.matches.length)-1,B.$digest(),t=j.find("li")[B.activeIdx],t.parentNode.scrollTop=t.offsetTop;break;case 40:B.activeIdx=(B.activeIdx+1)%B.matches.length,B.$digest(),t=j.find("li")[B.activeIdx],t.parentNode.scrollTop=t.offsetTop}}}),t.bind("focus",function(e){w=!0,0!==b||g.$viewValue||o(function(){Y(g.$viewValue,e)},0)}),t.bind("blur",function(e){x&&B.matches.length&&-1!==B.activeIdx&&!A&&(A=!0,B.$apply(function(){angular.isObject(B.debounceUpdate)&&angular.isNumber(B.debounceUpdate.blur)?c(function(){B.select(B.activeIdx,e)},B.debounceUpdate.blur):B.select(B.activeIdx,e)})),!D&&g.$error.editable&&(g.$viewValue="",t.val("")),w=!1,A=!1});var ee=function(e){t[0]!==e.target&&3!==e.which&&0!==B.matches.length&&(z(),u.$$phase||B.$digest())};s.on("click",ee),e.$on("$destroy",function(){s.off("click",ee),(M||T)&&te.remove(),M&&(angular.element(l).off("resize",h),s.find("body").off("scroll",h)),j.remove(),E&&G.remove()});var te=r(j)(B);M?s.find("body").append(te):T?angular.element(T).eq(0).append(te):t.after(te),this.init=function(t,n){g=t,m=n,B.debounceUpdate=g.$options&&i(g.$options.debounce)(e),g.$parsers.unshift(function(t){return w=!0,0===b||t&&t.length>=b?S>0?(X(),J(t)):Y(t):(C(e,!1),X(),z()),D?t:t?void g.$setValidity("editable",!1):(g.$setValidity("editable",!0),null)}),g.$formatters.push(function(t){var n,r,i={};return D||g.$setValidity("editable",!0),k?(i.$model=t,k(e,i)):(i[N.itemName]=t,n=N.viewMapper(e,i),i[N.itemName]=void 0,r=N.viewMapper(e,i),n!==r?n:t)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","^?ngModelOptions","uibTypeahead"],link:function(e,t,n,r){r[2].init(r[0],r[1])}}}).directive("uibTypeaheadPopup",["$$debounce",function(e){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(t,n,r){t.templateUrl=r.templateUrl,t.isOpen=function(){var e=t.matches.length>0;return t.assignIsOpen({isOpen:e}),e},t.isActive=function(e){return t.active===e},t.selectActive=function(e){t.active=e},t.selectMatch=function(n,r){var i=t.debounce();angular.isNumber(i)||angular.isObject(i)?e(function(){t.select({activeIdx:n,evt:r})},angular.isNumber(i)?i:i.default):t.select({activeIdx:n,evt:r})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,n){return{scope:{index:"=",match:"=",query:"="},link:function(r,i,a){var o=n(a.templateUrl)(r.$parent)||"uib/template/typeahead/typeahead-match.html";e(o).then(function(e){var n=angular.element(e.trim());i.replaceWith(n),t(n)(r)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(e,t,n){function r(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function i(e){return/<.*>/g.test(e)}var a;return a=t.has("$sanitize"),function(t,o){return!a&&i(t)&&n.warn("Unsafe use of typeahead please use ngSanitize"),t=o?(""+t).replace(new RegExp(r(o),"gi"),"<strong>$&</strong>"):t,a||(t=e.trustAsHtml(t)),t}}]),angular.module("uib/template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion-group.html",'<div class="panel" ng-class="panelClass || \'panel-default\'">\n  <div role="tab" id="{{::headingId}}" aria-selected="{{isOpen}}" class="panel-heading" ng-keypress="toggleOpen($event)">\n    <h4 class="panel-title">\n      <a role="button" data-toggle="collapse" href aria-expanded="{{isOpen}}" aria-controls="{{::panelId}}" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading"><span uib-accordion-header ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div id="{{::panelId}}" aria-labelledby="{{::headingId}}" aria-hidden="{{!isOpen}}" role="tabpanel" class="panel-collapse collapse" uib-collapse="!isOpen">\n    <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion.html",'<div role="tablist" class="panel-group" ng-transclude></div>')}]),angular.module("uib/template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("uib/template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("uib/template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n  <div class="carousel-inner" ng-transclude></div>\n  <a role="button" href class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n    <span class="sr-only">previous</span>\n  </a>\n  <a role="button" href class="right carousel-control" ng-click="next()" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n    <span class="sr-only">next</span>\n  </a>\n  <ol class="carousel-indicators" ng-show="slides.length > 1">\n    <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n      <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n    </li>\n  </ol>\n</div>\n')}]),angular.module("uib/template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("uib/template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/datepicker.html",'<div class="uib-datepicker" ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <uib-daypicker ng-switch-when="day" tabindex="0"></uib-daypicker>\n  <uib-monthpicker ng-switch-when="month" tabindex="0"></uib-monthpicker>\n  <uib-yearpicker ng-switch-when="year" tabindex="0"></uib-yearpicker>\n</div>\n')}]),angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/day.html",'<table class="uib-daypicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-weeks" ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default btn-sm"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/month.html",'<table class="uib-monthpicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-months" ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/popup.html",'<div>\n  <ul class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n    <li ng-transclude></li>\n    <li ng-if="showButtonBar" class="uib-button-bar">\n      <span class="btn-group pull-left">\n        <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n        <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n      </span>\n      <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n    </li>\n  </ul>\n</div>\n')}]),angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/year.html",'<table class="uib-yearpicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::columns - 2}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-years" ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("uib/template/modal/backdrop.html",'<div class="modal-backdrop"\n     uib-modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function(e){e.put("uib/template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    uib-modal-animation-class="fade"\n    modal-in-class="in"\n    ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}">\n    <div class="modal-dialog {{size ? \'modal-\' + size : \'\'}}"><div class="modal-content" uib-modal-transclude></div></div>\n</div>\n')}]),angular.module("uib/template/pager/pager.html",[]).run(["$templateCache",function(e){e.put("uib/template/pager/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>\n')}]),angular.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("uib/template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n')}]),angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-html-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-template-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    uib-tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-html.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind-html="contentExp()"></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-template.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        uib-tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n')}]),angular.module("uib/template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("uib/template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("uib/template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}" aria-valuetext="{{r.title}}"></i>\n</span>\n')}]),angular.module("uib/template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("uib/template/tabs/tab.html",'<li ng-class="[{active: active, disabled: disabled}, classes]" class="uib-tab nav-item">\n  <a href ng-click="select()" class="nav-link" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("uib/template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("uib/template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{tabset.type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane"\n         ng-repeat="tab in tabset.tabs"\n         ng-class="{active: tabset.active === tab.index}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("uib/template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/timepicker/timepicker.html",'<table class="uib-timepicker">\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-increment hours"><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-increment minutes"><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\n        <input style="width:50px;" type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\n      </td>\n      <td class="uib-separator">:</td>\n      <td class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\n        <input style="width:50px;" type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\n      </td>\n      <td ng-show="showSeconds" class="uib-separator">:</td>\n      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\n        <input style="width:50px;" type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\n      </td>\n      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-match.html",'<a href\n   tabindex="-1"\n   ng-bind-html="match.label | uibTypeaheadHighlight:query"\n   ng-attr-title="{{match.label}}"></a>\n')}]),angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.module("ui.bootstrap.carousel").run(function(){!angular.$$csp().noInlineStyle&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>')}),angular.module("ui.bootstrap.position").run(function(){!angular.$$csp().noInlineStyle&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll;}</style>');
}),angular.module("ui.bootstrap.datepicker").run(function(){!angular.$$csp().noInlineStyle&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}.uib-left,.uib-right{width:100%}</style>')}),angular.module("ui.bootstrap.tooltip").run(function(){!angular.$$csp().noInlineStyle&&angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover{display:block !important;}</style>')}),angular.module("ui.bootstrap.timepicker").run(function(){!angular.$$csp().noInlineStyle&&angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>')}),angular.module("ui.bootstrap.typeahead").run(function(){!angular.$$csp().noInlineStyle&&angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>')}),n("angular_bootstrap",["angular"],function(){}),function(e,r){"function"==typeof n&&n.amd?n("moment_range",["moment"],function(t){return e.DateRange=r(t)}):"object"==typeof exports?module.exports=r(t("moment")):e.DateRange=r(moment)}(this,function(e){function t(t,n){var r,i=t,a=n;(1===arguments.length||void 0===n)&&("object"==typeof t&&2===t.length?(i=t[0],a=t[1]):"string"==typeof t&&(r=t.split("/"),i=r[0],a=r[1])),this.start=e(i),this.end=e(a)}function n(t,n,r){for(var i=e(this.start);this.contains(i,r);)n.call(this,i.clone()),i.add(1,t)}function r(t,n,r){var i=this/t,a=Math.floor(i);if(a!==1/0){a===i&&r&&a--;for(var o=0;a>=o;o++)n.call(this,e(this.start.valueOf()+t.valueOf()*o))}}var i={year:!0,month:!0,week:!0,day:!0,hour:!0,minute:!0,second:!0};return t.prototype.constructor=t,t.prototype.clone=function(){return e().range(this.start,this.end)},t.prototype.contains=function(e,n){var r=this.start,i=this.end;return e instanceof t?r<=e.start&&(i>e.end||i.isSame(e.end)&&!n):e>=r&&(i>e||i.isSame(e)&&!n)},t.prototype.overlaps=function(e){return null!==this.intersect(e)},t.prototype.intersect=function(e){var n=this.start,r=this.end;return n<=e.start&&e.start<r&&r<e.end?new t(e.start,r):e.start<n&&n<e.end&&e.end<=r?new t(n,e.end):e.start<n&&r>=n&&r<e.end?this:n<=e.start&&e.start<=e.end&&e.end<=r?e:null},t.prototype.add=function(n){return this.overlaps(n)?new t(e.min(this.start,n.start),e.max(this.end,n.end)):null},t.prototype.subtract=function(e){var n=this.start,r=this.end;return null===this.intersect(e)?[this]:e.start<=n&&r>n&&r<=e.end?[]:e.start<=n&&n<e.end&&e.end<r?[new t(e.end,r)]:n<e.start&&e.start<r&&r<=e.end?[new t(n,e.start)]:n<e.start&&e.start<e.end&&e.end<r?[new t(n,e.start),new t(e.end,r)]:n<e.start&&e.start<r&&e.end<r?[new t(n,e.start),new t(e.start,r)]:void 0},t.prototype.by=function(e,t,i){return"string"==typeof e?n.call(this,e,t,i):r.call(this,e,t,i),this},t.prototype.toString=function(){return this.start.format()+"/"+this.end.format()},t.prototype.valueOf=function(){return this.end-this.start},t.prototype.center=function(){var t=this.start+this.diff()/2;return e(t)},t.prototype.toDate=function(){return[this.start.toDate(),this.end.toDate()]},t.prototype.isSame=function(e){return this.start.isSame(e.start)&&this.end.isSame(e.end)},t.prototype.diff=function(e){return this.end.diff(this.start,e)},e.range=function(n,r){return n in i?new t(e(this).startOf(n),e(this).endOf(n)):new t(n,r)},e.range.constructor=t,e.fn.range=e.range,e.fn.within=function(e){return e.contains(this._d)},t}),n("widgets/calendar/CalendarMonthBounds",["moment","moment_range"],function(e,t){"use strict";function n(t){var n=t.clone(),r=[],i=[],a=t.clone().startOf("week"),o=n.clone().subtract(1,"days");e.range(a,o).by("days",function(e){r.push(e)});var s=n.clone().endOf("month"),l=s.clone().add(1,"days"),u=s.clone().endOf("week");e.range(l,u).by("days",function(e){i.push(e)}),Object.defineProperty(this,"monthStartDate",{enumerable:!0,get:function(){return n}}),Object.defineProperty(this,"monthEndDate",{enumerable:!0,get:function(){return s}}),Object.defineProperty(this,"prevMonthDaysOfLastWeek",{enumerable:!0,get:function(){return r}}),Object.defineProperty(this,"nextMonthDaysOfFirstWeek",{enumerable:!0,get:function(){return i}})}return n}),n("util/OrderInSequencePriceClassifier",["lodash"],function(e){"use strict";return function(){var t;this.train=function(n){t=e.sortBy(e.uniq(n))},this.classifyIntoTier=function(n){return e.indexOf(t,n,!0)+1}}}),n("util/momentRangeUtils",["moment","moment_range"],function(e,t){"use strict";function n(e,t){return e.start.within(t)&&e.end.within(t)}function r(e,t){var n;return e.start.isBefore(t.start)?(n=t.start.diff(e.start,"months"),e.start.add(n,"months"),e.end.add(n,"months"),e):e.end.isAfter(t.end)?(n=e.end.diff(t.end,"months"),e.start.subtract(n,"months"),e.end.subtract(n,"months"),e):e}function i(e,t){var n=t.start.diff(e.start,"months");return n>0&&(e.start.add(n,"months"),e.end.add(n,"months")),e.end.isAfter(t.end)&&(e.end=t.end.clone()),e}return e.generateAdjacentMonths=function(t,n){var r=Math.floor(n/2),i=n%2,a=t.clone().subtract(r,"month"),o=t.clone().add(r+i,"month");return e.range(a,o)},e.adjustToMinMaxDates=function(e,t){return n(e,t)?e:t>=e?r(e,t):i(e,t)},e}),n("widgets/calendar/Calendar",["util/LodashExtensions","moment","moment_range","widgets/calendar/CalendarMonthBounds","util/OrderInSequencePriceClassifier","util/momentRangeUtils","datamodel/ShoppingData"],function(e,t,n,r,i,a,o){"use strict";function s(e){function n(e){for(var t=0;t<c.length;t++)if(c[t].isSame(e))return t}function r(e){var n=e.clone().startOf("month"),r=n.clone().add(l-1,"month"),i=t.range(n,r);if(i=t.generateAdjacentMonths(i.start,l-1),o()){var a=t.range(s.minDateStartOfMonth,s.maxDateStartOfMonth);i=t.adjustToMinMaxDates(i,a)}return i}function a(e){var t=[];return e.by("months",function(e){t.push(e)}),t}function o(){return s.minDate||s.maxDate}var s=this,l=e.numberOfMonths,u={},c=[];this.months=[],this.dayOfWeekNames=t.weekdaysMin(),this.getLastSearchCriteria=function(){return u},this.setLastSearchCriteria=function(e){u=e},this.getModelMonths=function(){return c},this.priceClassifier=new i,this.prepareDataModel=function(e){var t=e.getFirstLeg().departureDateTime||e.earliestDepartureLatestReturnDatesFlexibility.earliestDepartureDateTime,i=r(t);c=a(i),this.requestedMonthSeqNumber=n(t)}}function l(t){var n=e.findIndex(t,"noPricesFound",!1),r=e.findLastIndex(t,"noPricesFound",!1);return t.slice(n,r+1)}return s.prototype.hasData=function(){return!e.isEmpty(this.months)},s.prototype.setLastDayDisplayedCap=function(e){this.maxAvailableDate=e},s.prototype.updateWithLeadPrices=function(t,n){var r=this;this.setLastSearchCriteria(t),this.priceClassifier.train(e.pluck(e.values(n),"price"));var i=this.calculateMonthsMinPrices(n);this.months=this.getModelMonths().map(function(e){var t=r.getMonthBounds(e);return r.updateMonthModelWithLeadPrices(n,i,t)}),this.months=l(this.months)},s.prototype.getMonthBounds=e.memoize(function(e){return new r(e)}),s.prototype.updateMonthModelWithLeadPrices=function(e,n,r){var i=this,a=[],s={days:[]},l=function(e){return{day:e,isPrevOrNextMonthDay:!0}};s.days=r.prevMonthDaysOfLastWeek.map(l);var u=!0;return t().range(r.monthStartDate,r.monthEndDate).by("days",function(t){var n={day:void 0,price:void 0,currency:void 0,priceTier:void 0};n.day=t;var r=t.format(o.prototype.DATE_FORMAT_FOR_KEYS);if(e&&e[r]){u=!1;var l=e[r].price;n.price=l,n.currency=e[r].currency,n.priceTier=i.priceClassifier.classifyIntoTier(l)}s.days.push(n),7===s.days.length&&(a.push(s),s={days:[]})}),s.days.length<7&&(s.days=s.days.concat(r.nextMonthDaysOfFirstWeek.map(l)),a.push(s)),{monthStartDate:r.monthStartDate,noPricesFound:u,monthLeadPrice:n[r.monthStartDate]&&n[r.monthStartDate].price,monthLeadPriceCurrency:n[r.monthStartDate]&&n[r.monthStartDate].currency,weeks:a}},s.prototype.calculateMonthsMinPrices=function(n){return e.reduce(n,function(n,r,i){var a=t(i).startOf("month"),o=n[a.toString()];if(o&&o.currency!==r.currency)throw new Error("Unable to calculate month min price as currencies for particular day prices are different");return(e.isUndefined(o)||o.price>r.price)&&(n[a.toString()]=r),n},{})},s.prototype.getDisplayedRange=function(){return new t.range(e.first(this.getModelMonths()),e.last(this.getModelMonths()).clone().endOf("month"))},s}),n("util/SelectorEngineExtensions",["util/LodashExtensions"],function(e){"use strict";function t(){function t(e,t){for(var n=e.nextSibling,r=[];n;n=n.nextSibling)if(1===n.nodeType&&(r.push(n),!t))return r;return r}function n(e){return t(e,!0)}function r(t,r){var i=n(t),a=n(t.parentNode),o=[];a.forEach(function(t){e.pushAll(o,t.children)});var s=e.pushAll(e.pushAll([t],i),o);return r?s.slice(0,r):s}return{nextAllAndFirstLevelCousins:r}}return t()}),n("widgets/calendar/HighlightLengthOfStay",["angular","widgets/SDSWidgets","util/SelectorEngineExtensions"],function(e,t,n){"use strict";return e.module("sdsWidgets").directive("highlightLengthOfStay",function(){return{scope:{lengthOfStayDays:"@",highlightClass:"@"},link:function(e,t){function r(e){var t=this,r=n.nextAllAndFirstLevelCousins(t,o);r.forEach(e)}function i(t){t.classList.add(e.highlightClass)}function a(t){t.classList.remove(e.highlightClass)}var o=parseInt(e.lengthOfStayDays)+1,s=r(i);t[0].addEventListener("mouseenter",s);var l=r(a);t[0].addEventListener("mouseleave",l),e.$on("$destroy",function(){t[0].removeEventListener("mouseenter",s),t[0].removeEventListener("mouseleave",l)})}}})}),n("widgets/calendar/CalendarWidget",["moment","angular","lodash","angular_bootstrap","widgets/SDSWidgets","datamodel/search/SearchCriteriaFactory","widgets/calendar/Calendar","webservices/common/searchStrategyFactories/DaysRangeSearchStrategyFactory","widgets/calendar/HighlightLengthOfStay","widgets/WidgetGlobalCallbacks"],function(e,t,n,r,i,a,o,s,l,u){"use strict";return t.module("sdsWidgets").controller("CalendarWidgetCtrl",["$scope","DaysRangeSearchStrategyFactory","newSearchCriteriaEvent","SearchCriteriaBroadcastingService","DateSelectedBroadcastingService","NoResultsFoundBroadcastingService",function(e,t,n,r,i,s){function l(t){d(),e.calendar.prepareDataModel(t),e.paginationSettings.currentPage=Math.floor((e.calendar.requestedMonthSeqNumber+2)/e.numberOfMonthsShownAtOnce),h.getLeadPricesForRange(t,e.calendar.getDisplayedRange()).then(function(e){u(t,e),p=t},c)}function u(t,n){var r=h.getMaxAvailableDate(t);e.calendar.setLastDayDisplayedCap(r);var i=t.getTripDepartureDateTime();e.monthsDisplayStates[i]=!0,e.calendar.updateWithLeadPrices(t,n)}function c(e){d(),s.broadcast()}function d(){e.calendar=new o({numberOfMonths:e.numberOfMonths})}var p;e.paginationSettings={currentPage:1};var h=t.createSearchStrategy(e.activeSearchWebService);e.monthsDisplayStates={},e.executeLifeSearchOnPredefinedCriteriaIfPresent=function(e,t,n,r){if(e&&t&&n&&r){var i=a.buildRoundTripTravelSearchCriteria(e,t,n,r);l(i)}},e.$on(n,function(){var e=r.searchCriteria;l(e)}),e.isAnyDataToDisplayAvailable=function(){return e.calendar&&e.calendar.hasData()},e.cellClicked=function(t){if(!t.isBefore(new Date,"day")){var n=p.cloneWithDatesAdjustedToOtherDepartureDate(t);i.newSearchCriteria=n,i.originalDataSourceWebService=h,i.broadcast(),e.cellClickedCallback({searchCriteria:n,originalDataSourceWebService:h})}}}]).directive("calendarTabs",["$compile",function(e){return{restrict:"EA",scope:{numberOfMonths:"@tabsShown",activeSearchWebService:"@",doNotShowPrevNextMonthDays:"@",cellClickedCallback:"&?"},templateUrl:"../widgets/view-templates/widgets/CalendarWidgetTabs.tpl.html",controller:"CalendarWidgetCtrl",link:function(e,t,n){e.numberOfMonths=parseInt(e.numberOfMonths)||1,e.executeLifeSearchOnPredefinedCriteriaIfPresent(n.origin,n.destination,n.departureDate,n.returnDate),u.linkComplete(e,t)}}}]).directive("calendarNavigable",["$compile",function(e){return{restrict:"EA",scope:{numberOfMonths:"@?totalNumberOfMonths",numberOfMonthsShownAtOnce:"@?",activeSearchWebService:"@",doNotShowPrevNextMonthDays:"@",cellClickedCallback:"&?"},templateUrl:"../widgets/view-templates/widgets/CalendarWidgetNavigable.tpl.html",controller:"CalendarWidgetCtrl",link:function(e,t,n){e.numberOfMonthsShownAtOnce=parseInt(e.numberOfMonthsShownAtOnce)||1,e.numberOfMonths=parseInt(e.numberOfMonths)||10,e.executeLifeSearchOnPredefinedCriteriaIfPresent(n.origin,n.destination,n.departureDate,n.returnDate),u.linkComplete(e,t)}}}])}),n("webservices/common/searchStrategyFactories/AlternateDatesSearchStrategyFactory",["util/LodashExtensions","angular","webservices/SabreDevStudioWebServicesModule","webservices/advancedCalendar/AdvancedCalendarService"],function(e,t,n,r){"use strict";return t.module("sabreDevStudioWebServices").factory("AlternateDatesSearchStrategyFactory",["AdvancedCalendarDataService","LeadPriceCalendarDataService","BargainFinderMaxDataService",function(e,t,n){return{createSearchStrategy:function(r){switch(r=r||"bfmAltDates"){case"bfmAltDates":return{getAlternateDatesPriceMatrix:function(e,t,r){n.getAlternateDatesPriceMatrix(e).then(t,r)}};case"advancedCalendar":return{getAlternateDatesPriceMatrix:function(t,n,r){e.getAlternateDatesPriceMatrix(t).then(n,r)}};case"leadPriceCalendar":return{getAlternateDatesPriceMatrix:function(e,n,r){t.getAlternateDatesPriceMatrix(e).then(n,r)}};default:throw new Error("unrecognized web service: "+r)}}}}])}),n("widgets/AlternateDatesMatrixWidget",["moment","angular","lodash","angular_bootstrap","widgets/SDSWidgets","datamodel/search/SearchCriteriaFactory","webservices/common/searchStrategyFactories/AlternateDatesSearchStrategyFactory","widgets/WidgetGlobalCallbacks"],function(e,t,n,r,i,a,o,s){"use strict";return t.module("sdsWidgets").controller("AlternateDatesMatrixCtrl",["$scope","AlternateDatesSearchStrategyFactory","newSearchCriteriaEvent","SearchCriteriaBroadcastingService","DateSelectedBroadcastingService",function(e,t,r,i,o){function s(e){u()}function l(t,n){e.isRoundTripTravel=t.isRoundTripTravel(),e.isOneWayTravel=t.isOneWayTravel(),e.requestedDepartureDates=t.getRequestedDepartureDates(),t.isRoundTripTravel()&&(e.requestedReturnDates=t.getRequestedReturnDates()),p.departureDate=t.getTripDepartureDateTime(),t.isRoundTripTravel()&&(p.returnDate=t.getTripReturnDateTime()),e.altDatesPriceMatrix=n,e.departureAirport=t.getFirstLeg().origin,e.arrivalAirport=t.getFirstLeg().destination}function u(){e.altDatesPriceMatrix=void 0,e.departureAirport=void 0,e.arrivalAirport=void 0}var c,d=t.createSearchStrategy(e.activeSearchWebService),p={};e.executeLifeSearchOnPredefinedCriteriaIfPresent=function(t,n,r,i,o){if(t&&n&&r&&i){var s=a.buildRoundTripTravelSearchCriteriaWithDateFlexibility(t,n,r,i,o);e.processSearchCriteria(s)}},e.$on(r,function(){var t=i.searchCriteria;e.processSearchCriteria(t)}),e.processSearchCriteria=function(e){c=e,d.getAlternateDatesPriceMatrix(e,n.partial(l,e),s)},e.isAnyDataToDisplayAvailable=function(){return e.altDatesPriceMatrix&&e.altDatesPriceMatrix.hasAtLeastOnePrice()},e.isCentralRequestedDate=function(e,t){return e.isSame(p.departureDate)&&(n.isUndefined(t)||t.isSame(p.returnDate))},e.cellClicked=function(t,n){var r=c.cloneWithDatesAdjustedToOtherDepartureDate(t,n);o.newSearchCriteria=r,o.originalDataSourceWebService=d,o.broadcast(),e.cellClickedCallback({searchCriteria:r,originalDataSourceWebService:d})}}]).directive("alternateDatesMatrix",function(){return{restrict:"EA",scope:{activeSearch:"@",activeSearchWebService:"@",searchCriteria:"=?",cellClickedCallback:"&?"},templateUrl:"../widgets/view-templates/widgets/AlternateDatesMatrix.tpl.html",controller:"AlternateDatesMatrixCtrl",link:function(e,t){e.executeLifeSearchOnPredefinedCriteriaIfPresent(t.attr("origin"),t.attr("destination"),t.attr("departure-date"),t.attr("return-date"),t.attr("alt-dates-plus-minus")),e.searchCriteria&&e.processSearchCriteria(e.searchCriteria),s.linkComplete(e,t)}}})}),n("widgets/BaseController",["lodash","datamodel/search/SearchCriteriaFactory"],function(e,t){"use strict";function n(t){this.scope=t.scope,this.searchService=t.searchService,this.noResultsFoundBroadcastingService=t.noResultsFoundBroadcastingService||{broadcast:e.noop},this.scope.searchStartedCallback=this.scope.searchStartedCallback||e.noop,this.scope.searchSuccessCallback=this.scope.searchSuccessCallback||e.noop,this.scope.searchErrorCallback=this.scope.searchErrorCallback||e.noop,this.lastSearchCriteriaAirports={};var n=this;this.scope.$on(t.newSearchCriteriaEvent,function(){var e=t.searchCriteriaBroadcastingService.searchCriteria;n.processSearchCriteria(e)})}return n.prototype.executeLifeSearchOnPredefinedCriteriaIfPresent=function(e,n,r,i){if(e&&n&&r&&i){var a=t.buildRoundTripTravelSearchCriteria(e,n,r,i);this.processSearchCriteria(a)}},n.prototype.processSearchCriteria=function(e){var t=this;this.scope.searchStartedCallback({searchCriteria:e}),this.searchService.executeSearch(e).then(function(n){t.saveLastSearchCriteria(e),t.processSearchResults(n),t.scope.searchSuccessCallback({searchResults:n,searchCriteria:e})},function(n){t.saveLastSearchCriteria(e),t.clearModel(),t.noResultsFoundBroadcastingService.broadcast(),t.scope.searchErrorCallback({errorMessages:n,searchCriteria:e})})},n.prototype.saveLastSearchCriteria=function(t){this.lastSearchCriteria=t,this.lastSearchCriteriaAirports.departureAirport=e.isFunction(t.getFirstLeg)?t.getFirstLeg().origin:t.origin,this.lastSearchCriteriaAirports.arrivalAirport=e.isFunction(t.getFirstLeg)?t.getFirstLeg().destination:t.destination},n}),function(){"use strict";var e=this,t=e.Chart,r=function(e){this.canvas=e.canvas,this.ctx=e;var t=function(e,t){return e["offset"+t]?e["offset"+t]:document.defaultView.getComputedStyle(e).getPropertyValue(t)},n=this.width=t(e.canvas,"Width"),r=this.height=t(e.canvas,"Height");e.canvas.width=n,e.canvas.height=r;var n=this.width=e.canvas.width,r=this.height=e.canvas.height;return this.aspectRatio=this.width/this.height,i.retinaScale(this),this};r.defaults={global:{animation:!0,animationSteps:60,animationEasing:"easeOutQuart",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleIntegersOnly:!0,scaleBeginAtZero:!1,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:!1,maintainAspectRatio:!0,showTooltips:!0,customTooltips:!1,tooltipEvents:["mousemove","touchstart","touchmove","mouseout"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= value %>",multiTooltipKeyBackground:"#fff",onAnimationProgress:function(){},onAnimationComplete:function(){}}},r.types={};var i=r.helpers={},a=i.each=function(e,t,n){var r=Array.prototype.slice.call(arguments,3);if(e)if(e.length===+e.length){var i;for(i=0;i<e.length;i++)t.apply(n,[e[i],i].concat(r))}else for(var a in e)t.apply(n,[e[a],a].concat(r))},o=i.clone=function(e){var t={};return a(e,function(n,r){e.hasOwnProperty(r)&&(t[r]=n)}),t},s=i.extend=function(e){return a(Array.prototype.slice.call(arguments,1),function(t){a(t,function(n,r){t.hasOwnProperty(r)&&(e[r]=n)})}),e},l=i.merge=function(e,t){var n=Array.prototype.slice.call(arguments,0);return n.unshift({}),s.apply(null,n)},u=i.indexOf=function(e,t){if(Array.prototype.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},c=(i.where=function(e,t){var n=[];return i.each(e,function(e){t(e)&&n.push(e)}),n},i.findNextWhere=function(e,t,n){n||(n=-1);for(var r=n+1;r<e.length;r++){var i=e[r];if(t(i))return i}},i.findPreviousWhere=function(e,t,n){n||(n=e.length);for(var r=n-1;r>=0;r--){var i=e[r];if(t(i))return i}},i.inherits=function(e){var t=this,n=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},r=function(){this.constructor=n};return r.prototype=t.prototype,n.prototype=new r,n.extend=c,e&&s(n.prototype,e),n.__super__=t.prototype,n}),d=i.noop=function(){},p=i.uid=function(){var e=0;return function(){return"chart-"+e++}}(),h=i.warn=function(e){window.console&&"function"==typeof window.console.warn},f=i.amd="function"==typeof n&&n.amd,g=i.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},m=i.max=function(e){return Math.max.apply(Math,e)},v=i.min=function(e){return Math.min.apply(Math,e)},y=(i.cap=function(e,t,n){if(g(t)){if(e>t)return t}else if(g(n)&&n>e)return n;return e},i.getDecimalPlaces=function(e){return e%1!==0&&g(e)?e.toString().split(".")[1].length:0}),b=i.radians=function(e){return e*(Math.PI/180)},S=(i.getAngleFromPoint=function(e,t){var n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r),a=2*Math.PI+Math.atan2(r,n);return 0>n&&0>r&&(a+=2*Math.PI),{angle:a,distance:i}},i.aliasPixel=function(e){return e%2===0?0:.5}),D=(i.splineCurve=function(e,t,n,r){var i=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),a=Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2)),o=r*i/(i+a),s=r*a/(i+a);return{inner:{x:t.x-o*(n.x-e.x),y:t.y-o*(n.y-e.y)},outer:{x:t.x+s*(n.x-e.x),y:t.y+s*(n.y-e.y)}}},i.calculateOrderOfMagnitude=function(e){return Math.floor(Math.log(e)/Math.LN10)}),w=(i.calculateScaleRange=function(e,t,n,r,i){var a=2,o=Math.floor(t/(1.5*n)),s=a>=o,l=m(e),u=v(e);l===u&&(l+=.5,u>=.5&&!r?u-=.5:l+=.5);for(var c=Math.abs(l-u),d=D(c),p=Math.ceil(l/(1*Math.pow(10,d)))*Math.pow(10,d),h=r?0:Math.floor(u/(1*Math.pow(10,d)))*Math.pow(10,d),f=p-h,g=Math.pow(10,d),y=Math.round(f/g);(y>o||o>2*y)&&!s;)if(y>o)g*=2,y=Math.round(f/g),y%1!==0&&(s=!0);else if(i&&d>=0){if(g/2%1!==0)break;g/=2,y=Math.round(f/g)}else g/=2,y=Math.round(f/g);return s&&(y=a,g=f/y),{steps:y,stepValue:g,min:h,max:h+y*g}},i.template=function(e,t){function n(e,t){var n=/\W/.test(e)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+e.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):r[e]=r[e];return t?n(t):n}if(e instanceof Function)return e(t);var r={};return n(e,t)}),A=(i.generateLabels=function(e,t,n,r){var i=new Array(t);return labelTemplateString&&a(i,function(t,a){i[a]=w(e,{value:n+r*(a+1)})}),i},i.easingEffects={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-1*e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-0.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1*((e=e/1-1)*e*e+1)},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-1*((e=e/1-1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-0.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return 1*(e/=1)*e*e*e*e},easeOutQuint:function(e){return 1*((e=e/1-1)*e*e*e*e+1)},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return-1*Math.cos(e/1*(Math.PI/2))+1},easeOutSine:function(e){return 1*Math.sin(e/1*(Math.PI/2))},easeInOutSine:function(e){return-0.5*(Math.cos(Math.PI*e/1)-1)},easeInExpo:function(e){return 0===e?1:1*Math.pow(2,10*(e/1-1))},easeOutExpo:function(e){return 1===e?1:1*(-Math.pow(2,-10*e/1)+1)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(-Math.pow(2,-10*--e)+2)},easeInCirc:function(e){return e>=1?e:-1*(Math.sqrt(1-(e/=1)*e)-1)},easeOutCirc:function(e){return 1*Math.sqrt(1-(e=e/1-1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-0.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,n=0,r=1;return 0===e?0:1==(e/=1)?1:(n||(n=.3),r<Math.abs(1)?(r=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/r),-(r*Math.pow(2,10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/n)))},easeOutElastic:function(e){var t=1.70158,n=0,r=1;return 0===e?0:1==(e/=1)?1:(n||(n=.3),r<Math.abs(1)?(r=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/r),r*Math.pow(2,-10*e)*Math.sin((1*e-t)*(2*Math.PI)/n)+1)},easeInOutElastic:function(e){var t=1.70158,n=0,r=1;return 0===e?0:2==(e/=.5)?1:(n||(n=1*(.3*1.5)),r<Math.abs(1)?(r=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/r),1>e?-.5*(r*Math.pow(2,10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/n)):r*Math.pow(2,-10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/n)*.5+1)},easeInBack:function(e){var t=1.70158;return 1*(e/=1)*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return 1*((e=e/1-1)*e*((t+1)*e+t)+1)},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:function(e){return 1-A.easeOutBounce(1-e)},easeOutBounce:function(e){return(e/=1)<1/2.75?1*(7.5625*e*e):2/2.75>e?1*(7.5625*(e-=1.5/2.75)*e+.75):2.5/2.75>e?1*(7.5625*(e-=2.25/2.75)*e+.9375):1*(7.5625*(e-=2.625/2.75)*e+.984375)},easeInOutBounce:function(e){return.5>e?.5*A.easeInBounce(2*e):.5*A.easeOutBounce(2*e-1)+.5}}),C=i.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}(),_=i.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(e){return window.clearTimeout(e,1e3/60)}}(),x=(i.animationLoop=function(e,t,n,r,i,a){var o=0,s=A[n]||A.linear,l=function(){o++;var n=o/t,u=s(n);e.call(a,u,n,o),r.call(a,u,n),t>o?a.animationFrame=C(l):i.apply(a)};C(l)},i.getRelativePosition=function(e){var t,n,r=e.originalEvent||e,i=e.currentTarget||e.srcElement,a=i.getBoundingClientRect();return r.touches?(t=r.touches[0].clientX-a.left,n=r.touches[0].clientY-a.top):(t=r.clientX-a.left,n=r.clientY-a.top),{x:t,y:n}},i.addEvent=function(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}),$=i.removeEvent=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=d},k=(i.bindEvents=function(e,t,n){e.events||(e.events={}),a(t,function(t){e.events[t]=function(){n.apply(e,arguments)},x(e.chart.canvas,t,e.events[t])})},i.unbindEvents=function(e,t){a(t,function(t,n){$(e.chart.canvas,n,t)})}),M=i.getMaximumWidth=function(e){var t=e.parentNode;return t.clientWidth},T=i.getMaximumHeight=function(e){var t=e.parentNode;return t.clientHeight},F=(i.getMaximumSize=i.getMaximumWidth,i.retinaScale=function(e){var t=e.ctx,n=e.canvas.width,r=e.canvas.height;window.devicePixelRatio&&(t.canvas.style.width=n+"px",t.canvas.style.height=r+"px",t.canvas.height=r*window.devicePixelRatio,t.canvas.width=n*window.devicePixelRatio,t.scale(window.devicePixelRatio,window.devicePixelRatio))}),O=i.clear=function(e){e.ctx.clearRect(0,0,e.width,e.height)},P=i.fontString=function(e,t,n){return t+" "+e+"px "+n},E=i.longestText=function(e,t,n){e.font=t;var r=0;return a(n,function(t){var n=e.measureText(t).width;r=n>r?n:r}),r},L=i.drawRoundedRectangle=function(e,t,n,r,i,a){e.beginPath(),e.moveTo(t+a,n),e.lineTo(t+r-a,n),e.quadraticCurveTo(t+r,n,t+r,n+a),e.lineTo(t+r,n+i-a),e.quadraticCurveTo(t+r,n+i,t+r-a,n+i),e.lineTo(t+a,n+i),e.quadraticCurveTo(t,n+i,t,n+i-a),e.lineTo(t,n+a),e.quadraticCurveTo(t,n,t+a,n),e.closePath()};r.instances={},r.Type=function(e,t,n){this.options=t,this.chart=n,this.id=p(),r.instances[this.id]=this,t.responsive&&this.resize(),this.initialize.call(this,e)},s(r.Type.prototype,{initialize:function(){return this},clear:function(){return O(this.chart),this},stop:function(){return _(this.animationFrame),this},resize:function(e){this.stop();var t=this.chart.canvas,n=M(this.chart.canvas),r=this.options.maintainAspectRatio?n/this.chart.aspectRatio:T(this.chart.canvas);return t.width=this.chart.width=n,t.height=this.chart.height=r,F(this.chart),"function"==typeof e&&e.apply(this,Array.prototype.slice.call(arguments,1)),this},reflow:d,render:function(e){return e&&this.reflow(),this.options.animation&&!e?i.animationLoop(this.draw,this.options.animationSteps,this.options.animationEasing,this.options.onAnimationProgress,this.options.onAnimationComplete,this):(this.draw(),this.options.onAnimationComplete.call(this)),this},generateLegend:function(){return w(this.options.legendTemplate,this)},destroy:function(){this.clear(),k(this,this.events);var e=this.chart.canvas;e.width=this.chart.width,e.height=this.chart.height,e.style.removeProperty?(e.style.removeProperty("width"),e.style.removeProperty("height")):(e.style.removeAttribute("width"),e.style.removeAttribute("height")),delete r.instances[this.id]},showTooltip:function(e,t){"undefined"==typeof this.activeElements&&(this.activeElements=[]);var n=function(e){var t=!1;return e.length!==this.activeElements.length?t=!0:(a(e,function(e,n){e!==this.activeElements[n]&&(t=!0)},this),t)}.call(this,e);if(n||t){if(this.activeElements=e,this.draw(),this.options.customTooltips&&this.options.customTooltips(!1),e.length>0)if(this.datasets&&this.datasets.length>1){for(var o,s,l=this.datasets.length-1;l>=0&&(o=this.datasets[l].points||this.datasets[l].bars||this.datasets[l].segments,s=u(o,e[0]),-1===s);l--);var c=[],d=[],p=function(e){var t,n,r,a,o,l=[],u=[],p=[];return i.each(this.datasets,function(e){t=e.points||e.bars||e.segments,t[s]&&t[s].hasValue()&&l.push(t[s])}),i.each(l,function(e){u.push(e.x),p.push(e.y),c.push(i.template(this.options.multiTooltipTemplate,e)),d.push({fill:e._saved.fillColor||e.fillColor,stroke:e._saved.strokeColor||e.strokeColor})},this),o=v(p),r=m(p),a=v(u),n=m(u),{x:a>this.chart.width/2?a:n,y:(o+r)/2}}.call(this,s);new r.MultiTooltip({x:p.x,y:p.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:c,legendColors:d,legendColorBackground:this.options.multiTooltipKeyBackground,title:e[0].label,chart:this.chart,ctx:this.chart.ctx,custom:this.options.customTooltips}).draw()}else a(e,function(e){var t=e.tooltipPosition();new r.Tooltip({x:Math.round(t.x),y:Math.round(t.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,
fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:w(this.options.tooltipTemplate,e),chart:this.chart,custom:this.options.customTooltips}).draw()},this);return this}},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}}),r.Type.extend=function(e){var t=this,n=function(){return t.apply(this,arguments)};if(n.prototype=o(t.prototype),s(n.prototype,e),n.extend=r.Type.extend,e.name||t.prototype.name){var i=e.name||t.prototype.name,a=r.defaults[t.prototype.name]?o(r.defaults[t.prototype.name]):{};r.defaults[i]=s(a,e.defaults),r.types[i]=n,r.prototype[i]=function(e,t){var a=l(r.defaults.global,r.defaults[i],t||{});return new n(e,a,this)}}else h("Name not provided for this chart, so it hasn't been registered");return t},r.Element=function(e){s(this,e),this.initialize.apply(this,arguments),this.save()},s(r.Element.prototype,{initialize:function(){},restore:function(e){return e?a(e,function(e){this[e]=this._saved[e]},this):s(this,this._saved),this},save:function(){return this._saved=o(this),delete this._saved._saved,this},update:function(e){return a(e,function(e,t){this._saved[t]=this[t],this[t]=e},this),this},transition:function(e,t){return a(e,function(e,n){this[n]=(e-this._saved[n])*t+this._saved[n]},this),this},tooltipPosition:function(){return{x:this.x,y:this.y}},hasValue:function(){return g(this.value)}}),r.Element.extend=c,r.Point=r.Element.extend({display:!0,inRange:function(e,t){var n=this.hitDetectionRadius+this.radius;return Math.pow(e-this.x,2)+Math.pow(t-this.y,2)<Math.pow(n,2)},draw:function(){if(this.display){var e=this.ctx;e.beginPath(),e.arc(this.x,this.y,this.radius,0,2*Math.PI),e.closePath(),e.strokeStyle=this.strokeColor,e.lineWidth=this.strokeWidth,e.fillStyle=this.fillColor,e.fill(),e.stroke()}}}),r.Arc=r.Element.extend({inRange:function(e,t){var n=i.getAngleFromPoint(this,{x:e,y:t}),r=n.angle>=this.startAngle&&n.angle<=this.endAngle,a=n.distance>=this.innerRadius&&n.distance<=this.outerRadius;return r&&a},tooltipPosition:function(){var e=this.startAngle+(this.endAngle-this.startAngle)/2,t=(this.outerRadius-this.innerRadius)/2+this.innerRadius;return{x:this.x+Math.cos(e)*t,y:this.y+Math.sin(e)*t}},draw:function(e){var t=this.ctx;t.beginPath(),t.arc(this.x,this.y,this.outerRadius,this.startAngle,this.endAngle),t.arc(this.x,this.y,this.innerRadius,this.endAngle,this.startAngle,!0),t.closePath(),t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.fillStyle=this.fillColor,t.fill(),t.lineJoin="bevel",this.showStroke&&t.stroke()}}),r.Rectangle=r.Element.extend({draw:function(){var e=this.ctx,t=this.width/2,n=this.x-t,r=this.x+t,i=this.base-(this.base-this.y),a=this.strokeWidth/2;this.showStroke&&(n+=a,r-=a,i+=a),e.beginPath(),e.fillStyle=this.fillColor,e.strokeStyle=this.strokeColor,e.lineWidth=this.strokeWidth,e.moveTo(n,this.base),e.lineTo(n,i),e.lineTo(r,i),e.lineTo(r,this.base),e.fill(),this.showStroke&&e.stroke()},height:function(){return this.base-this.y},inRange:function(e,t){return e>=this.x-this.width/2&&e<=this.x+this.width/2&&t>=this.y&&t<=this.base}}),r.Tooltip=r.Element.extend({draw:function(){var e=this.chart.ctx;e.font=P(this.fontSize,this.fontStyle,this.fontFamily),this.xAlign="center",this.yAlign="above";var t=this.caretPadding=2,n=e.measureText(this.text).width+2*this.xPadding,r=this.fontSize+2*this.yPadding,i=r+this.caretHeight+t;this.x+n/2>this.chart.width?this.xAlign="left":this.x-n/2<0&&(this.xAlign="right"),this.y-i<0&&(this.yAlign="below");var a=this.x-n/2,o=this.y-i;if(e.fillStyle=this.fillColor,this.custom)this.custom(this);else{switch(this.yAlign){case"above":e.beginPath(),e.moveTo(this.x,this.y-t),e.lineTo(this.x+this.caretHeight,this.y-(t+this.caretHeight)),e.lineTo(this.x-this.caretHeight,this.y-(t+this.caretHeight)),e.closePath(),e.fill();break;case"below":o=this.y+t+this.caretHeight,e.beginPath(),e.moveTo(this.x,this.y+t),e.lineTo(this.x+this.caretHeight,this.y+t+this.caretHeight),e.lineTo(this.x-this.caretHeight,this.y+t+this.caretHeight),e.closePath(),e.fill()}switch(this.xAlign){case"left":a=this.x-n+(this.cornerRadius+this.caretHeight);break;case"right":a=this.x-(this.cornerRadius+this.caretHeight)}L(e,a,o,n,r,this.cornerRadius),e.fill(),e.fillStyle=this.textColor,e.textAlign="center",e.textBaseline="middle",e.fillText(this.text,a+n/2,o+r/2)}}}),r.MultiTooltip=r.Element.extend({initialize:function(){this.font=P(this.fontSize,this.fontStyle,this.fontFamily),this.titleFont=P(this.titleFontSize,this.titleFontStyle,this.titleFontFamily),this.height=this.labels.length*this.fontSize+(this.labels.length-1)*(this.fontSize/2)+2*this.yPadding+1.5*this.titleFontSize,this.ctx.font=this.titleFont;var e=this.ctx.measureText(this.title).width,t=E(this.ctx,this.font,this.labels)+this.fontSize+3,n=m([t,e]);this.width=n+2*this.xPadding;var r=this.height/2;this.y-r<0?this.y=r:this.y+r>this.chart.height&&(this.y=this.chart.height-r),this.x>this.chart.width/2?this.x-=this.xOffset+this.width:this.x+=this.xOffset},getLineHeight:function(e){var t=this.y-this.height/2+this.yPadding,n=e-1;return 0===e?t+this.titleFontSize/2:t+(1.5*this.fontSize*n+this.fontSize/2)+1.5*this.titleFontSize},draw:function(){if(this.custom)this.custom(this);else{L(this.ctx,this.x,this.y-this.height/2,this.width,this.height,this.cornerRadius);var e=this.ctx;e.fillStyle=this.fillColor,e.fill(),e.closePath(),e.textAlign="left",e.textBaseline="middle",e.fillStyle=this.titleTextColor,e.font=this.titleFont,e.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0)),e.font=this.font,i.each(this.labels,function(t,n){e.fillStyle=this.textColor,e.fillText(t,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(n+1)),e.fillStyle=this.legendColorBackground,e.fillRect(this.x+this.xPadding,this.getLineHeight(n+1)-this.fontSize/2,this.fontSize,this.fontSize),e.fillStyle=this.legendColors[n].fill,e.fillRect(this.x+this.xPadding,this.getLineHeight(n+1)-this.fontSize/2,this.fontSize,this.fontSize)},this)}}}),r.Scale=r.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];for(var e=y(this.stepValue),t=0;t<=this.steps;t++)this.yLabels.push(w(this.templateString,{value:(this.min+t*this.stepValue).toFixed(e)}));this.yLabelWidth=this.display&&this.showLabels?E(this.ctx,this.font,this.yLabels):0},addXLabel:function(e){this.xLabels.push(e),this.valuesCount++,this.fit()},removeXLabel:function(){this.xLabels.shift(),this.valuesCount--,this.fit()},fit:function(){this.startPoint=this.display?this.fontSize:0,this.endPoint=this.display?this.height-1.5*this.fontSize-5:this.height,this.startPoint+=this.padding,this.endPoint-=this.padding;var e,t=this.endPoint-this.startPoint;for(this.calculateYRange(t),this.buildYLabels(),this.calculateXLabelRotation();t>this.endPoint-this.startPoint;)t=this.endPoint-this.startPoint,e=this.yLabelWidth,this.calculateYRange(t),this.buildYLabels(),e<this.yLabelWidth&&this.calculateXLabelRotation()},calculateXLabelRotation:function(){this.ctx.font=this.font;var e,t,n=this.ctx.measureText(this.xLabels[0]).width,r=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width;if(this.xScalePaddingRight=r/2+3,this.xScalePaddingLeft=n/2>this.yLabelWidth+10?n/2:this.yLabelWidth+10,this.xLabelRotation=0,this.display){var i,a=E(this.ctx,this.font,this.xLabels);this.xLabelWidth=a;for(var o=Math.floor(this.calculateX(1)-this.calculateX(0))-6;this.xLabelWidth>o&&0===this.xLabelRotation||this.xLabelWidth>o&&this.xLabelRotation<=90&&this.xLabelRotation>0;)i=Math.cos(b(this.xLabelRotation)),e=i*n,t=i*r,e+this.fontSize/2>this.yLabelWidth+8&&(this.xScalePaddingLeft=e+this.fontSize/2),this.xScalePaddingRight=this.fontSize/2,this.xLabelRotation++,this.xLabelWidth=i*a;this.xLabelRotation>0&&(this.endPoint-=Math.sin(b(this.xLabelRotation))*a+3)}else this.xLabelWidth=0,this.xScalePaddingRight=this.padding,this.xScalePaddingLeft=this.padding},calculateYRange:d,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(e){var t=this.drawingArea()/(this.min-this.max);return this.endPoint-t*(e-this.min)},calculateX:function(e){var t=(this.xLabelRotation>0,this.width-(this.xScalePaddingLeft+this.xScalePaddingRight)),n=t/Math.max(this.valuesCount-(this.offsetGridLines?0:1),1),r=n*e+this.xScalePaddingLeft;return this.offsetGridLines&&(r+=n/2),Math.round(r)},update:function(e){i.extend(this,e),this.fit()},draw:function(){var e=this.ctx,t=(this.endPoint-this.startPoint)/this.steps,n=Math.round(this.xScalePaddingLeft);this.display&&(e.fillStyle=this.textColor,e.font=this.font,a(this.yLabels,function(r,a){var o=this.endPoint-t*a,s=Math.round(o),l=this.showHorizontalLines;e.textAlign="right",e.textBaseline="middle",this.showLabels&&e.fillText(r,n-10,o),0!==a||l||(l=!0),l&&e.beginPath(),a>0?(e.lineWidth=this.gridLineWidth,e.strokeStyle=this.gridLineColor):(e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor),s+=i.aliasPixel(e.lineWidth),l&&(e.moveTo(n,s),e.lineTo(this.width,s),e.stroke(),e.closePath()),e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor,e.beginPath(),e.moveTo(n-5,s),e.lineTo(n,s),e.stroke(),e.closePath()},this),a(this.xLabels,function(t,n){var r=this.calculateX(n)+S(this.lineWidth),i=this.calculateX(n-(this.offsetGridLines?.5:0))+S(this.lineWidth),a=this.xLabelRotation>0,o=this.showVerticalLines;0!==n||o||(o=!0),o&&e.beginPath(),n>0?(e.lineWidth=this.gridLineWidth,e.strokeStyle=this.gridLineColor):(e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor),o&&(e.moveTo(i,this.endPoint),e.lineTo(i,this.startPoint-3),e.stroke(),e.closePath()),e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor,e.beginPath(),e.moveTo(i,this.endPoint),e.lineTo(i,this.endPoint+5),e.stroke(),e.closePath(),e.save(),e.translate(r,a?this.endPoint+12:this.endPoint+8),e.rotate(-1*b(this.xLabelRotation)),e.font=this.font,e.textAlign=a?"right":"center",e.textBaseline=a?"middle":"top",e.fillText(t,0,0),e.restore()},this))}}),r.RadialScale=r.Element.extend({initialize:function(){this.size=v([this.height,this.width]),this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2},calculateCenterOffset:function(e){var t=this.drawingArea/(this.max-this.min);return(e-this.min)*t},update:function(){this.lineArc?this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2:this.setScaleSize(),this.buildYLabels()},buildYLabels:function(){this.yLabels=[];for(var e=y(this.stepValue),t=0;t<=this.steps;t++)this.yLabels.push(w(this.templateString,{value:(this.min+t*this.stepValue).toFixed(e)}))},getCircumference:function(){return 2*Math.PI/this.valuesCount},setScaleSize:function(){var e,t,n,r,i,a,o,s,l,u,c,d,p=v([this.height/2-this.pointLabelFontSize-5,this.width/2]),h=this.width,f=0;for(this.ctx.font=P(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),t=0;t<this.valuesCount;t++)e=this.getPointPosition(t,p),n=this.ctx.measureText(w(this.templateString,{value:this.labels[t]})).width+5,0===t||t===this.valuesCount/2?(r=n/2,e.x+r>h&&(h=e.x+r,i=t),e.x-r<f&&(f=e.x-r,o=t)):t<this.valuesCount/2?e.x+n>h&&(h=e.x+n,i=t):t>this.valuesCount/2&&e.x-n<f&&(f=e.x-n,o=t);l=f,u=Math.ceil(h-this.width),a=this.getIndexAngle(i),s=this.getIndexAngle(o),c=u/Math.sin(a+Math.PI/2),d=l/Math.sin(s+Math.PI/2),c=g(c)?c:0,d=g(d)?d:0,this.drawingArea=p-(d+c)/2,this.setCenterPoint(d,c)},setCenterPoint:function(e,t){var n=this.width-t-this.drawingArea,r=e+this.drawingArea;this.xCenter=(r+n)/2,this.yCenter=this.height/2},getIndexAngle:function(e){var t=2*Math.PI/this.valuesCount;return e*t-Math.PI/2},getPointPosition:function(e,t){var n=this.getIndexAngle(e);return{x:Math.cos(n)*t+this.xCenter,y:Math.sin(n)*t+this.yCenter}},draw:function(){if(this.display){var e=this.ctx;if(a(this.yLabels,function(t,n){if(n>0){var r,i=n*(this.drawingArea/this.steps),a=this.yCenter-i;if(this.lineWidth>0)if(e.strokeStyle=this.lineColor,e.lineWidth=this.lineWidth,this.lineArc)e.beginPath(),e.arc(this.xCenter,this.yCenter,i,0,2*Math.PI),e.closePath(),e.stroke();else{e.beginPath();for(var o=0;o<this.valuesCount;o++)r=this.getPointPosition(o,this.calculateCenterOffset(this.min+n*this.stepValue)),0===o?e.moveTo(r.x,r.y):e.lineTo(r.x,r.y);e.closePath(),e.stroke()}if(this.showLabels){if(e.font=P(this.fontSize,this.fontStyle,this.fontFamily),this.showLabelBackdrop){var s=e.measureText(t).width;e.fillStyle=this.backdropColor,e.fillRect(this.xCenter-s/2-this.backdropPaddingX,a-this.fontSize/2-this.backdropPaddingY,s+2*this.backdropPaddingX,this.fontSize+2*this.backdropPaddingY)}e.textAlign="center",e.textBaseline="middle",e.fillStyle=this.fontColor,e.fillText(t,this.xCenter,a)}}},this),!this.lineArc){e.lineWidth=this.angleLineWidth,e.strokeStyle=this.angleLineColor;for(var t=this.valuesCount-1;t>=0;t--){if(this.angleLineWidth>0){var n=this.getPointPosition(t,this.calculateCenterOffset(this.max));e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(n.x,n.y),e.stroke(),e.closePath()}var r=this.getPointPosition(t,this.calculateCenterOffset(this.max)+5);e.font=P(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),e.fillStyle=this.pointLabelFontColor;var i=this.labels.length,o=this.labels.length/2,s=o/2,l=s>t||t>i-s,u=t===s||t===i-s;0===t?e.textAlign="center":t===o?e.textAlign="center":o>t?e.textAlign="left":e.textAlign="right",u?e.textBaseline="middle":l?e.textBaseline="bottom":e.textBaseline="top",e.fillText(this.labels[t],r.x,r.y)}}}}}),i.addEvent(window,"resize",function(){var e;return function(){clearTimeout(e),e=setTimeout(function(){a(r.instances,function(e){e.options.responsive&&e.resize(e.render,!0)})},50)}}()),f?n("chartjs",[],function(){return r}):"object"==typeof module&&module.exports&&(module.exports=r),e.Chart=r,r.noConflict=function(){return e.Chart=t,r}}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers,r={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};t.Type.extend({name:"Bar",defaults:r,initialize:function(e){var r=this.options;this.ScaleClass=t.Scale.extend({offsetGridLines:!0,calculateBarX:function(e,t,n){var i=this.calculateBaseWidth(),a=this.calculateX(n)-i/2,o=this.calculateBarWidth(e);return a+o*t+t*r.barDatasetSpacing+o/2},calculateBaseWidth:function(){return this.calculateX(1)-this.calculateX(0)-2*r.barValueSpacing},calculateBarWidth:function(e){var t=this.calculateBaseWidth()-(e-1)*r.barDatasetSpacing;return t/e}}),this.datasets=[],this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getBarsAtEvent(e):[];this.eachBars(function(e){e.restore(["fillColor","strokeColor"])}),n.each(t,function(e){e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke}),this.showTooltip(t)}),this.BarClass=t.Rectangle.extend({strokeWidth:this.options.barStrokeWidth,showStroke:this.options.barShowStroke,ctx:this.chart.ctx}),n.each(e.datasets,function(t,r){var i={label:t.label||null,fillColor:t.fillColor,strokeColor:t.strokeColor,bars:[]};this.datasets.push(i),n.each(t.data,function(n,r){i.bars.push(new this.BarClass({value:n,label:e.labels[r],datasetLabel:t.label,strokeColor:t.strokeColor,fillColor:t.fillColor,highlightFill:t.highlightFill||t.fillColor,highlightStroke:t.highlightStroke||t.strokeColor}))},this)},this),this.buildScale(e.labels),this.BarClass.prototype.base=this.scale.endPoint,this.eachBars(function(e,t,r){n.extend(e,{width:this.scale.calculateBarWidth(this.datasets.length),x:this.scale.calculateBarX(this.datasets.length,r,t),y:this.scale.endPoint}),e.save()},this),this.render()},update:function(){this.scale.update(),n.each(this.activeElements,function(e){e.restore(["fillColor","strokeColor"])}),this.eachBars(function(e){e.save()}),this.render()},eachBars:function(e){n.each(this.datasets,function(t,r){n.each(t.bars,e,this,r)},this)},getBarsAtEvent:function(e){for(var t,r=[],i=n.getRelativePosition(e),a=function(e){r.push(e.bars[t])},o=0;o<this.datasets.length;o++)for(t=0;t<this.datasets[o].bars.length;t++)if(this.datasets[o].bars[t].inRange(i.x,i.y))return n.each(this.datasets,a),r;return r},buildScale:function(e){var t=this,r=function(){var e=[];return t.eachBars(function(t){e.push(t.value)}),e},i={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:e.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(e){var t=n.calculateScaleRange(r(),e,this.fontSize,this.beginAtZero,this.integersOnly);n.extend(this,t)},xLabels:e,font:n.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.barShowStroke?this.options.barStrokeWidth:0,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&n.extend(i,{calculateYRange:n.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new this.ScaleClass(i)},addData:function(e,t){n.each(e,function(e,n){this.datasets[n].bars.push(new this.BarClass({value:e,label:t,x:this.scale.calculateBarX(this.datasets.length,n,this.scale.valuesCount+1),y:this.scale.endPoint,width:this.scale.calculateBarWidth(this.datasets.length),base:this.scale.endPoint,strokeColor:this.datasets[n].strokeColor,fillColor:this.datasets[n].fillColor}))},this),this.scale.addXLabel(t),this.update()},removeData:function(){this.scale.removeXLabel(),n.each(this.datasets,function(e){e.bars.shift()},this),this.update()},reflow:function(){n.extend(this.BarClass.prototype,{y:this.scale.endPoint,base:this.scale.endPoint});var e=n.extend({height:this.chart.height,width:this.chart.width});this.scale.update(e)},draw:function(e){var t=e||1;this.clear();this.chart.ctx;this.scale.draw(t),n.each(this.datasets,function(e,r){n.each(e.bars,function(e,n){e.hasValue()&&(e.base=this.scale.endPoint,e.transition({x:this.scale.calculateBarX(this.datasets.length,r,n),y:this.scale.calculateY(e.value),width:this.scale.calculateBarWidth(this.datasets.length)},t).draw())},this)},this)}})}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers,r={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};t.Type.extend({name:"Doughnut",defaults:r,initialize:function(e){this.segments=[],this.outerRadius=(n.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,this.SegmentArc=t.Arc.extend({ctx:this.chart.ctx,x:this.chart.width/2,y:this.chart.height/2}),this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getSegmentsAtEvent(e):[];n.each(this.segments,function(e){e.restore(["fillColor"])}),n.each(t,function(e){e.fillColor=e.highlightColor}),this.showTooltip(t)}),this.calculateTotal(e),n.each(e,function(e,t){this.addData(e,t,!0)},this),this.render()},getSegmentsAtEvent:function(e){var t=[],r=n.getRelativePosition(e);return n.each(this.segments,function(e){e.inRange(r.x,r.y)&&t.push(e)},this),t},addData:function(e,t,n){var r=t||this.segments.length;this.segments.splice(r,0,new this.SegmentArc({value:e.value,outerRadius:this.options.animateScale?0:this.outerRadius,innerRadius:this.options.animateScale?0:this.outerRadius/100*this.options.percentageInnerCutout,fillColor:e.color,highlightColor:e.highlight||e.color,showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,startAngle:1.5*Math.PI,circumference:this.options.animateRotate?0:this.calculateCircumference(e.value),label:e.label})),n||(this.reflow(),this.update())},calculateCircumference:function(e){return 2*Math.PI*(Math.abs(e)/this.total)},calculateTotal:function(e){this.total=0,n.each(e,function(e){this.total+=Math.abs(e.value)},this)},update:function(){this.calculateTotal(this.segments),n.each(this.activeElements,function(e){e.restore(["fillColor"])}),n.each(this.segments,function(e){e.save()}),this.render()},removeData:function(e){var t=n.isNumber(e)?e:this.segments.length-1;this.segments.splice(t,1),this.reflow(),this.update()},reflow:function(){n.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.outerRadius=(n.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,n.each(this.segments,function(e){e.update({outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout})},this)},draw:function(e){var t=e?e:1;this.clear(),n.each(this.segments,function(e,n){e.transition({circumference:this.calculateCircumference(e.value),outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout},t),e.endAngle=e.startAngle+e.circumference,e.draw(),0===n&&(e.startAngle=1.5*Math.PI),n<this.segments.length-1&&(this.segments[n+1].startAngle=e.endAngle)},this)}}),t.types.Doughnut.extend({name:"Pie",defaults:n.merge(r,{percentageInnerCutout:0})})}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers,r={scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,bezierCurve:!0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};t.Type.extend({name:"Line",defaults:r,initialize:function(e){this.PointClass=t.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx,inRange:function(e){return Math.pow(e-this.x,2)<Math.pow(this.radius+this.hitDetectionRadius,2)}}),this.datasets=[],this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getPointsAtEvent(e):[];this.eachPoints(function(e){e.restore(["fillColor","strokeColor"])}),n.each(t,function(e){e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke}),this.showTooltip(t)}),n.each(e.datasets,function(t){var r={label:t.label||null,fillColor:t.fillColor,strokeColor:t.strokeColor,pointColor:t.pointColor,pointStrokeColor:t.pointStrokeColor,points:[]};this.datasets.push(r),n.each(t.data,function(n,i){r.points.push(new this.PointClass({value:n,label:e.labels[i],datasetLabel:t.label,strokeColor:t.pointStrokeColor,fillColor:t.pointColor,highlightFill:t.pointHighlightFill||t.pointColor,highlightStroke:t.pointHighlightStroke||t.pointStrokeColor}))},this),this.buildScale(e.labels),this.eachPoints(function(e,t){n.extend(e,{x:this.scale.calculateX(t),y:this.scale.endPoint}),e.save()},this)},this),this.render()},update:function(){this.scale.update(),n.each(this.activeElements,function(e){e.restore(["fillColor","strokeColor"])}),this.eachPoints(function(e){e.save()}),this.render()},eachPoints:function(e){n.each(this.datasets,function(t){n.each(t.points,e,this)},this)},getPointsAtEvent:function(e){var t=[],r=n.getRelativePosition(e);return n.each(this.datasets,function(e){n.each(e.points,function(e){e.inRange(r.x,r.y)&&t.push(e)})},this),t},buildScale:function(e){var r=this,i=function(){var e=[];return r.eachPoints(function(t){e.push(t.value)}),e},a={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:e.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(e){var t=n.calculateScaleRange(i(),e,this.fontSize,this.beginAtZero,this.integersOnly);n.extend(this,t)},xLabels:e,font:n.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.pointDotRadius+this.options.pointDotStrokeWidth,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&n.extend(a,{calculateYRange:n.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new t.Scale(a)},addData:function(e,t){n.each(e,function(e,n){this.datasets[n].points.push(new this.PointClass({value:e,label:t,x:this.scale.calculateX(this.scale.valuesCount+1),y:this.scale.endPoint,strokeColor:this.datasets[n].pointStrokeColor,fillColor:this.datasets[n].pointColor}))},this),this.scale.addXLabel(t),this.update()},removeData:function(){this.scale.removeXLabel(),n.each(this.datasets,function(e){e.points.shift()},this),this.update()},reflow:function(){var e=n.extend({height:this.chart.height,width:this.chart.width});this.scale.update(e)},draw:function(e){var t=e||1;this.clear();var r=this.chart.ctx,i=function(e){return null!==e.value},a=function(e,t,r){return n.findNextWhere(t,i,r)||e},o=function(e,t,r){return n.findPreviousWhere(t,i,r)||e};this.scale.draw(t),n.each(this.datasets,function(e){var s=n.where(e.points,i);n.each(e.points,function(e,n){e.hasValue()&&e.transition({y:this.scale.calculateY(e.value),x:this.scale.calculateX(n)},t)},this),this.options.bezierCurve&&n.each(s,function(e,t){var r=t>0&&t<s.length-1?this.options.bezierCurveTension:0;e.controlPoints=n.splineCurve(o(e,s,t),e,a(e,s,t),r),e.controlPoints.outer.y>this.scale.endPoint?e.controlPoints.outer.y=this.scale.endPoint:e.controlPoints.outer.y<this.scale.startPoint&&(e.controlPoints.outer.y=this.scale.startPoint),e.controlPoints.inner.y>this.scale.endPoint?e.controlPoints.inner.y=this.scale.endPoint:e.controlPoints.inner.y<this.scale.startPoint&&(e.controlPoints.inner.y=this.scale.startPoint)},this),r.lineWidth=this.options.datasetStrokeWidth,r.strokeStyle=e.strokeColor,r.beginPath(),n.each(s,function(e,t){if(0===t)r.moveTo(e.x,e.y);else if(this.options.bezierCurve){var n=o(e,s,t);r.bezierCurveTo(n.controlPoints.outer.x,n.controlPoints.outer.y,e.controlPoints.inner.x,e.controlPoints.inner.y,e.x,e.y)}else r.lineTo(e.x,e.y)},this),r.stroke(),this.options.datasetFill&&s.length>0&&(r.lineTo(s[s.length-1].x,this.scale.endPoint),r.lineTo(s[0].x,this.scale.endPoint),r.fillStyle=e.fillColor,r.closePath(),r.fill()),n.each(s,function(e){e.draw()})},this)}})}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers,r={scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBeginAtZero:!0,scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,scaleShowLine:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};t.Type.extend({name:"PolarArea",defaults:r,initialize:function(e){this.segments=[],this.SegmentArc=t.Arc.extend({showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,ctx:this.chart.ctx,innerRadius:0,x:this.chart.width/2,y:this.chart.height/2}),this.scale=new t.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,lineArc:!0,width:this.chart.width,height:this.chart.height,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,valuesCount:e.length}),this.updateScaleRange(e),this.scale.update(),n.each(e,function(e,t){this.addData(e,t,!0)},this),this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getSegmentsAtEvent(e):[];n.each(this.segments,function(e){e.restore(["fillColor"])}),n.each(t,function(e){e.fillColor=e.highlightColor}),this.showTooltip(t)}),this.render()},getSegmentsAtEvent:function(e){var t=[],r=n.getRelativePosition(e);return n.each(this.segments,function(e){e.inRange(r.x,r.y)&&t.push(e)},this),t},addData:function(e,t,n){var r=t||this.segments.length;this.segments.splice(r,0,new this.SegmentArc({fillColor:e.color,highlightColor:e.highlight||e.color,label:e.label,value:e.value,outerRadius:this.options.animateScale?0:this.scale.calculateCenterOffset(e.value),circumference:this.options.animateRotate?0:this.scale.getCircumference(),startAngle:1.5*Math.PI})),n||(this.reflow(),this.update())},removeData:function(e){var t=n.isNumber(e)?e:this.segments.length-1;this.segments.splice(t,1),this.reflow(),this.update()},calculateTotal:function(e){this.total=0,n.each(e,function(e){this.total+=e.value},this),this.scale.valuesCount=this.segments.length},updateScaleRange:function(e){var t=[];n.each(e,function(e){t.push(e.value)});var r=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:n.calculateScaleRange(t,n.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);n.extend(this.scale,r,{size:n.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2})},update:function(){this.calculateTotal(this.segments),n.each(this.segments,function(e){
e.save()}),this.reflow(),this.render()},reflow:function(){n.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.updateScaleRange(this.segments),this.scale.update(),n.extend(this.scale,{xCenter:this.chart.width/2,yCenter:this.chart.height/2}),n.each(this.segments,function(e){e.update({outerRadius:this.scale.calculateCenterOffset(e.value)})},this)},draw:function(e){var t=e||1;this.clear(),n.each(this.segments,function(e,n){e.transition({circumference:this.scale.getCircumference(),outerRadius:this.scale.calculateCenterOffset(e.value)},t),e.endAngle=e.startAngle+e.circumference,0===n&&(e.startAngle=1.5*Math.PI),n<this.segments.length-1&&(this.segments[n+1].startAngle=e.endAngle),e.draw()},this),this.scale.draw()}})}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers;t.Type.extend({name:"Radar",defaults:{scaleShowLine:!0,angleShowLineOut:!0,scaleShowLabels:!1,scaleBeginAtZero:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:10,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'},initialize:function(e){this.PointClass=t.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx}),this.datasets=[],this.buildScale(e),this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getPointsAtEvent(e):[];this.eachPoints(function(e){e.restore(["fillColor","strokeColor"])}),n.each(t,function(e){e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke}),this.showTooltip(t)}),n.each(e.datasets,function(t){var r={label:t.label||null,fillColor:t.fillColor,strokeColor:t.strokeColor,pointColor:t.pointColor,pointStrokeColor:t.pointStrokeColor,points:[]};this.datasets.push(r),n.each(t.data,function(n,i){var a;this.scale.animation||(a=this.scale.getPointPosition(i,this.scale.calculateCenterOffset(n))),r.points.push(new this.PointClass({value:n,label:e.labels[i],datasetLabel:t.label,x:this.options.animation?this.scale.xCenter:a.x,y:this.options.animation?this.scale.yCenter:a.y,strokeColor:t.pointStrokeColor,fillColor:t.pointColor,highlightFill:t.pointHighlightFill||t.pointColor,highlightStroke:t.pointHighlightStroke||t.pointStrokeColor}))},this)},this),this.render()},eachPoints:function(e){n.each(this.datasets,function(t){n.each(t.points,e,this)},this)},getPointsAtEvent:function(e){var t=n.getRelativePosition(e),r=n.getAngleFromPoint({x:this.scale.xCenter,y:this.scale.yCenter},t),i=2*Math.PI/this.scale.valuesCount,a=Math.round((r.angle-1.5*Math.PI)/i),o=[];return(a>=this.scale.valuesCount||0>a)&&(a=0),r.distance<=this.scale.drawingArea&&n.each(this.datasets,function(e){o.push(e.points[a])}),o},buildScale:function(e){this.scale=new t.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,angleLineColor:this.options.angleLineColor,angleLineWidth:this.options.angleShowLineOut?this.options.angleLineWidth:0,pointLabelFontColor:this.options.pointLabelFontColor,pointLabelFontSize:this.options.pointLabelFontSize,pointLabelFontFamily:this.options.pointLabelFontFamily,pointLabelFontStyle:this.options.pointLabelFontStyle,height:this.chart.height,width:this.chart.width,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,labels:e.labels,valuesCount:e.datasets[0].data.length}),this.scale.setScaleSize(),this.updateScaleRange(e.datasets),this.scale.buildYLabels()},updateScaleRange:function(e){var t=function(){var t=[];return n.each(e,function(e){e.data?t=t.concat(e.data):n.each(e.points,function(e){t.push(e.value)})}),t}(),r=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:n.calculateScaleRange(t,n.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);n.extend(this.scale,r)},addData:function(e,t){this.scale.valuesCount++,n.each(e,function(e,n){var r=this.scale.getPointPosition(this.scale.valuesCount,this.scale.calculateCenterOffset(e));this.datasets[n].points.push(new this.PointClass({value:e,label:t,x:r.x,y:r.y,strokeColor:this.datasets[n].pointStrokeColor,fillColor:this.datasets[n].pointColor}))},this),this.scale.labels.push(t),this.reflow(),this.update()},removeData:function(){this.scale.valuesCount--,this.scale.labels.shift(),n.each(this.datasets,function(e){e.points.shift()},this),this.reflow(),this.update()},update:function(){this.eachPoints(function(e){e.save()}),this.reflow(),this.render()},reflow:function(){n.extend(this.scale,{width:this.chart.width,height:this.chart.height,size:n.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2}),this.updateScaleRange(this.datasets),this.scale.setScaleSize(),this.scale.buildYLabels()},draw:function(e){var t=e||1,r=this.chart.ctx;this.clear(),this.scale.draw(),n.each(this.datasets,function(e){n.each(e.points,function(e,n){e.hasValue()&&e.transition(this.scale.getPointPosition(n,this.scale.calculateCenterOffset(e.value)),t)},this),r.lineWidth=this.options.datasetStrokeWidth,r.strokeStyle=e.strokeColor,r.beginPath(),n.each(e.points,function(e,t){0===t?r.moveTo(e.x,e.y):r.lineTo(e.x,e.y)},this),r.closePath(),r.stroke(),r.fillStyle=e.fillColor,r.fill(),n.each(e.points,function(e){e.hasValue()&&e.draw()})},this)}})}.call(this),n("util/chartjs-noConflict",["lodash","chartjs"],function(e,t){"use strict";var n={responsive:!0},r=t.noConflict();return e.extend(r.defaults.global,n),r}),n("widgets/GlobalChartsConfiguration",["widgets/SDSWidgets","chartjs","lodash"],function(e,t,n){"use strict";return angular.module("sdsWidgets").constant("globalChartStyleConfiguration",{fillColor:"#337ab7"}).constant("globalBarChartConfiguration",{scaleShowVerticalLines:!1,barValueSpacing:2,tooltipFillColor:"rgba(255,255,255,0.8)",tooltipFontColor:"rgba(0,0,0 ,0.8)",responsive:!0}).factory("ChartsFactory",["globalBarChartConfiguration",function(e){function r(r,i,a,o){var s=angular.element(r).find("canvas")[0],l=s.getContext("2d");o&&n.each(o,function(e,t){s.style[t]=e});var u=n.extend(e,a);return new t(l).Bar(i,u)}return{createBarChart:r}}]).constant("labelsDateFormat","dd. D MMM").constant("labelsDateRangeFormat","D MMM").factory("DateToStringRedefineFactory",["labelsDateFormat",function(e){return{patchToStringMethod:function(t){var n=t.clone();return n.toString=function(){return this.format(e)},n}}}]).factory("DateRangeToStringRedefineFactory",["labelsDateRangeFormat",function(e){return{patchToStringMethod:function(t){var n=t.clone();return n.toString=function(){return this.start.format(e)+" - "+this.end.format(e)},n}}}])}),n("widgets/leadPriceChart/LeadPriceChartWidget",["moment","moment_range","lodash","angular","widgets/SDSWidgets","widgets/BaseController","widgets/GlobalChartsConfiguration","datamodel/ShoppingData","webservices/common/searchStrategyFactories/DaysRangeSearchStrategyFactory","widgets/WidgetGlobalCallbacks"],function(e,t,n,r,i,a,o,s,l,u){"use strict";function c(t,r,i,o,l,u,c,h,f){function g(e){return e.clone().add(_,"weeks").subtract(1,"day")}function m(){p={labels:[],datasets:[{fillColor:c.fillColor,data:[]}]};var t=A.clone(),n=g(t);M=e.range(t,n)}function v(){T.navigationState.prevLinkActive=M.start.isAfter(A),T.navigationState.nextLinkActive=M.end.isBefore(F)}function y(t){var r=n.map(t,function(t,n){return{date:e(n,s.prototype.DATE_FORMAT_FOR_KEYS),leadPrice:t.price}}),i=n.sortBy(r,"date"),a=b(i);p.labels=n.pluck(a,"date").map(h.patchToStringMethod),p.datasets[0].data=n.pluck(a,"leadPrice"),d.initialize(p),v()}function b(e){var t=[];return M.by("days",function(r){var i=n.find(e,function(e){return e.date.isSame(r)});i=i||{date:r,leadPrice:null},t.push(i)}),t}function S(e){var t=7*e;t=D(t),M.start.add(t,"days"),M.end=g(M.start),w.getLeadPricesForRange(T.lastSearchCriteria,M).then(y)}function D(e){if(e>0){var t=F.diff(M.end,"days");return e>t?t:e}if(0>e){var n=M.start.diff(A,"days");return n<Math.abs(e)?-n:e}}var w=i.createSearchStrategy(t.activeSearchWebService),A=r.now().startOf("day"),C=A.clone(),_=parseInt(t.numberOfWeeksToDisplay)||2,x=g(C),$=e.range(A,x),k={executeSearch:n.partialRight(w.getLeadPricesForRange,$)};a.call(this,{scope:t,searchService:k,newSearchCriteriaEvent:o,searchCriteriaBroadcastingService:l,noResultsFoundBroadcastingService:u});var M,T=this;this.navigationState={},m(),v();var F;return this.processSearchResults=function(e){this.minDateAndPricePair=w.getMinDateAndPricePair(this.lastSearchCriteria),F=w.getMaxAvailableDate(this.lastSearchCriteria),y(e)},this.clearModel=function(){n.remove(p.labels),p.datasets.forEach(function(e){n.remove(e.data)}),d.initialize(p)},this.isAnyDataToDisplayAvailable=function(){var e=n.first(p.datasets).data;return!n.isEmpty(e)},this.chartClicked=function(e){var r=d.getBarsAtEvent(e)[0];if(!n.isUndefined(r)){var i=r.label,a=this.lastSearchCriteria.cloneWithDatesAdjustedToOtherDepartureDate(i);f.newSearchCriteria=a,f.originalDataSourceWebService=w,f.broadcast(),t.barClickedCallback({searchCriteria:a,originalDataSourceWebService:w})}},this.onEarlierRequested=function(){S(-_)},this.onLaterRequested=function(){S(_)},this}var d,p;return c.prototype=Object.create(a.prototype),c.prototype.constructor=c,r.module("sdsWidgets").controller("LeadPriceChartCtrl",["$scope","DateService","DaysRangeSearchStrategyFactory","newSearchCriteriaEvent","SearchCriteriaBroadcastingService","NoResultsFoundBroadcastingService","globalChartStyleConfiguration","DateToStringRedefineFactory","DateSelectedBroadcastingService",c]).directive("leadPriceChart",["ChartsFactory",function(e){return{restrict:"AE",scope:{numberOfWeeksToDisplay:"@",activeSearchWebService:"@",searchCriteria:"=?",barClickedCallback:"&?",searchStartedCallback:"&?",searchSuccessCallback:"&?",searchErrorCallback:"&?"},replace:!1,templateUrl:"../widgets/view-templates/widgets/LeadPriceChartWidget.tpl.html",controller:"LeadPriceChartCtrl",controllerAs:"ctrl",link:function(t,n,r,i){d=e.createBarChart(n,p),t.searchCriteria?i.processSearchCriteria(t.searchCriteria):i.executeLifeSearchOnPredefinedCriteriaIfPresent(r.origin,r.destination,r.departureDate,r.returnDate),u.linkComplete(t,n),t.$on("$destroy",function(){d.destroy()})}}}])}),n("webservices/informational/LowFareHistoryDataService",["angular","moment","lodash","webservices/SabreDevStudioWebServicesModule","webservices/common/validators/TravelInsightEngineSearchCriteriaValidator"],function(e,t,n,r,i){"use strict";var a=new i;return e.module("sabreDevStudioWebServices").factory("LowFareHistoryDataService",["$q","LowFareHistoryWebService","selectedCountryConfigs","ErrorReportingService","ValidationErrorReportingService","businessMessagesErrorHandler",function(e,r,i,o,s,l){function u(e){var t={origin:e.getFirstLeg().origin,destination:e.getFirstLeg().destination,departuredate:e.getTripDepartureDateTime().format("YYYY-MM-DD"),returndate:e.getTripReturnDateTime().format("YYYY-MM-DD")};return i.pointOfSaleCountry.length>0&&n.extend(t,{pointofsalecountry:i.pointOfSaleCountry}),t}function c(e){var n=e.FareInfo.map(function(e){return{lowestFare:e.LowestFare,lowestNonStopFare:e.LowestNonStopFare,dateOfShopping:t(e.ShopDateTime,t.ISO_8601)}});return{origin:e.OriginLocation,destination:e.DestinationLocation,currency:e.FareInfo[0].CurrencyCode,historicalPrices:n}}return{getLowFareHistory:function(t){return e(function(e,n){var i=a.validate(t);if(i.length>0)return s.reportErrors(i,"Unsupported search criteria"),n(i);var d=u(t);r.get(d).$promise.then(function(t){var n=c(t);e(n)},function(e){o.reportError("Could not get low fare history",t),l.handle(n,e)})})}}}])}),n("widgets/informational/LowFareHistoryWidget",["moment","angular","lodash","angular_bootstrap","widgets/SDSWidgets","widgets/BaseController","widgets/GlobalChartsConfiguration","webservices/informational/LowFareHistoryDataService","widgets/WidgetGlobalCallbacks"],function(e,t,n,r,i,a,o,s,l){"use strict";function u(e,t,r,i,o,s){function l(){d={labels:[],datasets:[{fillColor:o.fillColor,data:[]}]}}var u={executeSearch:t.getLowFareHistory};return a.call(this,{scope:e,searchService:u,newSearchCriteriaEvent:r,searchCriteriaBroadcastingService:i}),l(),this.processSearchResults=function(t){e.hideChartLabels?d.labels=t.historicalPrices.map(function(e){return""}):d.labels=n.pluck(t.historicalPrices,"dateOfShopping").map(s.patchToStringMethod).reverse(),d.datasets[0].data=t.historicalPrices.map(function(e){return n.isFinite(e.lowestFare)?e.lowestFare:null}).reverse(),e.historyDaysCount=d.datasets[0].data.length,c.initialize(d)},this.clearModel=function(){n.remove(d.labels),d.datasets.forEach(function(e){n.remove(e.data)}),c.initialize(d)},this.isAnyDataToDisplayAvailable=function(){return d.datasets[0].data.filter(n.isFinite).length>=e.minDaysDataRequired},this}var c,d;return u.prototype=Object.create(a.prototype),u.prototype.constructor=u,t.module("sdsWidgets").controller("LowFareHistoryCtrl",["$scope","LowFareHistoryDataService","newSearchCriteriaEvent","SearchCriteriaBroadcastingService","globalChartStyleConfiguration","DateToStringRedefineFactory",u]).directive("lowFareHistory",["ChartsFactory",function(e){return{restrict:"EA",scope:{hideChartLabels:"@?",hideHeader:"@?",minDaysDataRequired:"@?",searchStartedCallback:"&?",searchSuccessCallback:"&?",searchErrorCallback:"&?"},replace:!1,templateUrl:"../widgets/view-templates/widgets/LowFareHistory.tpl.html",controller:"LowFareHistoryCtrl",controllerAs:"ctrl",link:function(t,n,r,i){t.minDaysDataRequired=t.minDaysDataRequired||1,c=e.createBarChart(n,d),i.executeLifeSearchOnPredefinedCriteriaIfPresent(r.origin,r.destination,r.departureDate,r.returnDate),l.linkComplete(t,n),t.$on("$destroy",function(){c.destroy()})}}}])}),n("widgets/informational/TravelSeasonalityWidget",["moment","moment_range","angular","lodash","angular_bootstrap","widgets/SDSWidgets","widgets/BaseController","widgets/GlobalChartsConfiguration","webservices/informational/TravelSeasonalityDataService","widgets/WidgetGlobalCallbacks"],function(e,t,n,r,i,a,o,s,l,u){"use strict";function c(t,n,i,a,s,l){function u(){p={labels:[],datasets:[{fillColor:s.fillColor,data:[]}]}}var c={executeSearch:n.getSeasonality};return o.call(this,{scope:t,searchService:c,newSearchCriteriaEvent:i,searchCriteriaBroadcastingService:a}),u(),this.processSearchResults=function(t){function n(e){return e.range=l.patchToStringMethod(e.range),e.toString=function(){return this.range.toString()+": "+e.value},e}function i(e){switch(e){case"Low":return 1;case"Medium":return 2;case"High":return 3}}p.labels=t.Seasonality.map(function(t){var n=e(t.WeekStartDate,e.ISO_8601),r=e(t.WeekEndDate,e.ISO_8601);return{range:e.range(n,r),value:t.SeasonalityIndicator}}).map(n),p.datasets[0].data=r.pluck(t.Seasonality,"SeasonalityIndicator").map(i),d.initialize(p)},this.clearModel=function(){r.remove(p.labels),p.datasets.forEach(function(e){r.remove(e.data)}),d.initialize(p)},this.isAnyDataToDisplayAvailable=function(){return!r.isEmpty(p.datasets[0].data)},this}var d,p;return c.prototype=Object.create(o.prototype),c.prototype.constructor=c,n.module("sdsWidgets").controller("TravelSeasonalityCtrl",["$scope","TravelSeasonalityDataService","newInspirationalSearchCriteriaEvent","InspirationalSearchCriteriaBroadcastingService","globalChartStyleConfiguration","DateRangeToStringRedefineFactory",c]).directive("travelSeasonality",["ChartsFactory",function(e){return{scope:{searchStartedCallback:"&?",searchSuccessCallback:"&?",searchErrorCallback:"&?"},templateUrl:"../widgets/view-templates/widgets/TravelSeasonalityWidget.tpl.html",controller:"TravelSeasonalityCtrl",controllerAs:"ctrl",link:function(t,n,i,a){function o(e){if(!r.isUndefined(e)){var t={destination:e,getTripDestination:function(){return e}};a.processSearchCriteria(t)}}var s={tooltipTemplate:"<%if (label){%><%=label%><%}%>",tooltipFontSize:16,scaleShowLabels:!1,maintainAspectRatio:!1,scaleFontSize:0},l={};i.chartHeight&&(l["max-height"]=i.chartHeight),d=e.createBarChart(n,p,s,l),o(i.destination),u.linkComplete(t,n),t.$on("$destroy",function(){d.destroy()})}}}])}),n("widgets/searchForm/SearchFormInspirationalWidget",["moment","angular","lodash","util/LodashExtensions","angular_bootstrap","widgets/SDSWidgets","widgets/WidgetGlobalCallbacks"],function(e,t,n,r,i,a,o){"use strict";return t.module("sdsWidgets").directive("searchFormInspirational",["InspirationalSearchCriteriaBroadcastingService","PointOfSaleCountryLookupDataService",function(e,t){return{replace:!0,scope:{selectableAirportsForThisPosOnly:"@"},templateUrl:"../widgets/view-templates/widgets/SearchFormInspirationalWidget.tpl.html",link:function(i,a){function s(){u=a.attr("hide-fields")&&a.attr("hide-fields").split(",")||[]}function l(){i.pointOfSaleCountries=[],t.getPointOfSaleCountries().then(function(e){r.pushAll(i.pointOfSaleCountries,e)})}var u=[];i.searchContext={pointOfSaleCountry:""},s(),l(),i.createNewSearchCriteria=function(){e.searchCriteria={destination:i.destination.airportCode,pointOfSaleCountry:i.searchContext.pointOfSaleCountry},e.broadcast()},i.isVisible=function(e){return!n.contains(u,e)},o.linkComplete(i,a)}}}])}),n("widgets/searchForm/AirportNameBestSuggestionComparator",["lodash"],function(e){"use strict";function t(e){this.stringCurrentlySearchedFor=e.toUpperCase();var t=this;return function(e,n){var r=t.getOrderByAirportCodeFullMatch(e,n);if(0!==r)return r;var i=t.getOrderByLabelAtStringStart(e,n);return 0!==i?i:0}}return t.prototype.getOrderByAirportCodeFullMatch=function(e,t){return e.airportCode===this.stringCurrentlySearchedFor?1:t.airportCode===this.stringCurrentlySearchedFor?-1:0},t.prototype.getOrderByLabelAtStringStart=function(t,n){return e.startsWith(t.fullName.toUpperCase(),this.stringCurrentlySearchedFor)?1:e.startsWith(n.fullName.toUpperCase(),this.stringCurrentlySearchedFor)?-1:void 0},t}),n("widgets/searchForm/flexibleDepartureReturnDates.drv",["lodash"],function(e){"use strict";return function(){return{require:"ngModel",replace:!0,scope:{required:"@",dateFormat:"@",minDate:"=",onAnyDateChange:"&",ngModel:"=",internalFormName:"@"},templateUrl:"../widgets/view-templates/partials/FlexibleDepartureReturnDates.tpl.html",link:function(t,n,r,i){t.$watch("ngModel.dates",function(n,r){e.isEqual(n,r)||(t.ngModel=e.clone(t.ngModel))},!0),i.$validators.invalidDepartureDate=function(e,t){var n=!0,r=e.dates;return r.isFlexibleDepartureDate?!0:n=r.isFlexibleReturnDate?r.departureDate<=r.flexibleReturnDate.from:r.departureDate<=r.returnDate},i.$validators.invalidReturnDate=function(e,t){var n=!0,r=e.dates;return r.isFlexibleReturnDate?!0:n=r.isFlexibleDepartureDate?r.returnDate>=r.flexibleDepartureDate.from:r.returnDate>=r.departureDate},i.$validators.invalidDepartureDateFrom=function(e,t){var n=!0,r=e.dates;return r.isFlexibleDepartureDate?n=r.isFlexibleReturnDate?r.flexibleDepartureDate.from<=r.flexibleReturnDate.from:r.flexibleDepartureDate.from<=r.returnDate:!0},i.$validators.invalidDepartureDateFromTo=function(e,t){var n=!0,r=e.dates;return r.isFlexibleDepartureDate&&(n=r.flexibleDepartureDate.from<r.flexibleDepartureDate.to),n},i.$validators.invalidDepartureDateToFrom=function(e,t){var n=!0,r=e.dates;return r.isFlexibleDepartureDate&&(n=r.flexibleDepartureDate.to>r.flexibleDepartureDate.from),n},i.$validators.invalidDepartureDateToReturnDateTo=function(e,t){var n=!0,r=e.dates;return r.isFlexibleDepartureDate&&r.isFlexibleReturnDate&&(n=r.flexibleDepartureDate.to<=r.flexibleReturnDate.to),n},i.$validators.invalidReturnDateFrom=function(e,t){var n=!0,r=e.dates;return r.isFlexibleReturnDate?n=r.isFlexibleDepartureDate?r.flexibleReturnDate.from>=r.flexibleDepartureDate.from:r.flexibleReturnDate.from>=r.departureDate:!0},i.$validators.invalidReturnDatesFromTo=function(e,t){var n=!0,r=e.dates;return r.isFlexibleReturnDate&&(n=r.flexibleReturnDate.from<r.flexibleReturnDate.to),n},i.$validators.invalidReturnDatesToFrom=function(e,t){var n=!0,r=e.dates;return r.isFlexibleReturnDate&&(n=r.flexibleReturnDate.to>r.flexibleReturnDate.from),n},i.$validators.invalidReturnDateToDepartureDateTo=function(e,t){var n=!0,r=e.dates;return r.isFlexibleReturnDate&&r.isFlexibleDepartureDate&&(n=r.flexibleReturnDate.to>=r.flexibleDepartureDate.to),n}}}}}),n("widgets/searchForm/SearchFormInputControls",["lodash","util/LodashExtensions","moment","angular","angular_bootstrap","widgets/SDSWidgets","widgets/searchForm/AirportNameBestSuggestionComparator","widgets/searchForm/flexibleDepartureReturnDates.drv"],function(e,t,n,r,i,a,o,s,l){"use strict";function u(e){return{hours:Math.floor(e/d),minutes:e%d}}var c=1440,d=60;return r.module("sdsWidgets").directive("flexibleDepartureReturnDates",s).directive("selectPreferredCabin",function(){return{replace:!0,scope:{cabinSelected:"="},templateUrl:"../widgets/view-templates/partials/PreferredCabinSelect.tpl.html"}}).directive("selectBags",function(){return{replace:!0,scope:{bagsRequested:"="},templateUrl:"../widgets/view-templates/partials/SelectBags.tpl.html",link:function(e){e.bagsSelection=[0,1,2,3],e.bagsRequested=e.bagsSelection[1]}}}).filter("bags",function(){return function(e){switch(e){case 0:return"No bags";case 1:return"1 bag";default:return e+" bags"}}}).directive("selectAirline",["AirlineLookupDataService","$timeout",function(e,t){return{scope:{airline:"="},templateUrl:"../widgets/view-templates/partials/SelectAirline.tpl.html",link:function(t){t.airlineInternal={selected:{}},e.getAirlineAndAirlineCodesList().then(function(e){t.allAirlines=e}),t.$watch("airlineInternal.selected",function(e){t.airline=e.AirlineCode})}}}]).directive("selectMultipleAirlines",["AirlineLookupDataService","$timeout",function(e,t){return{scope:{airlines:"="},templateUrl:"../widgets/view-templates/partials/SelectMultipleAirlines.tpl.html",link:function(t){t.airlinesInternal={selected:[]},e.getAirlineAndAirlineCodesList().then(function(e){t.allAirlines=e}),t.$watchCollection("airlinesInternal.selected",function(e){t.airlines.selected=e.map(function(e){return e.AirlineCode})})}}}]).directive("inputDate",[function(){return{require:"ngModel",replace:!0,scope:{isDisabled:"@",required:"@",dateFormat:"@",minDate:"=",onDateChange:"&",ngModel:"="},templateUrl:"../widgets/view-templates/partials/InputDate.tpl.html",link:function(e){e.dateFormat=e.dateFormat||"dd-MMM-yyyy",e.openDatePicker=function(t){t.preventDefault(),t.stopPropagation(),e.isDatePickerOpened=!0}}}}]).directive("selectMonths",["$locale",function(t){return{replace:!0,scope:{value:"="},transclude:!0,templateUrl:"../widgets/view-templates/partials/SelectMonths.tpl.html",link:function(n){n.allMonths=e.clone(t.DATETIME_FORMATS.MONTH)}}}]).directive("selectDaysOfWeek",["$locale",function(t){return{replace:!0,scope:{daysOfWeek:"="},transclude:!0,templateUrl:"../widgets/view-templates/partials/SelectDaysOfWeek.tpl.html",link:function(n,r){n.daysOfWeekSymbols=e.clone(t.DATETIME_FORMATS.SHORTDAY),n.daysSelected=[!1,!1,!1,!1,!1,!1,!1],n.$watchCollection("daysSelected",function(e,t){e!==t&&(n.daysOfWeek=e)})}}}]).directive("selectLengthsOfStay",[function(){return{replace:!0,scope:{lengthOfStay:"=value"},transclude:!0,templateUrl:"../widgets/view-templates/partials/SelectLengthsOfStay.tpl.html",link:function(t){function n(e){t.lengthOfStay.minDays=e,t.lengthOfStay.maxDays=e}t.predefinedLengthOfStayDays=[1,2,7,14],t.selectedPredefinedLengthOfStayDays={value:e.last(t.predefinedLengthOfStayDays)},t.lengthOfStay=t.lengthOfStay||{minDays:13,maxDays:15},t.$watch("selectedPredefinedLengthOfStayDays.value",function(e){e&&n(e)}),t.$watch("lengthOfStay.minDays",function(e,n){e!==n&&e>t.lengthOfStay.maxDays&&(t.lengthOfStay.maxDays=e)}),t.$watch("lengthOfStay.maxDays",function(e,n){e!==n&&e<t.lengthOfStay.minDays&&(t.lengthOfStay.minDays=e)})}}}]).directive("inputTimeRangePicker",function(){return{restrict:"EA",replace:!0,scope:{timeMin:"=",timeMax:"="},templateUrl:"../widgets/view-templates/partials/InputTimeRangePickerTemplate.tpl.html",link:function(e,t){e.step=t.attr("stepMinutes")||d,e.currentSelection={min:0,max:c},e.minMaxConstraints={min:0,max:c},e.permittedValuesChanged=function(){e.timeMin=u(e.currentSelection.min),e.timeMax=u(e.currentSelection.max)}}}}).directive("inputOnOffToggle",function(){return{restrict:"EA",replace:!0,scope:{selectedValue:"=",switchOnText:"@",switchOffText:"@",ngOnValue:"@",ngOffValue:"@"},templateUrl:"../widgets/view-templates/partials/InputOnOffToggle.tpl.html",link:function(e,t){e.selectedValue=e.ngOffValue,e.$watch("value",function(t){e.selectedValue=t?e.ngOnValue:e.ngOffValue})}}}).directive("plusMinusDaysSelection",function(){return{replace:!0,transclude:!0,scope:{days:"=",maxDays:"@"},templateUrl:"../widgets/view-templates/partials/PlusMinusDaysSelection.tpl.html",link:function(e){var t=3,n=parseInt(e.maxDays)||t,r=[];r.push("");for(var i=1;n>=i;i++)r.push(i);e.plusMinusDaysList=r,e.days=e.days||e.plusMinusDaysList[0]}}}).filter("minutesInDayToTimeOfDay",function(){return function(e,t){function n(e){return 10>e?"0"+e:e}var r=u(e);if(t){var i=r.hours<12?"am":"pm";return r.hours%12+":"+n(r.minutes)+" "+i}return n(r.hours)+":"+n(r.minutes)}}).filter("airportNameWithIATACode",function(){return function(e){return t.isDefined(e)?e.fullName+" ("+e.airportCode+")":void 0}}).filter("airportNameBestSuggestionComparator",function(){return function(e,t){return e.sort(new o(t)).reverse()}})}),n("widgets/searchForm/InputAirport",["angular","lodash","angular_bootstrap","widgets/SDSWidgets"],function(e,t,n,r){"use strict";return e.module("sdsWidgets").directive("inputAirport",["AirportsDictionaryFetchFnFactory",function(n){return{replace:!0,require:"ngModel",scope:{airport:"=",selectableAirportsForThisPosOnly:"@",selectableAirportsDictionary:"@",onSelect:"&"},templateUrl:"../widgets/view-templates/partials/AirportInput.tpl.html",link:function(r,i,a,o){function s(e){return e.AirportName===e.CityName?e.CityName:e.AirportName+", "+e.CityName}o.$validators.invalidAirport=function(t,n){return o.$isEmpty(n)||e.isObject(t)};var l=n.selectAirportsDictionaryFetchFn(r.selectableAirportsDictionary,r.selectableAirportsForThisPosOnly);l().then(function(e){var n=t.map(e,function(e,t){return{fullName:s(e),airportCode:t}});if(r.airports=n,r.airport&&r.airport.airportCode){var i=e[r.airport.airportCode];r.airport.fullName=s(i)}})}}}])}),n("widgets/searchForm/DiversitySwapper",["angular","util/validator","widgets/SDSWidgets"],function(e,t,n){"use strict";return e.module("sdsWidgets").directive("diversitySwapper",[function(){return{require:"ngModel",scope:{internalFormName:"@",enabled:"=",showOptions:"=",ngModel:"="},templateUrl:"../widgets/view-templates/partials/DiversitySwapper.tpl.html",link:function(e){e.lowFareBucketOptionsPattern=function(){var n=t.NON_ZERO_POSITIVE_INTEGER_REGEX;return{test:function(t){return e.ngModel.lowFareBucketMode.toString()!==e.ngModel.LowFareBucketModeEnum.OPTION.toString()?!0:n.test(t)}}}(),e.fareCutOffPattern=function(){var n=t.PERCENTAGE_VALUE_REGEX;return{test:function(t){return e.ngModel.lowFareBucketMode.toString()!==e.ngModel.LowFareBucketModeEnum.FARE_CUT_OFF.toString()?!0:n.test(t)}}}()}}}])}),n("widgets/ItinerariesList/InputSortBy",["util/LodashExtensions","moment","angular","angular_bootstrap","widgets/SDSWidgets"],function(e,t,n,r,i){"use strict";return n.module("sdsWidgets").directive("inputSelectDropdown",function(){return{restrict:"EA",replace:!0,scope:{label:"@",availableSortCriteria:"=",selectedFirstSortCriterion:"=",onSortingCriteriaChanged:"&"},templateUrl:"../widgets/view-templates/partials/InputSortBy.tpl.html",link:function(e,t){function r(t,r,i){var a="button span.SDSDropdownLabelText";s=n.element(t.parentNode.querySelectorAll(a)),s.text(r),s.val(r),e.selectedFirstSortCriterion.selected=e.availableSortCriteria[i],e.onSortingCriteriaChanged()}function i(e){return e===o}function a(e){var t=e.target,n=t.textContent,a=parseInt(t.getAttribute("data-criterion-index"));if(!i(a)){var s=this;r(s,n,a),o=a}}var o,s,l=t[0].querySelector(".dropdown-menu");l.addEventListener("click",a,!0),e.$on("$destroy",function(){l.removeEventListener("click",a,!0),delete e.selectedFirstSortCriterion,s=void 0})}}})}),n("datamodel/FareForecast",[],function(){"use strict";function e(e){this.recommendation=e}return e}),n("webservices/informational/FareForecastDataService",["angular","datamodel/FareForecast","webservices/common/validators/TravelInsightEngineSearchCriteriaValidator"],function(e,t,n){"use strict";var r=new n;return e.module("sabreDevStudioWebServices").factory("FareForecastResponseParser",function(){return{parse:function(e){var n=e.Recommendation;return new t(n)}}}).factory("FareForecastDataService",["$q","FareForecastWebService","FareForecastResponseParser","ErrorReportingService","ValidationErrorReportingService","businessMessagesErrorHandler",function(e,t,n,i,a,o){function s(e){return{origin:e.getFirstLeg().origin,destination:e.getFirstLeg().destination,departuredate:e.getFirstLeg().departureDateTime.format("YYYY-MM-DD"),returndate:e.getSecondLeg().departureDateTime.format("YYYY-MM-DD")}}return{getFareForecast:function(l){return e(function(e,u){var c=r.validate(l);if(c.length>0)return a.reportErrors(c,"Unsupported search criteria"),u(c);var d=s(l);t.get(d).$promise.then(function(t){var r=n.parse(t);e(r)},function(e){i.reportError("Could not get fare forecast",l),o.handle(u,e)})})}}}])}),n("widgets/informational/fareForecast/FareForecastWidget",["angular","widgets/SDSWidgets","webservices/informational/FareForecastDataService","widgets/WidgetGlobalCallbacks","widgets/BaseController"],function(e,t,n,r,i){"use strict";function a(e,t,n,r){function a(){e.fareForecast={}}return i.call(this,{scope:e,searchService:{executeSearch:r.getFareForecast},newSearchCriteriaEvent:n,searchCriteriaBroadcastingService:t}),a(),this.processSearchResults=function(t){e.fareForecast.recommendation=t.recommendation},this.clearModel=function(){a()},this.isAnyDataToDisplayAvailable=function(){return e.fareForecast.recommendation},this.showRecommendationPolicy=function(){return"wait"===e.fareForecast.recommendation?e.showWaitRecommendation:"unknown"===e.fareForecast.recommendation?e.showUnknownRecommendation:!0},this}return a.prototype=Object.create(i.prototype),a.prototype.constructor=a,e.module("sdsWidgets").controller("FareForecastController",["$scope","SearchCriteriaBroadcastingService","newSearchCriteriaEvent","FareForecastDataService",a]).directive("fareForecast",function(){return{restrict:"AE",scope:{showWaitRecommendation:"@",showUnknownRecommendation:"@",searchStartedCallback:"&?",searchSuccessCallback:"&?",searchErrorCallback:"&?"},templateUrl:"../widgets/view-templates/widgets/FareForecastWidget.tpl.html",controller:"FareForecastController",controllerAs:"ctrl",link:function(e,t,n,i){i.executeLifeSearchOnPredefinedCriteriaIfPresent(n.origin,n.destination,n.departureDate,n.returnDate),r.linkComplete(e,t)}}})}),n("widgets/informational/fareRange/HighLowMedianCurrentChartDirective",["angular","widgets/SDSWidgets"],function(e,t){
"use strict";return e.module("sdsWidgets").directive("highLowMedianCurrentChart",function(){return{replace:!0,scope:{highValue:"@",highText:"@",lowValue:"@",lowText:"@",medianValue:"@",medianText:"@",currentValue:"@?",currentText:"@?",valuesFilter:"@?",valuesFilterArguments:"@?"},templateUrl:"../widgets/view-templates/partials/HighLowMedianCurrentChart.tpl.html",link:function(e){e.chartConfig={topLeftOffset:{x:30,y:20},bar:{width:40,height:120},pointerLineLengthOutsideOfBar:10,pointerLineRightMargin:2,legendForCurrentYOffset:10};var t=e.chartConfig.bar.height/(parseFloat(e.highValue)-parseFloat(e.lowValue)),n=(parseFloat(e.medianValue)-parseFloat(e.lowValue))*t,r=e.chartConfig.topLeftOffset.y+e.chartConfig.bar.height-n;if(e.currentValue)var i=(parseFloat(e.currentValue)-parseFloat(e.lowValue))*t,a=e.chartConfig.topLeftOffset.y+e.chartConfig.bar.height-i;e.chartHelpers={getPointerLineXStart:function(){return e.chartConfig.topLeftOffset.x+e.chartConfig.bar.width/2},getPointerLineXEnd:function(){return e.chartConfig.topLeftOffset.x+e.chartConfig.bar.width+e.chartConfig.pointerLineLengthOutsideOfBar},getOppositePointerLineXEnd:function(){return e.chartConfig.topLeftOffset.x-e.chartConfig.pointerLineLengthOutsideOfBar},getMedianNormalizedYPosition:function(){return r},getCurrentNormalizedYPosition:function(){return a},getCurrentLegendYPosition:function(){return a+e.chartConfig.legendForCurrentYOffset}}}}})}),n("webservices/informational/FareRangeDataService",["angular","moment","lodash","webservices/SabreDevStudioWebServicesModule","webservices/common/validators/TravelInsightEngineSearchCriteriaValidator"],function(e,t,n,r,i){"use strict";var a=new i;return e.module("sabreDevStudioWebServices").factory("FareRangeDataService",["$q","FareRangeWebService","ErrorReportingService","ValidationErrorReportingService","businessMessagesErrorHandler",function(e,t,n,r,i){function o(e,t){return{origin:e.getFirstLeg().origin,destination:e.getFirstLeg().destination,earliestdeparturedate:t.start.format("YYYY-MM-DD"),latestdeparturedate:t.end.format("YYYY-MM-DD"),lengthofstay:e.getLengthOfStay()}}return{getFareRange:function(s,l){return e(function(e,u){var c=a.validate(s);if(c.length>0)return r.reportErrors(c,"Unsupported search criteria"),u(c);var d=o(s,l);t.get(d).$promise.then(function(t){e(t)},function(e){n.reportError("Could not get fare range",s),i.handle(u,e)})})}}}])}),n("widgets/informational/fareRange/FareRangeWidget",["moment","moment_range","util/LodashExtensions","angular","angular_bootstrap","widgets/SDSWidgets","datamodel/search/SearchCriteriaFactory","widgets/informational/fareRange/HighLowMedianCurrentChartDirective","webservices/informational/FareRangeDataService","widgets/WidgetGlobalCallbacks"],function(e,t,n,r,i,a,o,s,l,u){"use strict";return r.module("sdsWidgets").controller("FareRangeCtrl",["$scope","DateService","FareRangeDataService","FareRangeSummaryService","newSearchCriteriaEvent","SearchCriteriaBroadcastingService",function(t,r,i,a,s,l){function u(e){var r=d(e.getTripDepartureDateTime());i.getFareRange(e,r).then(function(i){t.fareRangeSummary=a.getSummary(i,e.getFirstLeg().departureDateTime,e.getSecondLeg().departureDateTime),t.requestedRange=r,t.origin=n.isFunction(e.getFirstLeg)?e.getFirstLeg().origin:e.origin,t.destination=n.isFunction(e.getFirstLeg)?e.getFirstLeg().destination:e.destination},function(e){c()})}function c(){t.fareRangeSummary={}}function d(t){var n=t.diff(r.now(),"days"),i=Math.min(n,Math.floor(h/2)),a=h-i-1,o=t.clone().subtract(i,"days").format("YYYY-MM-DD"),s=t.clone().add(a,"days").format("YYYY-MM-DD");return e.range(o,s)}function p(){return t.currentLowestFare<t.fareRangeSummary.fareDataForRequestedDates.MedianFare&&t.currentLowestFareCurrency===t.fareRangeSummary.fareDataForRequestedDates.CurrencyCode}var h=t.rangeDays||15;if(t.fareRangeSummary={},t.searchCriteria&&u(t.searchCriteria),t.origin&&t.destination&&t.departureDate&&t.returnDate){var f=o.buildRoundTripTravelSearchCriteria(t.origin,t.destination,t.departureDate,t.returnDate);u(f)}t.$on(s,function(){var e=l.searchCriteria;t.currentLowestFare=void 0,t.currentLowestFareCurrency=void 0,u(e)}),t.isAnyDataToDisplayAvailable=function(){return!n.isEmpty(t.fareRangeSummary)},t.showFareRangeToCustomer=function(){return n.has(t.fareRangeSummary,"fareDataForRequestedDates","MedianFare")?n.isUndefined(t.currentLowestFare)?!0:p()?!0:!1:!1}}]).directive("fareRange",function(){return{transclude:!0,scope:{searchCriteria:"=?",origin:"@?",destination:"@?",departureDate:"@?",returnDate:"@?",currentLowestFare:"@?",currentLowestFareCurrency:"@?",rangeDays:"@?"},templateUrl:"../widgets/view-templates/widgets/FareRangeWidget.tpl.html",controller:"FareRangeCtrl",link:function(e,t){u.linkComplete(e,t)}}}).factory("FareRangeSummaryService",function(){function t(t,r,i){return n.find(t,function(t){return e(t.DepartureDateTime,e.ISO_8601).isSame(r)&&e(t.ReturnDateTime,e.ISO_8601).isSame(i)})}return{getSummary:function(e,r,i){var a=t(e.FareData,r,i),o=n.median(n.pluck(e.FareData,"MedianFare")),s=n.min(n.pluck(e.FareData,"MinimumFare")),l=n.max(n.pluck(e.FareData,"MaximumFare")),u=n.uniq(n.pluck(e.FareData,"CurrencyCode"));if(u.length>1)throw new Error("Cannot calculate median and max fares for fares in different currencies");return{overallMedianFare:o,overallMinimumFare:s,overallMaximumFare:l,currency:n.first(u),fareDataForRequestedDates:a}}}})}),n("webservices/fareNabber/FareNabberResourceDefinitions",["lodash","angular","angular_resource","Configuration","webservices/SabreDevStudioWebServicesModule"],function(e,t,n,r,i){"use strict";return t.module("sabreDevStudioWebServices").factory("FareNabberSubscriptionResource",["$resource","fareNabberApiURL",function(e,t){return e(t,null,{save:{method:"POST",headers:{"Content-Type":"application/json"},timeout:2e4}})}])}),n("webservices/fareNabber/FareNabberSubscriptionRequestBuilder",["angular","moment","lodash","webservices/SabreDevStudioWebServicesModule","webservices/common/WebServiceSerializationUtils"],function(e,t,n,r,i){"use strict";return e.module("sabreDevStudioWebServices").factory("FareNabberSubscriptionRequestBuilder",["fareNabberRegistrationPCC",function(e){function r(e){return 0!==e.start.hours()||0!==e.start.minutes()||0!==e.end.hours()||0!==e.end.minutes()}function a(e){return e.start.format("HHmm")+e.end.subtract(1,"minutes").format("HHmm")}function o(e){return e&&e.some(n.identity)}function s(n){var r={expiryDate:t(n.subscriptionExpiryDate).format(p),maxPrice:parseFloat(n.maximumAcceptablePrice),priceCurrency:n.maximumAcceptablePriceCurrency,pcc:e,PreferredAirlines:l(n),SubscriptionPassengers:[{passengerType:n.passengerType,numberOfPassengers:parseInt(n.passengerCount)}],SubscriptionLegs:[]};return n.directFlightsOnly&&(r.nonstop=n.directFlightsOnly),r}function l(e){return e.preferredAirlines.selected}function u(e,n){var r=n.preferences.dates,i={};i.origin=n.origin,i.destination=n.destination,r.isFlexibleDepartureDate?(i.departureDateFrom=t(r.flexibleDepartureDate.from).format(p),i.departureDateTo=t(r.flexibleDepartureDate.to).format(p),i.departureTimeFrom=t(r.flexibleDepartureDate.from).format(h)):(i.departureDateFrom=t(r.departureDate).format(p),i.departureTimeFrom=t(r.departureDate).format(h)),e.SubscriptionLegs[0]=i;var a={};a.origin=n.destination,a.destination=n.origin,r.isFlexibleReturnDate?(a.departureDateFrom=t(r.flexibleReturnDate.from).format(p),a.departureDateTo=t(r.flexibleReturnDate.to).format(p),a.departureTimeFrom=t(r.flexibleReturnDate.from).format(h)):(a.departureDateFrom=t(r.returnDate).format(p),a.departureTimeFrom=t(r.returnDate).format(h)),e.SubscriptionLegs[1]=a}function c(e,t){var n=e.SubscriptionLegs[0],i=e.SubscriptionLegs[1];r(t.outboundTravelTimeRange.departure)&&(n.departureTimeWindow=a(t.outboundTravelTimeRange.departure)),r(t.outboundTravelTimeRange.arrival)&&(n.arrivalTimeWindow=a(t.outboundTravelTimeRange.arrival)),r(t.inboundTravelTimeRange.departure)&&(i.departureTimeWindow=a(t.inboundTravelTimeRange.departure)),r(t.inboundTravelTimeRange.arrival)&&(i.arrivalTimeWindow=a(t.inboundTravelTimeRange.arrival))}function d(e,t){var n=e.SubscriptionLegs[0],r=e.SubscriptionLegs[1];o(t.daysOfTravelPreference.outbound)&&(n.days=i.createWeekDaysString(t.daysOfTravelPreference.outbound)),o(t.daysOfTravelPreference.inbound)&&(r.days=i.createWeekDaysString(t.daysOfTravelPreference.inbound))}var p="YYYY-MM-DD",h="HHmm";return{build:function(e){var t=s(e);return u(t,e),c(t,e.preferences),d(t,e.preferences),t}}}])}),n("webservices/fareNabber/FareNabberSubscriptionService",["angular","webservices/SabreDevStudioWebServicesModule","webservices/fareNabber/FareNabberResourceDefinitions","webservices/fareNabber/FareNabberSubscriptionRequestBuilder"],function(e,t,n,r){"use strict";return e.module("sabreDevStudioWebServices").factory("FareNabberSubscriptionService",["$q","ErrorReportingService","businessMessagesErrorHandler","FareNabberSubscriptionRequestBuilder","FareNabberSubscriptionResource",function(e,t,n,r,i){return{subscribe:function(n){var a=r.build(n);return e(function(e,n){i.save(a).$promise.then(function(t){e(t)},function(e){t.reportError("Unable to create subscription: "+e.status+": "+e.statusText),n(e)})})}}}])}),n("widgets/searchForm/InputTimeOfDayRange",["moment","moment_range","angular","widgets/SDSWidgets"],function(e,t,n,r){"use strict";return n.module("sdsWidgets").directive("inputTimeOfDayRange",function(){return{replace:!0,scope:{selectedRange:"=range"},templateUrl:"../widgets/view-templates/partials/InputTimeOfDayRange.tpl.html",link:function(t){var n=e.range(e({hour:0,minute:0}),e({hour:24,minute:0}));t.timeOfDayRanges=[n,e.range(e({hour:0,minute:0}),e({hour:6,minute:0})),e.range(e({hour:6,minute:0}),e({hour:12,minute:0})),e.range(e({hour:12,minute:0}),e({hour:18,minute:0})),e.range(e({hour:18,minute:0}),e({hour:24,minute:0}))],t.selectedRange=t.timeOfDayRanges[0]}}}).filter("timeOfDayRange",function(){function e(e){return 0===e.hour()&&0===e.minute()}return function(t,n){return e(t.start)&&e(t.end)?"No preference":t.start.format(n)+" - "+t.end.format(n)}})}),n("widgets/FareNabberWidget",["angular","moment","util/LodashExtensions","widgets/SDSWidgets","webservices/fareNabber/FareNabberSubscriptionService","widgets/searchForm/InputTimeOfDayRange","widgets/WidgetGlobalCallbacks"],function(e,t,n,r,i,a,o){"use strict";return e.module("sdsWidgets").controller("FareNabberFormModalInstanceCtrl",["$scope","$uibModalInstance",function(e,r){e.defaultOptions={earliestTravelStart:new Date,subscriptionExpiry:t().add(1,"month").toDate(),allowInterline:!0},e.subscriptionExpiryDate=e.defaultOptions.subscriptionExpiry,e.preferredAirlines={selected:[]},e.subscribe=function(){var t=["subscriberEmail","origin","destination","passengerType","passengerCount","preferences","directFlightsOnly","allowInterline","maximumAcceptablePrice","maximumAcceptablePriceCurrency","subscriptionExpiryDate","preferredAirlines"],i=t.reduce(function(t,r){return n.isDefined(e[r])&&(t[r]=e[r]),t},{});r.close(i)},e.cancel=function(){r.dismiss("cancelled")}}]).directive("fareNabber",["$uibModal","FareNabberSubscriptionService","resetErrorsEvent","$rootScope",function(e,n,r,i){return{restrict:"AE",scope:{origin:"@",destination:"@",predefinedDepartureDate:"@departureDate",predefinedReturnDate:"@returnDate",passengerType:"@",passengerCount:"@",maximumAcceptablePrice:"@",maximumAcceptablePriceCurrency:"@",showEmailField:"@?"},templateUrl:"../widgets/view-templates/widgets/FareNabberWidget.tpl.html",transclude:!0,link:function(a,s){function l(){var e=t.ISO_8601;a.preferences={dates:{departureDate:t(a.predefinedDepartureDate,e).toDate(),returnDate:t(a.predefinedReturnDate,e).toDate(),isFlexibleDepartureDate:!1,isFlexibleReturnDate:!1,flexibleDepartureDate:{from:t(a.predefinedDepartureDate,e).subtract(1,"M").toDate(),to:t(a.predefinedDepartureDate,e).add(1,"M").toDate()},flexibleReturnDate:{from:t(a.predefinedReturnDate,e).subtract(1,"M").toDate(),to:t(a.predefinedReturnDate,e).add(1,"M").toDate()}},daysOfTravelPreference:{outbound:void 0,inbound:void 0},outboundTravelTimeRange:{departure:void 0,arrival:void 0},inboundTravelTimeRange:{departure:void 0,arrival:void 0}}}function u(){c().then(d).then(p)}function c(){var t=e.open({animation:!0,templateUrl:"FareNabberSubscriptionFormModal.html.tpl",controller:"FareNabberFormModalInstanceCtrl",size:"lg",scope:a});return t.result}function d(e){return n.subscribe(e)}function p(){e.open({animation:!0,templateUrl:"FareNabberSubscriptionSuccessful.html.tpl",controller:["$scope","$uibModalInstance",function(e,t){e.ok=function(){t.close()}}],size:"md",scope:a})}l(),s.on("click",function(){u(),i.$broadcast(r)}),o.linkComplete(a,s),a.$on("$destroy",function(){s.off("click")})}}}])}),n("webservices/inspirational/DestinationPricerDataService",["angular","lodash","webservices/SabreDevStudioWebServicesModule"],function(e,t,n){"use strict";return e.module("sabreDevStudioWebServices").factory("DestinationPricerDataService",["$q","DestinationPricerWebService","selectedCountryConfigs","ErrorReportingService","businessMessagesErrorHandler",function(e,n,r,i,a){function o(e){var n=e.pointOfSaleCountry&&e.pointOfSaleCountry||r.pointOfSaleCountry.length>0&&r.pointOfSaleCountry,i={destination:e.destination};return n&&t.extend(i,{pointofsalecountry:n}),i}return{getPricesToDestination:function(t){return e(function(e,r){var s=o(t);n.get(s).$promise.then(function(t){e(t)},function(e){i.reportError("Could not get cheapest flights to destination",t),a.handle(r,e)})})}}}])}),n("widgets/DestinationPricerWidget",["moment","angular","lodash","angular_bootstrap","widgets/SDSWidgets","widgets/BaseController","webservices/inspirational/DestinationPricerDataService","widgets/WidgetGlobalCallbacks"],function(e,t,n,r,i,a,o,s){"use strict";function l(e,t,r,i){var o=this,s={executeSearch:t.getPricesToDestination};return a.call(this,{scope:e,searchService:s,newSearchCriteriaEvent:r,searchCriteriaBroadcastingService:i}),this.saveLastSearchCriteria=function(e){o.lastRequestPosCountryOverride=e.pointOfSaleCountry},this.processSearchResults=function(e){this.modelPricesToDestination=e},this.clearModel=function(){this.modelPricesToDestination={}},this.isAnyDataToDisplayAvailable=function(){return!n.isEmpty(this.modelPricesToDestination.FareInfo)},this.clearModel(),this}return l.prototype=Object.create(a.prototype),l.prototype.constructor=l,t.module("sdsWidgets").controller("DestinationPricerCtrl",["$scope","DestinationPricerDataService","newInspirationalSearchCriteriaEvent","InspirationalSearchCriteriaBroadcastingService",l]).directive("destinationPricer",function(){return{restrict:"EA",scope:{searchLinkEnabled:"@?",offerClicked:"&?",searchStartedCallback:"&?",searchSuccessCallback:"&?",searchErrorCallback:"&?"},templateUrl:"../widgets/view-templates/widgets/DestinationPricer.tpl.html",controller:"DestinationPricerCtrl",controllerAs:"ctrl",link:function(e,t,r,i){function a(e,t){if(e){var r={destination:e};t&&n.extend(r,{pointOfSaleCountry:t}),i.processSearchCriteria(r)}}a(r.destination,r.pointOfSaleCountry),s.linkComplete(e,t)}}})}),n("webservices/instaflights/InstaflightResponseParser",["lodash","webservices/common/parsers/AbstractOTAResponseParser"],function(e,t){"use strict";function n(){t.apply(this,arguments)}return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.getPricedItinerariesArray=function(e){return e.PricedItineraries},n.prototype.itinerariesFound=function(t){return e.has(t,"PricedItineraries")},n.prototype.getItineraryPricingInfoResponsePart=function(e){return e.AirItineraryPricingInfo},n.prototype.parseEquipment=function(e){return e.Equipment.AirEquipType},n.prototype.parsePricingSource=function(){return"Instaflights"},n}),n("webservices/instaflights/InstaflightsDataService",["angular","lodash","util/LodashExtensions","webservices/instaflights/InstaflightResponseParser","webservices/common/parsers/OTAResponseParser","util/BaseServices","webservices/instaflights/InstaflightSearchCriteriaValidator"],function(e,t,n,r,i,a,o){"use strict";return e.module("sabreDevStudioWebServices").factory("InstaflightsDataService",["$q","InstaFlightsWebService","dateFormat","selectedCountryConfigs","ErrorReportingService","ValidationErrorReportingService","businessMessagesErrorHandler",function(e,i,a,s,l,u,c){function d(e){var r={origin:e.getFirstLeg().origin,destination:e.getFirstLeg().destination,departuredate:e.getFirstLeg().departureDateTime.format(a),returndate:e.getSecondLeg().departureDateTime.format(a)};return e.preferredAirlines.length>0&&t.extend(r,{includedcarriers:e.preferredAirlines.join()}),n.isDefined(e.maxStops)&&t.extend(r,{outboundflightstops:e.maxStops,inboundflightstops:e.maxStops}),e.optionsPerDay&&t.extend(r,{limit:e.optionsPerDay}),e.passengerSpecifications.length>0&&t.extend(r,{passengercount:e.getTotalPassengerCount()}),s.pointOfSaleCountry.length>0&&t.extend(r,{pointofsalecountry:s.pointOfSaleCountry}),r}var p=new r,h=new o;return{getItineraries:function(t){return e(function(e,n){var r=h.validate(t);if(r.length>0)return u.reportErrors(r,"Unsupported search criteria"),n(r);var a=d(t);i.get(a).$promise.then(function(t){var n=p.parse(t);e(n)},function(e){l.reportError("Instaflights: Could not find itineraries",t),c.handle(n,e)})})}}}])}),n("datamodel/BestItineraryComparator",[],function(){"use strict";return{comparator:function(e,t){var n=(e.duration+t.duration)/(e.totalFareAmountWithCurrency.amount+t.totalFareAmountWithCurrency.amount),r=-(e.duration/n+e.totalFareAmountWithCurrency.amount),i=-(t.duration/n+t.totalFareAmountWithCurrency.amount);return r===i?0:r>i?1:-1}}}),n("util/CommonDisplayDirectives",["moment","angular","angular_bootstrap","widgets/SDSWidgets"],function(e,t,n,r){"use strict";return t.module("sdsWidgets").directive("airlineLogo",function(){return{templateUrl:"../widgets/view-templates/partials/AirlineLogo.tpl.html",scope:{airlineCode:"@"}}})}),n("widgets/ItinerariesList/ItineraryShortSummary",["angular","util/LodashExtensions","angular_bootstrap","widgets/SDSWidgets","util/CommonDisplayDirectives"],function(e,t,n,r,i){"use strict";return e.module("sdsWidgets").directive("itineraryShortSummary",function(){return{scope:{itinerary:"=itin",itineraryClickedCallback:"&?"},templateUrl:"../widgets/view-templates/widgets/ItineraryShortSummary.tpl.html",link:function(e){e.itemClicked=function(n){t.isDefined(e.itineraryClickedCallback)&&e.itineraryClickedCallback({itineraryId:n})},e.$on("$destroy",function(){delete e.itemClicked})}}})}),n("widgets/ItinerariesList/ItineraryPricePerStopsPerAirlineSummary",["util/LodashExtensions","angular","angular_bootstrap","widgets/SDSWidgets"],function(e,t,n,r){"use strict";return t.module("sdsWidgets").directive("itinerarySummaryPricePerStopsPerAirline",function(){return{scope:{summary:"=",summaryItemClickedCallback:"&?"},templateUrl:"../widgets/view-templates/widgets/ItineraryPricePerStopsPerAirlineSummary.tpl.html",controller:["$scope",function(t){t.isAnyDataToDisplayAvailable=function(){return e.isDefined(t.summary)},t.itemClicked=function(n){e.isDefined(t.summaryItemClickedCallback)&&t.summaryItemClickedCallback({itineraryId:n})},t.$on("$destroy",function(){delete t.isAnyDataToDisplayAvailable,delete t.itemClicked})}]}})}),n("util/DOMManipulationUtils",["angular"],function(e){"use strict";function t(t){e.element(t).hasClass(l)?(e.element(t).removeClass(l),e.element(t).addClass(u)):e.element(t).hasClass(u)&&(e.element(t).removeClass(u),e.element(t).addClass(l))}function n(t){e.element(t).hasClass(u)&&e.element(t).removeClass(u),e.element(t).addClass(l)}function r(t){e.element(t).hasClass(l)&&e.element(t).removeClass(l),e.element(t).addClass(u)}function i(e,n,r){e.querySelectorAll(n).on("click",function(){var n=e.querySelectorAll(r);[].forEach.call(n,function(e){t(e)})})}function a(e,t){e.querySelectorAll(t).off("click")}function o(e,t,i,a){e.querySelectorAll(t).on("click",function(){var t=e.querySelectorAll(i);if([].forEach.call(t,function(e){n(e)}),a){var o=e.querySelectorAll(a);[].forEach.call(o,function(e){r(e)})}})}function s(e,t,i,a){e.querySelectorAll(t).on("click",function(){var t=e.querySelectorAll(i);if([].forEach.call(t,function(e){r(e)}),a){var o=e.querySelectorAll(a);[].forEach.call(o,function(e){n(e)})}})}var l="ng-show",u="ng-hide";return{addToggleOnClickHandler:i,addShowOnClickHandler:o,addHideOnClickHandler:s,removeOnClickHandler:a}}),n("widgets/ItinerariesList/ItineraryDirective",["moment","angular","lodash","util/LodashExtensions","angular_bootstrap","widgets/SDSWidgets","util/DOMManipulationUtils","util/CommonDirectives","widgets/WidgetGlobalCallbacks"],function(e,t,n,r,i,a,o,s,l){"use strict";return t.module("sdsWidgets").directive("itinerary",[function(){return{restrict:"E",scope:{itin:"=",itinerarySelectedCallback:"&?",enableItinerarySelectButton:"@?",flightDetailsAlwaysShown:"@?",priceDetailsAlwaysShown:"@?",hideItinerarySelectButton:"@?",standaloneWidget:"@?"},templateUrl:"../widgets/view-templates/widgets/Itinerary.tpl.html",link:function(e,t){function r(t){e.priceDetailsAlwaysShown||(o.addToggleOnClickHandler(t,".SDSItineraryTogglePriceDetails",".SDSItineraryPriceDetails"),o.addShowOnClickHandler(t,".SDSItineraryShowPriceDetails",".SDSItineraryPriceDetails"),o.addHideOnClickHandler(t,".SDSItineraryHidePriceDetails",".SDSItineraryPriceDetails"),e.$on("$destroy",function(){o.removeOnClickHandler(t,".SDSItineraryTogglePriceDetails"),o.removeOnClickHandler(t,".SDSItineraryShowPriceDetails"),o.removeOnClickHandler(t,".SDSItineraryHidePriceDetails")})),e.flightDetailsAlwaysShown||(o.addToggleOnClickHandler(t,".SDSItineraryToggleFlightDetails",".SDSItineraryFlightDetails"),o.addShowOnClickHandler(t,".SDSItineraryShowFlightDetails",".SDSItineraryFlightDetails",".SDSItineraryHideWhenFlightDetailsShown"),o.addHideOnClickHandler(t,".SDSItineraryHideFlightDetails",".SDSItineraryFlightDetails",".SDSItineraryHideWhenFlightDetailsShown"),e.$on("$destroy",function(){o.removeOnClickHandler(t,".SDSItineraryToggleFlightDetails"),o.removeOnClickHandler(t,".SDSItineraryShowFlightDetails"),o.removeOnClickHandler(t,".SDSItineraryHideFlightDetails")})),o.addToggleOnClickHandler(t,".SDSItineraryToggleBrandDetails",".SDSItineraryBrandDetails")}e.selectItineraryClicked=function(t){n.isFunction(e.itinerarySelectedCallback)&&e.itinerarySelectedCallback({itinerary:t})},r(t),e.$on("$destroy",function(){o.removeOnClickHandler(t,".SDSItineraryToggleBrandDetails"),delete e.selectItineraryClicked}),"true"===e.standaloneWidget&&l.linkComplete(e,t)}}}])}),n("datamodel/ItinerariesListSummaryByAirlineAndNumberOfStops",["lodash"],function(e){"use strict";function t(e){var t=this.calculateSummaries(e);this.getSummaries=function(){return t}}function n(e,t){if(e.totalFareCurrency&&e.totalFareCurrency!==t)throw new Error("Unable to compare two prices when they have different currencies")}return t.prototype.initializeSummaryForAirline=function(t,n){return e.isUndefined(t[n])&&(t[n]=this.createEmptySummary()),t},t.prototype.calculateSummaries=function(e){var t=this.createEmptySummary(),n={},r=this;e.forEach(function(e){var i=e.getFirstLeg().getFirstFlightMarketingAirline();n=r.initializeSummaryForAirline(n,i);var a=e.totalFareAmountWithCurrency.amount,o=e.totalFareAmountWithCurrency.currency,s=e.getNumberOfStops();r.updateSummary(t,a,o,s,e.id),r.updateSummary(n[i],a,o,s,e.id)}),t=this.resetInfinityValuesToUndefined(t);var i=this.airlineSummariesToArray(n).map(this.resetInfinityValuesToUndefined).sort(this.airlineSummaryComparator);return i=this.addIsCheapestFlags(i),{airlineSummaries:i,totalSummary:t}},t.prototype.updateSummary=function(e,t,r,i,a){n(e,r),e.totalFareCurrency=r,0===i?t<e.nonStopLowestPrice&&(e.nonStopLowestPrice=t,e.nonStopLowestPriceItineraryId=a):1===i?t<e.oneStopLowestPrice&&(e.oneStopLowestPrice=t,e.oneStopLowestPriceItineraryId=a):t<e.twoAndMoreStopsLowestPrice&&(e.twoAndMoreStopsLowestPrice=t,e.twoAndMoreStopsLowestPriceItineraryId=a)},t.prototype.createEmptySummary=function(){return{nonStopLowestPrice:1/0,nonStopLowestPriceItineraryId:void 0,oneStopLowestPrice:1/0,oneStopLowestPriceItineraryId:void 0,twoAndMoreStopsLowestPrice:1/0,twoAndMoreStopsLowestPriceItineraryId:void 0}},t.prototype.airlineSummariesToArray=function(t){return e.map(t,function(t,n){return e.extend({},{airline:n},t)})},t.prototype.resetInfinityValuesToUndefined=function(t){var n={};return e.each(t,function(e,t){n[t]=e===1/0?void 0:e}),n},t.prototype.airlineSummaryComparator=function(t,n){var r=e.min([t.nonStopLowestPrice,t.oneStopLowestPrice,t.twoAndMoreStopsLowestPrice]),i=e.min([n.nonStopLowestPrice,n.oneStopLowestPrice,n.twoAndMoreStopsLowestPrice]);return r===i?0:r>i?1:-1},t.prototype.addIsCheapestFlags=function(t){var n=e.find(t,"nonStopLowestPrice");n&&(n.isCheapestNonStop=!0);var r=e.find(t,"oneStopLowestPrice");r&&(r.isCheapestOneStopLowestPrice=!0);var i=e.find(t,"twoAndMoreStopsLowestPrice");return i&&(i.isCheapestTowOrMoreStopsLowestPrice=!0),t},t}),n("widgets/ItinerariesList/ItinerariesListSortCriteria",["lodash","util/LodashExtensions"],function(e,t){"use strict";function n(){this.availableSortCriteria=this.configureAvailableSortCriteria(),this.sortCriteriaNaturalOrder=this.setSortCriteriaNaturalOrder(),this.currentSortCriteria=this.resetSortCriteria()}return n.prototype.setSortCriteriaInternal=function(e){this.currentSortCriteria=this.sortCriteriaNaturalOrder.reduce(t.pushIfNotContains,[e])},n.prototype.setSortCriteria=function(e){this.setSortCriteriaInternal(e)},n.prototype.resetSortCriteria=function(){this.setSortCriteriaInternal(e.first(this.sortCriteriaNaturalOrder))},n.prototype.getCurrentSortCriteria=function(){return this.currentSortCriteria},n.prototype.sortCriteriaDefinitions={byPriceAsc:{label:"Price (Lowest)",propertyName:"totalFareAmount",reverse:!1},byPriceDesc:{label:"Price (Highest)",propertyName:"totalFareAmount",reverse:!0},byDurationAsc:{label:"Duration (Shortest)",propertyName:"duration",reverse:!1},byDurationDesc:{label:"Duration (Longest)",propertyName:"duration",reverse:!0},byNumberOfStopsAsc:{label:"Stops (Lowest)",propertyName:"sumNumberOfStopsForAllLegs",reverse:!1},byNumberOfStopsDesc:{label:"Stops (Highest)",propertyName:"sumNumberOfStopsForAllLegs",reverse:!0},byDepartureTimeAsc:{label:"Departure (Earliest)",propertyName:"outboundDepartureDateTime",reverse:!1},byDepartureTimeDesc:{label:"Departure (Latest)",propertyName:"outboundDepartureDateTime",reverse:!0},byArrivalTimeAsc:{label:"Arrival (Earliest)",propertyName:"outboundArrivalDateTime",reverse:!1},byArrivalTimeDesc:{label:"Arrival (Latest)",propertyName:"outboundArrivalDateTime",reverse:!0}},n.prototype.configureAvailableSortCriteria=function(){return[this.sortCriteriaDefinitions.byPriceAsc,this.sortCriteriaDefinitions.byPriceDesc,this.sortCriteriaDefinitions.byDurationAsc,this.sortCriteriaDefinitions.byDurationDesc,this.sortCriteriaDefinitions.byNumberOfStopsAsc,this.sortCriteriaDefinitions.byNumberOfStopsDesc,this.sortCriteriaDefinitions.byDepartureTimeAsc,this.sortCriteriaDefinitions.byDepartureTimeDesc,this.sortCriteriaDefinitions.byArrivalTimeAsc,this.sortCriteriaDefinitions.byArrivalTimeDesc]},n.prototype.setSortCriteriaNaturalOrder=function(){return[this.sortCriteriaDefinitions.byPriceAsc,this.sortCriteriaDefinitions.byDurationAsc,this.sortCriteriaDefinitions.byNumberOfStopsAsc,this.sortCriteriaDefinitions.byDepartureTimeAsc,this.sortCriteriaDefinitions.byArrivalTimeAsc]},n}),n("widgets/ItinerariesList/ItinerariesListDiversitySwapperSortCriteria",["lodash","util/LodashExtensions","widgets/ItinerariesList/ItinerariesListSortCriteria"],function(e,t,n){"use strict";function r(){n.call(this)}return r.prototype=Object.create(n.prototype),r.prototype.constructor=r,r.prototype.diversitySwapperSortCriteriaDefinitions={byWeightedPriceAmountAsc:{label:"Weighted Price (Lowest)",propertyName:"weightedPriceAmount",reverse:!1},byWeightedPriceAmountDesc:{label:"Weighted Price (Highest)",propertyName:"weightedPriceAmount",reverse:!0}},r.prototype.configureAvailableSortCriteria=function(){return e.union(n.prototype.configureAvailableSortCriteria.call(this),[this.diversitySwapperSortCriteriaDefinitions.byWeightedPriceAmountAsc,this.diversitySwapperSortCriteriaDefinitions.byWeightedPriceAmountDesc])},r}),n("webservices/common/searchStrategyFactories/ItinerariesSearchStrategyFactory",["util/LodashExtensions","lodash","angular","webservices/SabreDevStudioWebServicesModule"],function(e,t,n,r){"use strict";return n.module("sabreDevStudioWebServices").factory("ItinerariesSearchStrategyFactory",["BargainFinderMaxDataService","InstaflightsDataService","AdvancedCalendarDataService",function(e,n,r){return{createSearchStrategy:function(i){switch(i=i||"instaflights"){case"bfm-enable-diversity-swapper":return{search:function(t,n){e.getItineraries(t).then(n.successCallback,n.failureCallback).finally(n.streamEndCallback)}};case"bfm":return{search:function(n,r){var i=t.create(Object.getPrototypeOf(n),n);i.diversityModelOptions=void 0,e.getItineraries(i).then(r.successCallback,r.failureCallback).finally(r.streamEndCallback)}};case"instaflights":return{search:function(e,t){n.getItineraries(e).then(t.successCallback,t.failureCallback).finally(t.streamEndCallback)}};case"first-instaflights-on-errors-bfm":return{search:function(t,r){n.getItineraries(t).then(function(e){r.successCallback(e),r.streamEndCallback()},function(){e.getItineraries(t).then(r.successCallback,r.failureCallback).finally(r.streamEndCallback)})}};case"instaflights-updated-with-bfm":return{search:function(t,r){var i=function(n){r.successCallback(n),e.getItineraries(t).then(r.updateCallback).finally(r.streamEndCallback)},a=function(){e.getItineraries(t).then(r.successCallback,r.failureCallback).finally(r.streamEndCallback)};n.getItineraries(t).then(i,a)}};case"advancedCalendar":return{search:function(e,t){r.getItineraries(e).then(t.successCallback,t.failureCallback).finally(t.streamEndCallback)}};case"first-advancedCalendar-on-errors-bfm":return{search:function(t,n){r.getItineraries(t).then(function(e){n.successCallback(e),n.streamEndCallback()},function(){e.getItineraries(t).then(n.successCallback,n.failureCallback).finally(n.streamEndCallback)})}};default:throw new Error("unrecognized search web service: "+i)}}}}])}),n("webservices/common/searchStrategyFactories/ItinerariesSearchStrategyFactoryBagsFilteringDecorator",["angular","lodash","webservices/SabreDevStudioWebServicesModule","webservices/common/searchStrategyFactories/ItinerariesSearchStrategyFactory","datamodel/ItinerariesList","datamodel/MonetaryAmount"],function(e,t,n,r,i,a){"use strict";return e.module("sabreDevStudioWebServices").factory("ItinerariesSearchStrategyFactoryBagsFilteringDecorator",["ItinerariesSearchStrategyFactory","ErrorReportingService",function(e,n){function r(e,t){if(0===e)return 0;for(var n={1:120,2:200,3:300},r=t.charCodeAt(0)%10*10-50,i=r,a=1;e>=a;a++)i+=n[a];return i}return{createSearchStrategy:function(o){var s=e.createSearchStrategy(o);return{search:function(e,o){function l(t){return function(r){var i=p(r);0===i.size()?(n.reportError("Could not find itineraries with "+h+" bags requested",e),o.failureCallback()):t(i)}}function u(e){return t.isUndefined(e.getMinBaggageAllowance())||e.getMinBaggageAllowance()<=h}function c(e){return t.isUndefined(e.baggageCharges)?e:(Object.defineProperty(e,"totalFareAmount",{get:function(){var t=this.itineraryPricingInfo.fareAmounts.totalFare.amount;return t+e.baggageCharges}}),e)}function d(e){return t.isUndefined(e.baggageCharges)?e:(Object.defineProperty(e,"totalFareAmountWithCurrency",{get:function(){var t=e.itineraryPricingInfo.fareAmounts.totalFare;return new a(t.amount+e.baggageCharges,t.currency)}}),e)}function p(e){var t=e.itineraries.filter(u).map(function(e){if(e.getMinBaggageAllowance()===h)return e;var t=e.getMinBaggageAllowance()||0,n=h-t;return e.baggageCharges=r(n,e.getFirstMarketingAirline()),e}).map(c).map(d),n=new i;return n.addAll(t),n}var h=e.bagsRequested;
return t.isUndefined(h)?s.search(e,o):s.search(e,{successCallback:l(o.successCallback),failureCallback:o.failureCallback,updateCallback:l(o.updateCallback),streamEndCallback:o.streamEndCallback})}}}}}])}),n("webservices/common/searchStrategyFactories/BrandedItinerariesSearchStrategyFactory",["util/LodashExtensions","angular","webservices/SabreDevStudioWebServicesModule"],function(e,t,n){"use strict";return t.module("sabreDevStudioWebServices").factory("BrandedItinerariesSearchStrategyFactory",["BargainFinderMaxDataService","InstaflightsDataService",function(e,t){return{createSearchStrategy:function(n){switch(n=n||"bfm"){case"bfm":return{search:function(t,n){e.getBrandedItineraries(t).then(n.successCallback,n.failureCallback).finally(n.streamEndCallback)}};case"first-instaflights-on-errors-bfm":return{search:function(n,r){t.getItineraries(n).then(function(e){r.successCallback(e),r.streamEndCallback()},function(){e.getBrandedItineraries(n).then(r.successCallback,r.failureCallback).finally(r.streamEndCallback)})}};case"instaflights-updated-with-bfm":return{search:function(n,r){var i=function(t){r.successCallback(t),e.getBrandedItineraries(n).then(r.updateCallback).finally(r.streamEndCallback)},a=function(){e.getBrandedItineraries(n).then(r.successCallback,r.failureCallback).finally(r.streamEndCallback)};t.getItineraries(n).then(i,a)}};default:throw new Error("unrecognized search web service: "+n)}}}}])}),n("widgets/ItinerariesList/ItinerariesListWidget",["lodash","util/LodashExtensions","moment","angular","angular_bootstrap","widgets/SDSWidgets","datamodel/ItinerariesList","webservices/instaflights/InstaflightsDataService","datamodel/BestItineraryComparator","widgets/ItinerariesList/ItineraryShortSummary","widgets/ItinerariesList/ItineraryPricePerStopsPerAirlineSummary","widgets/ItinerariesList/ItineraryDirective","datamodel/ItinerariesListSummaryByAirlineAndNumberOfStops","datamodel/search/SearchCriteriaFactory","widgets/ItinerariesList/ItinerariesListSortCriteria","widgets/ItinerariesList/ItinerariesListDiversitySwapperSortCriteria","webservices/common/searchStrategyFactories/ItinerariesSearchStrategyFactoryBagsFilteringDecorator","webservices/common/searchStrategyFactories/BrandedItinerariesSearchStrategyFactory","util/CommonDisplayDirectives","widgets/WidgetGlobalCallbacks"],function(e,t,n,r,i,a,o,s,l,u,c,d,p,h,f,g,m,v,y,b){"use strict";return r.module("sdsWidgets").controller("ItineraryListCtrl",["$scope","$filter","$location","$anchorScroll","ItinerariesSearchStrategyFactoryBagsFilteringDecorator","BrandedItinerariesSearchStrategyFactory","SearchCriteriaBroadcastingService","newSearchCriteriaEvent","DateSelectedBroadcastingService","dateSelectedEvent","BargainFinderMaxDataService","noResultsFoundEvent","filterServiceFactory",function(n,r,i,a,o,s,u,c,d,h,m,v,y){function b(){E.resetSortCriteria(),n.selectedFirstCriterion.selected=e.first(E.availableSortCriteria),n.itemsPerPage=20,n.paginationSettings.currentPage=1}function S(e){R=r("sortByCriteria")(e,E.getCurrentSortCriteria()),n.permittedItinerariesSortedCurrentPageView=D()}function D(){var e=(n.paginationSettings.currentPage-1)*n.itemsPerPage,t=e+n.itemsPerPage;return R.slice(e,t)}function w(){var t=E.sortCriteriaNaturalOrder.map(function(e){return e.propertyName});n.bestItinerariesSummary={cheapest:L.getCheapestItinerary(t),best:e.last(R.slice().sort(l.comparator)),shortest:L.getShortestItinerary(t)},n.summaryPerStopsPerAirline=new p(R).getSummaries()}function A(e,t){b(),L=t,_(e)}function C(e,t){b(),L.addItinerariesListWithDedup(t),_(e)}function _(e){I=L.getPermittedItineraries(),n.permittedItinerariesCount=I.length,S(I),N.updateFiltersState(L.getPermittedItineraries()),w(),T(e)}function x(){L=void 0,I=void 0,R=void 0,n.permittedItinerariesSortedCurrentPageView=void 0,n.bestItinerariesSummary=void 0,n.summaryPerStopsPerAirline=void 0}function $(e,t){x()}function k(e){return M(e)?e:m}function M(t){return e.isFunction(t.getItineraries)}function T(e){n.searchCriteriaDepartureAirport=e.getFirstLeg().origin,n.searchCriteriaArrivalAirport=e.getFirstLeg().destination}function F(t){var r=1+e.findIndex(R,function(e){return e.id===t});return Math.ceil(r/n.itemsPerPage)}function O(){U.cancel(),q.cancel(),G.cancel(),j.cancel()}function P(){delete n.isAnyDataToDisplayAvailable,delete n.onSortingCriteriaChanged,delete n.getItinAnchorId,delete n.summaryItemClickedCallback}var E;E="bfm-enable-diversity-swapper"===n.activeSearchWebService?new g:new f,n.availableSortCriteria=E.availableSortCriteria,n.selectedFirstCriterion={selected:e.first(E.availableSortCriteria)},n.paginationSettings={},b();var L,I,R,N=y.newInstance(n.itinerariesListId);N.configure({pricePropertyAmountAccessor:"amount",pricePropertyAmountForPriceFrom:"totalFareAmount",pricePropertyCurrencyForPriceFrom:"totalFareCurrency"}),n.onSortingCriteriaChanged=function(){E.setSortCriteria(n.selectedFirstCriterion.selected),S(I),n.paginationSettings.currentPage=1},n.$watch("paginationSettings.currentPage",function(e,t){e!==t&&(n.permittedItinerariesSortedCurrentPageView=D())});var B=n.requestBrandedItineraries?s:o,W=B.createSearchStrategy(n.activeSearchWebService);n.$on(c,function(){var e=u.searchCriteria;n.processSearchCriteria(e)});var U=t.cancellable(function(e,t){n.searchSuccessCallback&&n.searchSuccessCallback({itineraries:t,searchCriteria:e}),A(e,t)}),G=t.cancellable(function(e,t){n.searchErrorCallback&&n.searchErrorCallback({errorMessages:t,searchCriteria:e}),$(e,t)}),q=t.cancellable(function(e,t){n.searchSuccessCallback&&n.searchSuccessCallback({itineraries:t,searchCriteria:e}),C(e,t)}),j=t.cancellable(function(){return n.allSearchesComplete()});n.processSearchCriteria=function(t){n.searchStartedCallback&&n.searchStartedCallback({searchCriteria:t}),n.activeSearch&&W.search(t,{successCallback:e.partial(U,t),failureCallback:e.partial(G,t),updateCallback:e.partial(q,t),streamEndCallback:j})},N.onFilterChange(function(e){L.applyFilters(e),I=L.getPermittedItineraries(),n.permittedItinerariesCount=I.length,S(I),w()}),n.$on(h,function(){var t=d.newSearchCriteria,r=k(d.originalDataSourceWebService);n.searchStartedCallback({searchCriteria:t}),r.getItineraries(t).then(e.partial(U,t),e.partial(G,t)).finally(j),n.$evalAsync()}),n.$on(v,function(){x()}),n.isAnyDataToDisplayAvailable=function(){return e.isUndefined(L)?!1:n.permittedItinerariesCount>0},n.summaryItemClickedCallback=function(e){n.paginationSettings.currentPage=F(e);var t=n.getItinAnchorId(e);i.hash(t),a()},n.getItinAnchorId=function(e){return"#SDS_itin_"+e},n.$on("$destroy",function(){x(),delete n.availableSortCriteria,delete n.selectedFirstCriterion,delete n.paginationSettings,delete n.itemsPerPage,B=void 0,W=void 0,O(),P(),N.destroy()})}]).directive("itineraryList",[function(){return{restrict:"EA",scope:{activeSearch:"@?",activeSearchWebService:"@?",requestBrandedItineraries:"=?",searchCriteria:"=?",selectedItineraryCallback:"&?",enableItinerarySelectButton:"@?",searchStartedCallback:"&?",searchSuccessCallback:"&?",searchErrorCallback:"&?",allSearchesComplete:"&?",itinerariesListId:"@"},templateUrl:"../widgets/view-templates/widgets/ItinerariesListWidget.tpl.html",controller:"ItineraryListCtrl",link:function(e,n){function r(){var e=n.attr("origin"),t=n.attr("destination"),r=n.attr("departure-date"),i=n.attr("return-date");return e&&t&&r&&i?h.buildRoundTripTravelSearchCriteria(e,t,r,i):void 0}var i=r();i&&e.processSearchCriteria(i),t.isDefined(e.searchCriteria)&&e.processSearchCriteria(e.searchCriteria),b.linkComplete(e,n)}}}]).filter("sortByCriteria",["$filter",function(e){var t=e("orderBy");return function(e,n){var r=n.map(function(e){return(e.reverse?"-":"+")+e.propertyName}),i=t(e,r);return i}}])}),n("widgets/ItinerariesFilterPanel.drv",["angular","widgets/SDSWidgets"],function(e,t){"use strict";return e.module("sdsWidgets").directive("itinerariesFilterPanel",function(){return{scope:!0,templateUrl:"../widgets/view-templates/widgets/ItinerariesFilterPanelWidget.tpl.html",controller:["$scope","$element",function(e,t){e.id=t.attr("id"),e.ownerId=t.attr("owner-id")}]}})}),n("widgets/errorDisplays/ErrorDisplayWidget.drv",["lodash","util/LodashExtensions","widgets/WidgetGlobalCallbacks"],function(e,t,n){"use strict";return function(r,i,a,o){return{replace:!0,templateUrl:"../widgets/view-templates/widgets/ErrorDisplayWidget.tpl.html",link:function(s,l){function u(){s.errors=[],s.lastSearchCriteriaAirports={}}u(),s.$on(r,function(n,r,i){t.pushAll(s.errors,r),i&&(s.lastSearchCriteriaAirports.departureAirport=e.isFunction(i.getFirstLeg)?i.getFirstLeg().origin:i.origin,s.lastSearchCriteriaAirports.arrivalAirport=e.isFunction(i.getFirstLeg)?i.getFirstLeg().destination:i.destination)}),s.$on(a,function(){u()}),s.$on(o,function(){u()}),s.$on(i,u),s.anyErrorPresent=function(){return s.errors&&s.errors.length>0},n.linkComplete(s,l)}}}}),n("widgets/errorDisplays/ModalErrorDisplayWidget.drv",[],function(){"use strict";return function(e,t){return{link:function(n,r,i){var a=i.dedup,o={};n.$on(e,function(e,n,r){if(a){var i=JSON.stringify({errors:n,errorsCategory:r});if(o[i])return;o[i]=!0}t.open({animation:!0,templateUrl:"../widgets/view-templates/partials/ErrorsModal.tpl.html",controller:["$scope","$uibModalInstance",function(e,t){e.errorsList=n,e.modalTitle=r,e.ok=function(){t.close()}}]})})}}}}),n("widgets/errorDisplays/ErrorDisplays.mod",["angular","angular_bootstrap","widgets/errorDisplays/ErrorDisplayWidget.drv","widgets/errorDisplays/ModalErrorDisplayWidget.drv"],function(e,t,n,r){"use strict";return e.module("sdsWidgets.errorDisplays",[]).directive("validationErrorDisplay",["validationErrorEvent","$uibModal",r]).directive("networkErrorDisplay",["networkErrorEvent","$uibModal",r]).directive("errorDisplay",["errorEvent","resetErrorsEvent","newSearchCriteriaEvent","newInspirationalSearchCriteriaEvent",n])}),n("widgets/version",[],function(){return{version:function(){return{version:"1.0.0",revision:["v1.0.1-157-g0727dcd-dirty","v1.0.1","157","0727dcd","-dirty"],date:"Thu Mar 09 2017 12:17:14"}}}}),n("widgets/AboutWidget",["angular","widgets/SDSWidgets","widgets/version"],function(e,t,n){"use strict";return e.module("sdsWidgets").directive("about",function(){return{replace:!0,templateUrl:"../widgets/view-templates/widgets/AboutWidgetTemplate.tpl.html",link:function(e){e.version=n.version()}}})}),n("widgets/SpinnerContainer",["angular","widgets/SDSWidgets"],function(e,t){"use strict";return angular.module("sdsWidgets").directive("spinnerContainer",["usSpinnerService",function(e){return{transclude:!0,templateUrl:"../widgets/view-templates/widgets/SpinnerContainer.tpl.html",scope:!0,controller:["$scope","$element",function(t,n){t.spinnerId=n.attr("spinner-id"),t.spinnerOptions=n.attr("spinner-options"),t.startSpin=function(){t.spinneractive||(t.spinneractive=!0,e.spin(t.spinnerId))},t.stopSpin=function(){t.spinneractive&&(e.stop(t.spinnerId),t.spinneractive=!1)},t.spinneractive=!1}]}}])}),n("widgets/util/TranscludeWithInheritedScope",["angular","widgets/SDSWidgets"],function(e,t){"use strict";return angular.module("sdsWidgets").directive("transcludeWithInheritedScope",function(){return{link:function(e,t,n,r,i){i(e.$new(),function(e){t.append(e)})}}})}),n("widgets/templateCacheCharger",["angular","widgets/SDSWidgets"],function(e,t){e.module("sdsWidgets").run(["$templateCache",function(e){"use strict";e.put("../widgets/view-templates/partials/AirlineLogo.tpl.html","<img class=SDSAirlineLogo ng-src=http://analytics.sabre.com/sdsdemo/dslab/widgets/static/airlineLogos/{{::airlineCode}}.PNG fallback-src=http://analytics.sabre.com/sdsdemo/dslab/widgets/static/airlineLogos/generic_airline.PNG>"),e.put("../widgets/view-templates/partials/AirportInput.tpl.html",'<input placeholder="City or airport" autocomplete=off ng-model=airport uib-typeahead="airport as (airport | airportNameWithIATACode) for airport in airports | filter:$viewValue | airportNameBestSuggestionComparator:$viewValue | limitTo:30" typeahead-min-length=2 typeahead-wait-ms=50 typeahead-on-select=onSelect({airport:$model})>'),e.put("../widgets/view-templates/partials/DestinationFinderOfferDetailsInfoView.tpl.html","<div class=SDSDestinationFinderOfferDetailsInfoView><div class=triangle></div><h6 class=text-center><strong>{{parameter.destination | cityFullName}}</strong> from <strong>{{parameter.lowestFare.amount | isoCurrency:parameter.lowestFare.currency}}</strong></h6><ul class=\"SDSTopLevelList list-unstyled\"><li class=SDS-simple-row ng-repeat=\"offer in parameter.offers | orderBy:['LowestFare.Fare', 'departureDateTime', 'returnDateTime']\"><div class=SDS-simple-col-5-20><airline-logo airline-code={{offer.LowestFare.AirlineCodes[0]}}></airline-logo><small>{{offer.LowestFare.AirlineCodes[0]| airlineFullName}}</small></div><div class=SDS-simple-col-11-20><small>{{offer.departureDateTime | date:'dMMM'}} - {{offer.returnDateTime | date:'dMMM'}}(<ng-pluralize count=offer.lengthOfStay when=\"{'one': '1 day',\r\n                                          'other': '{} days'}\"></ng-pluralize>)</small></div><div class=SDS-simple-col-4-20><small>{{offer.LowestFare.Fare | isoCurrency:offer.CurrencyCode:0}}<div><a ng-init=\"searchOfferClickedFn=searchOfferClicked || parameter.searchOfferClicked\" ng-click=\"searchOfferClickedFn(\r\n                        {\r\n                            searchCriteria: {\r\n                                origin: offer.origin,\r\n                                destination: parameter.destination,\r\n                                departureDateTime: offer.departureDateTime,\r\n                                returnDateTime: offer.returnDateTime\r\n                            }\r\n                        })\">Search</a></div></small></div></li></ul></div>"),e.put("../widgets/view-templates/partials/DestinationFinderOfferShortDetailsInfoView.tpl.html","<div>{{parameter.destination | cityFullName}} from {{parameter.lowestFare.amount | isoCurrency:parameter.lowestFare.currency}}</div>"),e.put("../widgets/view-templates/partials/DiversitySwapper.tpl.html",'<div ng-if="enabled == \'true\'"><div class=SDS-row><div class="SDS-col-element-xxs-12 SDSTopBuffer-xs"><a href="" ng-click="$parent.showOptions = !$parent.showOptions" class="input-sm SDSToggleLink">{{$parent.showOptions ? "Disable Diversity Swapper" : "Enable Diversity Swapper" }}</a></div></div><div class=container-fluid><ng-form name=internalFormName><div ng-if=$parent.showOptions class=SDSBottomBuffer-xs><div class=SDSBottomBuffer-xs></div><div class="panel panel-default SDS-panel"><div class="panel-heading SDS-panel-heading">Low Fare Bucket</div><div class="panel-body SDS-panel-body"><div class=SDS-row><div class=SDS-col-element-lg-5><div class=SDS-row><div class="form-group SDS-form-inline-exclude" ng-class="{\'has-error\':internalFormName.lowFareBucket.$invalid\r\n                                    && (internalFormName.lowFareBucket.$dirty || internalFormName.$$parentForm.$submitted)}"><div class="SDS-col-element-md-12 SDS-col-element-lg-4"><label for=SDSSearchForm_Diversity_LowFareBucket class="input-sm control-label">Options</label></div><div class="SDS-col-element-md-12 SDS-col-element-lg-8"><div class="input-group input-group-sm"><span class=input-group-addon><input type=radio name=lowFareBucketModeInput ng-model=ngModel.lowFareBucketMode value={{ngModel.LowFareBucketModeEnum.OPTION}}></span> <input id=SDSSearchForm_Diversity_LowFareBucket type=number class=form-control name=lowFareBucket ng-model=ngModel.lowFareBucket min=0 ng-required="ngModel.lowFareBucketMode == ngModel.LowFareBucketModeEnum.OPTION" ng-disabled="ngModel.lowFareBucketMode == ngModel.LowFareBucketModeEnum.FARE_CUT_OFF"></div><div ng-show="internalFormName.lowFareBucket.$invalid\r\n                                            && (internalFormName.lowFareBucket.$dirty || internalFormName.$$parentForm.$submitted)" class=has-error><small class=help-block>Type a number greater than zero</small></div></div></div></div></div><div class=SDS-col-element-lg-5><div class=SDS-row><div class="form-group SDS-form-inline-exclude" ng-class="{\'has-error\':internalFormName.fareCutOff.$invalid\r\n                                    && (internalFormName.fareCutOff.$dirty || internalFormName.$$parentForm.$submitted)}"><div class="SDS-col-element-md-12 SDS-col-element-lg-4"><label for=SDSSearchForm_Diversity_LowFareBucket class="input-sm control-label">Fare Cut Off</label></div><div class="SDS-col-element-md-12 SDS-col-element-lg-8"><div class="input-group input-group-sm"><span class=input-group-addon><input type=radio name=lowFareBucketModeInput ng-model=ngModel.lowFareBucketMode value={{ngModel.LowFareBucketModeEnum.FARE_CUT_OFF}}></span> <input id=SDSSearchForm_Diversity_FareCutOff type=number class=form-control name=fareCutOff ng-model=ngModel.fareCutOff min=0 max=100 ng-required="ngModel.lowFareBucketMode == ngModel.LowFareBucketModeEnum.FARE_CUT_OFF" ng-disabled="ngModel.lowFareBucketMode == ngModel.LowFareBucketModeEnum.OPTION" aria-describedby=options-addon-fare-cut-off> <span class=input-group-addon id=options-addon-fare-cut-off>%</span></div><div ng-show="internalFormName.fareCutOff.$invalid\r\n                                            && (internalFormName.fareCutOff.$dirty || internalFormName.$$parentForm.$submitted)" class=has-error><small class=help-block>Type a percentage value</small></div></div></div></div></div></div></div></div><div class=SDSBottomBuffer-xs></div><div class="panel panel-default SDS-panel"><div class="panel-heading SDS-panel-heading">Price Options</div><div class="panel-body SDS-panel-body"><div class=SDS-row><div class=SDS-col-element-lg-5><div class=SDS-row><div class="form-group SDS-form-inline-exclude" ng-class="{\'has-error\':internalFormName.priceWeight.$invalid}"><div class="SDS-col-element-md-12 SDS-col-element-lg-4"><label for=SDSSearchForm_Diversity_PriceWeight class="input-sm control-label">Weight</label></div><div class="SDS-col-element-md-12 SDS-col-element-lg-8"><input id=SDSSearchForm_Diversity_PriceWeight type=number class="input-sm form-control" name=priceWeight ng-model=ngModel.priceWeight min=0 max=10></div></div></div></div></div></div></div><div class=SDSBottomBuffer-xs></div><div class="panel panel-default SDS-panel"><div class="panel-heading SDS-panel-heading">Travel Time Options</div><div class="panel-body SDS-panel-body"><div class=SDS-row><div class=SDS-col-element-lg-5><div class=SDS-row><div class="form-group SDS-form-inline-exclude" ng-class="{\'has-error\':internalFormName.travelTimeWeight.$invalid}"><div class="SDS-col-element-md-12 SDS-col-element-lg-4"><label for=SDSSearchForm_Diversity_TravelTimeWeight class="input-sm control-label">Weight</label></div><div class="SDS-col-element-md-12 SDS-col-element-lg-8"><input id=SDSSearchForm_Diversity_TravelTimeWeight type=number min=0 max=10 class="input-sm form-control" name=travelTimeWeight ng-model=ngModel.travelTimeWeight></div></div></div></div></div></div></div><div class=SDSBottomBuffer-xs></div><div class="panel panel-default SDS-panel"><div class="panel-heading SDS-panel-heading">Carrier Options</div><div class="panel-body SDS-panel-body"><div class=SDS-row><div class="SDS-col-element-md-12 SDS-col-element-lg-5"><div class=SDS-row><div class="form-group SDS-form-inline-exclude" ng-class="{\'has-error\':internalFormName.carrierWeight.$invalid}"><div class="SDS-col-element-md-12 SDS-col-element-lg-4"><label for=SDSSearchForm_Diversity_CarrierWeight class="input-sm control-label">Weight</label></div><div class="SDS-col-element-md-12 SDS-col-element-lg-8"><input id=SDSSearchForm_Diversity_CarrierWeight type=number min=0 max=10 class="input-sm form-control" name=carrierWeight ng-model=ngModel.carrier.weight></div></div></div></div><div class="SDS-col-element-md-12 SDS-col-element-lg-5"><div class=SDS-row><div class="form-group SDS-form-inline-exclude" ng-class="{\'has-error\':internalFormName.carrierOption.$invalid}"><div class="SDS-col-element-md-12 SDS-col-element-lg-4"><label for=SDSSearchForm_Diversity_CarrierOption class="input-sm control-label">Options</label></div><div class="SDS-col-element-md-12 SDS-col-element-lg-8"><input id=SDSSearchForm_Diversity_CarrierOption type=number min=1 class="input-sm form-control" name=carrierOption ng-model=ngModel.carrier.default.options></div></div></div></div><div class="SDS-col-element-md-12 SDS-col-element-lg-2"><div class="checkbox input-sm"><label for=SDSSearchForm_DIversity_CarrierOnlineIndicator><input id=SDSSearchForm_DIversity_CarrierOnlineIndicator type=checkbox name=carrierOnlineIndicator ng-model=ngModel.carrier.onlineIndicator> Online Indicator</label></div></div></div><div ng-repeat="i in ngModel.carrier.override"><div class=SDSBottomBuffer-xs></div><div class=SDS-row><div class="SDS-col-element-md-12 SDS-col-element-lg-5"><div class=SDS-row><div class="form-group SDS-form-inline-exclude" ng-class="{\'has-error\':internalFormName.overrideCarrierCode_{{$index}}.$invalid}"><div class="SDS-col-element-md-12 SDS-col-element-lg-4"><label for=SDSSearchForm_Diversity_OverrideCarrierCode_{{$index}} class="input-sm control-label">Override Carrier Code</label></div><div class="SDS-col-element-md-12 SDS-col-element-lg-8"><select-airline id=SDSSearchForm_Diversity_OverrideCarrierCode_{{$index}} name=overrideCarrierCode_{{$index}} airline=ngModel.carrier.override[$index].code>class="input-sm"></select-airline></div></div></div></div><div class="SDS-col-element-md-12 SDS-col-element-lg-5"><div class=SDS-row><div class="form-group SDS-form-inline-exclude" ng-class="{\'has-error\':internalFormName.overrideCarrierOption_{{$index}}.$invalid}"><div class="SDS-col-element-md-12 SDS-col-element-lg-4"><label for=SDSSearchForm_Diversity_OverrideCarrierOption_{{$index}} class="input-sm control-label">Override Carrier Option</label></div><div class="SDS-col-element-md-12 SDS-col-element-lg-8"><input id=SDSSearchForm_Diversity_OverrideCarrierOption_{{$index}} type=number min=1 class="input-sm form-control" name=overrideCarrierOption_{{$index}} ng-model=ngModel.carrier.override[$index].options></div></div></div></div><div class="SDS-col-element-md-12 SDS-col-element-lg-2" ng-show=$last><a href="" ng-click=ngModel.removeCarrierOverriding() class=input-sm><i class="glyphicon glyphicon-minus-sign"></i> Remove</a></div></div></div><div class=SDSBottomBuffer-xs></div><div class=SDS-row><div class=SDS-col-element-lg-3><a href="" ng-click=ngModel.addCarrierOverriding() class=input-sm><i class="glyphicon glyphicon-plus-sign"></i> Add carrier overriding</a></div></div><div class=SDSTopBuffer-xs></div></div></div><div class=SDSBottomBuffer-xs></div><div class="panel panel-default SDS-panel"><div class="panel-heading SDS-panel-heading">Operating Duplicate Options</div><div class="panel-body SDS-panel-body"><div class=SDS-row><div class="SDS-col-element-md-12 SDS-col-element-lg-5"><div class=SDS-row><div class="form-group SDS-form-inline-exclude" ng-class="{\'has-error\':internalFormName.operatingDuplicateWeight.$invalid}"><div class="SDS-col-element-md-12 SDS-col-element-lg-4"><label for=SDSSearchForm_Diversity_OperatingDuplicateWeight class="input-sm control-label">Weight</label></div><div class="SDS-col-element-md-12 SDS-col-element-lg-8"><input id=SDSSearchForm_Diversity_OperatingDuplicateWeight type=number min=0 max=10 class="input-sm form-control" name=operatingDuplicateWeight ng-model=ngModel.operatingDuplicate.weight></div></div></div></div><div class="SDS-col-element-md-12 SDS-col-element-lg-5"><div class=SDS-row><div class="form-group SDS-form-inline-exclude" ng-class="{\'has-error\':internalFormName.operatingDuplicatePreference.$invalid}"><div class="SDS-col-element-md-12 SDS-col-element-lg-4"><label for=SDSSearchForm_Diversity_OperatingDuplicatePreference class="input-sm control-label">Preference</label></div><div class="SDS-col-element-md-12 SDS-col-element-lg-8"><select-multiple-airlines is-multiple-selection=true id=SDSSearchForm_Diversity_OperatingDuplicatePreference name=operatingDuplicatePreference airlines=ngModel.operatingDuplicate.preferredCarriers></select-multiple-airlines></div></div></div></div></div></div></div><div class=SDSBottomBuffer-xs></div><div class="panel panel-default SDS-panel"><div class="panel-heading SDS-panel-heading">Inbound Outbound Pairing Options</div><div class="panel-body SDS-panel-body"><div class=SDS-row><div class="SDS-col-element-md-12 SDS-col-element-lg-5"><div class=SDS-row><div class="form-group SDS-form-inline-exclude" ng-class="{\'has-error\':internalFormName.inboundOutboundPairingWeight.$invalid}"><div class="SDS-col-element-md-12 SDS-col-element-lg-4"><label for=SDSSearchForm_Diversity_InboundOutboundPairingWeight class="input-sm control-label">Weight</label></div><div class="SDS-col-element-md-12 SDS-col-element-lg-8"><input id=SDSSearchForm_Diversity_InboundOutboundPairingWeight type=number min=0 max=10 class="input-sm form-control" name=inboundOutboundPairingWeight ng-model=ngModel.inboundOutboundPairing.weight></div></div></div></div><div class="SDS-col-element-md-12 SDS-col-element-lg-5"><div class=SDS-row><div class="form-group SDS-form-inline-exclude" ng-class="{\'has-error\':internalFormName.inboundOutboundPairingDuplicates.$invalid}"><div class="SDS-col-element-md-12 SDS-col-element-lg-4"><label for=SDSSearchForm_Diversity_InboundOutboundPairingDuplicates class="input-sm control-label">Duplicates</label></div><div class="SDS-col-element-md-12 SDS-col-element-lg-8"><input id=SDSSearchForm_Diversity_InboundOutboundPairingDuplicates type=number min=1 class="input-sm form-control" name=inboundOutboundPairingDuplicates ng-model=ngModel.inboundOutboundPairing.duplicates></div></div></div></div></div></div></div><div class=SDSBottomBuffer-xs></div><div class="panel panel-default SDS-panel"><div class="panel-heading SDS-panel-heading">Time of Day options</div><div class="panel-body SDS-panel-body"><div class=SDS-row><div class="SDS-col-element-md-12 SDS-col-element-lg-3"><div class=SDS-row><div class="form-group SDS-form-inline-exclude" ng-class="{\'has-error\':internalFormName.timeOfDay.weight.$invalid}"><div class="SDS-col-element-md-12 SDS-col-element-lg-7"><label for=SDSSearchForm_Diversity_TimeOfDayWeight class="input-sm control-label">Weight</label></div><div class="SDS-col-element-md-12 SDS-col-element-lg-5"><input id=SDSSearchForm_Diversity_TimeOfDayWeight type=number min=1 max=10 class="input-sm form-control" name=timeOfDayWeight ng-model=ngModel.timeOfDay.weight></div></div></div></div></div><div class=SDSBottomBuffer-xs></div><div ng-repeat="i in ngModel.timeOfDay.distributions" ng-init="outerIndex = $index"><div class=SDS-row><div class="SDS-col-element-md-12 SDS-col-element-lg-3"><div class=SDS-row><div class="form-group SDS-form-inline-exclude" ng-class="{\'has-error\':internalFormName.timeOfDayDirection.$invalid}"><div class="SDS-col-element-md-12 SDS-col-element-lg-7"><label for=SDSSearchForm_Diversity_TimeOfDayDirection class="input-sm control-label">Direction</label></div><div class="SDS-col-element-md-12 SDS-col-element-lg-5"><select id=SDSSearchForm_Diversity_TimeOfDayDirection name=timeOfDayDirection class="input-sm form-control" name=timeOfDayDirection ng-model=ngModel.timeOfDay.distributions[outerIndex].direction ng-options="option.description for option in ngModel.AvailableDirectionsEnum.values() track by option.id"></select></div></div></div></div><div class="SDS-col-element-md-12 SDS-col-element-lg-3"><div class=SDS-row><div class="form-group SDS-form-inline-exclude" ng-class="{\'has-error\':internalFormName.timeOfDayEndpoint.$invalid}"><div class="SDS-col-element-md-12 SDS-col-element-lg-7"><label for=SDSSearchForm_Diversity_TimeOfDayEndpoint class="input-sm control-label">Endpoint</label></div><div class="SDS-col-element-md-12 SDS-col-element-lg-5"><select id=SDSSearchForm_Diversity_TimeOfDayEndpoint name=timeOfDayEndpoint class="input-sm form-control" name=timeOfDayEndpoint ng-model=ngModel.timeOfDay.distributions[outerIndex].endpoint ng-options="option.description for option in ngModel.AvailableEndpointsEnum.values() track by option.id"></select></div></div></div></div></div><div ng-repeat="j in ngModel.timeOfDay.distributions[outerIndex].ranges" ng-init="innerIndex = $index"><div class=SDSBottomBuffer-xs></div><div class=SDS-row><div class="SDS-col-element-md-12 SDS-col-element-lg-3"><div class=SDS-row><div class="form-group SDS-form-inline-exclude" ng-class="{\'has-error\':internalFormName.timeOfDayRangeBegin_{{outerIndex}}_{{innerIndex}}.$invalid}"><div class="SDS-col-element-md-12 SDS-col-element-lg-7"><label for=SDSSearchForm_Diversity_TimeOfDayRangeBegin_{{outerIndex}}_{{innerIndex}} class="input-sm control-label">Range Begin</label></div><div class="SDS-col-element-md-12 SDS-col-element-lg-5"><timepicker-pop input-time=ngModel.timeOfDay.distributions[outerIndex].ranges[innerIndex].begin id=SDSSearchForm_Diversity_TimeOfDayRangeBegin_{{outerIndex}}_{{innerIndex}} name=timeOfDayRangeBegin_{{outerIndex}}_{{innerIndex}} minute-step=30 show-meridian=false ng-model=ngModel.timeOfDay.distributions[outerIndex].ranges[innerIndex].begin></timepicker-pop></div></div></div></div><div class="SDS-col-element-md-12 SDS-col-element-lg-3"><div class=SDS-row><div class="form-group SDS-form-inline-exclude" ng-class="{\'has-error\':internalFormName.timeOfDayRangeEnd_{{outerIndex}}_{{innerIndex}}.$invalid}"><div class="SDS-col-element-md-12 SDS-col-element-lg-7"><label for=SDSSearchForm_Diversity_TimeOfDayRangeEnd__{{outerIndex}}_{{innerIndex}} class="input-sm control-label">Range End</label></div><div class="SDS-col-element-md-12 SDS-col-element-lg-5"><timepicker-pop input-time=ngModel.timeOfDay.distributions[outerIndex].ranges[innerIndex].end id=SDSSearchForm_Diversity_TimeOfDayRangeEnd__{{outerIndex}}_{{innerIndex}} name=timeOfDayRangeEnd_{{outerIndex}}_{{innerIndex}} minute-step=30 show-meridian=false ng-model=ngModel.timeOfDay.distributions[outerIndex].ranges[innerIndex].end></timepicker-pop></div></div></div></div><div class="SDS-col-element-md-12 SDS-col-element-lg-3"><div class=SDS-row><div class="form-group SDS-form-inline-exclude" ng-class="{\'has-error\':internalFormName.timeOfDayRangeOptions_{{outerIndex}}_{{innerIndex}}.$invalid}"><div class="SDS-col-element-md-12 SDS-col-element-lg-6"><label for=SDSSearchForm_Diversity_TimeOfDayOptions_{{outerIndex}}_{{innerIndex}} class="input-sm control-label">Range Options</label></div><div class="SDS-col-element-md-12 SDS-col-element-lg-6"><div class="input-group input-group-sm"><input id=SDSSearchForm_Diversity_TimeOfDayOptions_{{outerIndex}}_{{innerIndex}} type=number min=1 max=100 class=form-control name=timeOfDayOptions__{{outerIndex}}_{{innerIndex}} ng-model=ngModel.timeOfDay.distributions[outerIndex].ranges[innerIndex].options pattern=^[1-9][0-9]?$|^100$ aria-describedby=options-addon_{{outerIndex}}_{{innerIndex}}> <span class=input-group-addon id=options-addon_{{outerIndex}}_{{innerIndex}}>%</span></div></div></div></div></div><div class="SDS-col-element-md-12 SDS-col-element-lg-3" ng-show="$last && innerIndex > 0"><a href="" ng-click=ngModel.removeLastRangeFromDistribution(outerIndex) class=input-sm><i class="glyphicon glyphicon-minus-sign"></i> Remove</a></div></div><div class=SDSTopBuffer-xs></div><div class=SDS-row ng-if="$last && innerIndex < 3"><div class=SDS-col-element-lg-3><a href="" ng-click=ngModel.addRangeToDistribution(outerIndex) class=input-sm><i class="glyphicon glyphicon-plus-sign"></i> Add more ranges</a></div></div><div class=SDSTopBuffer-xs></div></div><div class=SDS-row ng-if=$last><div class=SDS-col-element-lg-12><a href="" ng-click=ngModel.removeDistribution() class=input-sm><i class="glyphicon glyphicon-minus-sign"></i> Remove distribution</a></div></div><hr class=divider></div><div class=SDS-row><div class=SDS-col-element-lg-3><a href="" ng-click=ngModel.addDistribution() class=input-sm><i class="glyphicon glyphicon-plus-sign"></i> Add distribution</a><div class=SDSTopBuffer-xs></div></div></div></div></div><div class=SDSTopBuffer-xs></div><div class="panel panel-default SDS-panel"><div class="panel-heading SDS-panel-heading">Number of Stops Options</div><div class="panel-body SDS-panel-body"><div class=SDS-row><div class="SDS-col-element-md-12 SDS-col-element-lg-5"><div class=SDS-row><div class="form-group SDS-form-inline-exclude" ng-class="{\'has-error\':internalFormName.numberOfStopsWeight.$invalid}"><div class="SDS-col-element-md-12 SDS-col-element-lg-4"><label for=SDSSearchForm_Diversity_NumberOfStopsWeight class="input-sm control-label">Weight</label></div><div class="SDS-col-element-md-12 SDS-col-element-lg-8"><input id=SDSSearchForm_Diversity_NumberOfStopsWeight type=number min=1 max=10 class="input-sm form-control" name=numberOfStopsWeight ng-model=ngModel.numberOfStopsWeight></div></div></div></div></div></div></div></div></ng-form></div></div>'),
e.put("../widgets/view-templates/partials/ErrorsModal.tpl.html",'<div class=modal-content><div class=modal-header><button type=button class=close aria-label=Close ng-click=ok()><span aria-hidden=true>&times;</span></button><h3 class=modal-title>{{::modalTitle}}</h3></div><div class=modal-body><ul><li ng-repeat="error in errorsList"><span class=text-error>{{error}}</span></li></ul></div><div class=modal-footer><button type=button class="btn btn-primary" ng-click=ok()>OK</button></div></div>'),e.put("../widgets/view-templates/partials/FlexibleDepartureReturnDates.tpl.html",'<ng-form name=internalFormName><div class=form-group><div class="col-lg-9 col-lg-offset-3"><div class=checkbox><label for=internalFormName_IsFlexibleDepartureDate><input type=checkbox name=isFlexibleDepartureDate id=internalFormName_IsFlexibleDepartureDate ng-model=ngModel.dates.isFlexibleDepartureDate> Flexible departure date</label></div></div></div><div class=form-group ng-if=!ngModel.dates.isFlexibleDepartureDate ng-class="{\'has-error\': internalFormName.departureDate.$invalid || internalFormName.$error.invalidDepartureDate}"><label for=internalFormName_DepartureDate class="input-sm col-sm-3 control-label">Leaving on</label><div class=col-sm-3><input-date class=input-group id=internalFormName_DepartureDate name=departureDate class="form-control input-sm" required ng-model=ngModel.dates.departureDate min-date=minDate></input-date><div class=help-block ng-show=fareNabberForm.departureDate.$invalid><small ng-show=internalFormName.departureDate.$error.required>Choose departure date</small></div><div class=help-block ng-show=internalFormName.$error.invalidDepartureDate><small ng-show=internalFormName.$error.invalidDepartureDate>Leaving on must be before or equal to {{ngModel.dates.isFlexibleReturnDate ? "Returning from" : "Returning on"}}</small></div></div></div><div ng-if=ngModel.dates.isFlexibleDepartureDate><div class=form-group><div ng-class="{\'has-error\':internalFormName.departureDateFrom.$invalid\r\n                || internalFormName.$error.invalidDepartureDateFrom\r\n                || internalFormName.$error.invalidDepartureDateFromTo}"><label for=internalFormName_DepartureDateFrom class="input-sm col-sm-3 control-label">Leaving from</label><div class=col-sm-3><input-date class=input-group id=internalFormName_DepartureDateFrom name=departureDateFrom class="form-control input-sm" required ng-model=ngModel.dates.flexibleDepartureDate.from min-date=minDate></input-date><div class=help-block ng-show=internalFormName.departureDateFrom.$invalid><small ng-show=internalFormName.departureDateFrom.$error.required>Choose Leaving from</small></div><div class=help-block ng-if=internalFormName.$error.invalidDepartureDateFrom><small>Leaving from must be before or equal to {{ngModel.dates.isFlexibleReturnDate ? "Returning from" : "Returning on"}}</small></div><div class=help-block ng-if=internalFormName.$error.invalidDepartureDateFromTo><small>Leaving from must be before Leaving to</small></div></div></div><div ng-class="{\'has-error\':internalFormName.departureDateTo.$invalid\r\n                || internalFormName.$error.invalidDepartureDateToFrom\r\n                || internalFormName.$error.invalidDepartureDateToReturnDateTo}"><label for=internalFormName_DepartureDateTo class="input-sm col-sm-2 control-label">Leaving to</label><div class=col-sm-3><input-date class=input-group id=internalFormName_DepartureDateTo name=departureDateTo class="form-control input-sm" required ng-model=ngModel.dates.flexibleDepartureDate.to min-date=minDate></input-date><div class=help-block ng-show=internalFormName.departureDateTo.$invalid><small ng-show=internalFormName.departureDateTo.$error.required>Choose Leaving to</small></div><div class=help-block ng-if=internalFormName.$error.invalidDepartureDateToFrom><small>Leaving to must be after Leaving from</small></div><div class=help-block ng-if=internalFormName.$error.invalidDepartureDateToReturnDateTo><small>Leaving To must be before or equal to Returning To</small></div></div></div></div><div class=form-group><label for=internalFormName_DepartureDaysOfWeek class="input-sm control-label col-sm-3">Departure days of week</label><select-days-of-week class=col-sm-9 id=internalFormName_DepartureDaysOfWeek days-of-week=ngModel.daysOfTravelPreference.outbound></select-days-of-week></div></div><div class="col-lg-9 col-lg-offset-3"><div><a href="" ng-click="showOutboundFlightsTimeOfDaySelection = !showOutboundFlightsTimeOfDaySelection">Set specific hours for departure flights</a></div><div class="well well-lg form-group col-sm-6" uib-collapse=!showOutboundFlightsTimeOfDaySelection><label class="input-sm control-label">Flight departure time of day</label><div><input-time-of-day-range class="form-control input-sm" range=ngModel.outboundTravelTimeRange.departure></input-time-of-day-range></div><label class="input-sm control-label">Flight arrival time of day</label><div><input-time-of-day-range class="form-control input-sm" range=ngModel.outboundTravelTimeRange.arrival></input-time-of-day-range></div></div><div class="row SDSBottomBuffer-xs"></div></div><div class=form-group><div class="col-lg-9 col-lg-offset-3"><div class=checkbox><label for=internalFormName_FlexibleReturnDate><input type=checkbox name=isflexibleReturnDate id=internalFormName_FlexibleReturnDate ng-model=ngModel.dates.isFlexibleReturnDate> Flexible return date</label></div></div></div><div ng-show=!ngModel.dates.isFlexibleReturnDate ng-class="{\'has-error\':internalFormName.returnDate.$invalid || internalFormName.$error.invalidReturnDate}"><div class=form-group><label for=internalFormName_ReturnDate class="input-sm col-sm-3 control-label">Returning on</label><div class=col-sm-3><input-date class=input-group id=internalFormName_ReturnDate name=returnDate class="form-control input-sm" required ng-model=ngModel.dates.returnDate min-date=minDate></input-date><div class=help-block ng-show=internalFormName.returnDate.$invalid><small ng-show=internalFormName.returnDate.$error.required>Choose return date</small></div><div class=help-block ng-show=internalFormName.$error.invalidReturnDate><small ng-show=internalFormName.$error.invalidReturnDate>Returning on must be after or equal to {{ngModel.dates.isFlexibleReturnDate ? "Leaving from" : "Leaving on"}}</small></div></div></div></div><div ng-if=ngModel.dates.isFlexibleReturnDate><div class=form-group><div ng-class="{\'has-error\':internalFormName.returnDateFrom.$invalid\r\n                || internalFormName.$error.invalidReturnDateFrom\r\n                || internalFormName.$error.invalidReturnDatesFromTo}"><label for=internalFormName_ReturnDateFrom class="input-sm col-sm-3 control-label">Returning From</label><div class=col-sm-3><input-date class=input-group id=internalFormName_ReturnDateFrom name=returnDateFrom class="form-control input-sm" required ng-model=ngModel.dates.flexibleReturnDate.from min-date=minDate></input-date><div class=help-block ng-show=internalFormName.returnDateFrom.$invalid><small ng-show=internalFormName.returnDateFrom.$error.required>Choose return date from</small></div><div class=help-block ng-if=internalFormName.$error.invalidReturnDateFrom><small>Return from must be after or equal to {{ngModel.dates.isFlexibleDepartureDate ? "Leaving from" : "Leaving on"}}</small></div><div class=help-block ng-if=internalFormName.$error.invalidReturnDatesFromTo><small>Returning from must be before Returning to</small></div></div></div><div ng-class="{\'has-error\':internalFormName.returnDateTo.$invalid\r\n                    || internalFormName.$error.invalidReturnDatesToFrom\r\n                    || internalFormName.$error.invalidReturnDateToDepartureDateTo}"><label for=internalFormName_ReturnDateTo class="input-sm col-sm-2 control-label">Returning To</label><div class=col-sm-3><input-date class=input-group id=internalFormName_ReturnDateTo name=returnDateTo class="form-control input-sm" required ng-model=ngModel.dates.flexibleReturnDate.to min-date=minDate></input-date><div class=help-block ng-show=internalFormName.returnDateTo.$invalid><small ng-show=internalFormName.returnDateTo.$error.required>Choose return date to</small></div><div class=help-block ng-if=internalFormName.$error.invalidReturnDatesToFrom><small>Returning to must be after Returning from</small></div><div class=help-block ng-if=internalFormName.$error.invalidReturnDateToDepartureDateTo><small>Returning To must be after or equal to Leaving To</small></div></div></div></div><div class=form-group><label for=internalFormName_ReturnDaysOfWeek class="input-sm control-label col-sm-3">Return days of week</label><select-days-of-week class=col-sm-9 id=internalFormName_ReturnDaysOfWeek days-of-week=ngModel.daysOfTravelPreference.inbound></select-days-of-week></div></div><div class="col-lg-9 col-lg-offset-3"><div><a href="" ng-click="showInboundFlightsTimeOfDaySelection = !showInboundFlightsTimeOfDaySelection">Set specific hours for return flights</a></div><div class="well well-lg form-group col-sm-6" uib-collapse=!showInboundFlightsTimeOfDaySelection><label class="input-sm control-label">Flight departure time of day</label><div><input-time-of-day-range class="form-control input-sm" range=ngModel.inboundTravelTimeRange.departure></input-time-of-day-range></div><label class="input-sm control-label">Flight arrival time of day</label><div><input-time-of-day-range class="form-control input-sm" range=ngModel.inboundTravelTimeRange.arrival></input-time-of-day-range></div></div><div class="row SDSBottomBuffer-xs"></div></div></ng-form>'),e.put("../widgets/view-templates/partials/HighLowMedianCurrentChart.tpl.html",'<svg class=SDSHighLowMedianCurrentChart xmlns=http://www.w3.org/2000/svg><defs><marker class=SDSHLMCChartMainBarMarkerCircle id=markerCircle markerwidth=8 markerheight=8 refx=5 refy=5><circle cx=5 cy=5 r="2"/></marker></defs><g><rect class=SDSHLMCChartMainBar ng-attr-x={{chartConfig.topLeftOffset.x}} ng-attr-y={{chartConfig.topLeftOffset.y}} ng-attr-width={{chartConfig.bar.width}} ng-attr-height="{{chartConfig.bar.height}}"/><line class=SDSHLMCChartDataLine ng-attr-x1={{chartConfig.topLeftOffset.x}} ng-attr-y1={{chartConfig.topLeftOffset.y}} ng-attr-x2="{{chartConfig.topLeftOffset.x + chartConfig.bar.width}}" ng-attr-y2="{{chartConfig.topLeftOffset.y}}"/><line class=SDSHLMCChartPointerLine ng-attr-x1={{chartHelpers.getPointerLineXStart()}} ng-attr-y1={{chartConfig.topLeftOffset.y}} ng-attr-x2={{chartHelpers.getPointerLineXEnd()}} ng-attr-y2="{{chartConfig.topLeftOffset.y}}"/><text class=SDSHLMCChartDataLegend ng-attr-x="{{chartHelpers.getPointerLineXEnd() + chartConfig.pointerLineRightMargin}}" ng-attr-y={{chartConfig.topLeftOffset.y}}><tspan>{{highText}}</tspan><tspan dx=2>{{highValue | applyFilter:valuesFilter:valuesFilterArguments}}</tspan></text><line class=SDSHLMCChartDataLine ng-attr-x1={{chartConfig.topLeftOffset.x}} ng-attr-y1="{{chartConfig.topLeftOffset.y + chartConfig.bar.height}}" ng-attr-x2={{chartHelpers.getPointerLineXEnd()}} ng-attr-y2="{{chartConfig.topLeftOffset.y + chartConfig.bar.height}}"/><line class=SDSHLMCChartPointerLine ng-attr-x1={{chartHelpers.getPointerLineXStart()}} ng-attr-y1="{{chartConfig.topLeftOffset.y + chartConfig.bar.height}}" ng-attr-x2={{chartHelpers.getPointerLineXEnd()}} ng-attr-y2="{{chartConfig.topLeftOffset.y + chartConfig.bar.height}}"/><text class=SDSHLMCChartDataLegend ng-attr-x="{{chartHelpers.getPointerLineXEnd() + chartConfig.pointerLineRightMargin}}" ng-attr-y="{{chartConfig.topLeftOffset.y + chartConfig.bar.height}}"><tspan>{{lowText}}</tspan><tspan dx=2>{{lowValue | applyFilter:valuesFilter:valuesFilterArguments}}</tspan></text><line class=SDSHLMCChartDataLine ng-attr-x1={{chartConfig.topLeftOffset.x}} ng-attr-y1={{chartHelpers.getMedianNormalizedYPosition()}} ng-attr-x2="{{chartConfig.topLeftOffset.x + chartConfig.bar.width}}" ng-attr-y2="{{chartHelpers.getMedianNormalizedYPosition()}}"/><line class=SDSHLMCChartPointerLine ng-attr-x1={{chartHelpers.getPointerLineXStart()}} ng-attr-y1={{chartHelpers.getMedianNormalizedYPosition()}} ng-attr-x2={{chartHelpers.getPointerLineXEnd()}} ng-attr-y2="{{chartHelpers.getMedianNormalizedYPosition()}}"/><text class=SDSHLMCChartDataLegend ng-attr-x="{{chartHelpers.getPointerLineXEnd() + chartConfig.pointerLineRightMargin}}" ng-attr-y={{chartHelpers.getMedianNormalizedYPosition()}}><tspan>{{medianText}}</tspan><tspan dx=2>{{medianValue | applyFilter:valuesFilter:valuesFilterArguments}}</tspan></text><line class=SDSHLMCChartDataLine ng-if=currentValue ng-attr-x1={{chartConfig.topLeftOffset.x}} ng-attr-y1={{chartHelpers.getCurrentNormalizedYPosition()}} ng-attr-x2="{{chartConfig.topLeftOffset.x + chartConfig.bar.width}}" ng-attr-y2="{{chartHelpers.getCurrentNormalizedYPosition()}}"/><path class=SDSHLMCChartPointerLine ng-if=currentValue ng-attr-d="\r\n                M {{chartHelpers.getPointerLineXStart()}} {{chartHelpers.getCurrentNormalizedYPosition()}}\r\n                L {{chartHelpers.getPointerLineXStart() - chartConfig.bar.width * 0.25}} {{chartHelpers.getCurrentLegendYPosition()}}\r\n                L {{chartHelpers.getOppositePointerLineXEnd()}} {{chartHelpers.getCurrentLegendYPosition()}}\r\n              "></path><text class=SDSHLMCChartDataLegend style="text-anchor: end" ng-if=currentValue ng-attr-x="{{chartHelpers.getOppositePointerLineXEnd() - chartConfig.pointerLineRightMargin}}" ng-attr-y={{chartHelpers.getCurrentLegendYPosition()}}><tspan>{{currentText}}</tspan><tspan dx=2>{{currentValue | applyFilter:valuesFilter:valuesFilterArguments}}</tspan></text></g></svg>'),e.put("../widgets/view-templates/partials/InputDate.tpl.html",'<p><input class=form-control autocomplete=off ng-disabled="isDisabled == \'true\'" ng-required=required uib-datepicker-popup={{::dateFormat}} min-date=minDate is-open=isDatePickerOpened ng-model=ngModel ng-change="onDateChange({newDate: ngModel})" ng-click=openDatePicker($event)> <span class=input-group-btn><button type=button ng-disabled="isDisabled == \'true\'" class="btn btn-default" ng-click=openDatePicker($event)><i class="glyphicon glyphicon-calendar"></i></button></span></p>'),e.put("../widgets/view-templates/partials/InputOnOffToggle.tpl.html",'<div class=SDSCheckboxToggled><span class="SDSCheckboxToggledOffText control-label">{{::switchOffText}}</span><div class="checkbox checkbox-slider--b checkbox-slider-info"><label><input type=checkbox class=center-block ng-model=value> <span></span></label></div><span class="SDSCheckboxToggledOnText control-label">{{::switchOnText}}</span></div>'),e.put("../widgets/view-templates/partials/InputSortBy.tpl.html",'<div uib-dropdown><label class=control-label>{{::label}}</label><button type=button class="btn btn-primary btn-sm" uib-dropdown-toggle><span class=SDSDropdownLabelText>{{selectedFirstSortCriterion.selected.label}}</span> <span class=caret></span></button><ul class=dropdown-menu><li ng-repeat="criterion in availableSortCriteria"><a href="" data-criterion-index={{$index}}>{{criterion.label}}</a></li></ul></div>'),e.put("../widgets/view-templates/partials/InputTimeOfDayRange.tpl.html","<select ng-options=\"range as (range | timeOfDayRange:'LT') for range in timeOfDayRanges\" ng-model=selectedRange></select>"),e.put("../widgets/view-templates/partials/InputTimeRangePickerTemplate.tpl.html","<div><div range-slider min=minMaxConstraints.min max=minMaxConstraints.max step={{::step}} model-min=currentSelection.min model-max=currentSelection.max prevent-equal-min-max=true show-values=true attach-handle-values=true filter=minutesInDayToTimeOfDay filter-options=true on-handle-up=permittedValuesChanged()></div></div>"),e.put("../widgets/view-templates/partials/PlusMinusDaysSelection.tpl.html",'<div><label class="control-label input-sm SDSPlusMinusDaysLabel"><ng-transclude></ng-transclude></label><select class=form-control ng-model=days ng-options="day for day in plusMinusDaysList"></select></div>'),e.put("../widgets/view-templates/partials/PreferredCabinSelect.tpl.html",'<select name=PreferredCabin class="form-control input-sm" id=SDSSearchForm_PreferredCabin ng-model=cabinSelected><option value="" selected></option><option value=Economy>Economy</option><option value=PremiumEconomy>Premium Economy</option><option value=Business>Business</option><option value=First>First</option></select>'),e.put("../widgets/view-templates/partials/SelectAirline.tpl.html",'<ui-select class=SDSPreferredAirlineSelect ng-model=airlineInternal.selected theme=bootstrap style="width: 100%"><ui-select-match placeholder="type airline name or code">{{$select.selected.AirlineName}}</ui-select-match><ui-select-choices repeat="airline in allAirlines | filter: $select.search | limitTo:30"><span ng-bind-html="airline.AirlineName | highlight: $select.search"></span> <small ng-bind-html="airline.AirlineCode | highlight: $select.search"></small></ui-select-choices></ui-select>'),e.put("../widgets/view-templates/partials/SelectBags.tpl.html",'<select ng-options="bag as (bag | bags) for bag in bagsSelection" class="form-control input-sm" ng-model=bagsRequested></select>'),e.put("../widgets/view-templates/partials/SelectDaysOfWeek.tpl.html",'<div><ng-transclude></ng-transclude><div class="btn-group btn-group-sm"><label class="btn btn-primary" ng-repeat="day in daysOfWeekSymbols track by $index" ng-model=daysSelected[$index] uib-btn-checkbox>{{day}}</label></div></div>'),e.put("../widgets/view-templates/partials/SelectLengthsOfStay.tpl.html",'<div><span class="input-sm control-label"><ng-transclude></ng-transclude></span><div class="btn-group btn-group-sm"><label class="btn btn-primary" ng-repeat="los in predefinedLengthOfStayDays" ng-model=selectedPredefinedLengthOfStayDays.value uib-btn-radio={{los}}>{{los | humanizeDurationDays}}</label></div><div><div class="input-sm control-label">Set other duration values</div><ul class="list-unstyled list-inline"><li><label for=SDSDurationMin class="input-sm control-label">Min days</label><input type=number class="form-control SDS-form-inline-exclude input-sm SDSNumberInput2Digits" min=1 max=60 id=SDSDurationMin ng-model=lengthOfStay.minDays ng-value=lengthOfStay.minDays></li><li><label for=SDSDurationMax class="input-sm control-label">Max days</label><input type=number class="form-control SDS-form-inline-exclude input-sm SDSNumberInput2Digits" min=1 max=60 id=SDSDurationMax ng-model=lengthOfStay.maxDays ng-value=lengthOfStay.maxDays></li></ul></div></div>'),e.put("../widgets/view-templates/partials/SelectMonths.tpl.html",'<div><ng-transclude></ng-transclude><div class=checkbox ng-repeat="month in allMonths track by $index"><label class="control-label input-sm"><input class=form-control type=checkbox value=$index> {{month}}</label></div></div>'),e.put("../widgets/view-templates/partials/SelectMultipleAirlines.tpl.html",'<ui-select multiple class=SDSPreferredAirlineSelect ng-model=airlinesInternal.selected theme=bootstrap style="width: 100%"><ui-select-match placeholder="type airline name or code">{{$item.AirlineName}}</ui-select-match><ui-select-choices repeat="airline in allAirlines | filter: $select.search | limitTo:30"><span ng-bind-html="airline.AirlineName | highlight: $select.search"></span> <small ng-bind-html="airline.AirlineCode | highlight: $select.search"></small></ui-select-choices></ui-select>'),e.put("../widgets/view-templates/widgets/AboutWidgetTemplate.tpl.html",'<div class="panel panel-default SDSWidget SDSResponsiveElement"><div class="panel-heading text-center"><h4 class=panel-title>About</h4></div><div class=panel-body><div class=SDS-row><div class=SDS-col-element-md-8><h4>Build information</h4><dl class=dl-horizontal><dt ng-repeat-start="(key, value) in version">{{key}}</dt><dd ng-repeat-end="(key, value) in version">{{value}}</dd></dl></div></div></div></div>'),e.put("../widgets/view-templates/widgets/AlternateDatesMatrix.tpl.html",'<div class="SDSAlternateDatesMatrixWidget panel panel-default SDS-panel" ng-if=isAnyDataToDisplayAvailable()><div class="panel-heading SDS-panel-heading text-center"><h4 class=panel-title>Alternate Dates Lead Fares</h4></div><div class="panel-body SDS-panel-body"><div class=table-responsive><table class="SDSTable table table-bordered table-condensed" ng-if=isRoundTripTravel><caption>Cheapest options for nearby departure and return dates for <em>{{departureAirport | cityAndAirportFullName}}</em> to <em>{{arrivalAirport| cityAndAirportFullName}}</em></caption><thead><tr class=text-info><th></th><th ng-repeat="returnDate in requestedReturnDates">{{returnDate.format(\'ddd D MMM\')}}</th></tr></thead><tbody><tr ng-repeat="requestedDepartureDate in requestedDepartureDates"><th class=text-info>{{requestedDepartureDate.format(\'ddd D MMM\')}}</th><td ng-repeat="requestedReturnDate in requestedReturnDates" ng-init="leadFareForDates = altDatesPriceMatrix.getLeadFareForTravelDates(requestedDepartureDate, requestedReturnDate)" class=SDSCalendarCell ng-class="{\'bg-info\': isCentralRequestedDate(requestedDepartureDate, requestedReturnDate)}" ng-click="cellClicked(requestedDepartureDate, requestedReturnDate)"><div class="SDSCalendarCellPrice SDSPriceTier-{{day.priceTier}}">{{leadFareForDates.price | isoCurrency:leadFareForDates.currency}}</div></td></tr></tbody></table></div><div class=table-responsive><table class="SDSTable table table-bordered table-condensed" ng-if=isOneWayTravel><caption>Cheapest options for nearby departure dates for <em>{{departureAirport | cityAndAirportFullName}}</em> to <em>{{arrivalAirport| cityAndAirportFullName}}</em></caption><thead><tr class=text-info><th ng-repeat="requestedDepartureDate in requestedDepartureDates">{{requestedDepartureDate.format(\'ddd D MMM\')}}</th></tr></thead><tbody><tr><td ng-repeat="requestedDepartureDate in requestedDepartureDates" ng-init="leadFareForDate = altDatesPriceMatrix.getLeadFareForTravelDate(requestedDepartureDate)" class=SDSCalendarCell ng-class="{\'bg-info\': isCentralRequestedDate(requestedDepartureDate)}" ng-click=cellClicked(requestedDepartureDate)><div class="SDSCalendarCellPrice SDSPriceTier-{{day.priceTier}}">{{leadFareForDate.price | isoCurrency:leadFareForDate.currency}}</div></td></tr></tbody></table></div></div></div>'),e.put("../widgets/view-templates/widgets/CalendarWidgetNavigable.tpl.html",'<div class="SDSWidget SDSResponsiveElement"><div class="panel panel-default SDS-panel" ng-if=isAnyDataToDisplayAvailable()><div class="panel-heading SDS-panel-heading text-center"><h4 class=panel-title>Lead Prices Calendar</h4></div><div class="panel-body SDS-panel-body"><div class=SDS-row><div ng-class="{\'SDS-col-element-xxl-6\':numberOfMonthsShownAtOnce == 2, \'SDS-col-element-xxl-4\':numberOfMonthsShownAtOnce == 3}" ng-repeat="month in calendar.months | startFrom: (paginationSettings.currentPage - 1) * numberOfMonthsShownAtOnce | limitTo: numberOfMonthsShownAtOnce" disable=month.noPricesFound><h4 class=text-center>{{month.monthStartDate.format(\'MMMM\')}}</h4><ng-include src="\'../widgets/view-templates/widgets/CalendarWidgetOneMonth.tpl.html\'"></ng-include></div></div></div><div class="panel-footer SDS-panel-footer" ng-if="numberOfMonths > 1"><uib-pager total-items=calendar.months.length ng-model=paginationSettings.currentPage items-per-page=numberOfMonthsShownAtOnce></uib-pager></div></div></div>'),e.put("../widgets/view-templates/widgets/CalendarWidgetOneMonth.tpl.html",'<table class="SDSTable table table-condensed table-bordered"><thead><tr class=text-info><th ng-repeat="dayOfWeekName in calendar.dayOfWeekNames">{{dayOfWeekName}}</th></tr></thead><tbody><tr ng-repeat="week in month.weeks"><td highlight-length-of-stay length-of-stay-days={{calendar.getLastSearchCriteria().getLengthOfStay()}} highlight-class=bg-info ng-repeat="day in week.days" class=SDSCalendarCell ng-class="{\'SDSCalendarPrevOrNextMonthDay\': day.isPrevOrNextMonthDay}" ng-click=cellClicked(day.day)><div class=SDSCalendarCellContent ng-hide="day.isPrevOrNextMonthDay && doNotShowPrevNextMonthDays"><div class="SDSCalendarDateNumber pull-right">{{day.day.format(\'D\')}}</div><div class=clearfix></div><div ng-show=day.price class="SDSCalendarCellPrice text-center SDSPriceTier-{{day.priceTier}}">{{day.price | isoCurrency:day.currency}}</div></div></td></tr></tbody></table>'),e.put("../widgets/view-templates/widgets/CalendarWidgetTabs.tpl.html",'<div class="panel panel-default" ng-if=isAnyDataToDisplayAvailable()><div class="panel-heading text-center"><h4 class=panel-title>Lead Prices Calendar</h4></div><div class=panel-body><div ng-if="numberOfMonths > 1"><uib-tabset type=pills><uib-tab ng-repeat="month in calendar.months" heading="{{month.monthStartDate.format(\'MMM\')}} {{month.monthLeadPrice | isoCurrency:month.monthLeadPriceCurrency}}" disable=month.noPricesFound active=monthsDisplayStates[month.monthStartDate]><ng-include src="\'../widgets/view-templates/widgets/CalendarWidgetOneMonth.tpl.html\'"></ng-include></uib-tab></uib-tabset></div><div ng-if="numberOfMonths == 1" ng-init="month = calendar.months[0]"><h5 class=text-center>{{month.monthStartDate.format(\'MMM YYYY\')}} from {{month.monthLeadPrice | isoCurrency:month.monthLeadPriceCurrency}}</h5><ng-include src="\'../src/view-templates/widgets/CalendarWidgetOneMonth.tpl.html\'"></ng-include></div></div></div>'),e.put("../widgets/view-templates/widgets/ChangeOriginSelect.tpl.html",'<div class="SDSChangeOriginSelect well well-sm"><form class=form-inline name=changeOriginSelect novalidate><div class=form-group><label for=changeOriginSelect_Origin class="input-sm control-label">Your trip origin</label><input-airport id=changeOriginSelect_Origin name=Origin class="form-control SDSChangeOriginWidth" required airport=origin selectable-airports-for-this-pos-only=true on-select=newOriginSelected(airport)></input-airport></div></form></div>'),e.put("../widgets/view-templates/widgets/DestinationPricer.tpl.html",'<div class="SDSWidget SDSResponsiveElement SDSInspirationalList"><div class="panel panel-default" ng-show=ctrl.isAnyDataToDisplayAvailable()><div class="panel-heading text-center SDS-responsive-panel-heading"><h4 class=panel-title>Cheapest Flights To Destination</h4></div><div class="panel-body SDS-responsive-panel-body"><ul class="list-unstyled SDSTopLevelList"><div class=SDS-row><li ng-repeat="offerItem in ctrl.modelPricesToDestination.FareInfo"><div class=SDS-col-element-lg-6><div class=SDSInspirationalTile><div class=SDS-row><div class=SDS-col-element-xs-4><ul class="list-inline list-unstyled"><li><div ng-repeat="airline in offerItem.LowestFare.AirlineCodes" ng-if=$first><airline-logo airline-code={{airline}}></airline-logo><strong>{{airline | airlineFullName}}</strong></div></li></ul></div><div class=SDS-col-element-xs-5><ul class="list-inline list-unstyled"><li><div><strong>{{offerItem.OriginLocation | cityFullName:ctrl.lastRequestPosCountryOverride}}</strong></div></li><li><span class="glyphicon glyphicon-arrow-right" aria-hidden=true></span></li><li><strong>{{ctrl.modelPricesToDestination.DestinationLocation | cityFullName:ctrl.lastRequestPosCountryOverride}}</strong></li></ul></div><div class=SDS-col-element-xs-3><div class=pull-right><small class=SDSPaddingSmall>from</small><strong>{{offerItem.LowestFare.Fare | isoCurrency:offerItem.CurrencyCode}}</strong></div><div class=clearfix></div><div><button type=button class="btn-link pull-right" ns-popover ns-popover-template=DestinationPricerDetailsPopover ns-popover-trigger=mouseenter ns-popover-placement=bottom ns-popover-timeout=0.2>Details</button> <button type=button class="btn-link pull-right" ng-if=::searchLinkEnabled ng-click="offerClicked(\r\n                                                            {\r\n                                                                searchCriteria: {\r\n                                                                    origin: offerItem.OriginLocation,\r\n                                                                    destination: ctrl.modelPricesToDestination.DestinationLocation,\r\n                                                                    departureDateTime: offerItem.DepartureDateTime,\r\n                                                                    returnDateTime: offerItem.ReturnDateTime\r\n                                                                }\r\n                                                            })">Search</button></div><div class=clearfix></div></div></div></div></div></li></div></ul></div></div></div><script type=text/ng-template id=DestinationPricerDetailsPopover><div class="SDSDestinationPricerDetailsPopover">\r\n    <span class="triangle"></span>\r\n    <ul class="list-unstyled">\r\n        <li>\r\n            <small>Departure {{offerItem.DepartureDateTime | makeMomentAndFormat:\'ddd, DD MMM\'}} from {{offerItem.OriginLocation | cityAndAirportFullName:ctrl.lastRequestPosCountryOverride}}</small><!-- format: Sun, 05 Dec-->\r\n        </li>\r\n        <li>\r\n            <small>Return {{offerItem.ReturnDateTime | makeMomentAndFormat:\'ddd, DD MMM\'}} from {{ctrl.modelPricesToDestination.DestinationLocation | cityAndAirportFullName:ctrl.lastRequestPosCountryOverride}}</small><!-- format: Sun, 05 Dec-->\r\n        </li>\r\n    </ul></script>'),e.put("../widgets/view-templates/widgets/ErrorDisplayWidget.tpl.html",'<div class="panel panel-default" ng-if=anyErrorPresent()><div class=panel-heading><h4 class=panel-title>Service errors</h4></div><div class=panel-body>No results found for {{lastSearchCriteriaAirports.departureAirport | cityAndAirportFullName}} to {{lastSearchCriteriaAirports.arrivalAirport | cityAndAirportFullName}}<div class="well well-sm"><ul><li ng-repeat="error in errors track by $index"><p class=text-danger>{{error}}</p></li></ul></div></div></div>'),e.put("../widgets/view-templates/widgets/FareForecastWidget.tpl.html","<div class=\"SDSFareForecastWidget panel panel-default\" ng-if=\"ctrl.isAnyDataToDisplayAvailable() && ctrl.showRecommendationPolicy()\"><div class=panel-body><strong>Advice:</strong> <strong ng-class=\"{SDSRecommendationBuy: fareForecast.recommendation=='buy', SDSRecommendationWait: fareForecast.recommendation=='wait', SDSRecommendationUnknown: fareForecast.recommendation=='unknown'}\">{{fareForecast.recommendation | uppercase}}</strong><div ng-switch=fareForecast.recommendation><p ng-switch-when=buy>Prices may rise within 7 days</p><p ng-switch-when=wait>Prices may drop within 7 days</p><p ng-switch-when=unknown>Cannot predict prices within 7 days</p></div></div></div>"),e.put("../widgets/view-templates/widgets/FareNabberWidget.tpl.html",'<div ng-transclude><script type=text/ng-template id=FareNabberSubscriptionFormModal.html.tpl><div class="SDSWidget SDSFareNabberWidget">\r\n\r\n            <div class="modal-header">\r\n\r\n                <!-- Bootstrap way for close icon in top right corner -->\r\n                <button type="button" class="close" aria-label="Close" ng-click="cancel()">\r\n                    <span aria-hidden="true">&times;</span>\r\n                </button>\r\n\r\n                <h3 class="modal-title">Subscribe to price alerts</h3>\r\n            </div>\r\n\r\n            <form class="form-horizontal" name="fareNabberForm" novalidate ng-submit="fareNabberForm.$valid && subscribe()">\r\n                <div class="modal-body">\r\n\r\n                    <div class="form-group" ng-class="{\'has-error\':fareNabberForm.$submitted && fareNabberForm.subscriberEmail.$invalid}" ng-if="showEmailField">\r\n                        <label for="SDSFareNabberForm_SubscriberEmail" class="input-sm col-sm-3 control-label">Email</label>\r\n                        <div class="col-sm-9">\r\n                            <input type="email" id="SDSFareNabberForm_SubscriberEmail" name="subscriberEmail" class="form-control input-sm col-sm-10" placeholder="Type your email" autofocus required ng-model="subscriberEmail">\r\n                            <div class="help-block" ng-show="fareNabberForm.$submitted && fareNabberForm.subscriberEmail.$invalid">\r\n                                <small ng-show="fareNabberForm.subscriberEmail.$error.required">Input your email</small>\r\n                                <small ng-show="fareNabberForm.subscriberEmail.$error.email">Invalid email</small>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="form-group" ng-class="{\'has-error\':fareNabberForm.$submitted && fareNabberForm.origin.$invalid}">\r\n                        <label for="SDSFareNabberForm_Origin" class="input-sm col-sm-3 control-label">Trip departure airport or city</label>\r\n                        <div class="col-sm-9">\r\n                            <input type="text" class="form-control input-sm" id="SDSFareNabberForm_Origin" name="origin" placeholder="Trip departure airport or city" required autocomplete="off" ng-model="origin">\r\n                            <!--<input-airport class="form-control input-sm" id="SDSFareNabberForm_Origin" name="origin" required airport="origin" preselected-airport="origin"></input-airport>-->\r\n                            <!--<input type="text" id="SDSFareNabberForm_Origin" name="origin" class="form-control input-sm" placeholder="Trip departure airport or city" required autocomplete="off" ng-model="origin"-->\r\n                            <!--typeahead="airport as (airport | airportNameWithIATACode) for airport in airports | filter:$viewValue | airportNameBestSuggestionComparator:$viewValue | limitTo:30" typeahead-min-length="2" typeahead-wait-ms="50">-->\r\n                            <div class="help-block" ng-show="fareNabberForm.$submitted && fareNabberForm.origin.$invalid">\r\n                                <small ng-show="fareNabberForm.origin.$error.required">Type departure airport or city</small>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="form-group" ng-class="{\'has-error\':fareNabberForm.$submitted && fareNabberForm.destination.$invalid}">\r\n                        <label for="SDSFareNabberForm_Destination" class="input-sm col-sm-3 control-label">Trip arrival airport or city</label>\r\n                        <div class="col-sm-9">\r\n                            <input type="text" class="form-control input-sm" id="SDSFareNabberForm_Destination" name="destination" placeholder="Trip arrival airport or city" required autocomplete="off" ng-model="destination">\r\n                            <!--<input type="text" id="SDSFareNabberForm_Destination" name="destination" class="form-control input-sm" placeholder="Trip arrival airport or city" required autocomplete="off" ng-model="destination"-->\r\n                               <!--typeahead="airport as (airport | airportNameWithIATACode) for airport in airports | filter:$viewValue | airportNameBestSuggestionComparator:$viewValue | limitTo:30" typeahead-min-length="2" typeahead-wait-ms="50">-->\r\n                            <div class="help-block" ng-show="fareNabberForm.$submitted && fareNabberForm.destination.$invalid">\r\n                                <small ng-show="fareNabberForm.destination.$error.required">Type arrival airport or city</small>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="form-group">\r\n                        <label for="SDSFareNabberForm_PreferredAirlines" class="input-sm col-sm-3 control-label">Preferred Airlines</label>\r\n                        <div class="col-sm-9">\r\n                            <!-- do not style select-multiple-airlines with classes input-sm form-control and so on. the css for ui-select already takes care of bootstrap style, adding these classes additionally only messes the style-->\r\n                            <select-multiple-airlines id="SDSFareNabberForm_PreferredAirlines" name="PreferredAirlines"\r\n                                 min-date="defaultOptions.earliestTravelStart" airlines="preferredAirlines">\r\n                            </select-multiple-airlines>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <flexible-departure-return-dates ng-model="preferences" fdrd-form-name="fdrdForm" min-date="defaultOptions.earliestTravelStart"></flexible-departure-return-dates>\r\n\r\n                    <div class="form-group">\r\n                        <div class="col-lg-9 col-lg-offset-3">\r\n                            <div class="checkbox">\r\n                                <label for="SDSFareNabberForm_DirectFlightsOnly">\r\n                                    <input type="checkbox" name="DirectFlightsOnly" id="SDSFareNabberForm_DirectFlightsOnly" ng-model="directFlightsOnly">\r\n                                    Direct flights only\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="form-group">\r\n                        <div class="col-lg-9 col-lg-offset-3">\r\n                            <div class="checkbox">\r\n                                <label for="SDSFareNabberForm_AllowInterline">\r\n                                    <input type="checkbox" name="AllowInterline" id="SDSFareNabberForm_AllowInterline" ng-model="defaultOptions.allowInterline">\r\n                                    Allow multiple airline itineraries\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="form-group">\r\n                        <label for="SDSFareNabberForm_PaxNumber" class="input-sm control-label col-sm-3">Number of {{passengerType | passengerType | lowercase}} passengers</label>\r\n                        <div class="col-sm-9">\r\n                            <input type="number" id="SDSFareNabberForm_PaxNumber" name="passengerCount" value="1" min="1" max="9" required class="form-control input-sm SDSPaxNbrInput" string-to-number ng-model="passengerCount">\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="form-group">\r\n                        <div ng-class="{\'has-error\':fareNabberForm.$submitted && fareNabberForm.maximumAcceptablePrice.$invalid}">\r\n                            <label for="SDSFareNabberForm_MaximumAcceptablePrice" class="input-sm col-sm-3 control-label">Maximum acceptable price</label>\r\n\r\n                            <div class="col-sm-3">\r\n                                <input type="number" step="50" id="SDSFareNabberForm_MaximumAcceptablePrice" name="maximumAcceptablePrice"\r\n                                       class="form-control input-sm" placeholder="Max price" min="0" required string-to-number ng-model="maximumAcceptablePrice">\r\n                                <div class="help-block" ng-show="fareNabberForm.$submitted && fareNabberForm.maximumAcceptablePrice.$invalid">\r\n                                    <small ng-show="fareNabberForm.maximumAcceptablePrice.$error.required">Type maximum acceptable price</small>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="col-sm-3">\r\n                                <input type="text" id="SDSFareNabberForm_MaximumAcceptablePriceCurrency" name="maximumAcceptablePriceCurrency" class="form-control input-sm" placeholder="currency" ng-value="USD" required ng-model="maximumAcceptablePriceCurrency" readonly>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="form-group" ng-class="{\'has-error\':fareNabberForm.$submitted && fareNabberForm.subscriptionExpiryDate.$invalid}">\r\n                        <label for="SDSFareNabberForm_SubscriptionExpiryDate" class="input-sm col-sm-3 control-label">Expire subscription after</label>\r\n                        <div class="col-sm-3">\r\n                            <input-date class="input-group" id="SDSFareNabberForm_SubscriptionExpiryDate"\r\n                                        name="subscriptionExpiryDate" class="form-control input-sm" ng-model="subscriptionExpiryDate" required="true"></input-date>\r\n                            <div class="help-block" ng-show="fareNabberForm.$submitted && fareNabberForm.subscriptionExpiryDate.$invalid">\r\n                                <small ng-show="fareNabberForm.subscriptionExpiryDate.$error.required">Choose expiration date</small>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="modal-footer">\r\n                    <button type="submit" class="btn btn-primary">Subscribe</button>\r\n                    <button class="btn btn-warning" ng-click="cancel()">Cancel</button>\r\n                </div>\r\n            </form>\r\n\r\n        </div></script><script type=text/ng-template id=FareNabberSubscriptionSuccessful.html.tpl><div class="modal-body">\r\n            <span class="text-success center-block">You subscribed successfully to the price alert. Thank you!</span>\r\n        </div>\r\n        <div class="modal-footer">\r\n            <button class="btn btn-primary center-block" ng-click="ok()">OK</button>\r\n        </div></script></div>'),
e.put("../widgets/view-templates/widgets/FareRangeWidget.tpl.html",'<div class="SDSFareRangeWidget panel panel-default SDS-panel" ng-if="isAnyDataToDisplayAvailable() && showFareRangeToCustomer()"><div class="panel-heading SDS-panel-heading text-center"><h4 class=panel-title>Fare Range</h4></div><div class="panel-body SDS-panel-body"><high-low-median-current-chart class=center-block high-value={{fareRangeSummary.overallMaximumFare}} high-text=Highest low-value={{fareRangeSummary.overallMinimumFare}} low-text=Lowest median-value={{fareRangeSummary.overallMedianFare}} median-text=Median current-value={{currentLowestFare}} current-text="Fare found" values-filter=currency values-filter-arguments={{fareRangeSummary.currency}}></high-low-median-current-chart><ng-transclude></ng-transclude></div></div>'),e.put("../widgets/view-templates/widgets/ItinerariesFilterPanelWidget.tpl.html",'<filter-panel owner-id={{ownerId}}><values-filter filter-panel-id={{id}} type=discrete label="Number of stops" filterable-property-name=getNumberOfStops values-display-filter=humanizeNumberOfStops custom-currency-filter=isoCurrency></values-filter><values-filter filter-panel-id={{id}} type=discreteListAllRequired label="Layover airports" filterable-property-name=getConnectionAirports values-display-filter=cityAndAirportFullNameNoAirportWord custom-currency-filter=isoCurrency></values-filter><values-filter filter-panel-id={{id}} type=discrete label="Departure airports" filterable-property-name=getTripDepartureAirport values-display-filter=cityAndAirportFullNameNoAirportWord custom-currency-filter=isoCurrency></values-filter><values-filter filter-panel-id={{id}} type=discrete label="Arrival airports" filterable-property-name=getFirstLegArrivalAirport values-display-filter=cityAndAirportFullNameNoAirportWord custom-currency-filter=isoCurrency></values-filter><values-filter filter-panel-id={{id}} type=boolean label="Depart/Return same" filterable-property-name=isDepartureAndReturnSameAirport></values-filter><values-filter filter-panel-id={{id}} type=discrete label=Airline filterable-property-name=getFirstMarketingAirline values-display-filter=airlineFullName custom-currency-filter=isoCurrency></values-filter><values-filter filter-panel-id={{id}} type=rangeMonetaryAmount label=Price filterable-property-name=totalFareAmountWithCurrency can-filter-only-on-max-value=true custom-currency-filter=isoCurrency></values-filter><values-filter filter-panel-id={{id}} type=rangeDateTime label="Outbound flight departure" filterable-property-name=getOutboundDepartureDateTime values-display-filter=makeMomentAndFormat values-display-filter-options="hh:mm a"></values-filter><values-filter filter-panel-id={{id}} type=rangeDateTime label="Inbound flight arrival" filterable-property-name=getInboundArrivalDateTime values-display-filter=makeMomentAndFormat values-display-filter-options="hh:mm a"></values-filter><values-filter filter-panel-id={{id}} type=range label="Travel duration" filterable-property-name=outboundLegDuration values-display-filter=makeMomentDurationAndFormat values-display-filter-options=minute can-filter-only-on-max-value=true></values-filter></filter-panel>'),e.put("../widgets/view-templates/widgets/ItinerariesListWidget.tpl.html",'<div class="SDSWidget SDSResponsiveElement"><itinerary-summary-price-per-stops-per-airline ng-if=isAnyDataToDisplayAvailable() class=SDS-visible-lg summary=summaryPerStopsPerAirline summary-item-clicked-callback=summaryItemClickedCallback(itineraryId)></itinerary-summary-price-per-stops-per-airline><div class="panel panel-default" ng-if=isAnyDataToDisplayAvailable()><div class="panel-heading SDSPaddingSmall"><div class=SDS-row><div class="SDS-col-element-xxl-3 SDS-lead">{{permittedItinerariesCount}} options found for {{searchCriteriaDepartureAirport | cityAndAirportFullName}} to {{searchCriteriaArrivalAirport | cityAndAirportFullName}}</div><div class=SDS-col-element-xxl-7><uib-accordion class=SDS-hidden-lg close-others=false><uib-accordion-group is-open=true><uib-accordion-heading><span class=text-info>Cheapest:<div class=pull-right>{{bestItinerariesSummary.cheapest.totalFareAmountWithCurrency.amount | isoCurrency:bestItinerariesSummary.cheapest.totalFareAmountWithCurrency.currency}}</div><div class=clearfix></div></span></uib-accordion-heading><itinerary-short-summary itin=bestItinerariesSummary.cheapest itinerary-clicked-callback=summaryItemClickedCallback(itineraryId)></itinerary-short-summary></uib-accordion-group><uib-accordion-group><uib-accordion-heading><span class=text-info>Best:<div class=pull-right>{{bestItinerariesSummary.best.totalFareAmountWithCurrency.amount | isoCurrency:bestItinerariesSummary.best.totalFareAmountWithCurrency.currency}}</div><div class=clearfix></div></span></uib-accordion-heading><itinerary-short-summary itin=bestItinerariesSummary.best itinerary-clicked-callback=summaryItemClickedCallback(itineraryId)></itinerary-short-summary></uib-accordion-group><uib-accordion-group><uib-accordion-heading><span class=text-info>Shortest:<div class=pull-right>{{bestItinerariesSummary.shortest.totalFareAmountWithCurrency.amount | isoCurrency:bestItinerariesSummary.shortest.totalFareAmountWithCurrency.currency}}</div><div class=clearfix></div></span></uib-accordion-heading><itinerary-short-summary itin=bestItinerariesSummary.shortest itinerary-clicked-callback=summaryItemClickedCallback(itineraryId)></itinerary-short-summary></uib-accordion-group></uib-accordion><uib-tabset class=SDS-visible-lg><uib-tab heading="Cheapest: {{bestItinerariesSummary.cheapest.totalFareAmountWithCurrency.amount | isoCurrency:bestItinerariesSummary.cheapest.totalFareAmountWithCurrency.currency}}"><itinerary-short-summary itin=bestItinerariesSummary.cheapest itinerary-clicked-callback=summaryItemClickedCallback(itineraryId)></itinerary-short-summary></uib-tab><uib-tab heading="Best: {{bestItinerariesSummary.best.totalFareAmountWithCurrency.amount | isoCurrency:bestItinerariesSummary.best.totalFareAmountWithCurrency.currency}}"><itinerary-short-summary itin=bestItinerariesSummary.best itinerary-clicked-callback=summaryItemClickedCallback(itineraryId)></itinerary-short-summary></uib-tab><uib-tab heading="Shortest: {{bestItinerariesSummary.shortest.totalFareAmountWithCurrency.amount | isoCurrency:bestItinerariesSummary.shortest.totalFareAmountWithCurrency.currency}}"><itinerary-short-summary itin=bestItinerariesSummary.shortest itinerary-clicked-callback=summaryItemClickedCallback(itineraryId)></itinerary-short-summary></uib-tab></uib-tabset></div><div class=SDS-col-element-xxl-2><input-select-dropdown class=pull-right available-sort-criteria=availableSortCriteria selected-first-sort-criterion=selectedFirstCriterion on-sorting-criteria-changed=onSortingCriteriaChanged() label="Sort by"></input-select-dropdown></div></div></div><div class="panel-body SDS-no-paddings"><ul class="list-unstyled SDSTopLevelList"><li class=SDS-row ng-repeat="itinerary in permittedItinerariesSortedCurrentPageView"><itinerary id={{::getItinAnchorId(itinerary.id)}} itin=::itinerary itinerary-selected-callback="selectedItineraryCallback({itinerary: itinerary})" enable-itinerary-select-button={{::enableItinerarySelectButton}}></itinerary></li></ul></div><div class="panel-footer SDS-panel-footer"><uib-pagination class="pagination-sm pull-right" total-items=permittedItinerariesCount items-per-page=itemsPerPage ng-model=paginationSettings.currentPage boundary-links=true rotate=false></uib-pagination><div class=clearfix></div></div></div></div>'),e.put("../widgets/view-templates/widgets/Itinerary.tpl.html",'<div class="SDSWidget SDSResponsiveElement"><ul class="SDSLegList list-unstyled"><li><div class=SDS-row><ul class="SDS-col-element-xxs-12 SDS-hidden-xs list-inline list-unstyled"><li><airline-logo airline-code={{::itin.allMarketingAirlines[0]}}></airline-logo><small>{{::itin.allMarketingAirlines[0] | airlineFullName}}</small> <small>and other airlines</small></li></ul><ul class="SDS-col-element-xxs-9 SDS-visible-xs list-inline list-unstyled"><li ng-repeat="marketingAirline in ::itin.allMarketingAirlines"><ul class="list-unstyled list-inline"><li><airline-logo airline-code={{::marketingAirline}}></airline-logo></li><li><small>{{::marketingAirline | airlineFullName}}</small></li></ul></li></ul><ul class="SDS-col-element-lg-3 SDS-visible-lg list-inline list-unstyled text-right" ng-if="::itin.hasRedEyeFlight || itin.hasShortConnection || itin.hasLongConnection || itin.hasLowSeatsRemaining" ns-popover ns-popover-template=ItineraryIconsLegendTemplate ns-popover-trigger=mouseenter ns-popover-placement=top|right ns-popover-timeout=0.2><li ng-if=::itin.hasRedEyeFlight class=SDSIconRedEye></li><li ng-if=::itin.hasShortConnection class=SDSIconHurryUpShortConnection></li><li ng-if=::itin.hasLongConnection class=SDSIconLongConnection></li><li ng-if=::itin.hasLowSeatsRemaining class=SDSIconFewSeatsLeft></li></ul></div></li><li ng-repeat="leg in ::itin.legs" ng-init="legIndex = $index"><div class="SDSLegSummary SDS-row"><div class="SDS-col-element-xxs-4 SDS-col-element-md-4 SDS-col-element-lg-5"><span class="SDS-visible-xl-inline-block SDSTravelDateLong">{{::leg.departureDateTime.format(\'ddd, DD MMM\')}}</span> <span class=SDSTravelTime>{{::leg.departureDateTime.format(\'HH:mm\')}}</span> <span ng-class="::{\'bg-warning\':leg.hasAirportChangeAtDeparture}"><span class="badge SDSBadgeInfo">{{::leg.departureAirport}}</span><span class="SDS-visible-xl-inline-block SDSFullAirportName">{{::leg.departureAirport | cityAndAirportFullName}}</span></span></div><div class=SDS-col-element-xxs-1><div class=SDSIconAirplaneArrow></div></div><div class="SDS-col-element-xxs-4 SDS-col-element-md-4 SDS-col-element-lg-4"><span class=SDSTravelTime>{{::leg.arrivalDateTime.format(\'HH:mm\')}}</span> <span ng-class="::{\'bg-warning\':leg.hasAirportChangeAtArrival}"><span class="badge SDSBadgeInfo">{{::leg.arrivalAirport}}</span><span class="SDS-visible-xl-inline-block SDSFullAirportName">{{::leg.arrivalAirport | cityAndAirportFullName}}</span></span></div><div class="SDS-col-element-xxs-3 SDS-col-element-md-3 SDS-col-element-lg-2"><span>{{::leg.getDuration() | humanizeMinutes }}</span> <span class=SDS-visible-md-inline-block><ng-pluralize count=::leg.getNumberOfStops() when="\r\n                                            {\'0\': \'Non-stop\',\r\n                                             \'1\': \'1 stop\',\r\n                                             \'other\': \'{} stops\'}\r\n                                            "></ng-pluralize></span> <span ng-if=::leg.hasConnection()>{{::leg.getConnectionAirports() | stringJoiner:\',\':\'(\':\')\'}}</span></div></div><span ng-if="::itin.hasChangeOfAirportsAtAnyStopover() && $first" ng-class="::{\'ng-hide\':!flightDetailsAlwaysShown}" class="SDS-hidden-lg SDSItineraryFlightDetails text-warning">Please note: Trip has change of airports at stopover. Please inspect the airports carefully.</span> <span ng-if="::itin.departureAndArrivalDifferentForComplexTravel() && $first" ng-class="::{\'ng-hide\':!flightDetailsAlwaysShown}" class="SDS-hidden-lg SDSItineraryFlightDetails text-warning">Please note: Trip departure and return airports are not the same. Please inspect the airports carefully.</span><ul ng-class="::{\'ng-hide\':!flightDetailsAlwaysShown}" class="list-group SDSItineraryFlightDetails"><li class="list-group-item SDSPaddingSmall" ng-repeat-start="flight in ::leg.segments" ng-init="segmentIndex = $index"><ul class=list-unstyled><li><div class=SDS-row><strong><airline-logo airline-code={{::flight.marketingAirline}}></airline-logo>{{::flight.marketingAirline}} {{::flight.marketingFlightNumber}} {{::flight.marketingAirline | airlineFullName}}</strong></div></li><li><div class="SDS-row SDSFlightDepartureOrArrival"><div class=SDS-col-element-sm-4><span class=SDSLabelForTravelDate>Depart:</span> {{::flight.departureDateTime.format(\'ddd, DD MMM HH:mm\')}}</div><div class=SDS-col-element-sm-8><span class="SDSAirport badge SDSBadgeInfo">{{::flight.departureAirport}}</span> <span class=SDSFullAirportName>{{::flight.departureAirport | cityAndAirportFullName}}, {{::flight.departureAirport | airportCountry}}</span></div></div></li><li><div class="SDS-row SDSFlightDepartureOrArrival"><div class=SDS-col-element-sm-4><span class=SDSLabelForTravelDate>Arrive:</span> {{::flight.arrivalDateTime.format(\'ddd, DD MMM HH:mm\')}}</div><div class=SDS-col-element-sm-8><span class="SDSAirport badge SDSBadgeInfo">{{::flight.arrivalAirport}}</span> <span class=SDSFullAirportName>{{::flight.arrivalAirport | cityAndAirportFullName}}, {{::flight.arrivalAirport | airportCountry}}</span></div></div></li><li><div class=SDS-row><div class=SDS-col-element-lg-2><small>{{::flight.equipment | aircraftName}}</small></div><div class="SDS-col-element-lg-2 SDS-col-element-xl-1"><small>{{::itin.getSeatsRemaining(legIndex, segmentIndex)}} seats left</small></div><div class="SDS-col-element-lg-1 SDS-col-element-xl-1"><small>{{::itin.getCabin(legIndex, segmentIndex) | cabin}}</small></div><div class="SDS-col-element-lg-2 SDS-col-element-xl-1" ng-if="::itin.getMeals(legIndex, segmentIndex)"><small>Meal: {{::itin.getMeals(legIndex, segmentIndex) | meal}}</small></div><div class="SDS-col-element-lg-3 SDS-col-element-xl-2" ng-if="::itin.getBaggageAllowance(legIndex, segmentIndex)"><small>Baggage allowance: {{::itin.getBaggageAllowance(legIndex, segmentIndex) | baggageAllowance}}</small></div><div class="SDS-col-element-lg-2 SDS-col-element-xl-2" ng-if="::itin.getBrandsMatchedToFlight(legIndex, segmentIndex).length > 0"><small>Brands matched: {{::itin.getBrandsMatchedToFlight(legIndex, segmentIndex) | stringJoiner}}</small></div></div></li></ul></li><li ng-repeat-end ng-if=::!$last class=list-group-item>Connection {{::leg.getConnectionTimeMinutes(segmentIndex) | humanizeMinutes}}</li></ul></li><li><div ng-if=::itin.hasAnyBrands() class="ng-hide SDSItineraryBrandDetails"><ng-include src="\'../widgets/view-templates/widgets/ItineraryBrandDetails.tpl.html\'"></ng-include></div></li><span ng-if=::itin.hasChangeOfAirportsAtAnyStopover() class="SDS-visible-lg text-warning">Please note: Trip has change of airports at stopover. Please inspect the airports carefully.</span> <span ng-if=::itin.departureAndArrivalDifferentForComplexTravel() class="SDS-visible-lg text-warning">Please note: Trip departure and return airports are not the same. Please inspect the airports carefully.</span></ul><div class=SDSPriceSummary><div class=pull-left><span ng-if=::itin.isNonRefundableIndicatorDefined() ng-class="::{\'ng-hide\':!priceDetailsAlwaysShown}" class="SDSItineraryPriceDetails SDSItineraryTogglePriceDetails">{{::itin.itineraryPricingInfo.nonRefundableIndicator | ticketRefundability}}</span> <a ng-show=::!flightDetailsAlwaysShown href="" class="SDS-hidden-lg SDSItineraryShowPriceDetails SDSItineraryShowFlightDetails SDSItineraryHideWhenFlightDetailsShown">Show Details</a> <a ng-show=::!flightDetailsAlwaysShown href="" class="SDS-hidden-lg ng-hide SDSItineraryHidePriceDetails SDSItineraryHideFlightDetails SDSItineraryFlightDetails">Hide Details</a> <a ng-show=::!flightDetailsAlwaysShown href="" class="SDS-visible-lg SDSItineraryToggleFlightDetails">Flight Details</a> <a href="" class="SDS-visible-lg SDSItineraryToggleBrandDetails" ng-show=::itin.hasAnyBrands()>Brand Details</a></div><div><ul class="list-unstyled pull-right"><li>Total price: <strong>{{::itin.totalFareAmountWithCurrency.amount | isoCurrency:itin.totalFareAmountWithCurrency.currency}}</strong></li><li ng-show=::!priceDetailsAlwaysShown><a href="" class="SDS-visible-lg ng-show SDSItineraryTogglePriceDetails">Price Details</a></li><li ng-class="::{\'ng-hide\':!priceDetailsAlwaysShown}" class="SDSItineraryPriceDetails SDSItineraryTogglePriceDetails">Base fare: {{::itin.baseFareAmount | isoCurrency:itin.baseFareCurrency}}</li><li ng-class="::{\'ng-hide\':!priceDetailsAlwaysShown}" class="SDSItineraryPriceDetails SDSItineraryTogglePriceDetails">Taxes: {{::itin.totalTaxAmount | isoCurrency:itin.totalTaxCurrency}}</li><li ng-if=::itin.baggageCharges ng-class="::{\'ng-hide\':!priceDetailsAlwaysShown}" class="SDSItineraryPriceDetails SDSItineraryTogglePriceDetails">Bag charges: {{::itin.baggageCharges | isoCurrency:itin.totalTaxCurrency}}</li></ul></div><div class=clearfix></div><div ng-if=::!hideItinerarySelectButton><div ng-class="::{\'ng-hide\':!flightDetailsAlwaysShown}" class="SDSItineraryFlightDetails SDSTopBuffer-xs SDS-hidden-md"></div><button type=button ng-disabled={{::!enableItinerarySelectButton}} ng-click=selectItineraryClicked(itin) ng-class="::{\'ng-hide\':!flightDetailsAlwaysShown}" class="SDSItineraryFlightDetails SDSCheckoutButton btn btn-primary btn-sm pull-right SDS-hidden-md">Select</button><div class="SDSTopBuffer-xs SDS-visible-md"></div><button type=button ng-disabled={{::!enableItinerarySelectButton}} ng-click=selectItineraryClicked(itin) class="SDSCheckoutButton btn btn-primary btn-sm pull-right SDS-visible-md">Select</button></div></div></div><script type=text/ng-template id=ItineraryIconsLegendTemplate><div class="SDSItineraryIconsLegendTemplate">\r\n        <div class="triangle"></div>\r\n        <dl>\r\n            <dt ng-if="::itin.hasRedEyeFlight" class="SDSIconRedEye"></dt>\r\n            <dd ng-if="::itin.hasRedEyeFlight">Red-eye flight</dd>\r\n            <dt ng-if="::itin.hasShortConnection" class="SDSIconHurryUpShortConnection"></dt>\r\n            <dd ng-if="::itin.hasShortConnection">Short connection, hurry up</dd>\r\n            <dt ng-if="::itin.hasLongConnection" class="SDSIconLongConnection"></dt>\r\n            <dd ng-if="::itin.hasLongConnection">Long connection, long wait time at airport</dd>\r\n            <dt ng-if="::itin.hasLowSeatsRemaining" class="SDSIconFewSeatsLeft"></dt>\r\n            <dd ng-if="::itin.hasLowSeatsRemaining">Few seats left</dd>\r\n        </dl>\r\n    </div></script>'),e.put("../widgets/view-templates/widgets/ItineraryBrandDetails.tpl.html","<ul class=list-group><li class=list-group-item><table class=\"SDSTable table table-bordered table-condensed\"><thead><tr><th class=text-center>Brands</th><th class=text-center>{{itin.itineraryPricingInfo.summaries.uniqueBrandsMatchedToAllFlights | stringJoiner}} <small><em>(main fare)</em></small></th><th class=text-center ng-repeat=\"brand in itin.additionalFaresPricingInfos\">{{brand.summaries.uniqueBrandsMatchedToAllFlights | stringJoiner}} <span ng-if=!brand.fareReturned>Fare not returned for brands. {{brand.getTranslatedFareStatus()}}</span></th></tr></thead><tbody><tr><td class=text-center>Total fare</td><td class=text-center><strong>{{itin.totalFareAmountWithCurrency.amount | isoCurrency:itin.totalFareAmountWithCurrency.currency}}</strong></td><td class=text-center ng-repeat=\"brand in itin.additionalFaresPricingInfos\"><strong>{{brand.fareAmounts.totalFare.amount | isoCurrency: brand.fareAmounts.totalFare.currency}}</strong></td></tr><tr><td class=text-center>Cabins</td><td class=text-center>{{itin.itineraryPricingInfo.summaries.uniqueCabins | forEachApplyFilter:'cabin' | stringJoiner:'/'}}</td><td class=text-center ng-repeat=\"brand in itin.additionalFaresPricingInfos\">{{brand.summaries.uniqueCabins | forEachApplyFilter:'cabin' | stringJoiner}}</td></tr><tr><td class=text-center>Ticket refundable</td><td class=text-center>{{itin.itineraryPricingInfo.nonRefundableIndicator | ticketRefundability}}</td><td class=text-center ng-repeat=\"brand in itin.additionalFaresPricingInfos\">{{brand.nonRefundableIndicator | ticketRefundability}}</td></tr><tr><td class=text-center>OB Fees</td><td class=text-center><span ng-repeat=\"obFee in itin.itineraryPricingInfo.OBFees\">{{obFee.amount | isoCurrency: obFee.currency}}</span></td><td class=text-center ng-repeat=\"brand in itin.additionalFaresPricingInfos\"><span ng-repeat=\"obFee in brand.OBFees\">{{obFee.amount | isoCurrency: obFee.currency}}</span></td></tr><tr><td class=text-center>Baggage allowance</td><td class=text-center>{{itin.itineraryPricingInfo.summaries.uniqueBaggageAllowance | forEachApplyFilter:'baggageAllowance' | stringJoiner:'/'}}</td><td class=text-center ng-repeat=\"brand in itin.additionalFaresPricingInfos\">{{brand.summaries.uniqueBaggageAllowance | forEachApplyFilter:'baggageAllowance' | stringJoiner:'/'}}</td></tr><tr><td class=text-center>Meals</td><td class=text-center>{{itin.itineraryPricingInfo.summaries.uniqueMeals | forEachApplyFilter:'meal' | stringJoiner:'/'}}</td><td class=text-center ng-repeat=\"brand in itin.additionalFaresPricingInfos\">{{brand.summaries.uniqueMeals | forEachApplyFilter:'meal' | stringJoiner:'/'}}</td></tr></tbody></table></li></ul>"),e.put("../widgets/view-templates/widgets/ItineraryPricePerStopsPerAirlineSummary.tpl.html",'<div class="panel panel-default" ng-if=isAnyDataToDisplayAvailable()><div class="panel-heading text-center SDS-responsive-panel-heading"><h4 class=panel-title>Lowest prices by airline and number of stops</h4></div><div class="panel-body SDS-responsive-panel-body"><div class=table-responsive><table class="SDSPricePerStopsPerAirlineSummaryTable table table-hover table-bordered table-condensed"><thead><th></th><th class=success>Lowest price</th><th class=text-center ng-repeat="item in summary.airlineSummaries"><airline-logo airline-code={{item.airline}}></airline-logo><div>{{item.airline | airlineFullName}}</div></th></thead><tbody><tr ng-if=summary.totalSummary.nonStopLowestPrice><td>Non-stop</td><td class=success ng-click=itemClicked(summary.totalSummary.nonStopLowestPriceItineraryId)><a>{{summary.totalSummary.nonStopLowestPrice | isoCurrency:summary.totalSummary.totalFareCurrency}}</a></td><td ng-repeat="item in summary.airlineSummaries" ng-class="{success: item.isCheapestNonStop}" ng-click=itemClicked(item.nonStopLowestPriceItineraryId)><a>{{item.nonStopLowestPrice | isoCurrency:summary.totalSummary.totalFareCurrency}}</a></td></tr><tr ng-if=summary.totalSummary.oneStopLowestPrice><td>1 Stop</td><td class=success ng-click=itemClicked(summary.totalSummary.oneStopLowestPriceItineraryId)><a>{{summary.totalSummary.oneStopLowestPrice | isoCurrency:summary.totalSummary.totalFareCurrency}}</a></td><td ng-repeat="item in summary.airlineSummaries" ng-class="{success: item.isCheapestOneStopLowestPrice}" ng-click=itemClicked(item.oneStopLowestPriceItineraryId)><a>{{item.oneStopLowestPrice | isoCurrency:summary.totalSummary.totalFareCurrency}}</a></td></tr><tr ng-if=summary.totalSummary.twoAndMoreStopsLowestPrice><td>2+ Stops</td><td class=success ng-click=itemClicked(summary.totalSummary.twoAndMoreStopsLowestPriceItineraryId)><a>{{summary.totalSummary.twoAndMoreStopsLowestPrice | isoCurrency:summary.totalSummary.totalFareCurrency}}</a></td><td ng-repeat="item in summary.airlineSummaries" ng-class="{success: item.isCheapestTowOrMoreStopsLowestPrice}" ng-click=itemClicked(item.twoAndMoreStopsLowestPriceItineraryId)><a>{{item.twoAndMoreStopsLowestPrice | isoCurrency:summary.totalSummary.totalFareCurrency}}</a></td></tr></tbody></table></div></div></div>'),e.put("../widgets/view-templates/widgets/ItineraryShortSummary.tpl.html",'<div><div class="SDS-row SDSLegShortSummary" ng-click=itemClicked(itinerary.id)><div class=SDS-col-element-xl-3><a><img class=SDSAirlineLogo ng-src=http://analytics.sabre.com/sdsdemo/dslab/widgets/static/airlineLogos/{{itinerary.getFirstLeg().getFirstFlightMarketingAirline()}}.PNG fallback-src=http://analytics.sabre.com/sdsdemo/dslab/widgets/static/airlineLogos/generic_airline.PNG> {{itinerary.getFirstLeg().getFirstFlightMarketingAirline() | airlineFullName}}</a></div><div class=SDS-col-element-xl-9><ul class="list-inline list-unstyled"><li class=SDSTravelDateLong>{{itinerary.getFirstLeg().departureDateTime.format(\'ddd, DD MMM\')}}</li><li class=SDSTravelTime>{{itinerary.getFirstLeg().departureDateTime.format(\'HH:mm\')}}</li><li class="SDSAirport badge SDSBadgeInfo">{{itinerary.getFirstLeg().departureAirport}}</li><li class=SDSIconAirplaneArrow></li><li class=SDSTravelTime>{{itinerary.getFirstLeg().arrivalDateTime.format(\'HH:mm\')}}</li><li class="SDSAirport badge SDSBadgeInfo">{{itinerary.getFirstLeg().arrivalAirport}}</li></ul></div></div></div>'),e.put("../widgets/view-templates/widgets/LeadPriceChartWidget.tpl.html",'<div class="SDSLeadPriceChart panel panel-default" ng-show=ctrl.isAnyDataToDisplayAvailable()><div class="panel-heading text-center"><h4 class=panel-title>Lead Prices</h4></div><div class=panel-body ng-show=ctrl.isAnyDataToDisplayAvailable()><h5>Prices from <em>{{ctrl.lastSearchCriteriaAirports.departureAirport | cityAndAirportFullName}}</em> to <em>{{ctrl.lastSearchCriteriaAirports.arrivalAirport | cityAndAirportFullName}}</em>, from <strong>{{ctrl.minDateAndPricePair.totalFareAmount | isoCurrency:ctrl.minDateAndPricePair.currency}}</strong> at <strong>{{ctrl.minDateAndPricePair.date.format(\'D MMM\')}}</strong></h5><div><canvas ng-click=ctrl.chartClicked($event)></canvas></div></div><div class=panel-footer><nav ng-show=ctrl.isAnyDataToDisplayAvailable()><ul class=pager><li class=previous ng-class="{\'disabled SDSInactive\': !ctrl.navigationState.prevLinkActive}"><a href="" ng-click=ctrl.onEarlierRequested()>EARLIER</a></li><li class=next ng-class="{\'disabled SDSInactive\': !ctrl.navigationState.nextLinkActive}"><a href="" ng-click=ctrl.onLaterRequested()>LATER</a></li></ul></nav></div></div>'),e.put("../widgets/view-templates/widgets/LowFareHistory.tpl.html",'<div class="panel panel-default SDS-panel" ng-show=ctrl.isAnyDataToDisplayAvailable()><div class="panel-heading text-center" ng-hide=hideHeader><h4 class=panel-title>Low Fare History</h4></div><div class=panel-body><div class=text-center><small>Lowest fares from <em>{{ctrl.lastSearchCriteriaAirports.departureAirport | cityFullName}}</em> to <em>{{ctrl.lastSearchCriteriaAirports.arrivalAirport | cityFullName}}</em> in last {{historyDaysCount}} days</small></div><div><canvas></canvas></div></div></div>'),e.put("../widgets/view-templates/widgets/MapThemedDestinationFinderWidget.tpl.html",'<div class="SDSWidget SDSMapThemedDestinationFinderWidget" ng-if=isAnyDataToDisplayAvailable()><div class=SDSMapTopLegend><span class=SDSMapTopLegendElement ng-repeat="(tier, tierPriceFrom) in model.priceTiersStatistics.tiersPricesFrom"><img ng-src={{getTierIcon(tier)}}> from {{tierPriceFrom | isoCurrency:model.priceTiersStatistics.tiersPriceCurrency:0}}</span></div><ui-gmap-google-map center=closestAirportGeoCoordinates zoom=initialZoom refresh=true><ui-gmap-marker ng-repeat="offersForOneDestination in model.pricesForDestinationsGrouped track by offersForOneDestination.destination" coords=offersForOneDestination.geoCoordinates idkey=offersForOneDestination.destination click="offersForOneDestination.offerShown = !offersForOneDestination.offerShown" options=getMarkerOptions(offersForOneDestination.priceTier) events=markerEvents control=offersForOneDestination><ui-gmap-window show="offersForOneDestination.shortDetailsShown && !offersForOneDestination.offerShown" templateurl="\'../widgets/view-templates/partials/DestinationFinderOfferShortDetailsInfoView.tpl.html\'" templateparameter=offersForOneDestination closeclick="offersForOneDestination.shortDetailsShown = !offersForOneDestination.shortDetailsShown" ng-cloak></ui-gmap-window><ui-gmap-window show=offersForOneDestination.offerShown templateurl="\'../widgets/view-templates/partials/DestinationFinderOfferDetailsInfoView.tpl.html\'" templateparameter=offersForOneDestination closeclick="offersForOneDestination.offerShown = !offersForOneDestination.offerShown" ng-cloak></ui-gmap-window></ui-gmap-marker></ui-gmap-google-map></div>'),e.put("../widgets/view-templates/widgets/SearchFormInspirationalWidget.tpl.html",'<div class="panel panel-default SDSWidget SDSResponsiveElement SDSSearchFormInspirationalWidget"><div class=panel-body><form class=SDS-form-md-inline name=searchFormInspirational class=SDSTopBuffer-xs novalidate ng-submit=createNewSearchCriteria()><div class=SDS-row><div class=form-group ng-class="{\'has-error\':searchFormInspirational.$submitted && searchFormInspirational.Destination.$invalid}"><label for=SDSSearchFormInspirational_Destination class="input-sm control-label">Destination</label><input-airport id=SDSSearchFormInspirational_Destination name=Destination class="form-control input-sm" required airport=destination selectable-airports-for-this-pos-only={{selectableAirportsForThisPosOnly}}></input-airport></div><div ng-show="searchFormInspirational.$submitted && searchFormInspirational.Destination.$invalid" class=has-error><small class=help-block ng-show=searchFormInspirational.Destination.$error.required>Type destination airport or city</small></div><div class=form-group ng-if="isVisible(\'PointOfSaleCountry\')"><label for=SDSSearchFormInspirational_PreferredCabin class="input-sm control-label">Point of sale country</label><select name=PointOfSaleCountry class="form-control input-sm" id=SDSSearchFormInspirational_PreferredCabin ng-model=searchContext.pointOfSaleCountry ng-options="country.countryCode as country.countryName for country in pointOfSaleCountries"></select></div><button type=submit class="SDS-hidden-md btn btn-primary btn-block SDSTopBuffer-xs">Search</button> <button type=submit class="SDS-visible-md-inline-block SDS-form-inline-button btn btn-primary center-block">Search</button></div></form></div></div>'),e.put("../widgets/view-templates/widgets/SearchFormWidget.tpl.html",'<script type=text/ng-template id=GeneralSearchCriteria><div class="SDS-row" ng-if="isVisible(\'ADTPaxNumber\') || isVisible(\'BagsRequested\')">\r\n        <div class="SDS-col-element-xxs-3" ng-if="isVisible(\'ADTPaxNumber\')">\r\n            <div class="form-group" ng-class="{\'has-error\':searchForm.$submitted && searchForm.ADTPaxNumber.$invalid}">\r\n                <label for="SDSSearchForm_ADTPaxNumber" class="input-sm control-label">Adults (12+)</label>\r\n                <input id="SDSSearchForm_ADTPaxNumber" type="number" name="ADTPaxNumber" value="1" min="1" max="9" required class="form-control input-sm SDSPaxNbrInput" ng-model="generalSearchCriteria.ADTPaxCount">\r\n            </div>\r\n        </div>\r\n        <div class="SDS-col-element-xxs-3" ng-if="isVisible(\'BagsRequested\')">\r\n            <div class="form-group" ng-class="{\'has-error\':searchForm.$submitted && searchForm.bagsRequested.$invalid}">\r\n                <label for="SDSSearchForm_BagsRequested" class="input-sm control-label">Bags</label>\r\n                <select-bags id="SDSSearchForm_BagsRequested" name="BagsRequested" class="form-control input-sm" bags-requested="generalSearchCriteria.bagsRequested"></select-bags>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="SDS-row">\r\n        <div class="SDS-col-element-xxs-12">\r\n            <div class="checkbox input-sm" ng-if="isVisible(\'DirectFlightsOnly\')">\r\n                <label for="SDSSearchForm_DirectFlightsOnly">\r\n                    <input type="checkbox" name="DirectFlightsOnly" id="SDSSearchForm_DirectFlightsOnly" ng-model="generalSearchCriteria.DirectFlightsOnly">\r\n                    Direct flights only\r\n                </label>\r\n            </div>\r\n\r\n            <div class="checkbox input-sm" ng-if="isVisible(\'IsPlusMinus3DaysFlexible\')">\r\n                <label for="SDSSearchForm_IsPlusMinus3DaysFlexible">\r\n                    <input type="checkbox" name="IsPlusMinus3DaysFlexible" id="SDSSearchForm_IsPlusMinus3DaysFlexible"\r\n                           ng-model="flexDatesMode.activeMode"\r\n                           ng-click="plusMinusConstantDateFlexibilityCheckboxClicked()"\r\n                           ng-checked="flexDatesMode.activeMode === \'plusMinusConstantDaysFlexibility\'">\r\n                    I\'m flexible +/- 3 days\r\n                </label>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n\r\n    <div ng-if="flexDatesMode.isSelectableByAnyOf(\'plusMinusVariableDaysFlexibility\', \'earliestDepartureLatestReturn.losDays\', \'earliestDepartureLatestReturn.daysOfWeekAtDestination\') && (tripType !== \'multiDestination\')">\r\n        <div class="SDSTopBuffer-xs SDSBottomBuffer-xs">\r\n            <a href="" ng-click="isAdvancedDateFlexibilityCollapsed = !isAdvancedDateFlexibilityCollapsed;" class="input-sm SDSToggleLink">More travel dates flexibility options</a>\r\n        </div>\r\n        <div ng-if="isAdvancedDateFlexibilityCollapsed">\r\n            <div class="SDS-row">\r\n                <div class="radio input-sm" ng-if="flexDatesMode.isSelectableBy(\'plusMinusVariableDaysFlexibility\')">\r\n                    <label>\r\n                        <input type="radio" name="advancedFlexibilitySelectionType" ng-model="flexDatesMode.activeMode" value="plusMinusVariableDaysFlexibility">\r\n                        Different plus and minus days flexibility\r\n                    </label>\r\n                </div>\r\n\r\n                <div class="radio input-sm" ng-if="flexDatesMode.isSelectableByAnyOf(\'earliestDepartureLatestReturn.losDays\', \'earliestDepartureLatestReturn.daysOfWeekAtDestination\') && (tripType === \'returnTrip\')">\r\n                    <label>\r\n                        <input type="radio" name="advancedFlexibilitySelectionType" ng-model="flexDatesMode.activeMode" value="earliestDepartureLatestReturn.losDays">\r\n                        Set earliest departure and latest return\r\n                    </label>\r\n                </div>\r\n            </div>\r\n\r\n            <div class="SDS-row" ng-if="flexDatesMode.activeMode === \'plusMinusVariableDaysFlexibility\'">\r\n                <plus-minus-days-selection days="advancedDateFlexibility.departureMinusDays" max-days="{{::plusMinusDaysMaxDays}}">Departure date minus days</plus-minus-days-selection>\r\n                <plus-minus-days-selection days="advancedDateFlexibility.departurePlusDays" max-days="{{::plusMinusDaysMaxDays}}">Departure date plus days</plus-minus-days-selection>\r\n                <plus-minus-days-selection days="advancedDateFlexibility.returnMinusDays" max-days="{{::plusMinusDaysMaxDays}}">Return date minus days</plus-minus-days-selection>\r\n                <plus-minus-days-selection days="advancedDateFlexibility.returnPlusDays" max-days="{{::plusMinusDaysMaxDays}}">Return  date plus days</plus-minus-days-selection>\r\n            </div>\r\n\r\n            <div class="SDS-row" ng-if="flexDatesMode.activeMode === \'earliestDepartureLatestReturn.losDays\' || flexDatesMode.activeMode === \'earliestDepartureLatestReturn.daysOfWeekAtDestination\'">\r\n                <div class="radio">\r\n                    <div>\r\n                        <label>\r\n                            <input type="radio" name="advancedFlexibilityLoSSpecificationType" ng-model="flexDatesMode.activeMode" value="earliestDepartureLatestReturn.losDays" class="SDS-form-inline-exclude">\r\n                            Specify trip duration\r\n                        </label>\r\n                        <div ng-if="flexDatesMode.activeMode === \'earliestDepartureLatestReturn.losDays\'">\r\n                            <select-lengths-of-stay value="lengthsOfStay.selected">Duration</select-lengths-of-stay>\r\n                            Optionally specify also days of week for departure and return\r\n                            <ul class="list-unstyled list-inline">\r\n                                <li><select-days-of-week days-of-week="departureDaysOfWeek.selected"><div>Trip departure days</div></select-days-of-week></li>\r\n                                <li><select-days-of-week days-of-week="returnDaysOfWeek.selected"><div>Trip return days</div></select-days-of-week></li>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="SDSTopBuffer-sm"></div>\r\n\r\n                    <div>\r\n                        <label>\r\n                            <input type="radio" name="advancedFlexibilityLoSSpecificationType" ng-model="flexDatesMode.activeMode"\r\n                                   value="earliestDepartureLatestReturn.daysOfWeekAtDestination">\r\n                            Specify days of week to stay at destination\r\n                        </label>\r\n                        <div ng-if="flexDatesMode.activeMode === \'earliestDepartureLatestReturn.daysOfWeekAtDestination\'">\r\n                            <select-days-of-week days-of-week="daysOfWeekAtDestination.selected"></select-days-of-week>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- input field validation error messages -->\r\n    <div class="SDS-row">\r\n        <div class="TODO-6" ng-if="isVisible(\'ADTPaxNumber\')">\r\n            <div ng-show="searchForm.$submitted && searchForm.ADTPaxNumber.$invalid" class="has-error">\r\n                <small class="help-block" ng-show="searchForm.ADTPaxNumber.$error.required">Specify number of passengers</small>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="SDS-row" ng-if="isAnyOfVisible(\'PreferredAirline\', \'PreferredCabin\')">\r\n        <div class="SDS-col-element-xxs-12 SDSTopBuffer-xs">\r\n            <a href="" ng-click="detailsVisibility.areAdvancedSearchOptionsCollapsed = !detailsVisibility.areAdvancedSearchOptionsCollapsed" class="input-sm SDSToggleLink">Advanced search options</a>\r\n        </div>\r\n    </div>\r\n\r\n    <div ng-if="detailsVisibility.areAdvancedSearchOptionsCollapsed" class="SDSBottomBuffer-xs">\r\n        <div class="SDS-row">\r\n            <div class="SDS-col-element-xs-6 SDS-col-element-lg-3" ng-if="isVisible(\'PreferredAirline\')">\r\n                <div class="form-group SDS-form-inline-exclude">\r\n                    <label for="SDSSearchForm_PreferredAirline" class="input-sm control-label SDS-form-inline-exclude">Preferred Airline</label>\r\n                    <select-multiple-airlines class="input-sm SDS-form-inline-exclude" id="SDSSearchForm_PreferredAirline"\r\n                                               name="PreferredAirline" airlines="preferredAirlines"></select-multiple-airlines>\r\n                    <!-- WARN: Lack of \'form-control\' class is intentional. The component used in select preferred airline directive\r\n                    - the angular ui-select, is already styled as bootstrap button. Wrapping it in form-control here breaks the style\r\n                    (we get unnecessary wrapping. This issue is reported to ui-select and recognized as issue. No fix yet.  -->\r\n                </div>\r\n            </div>\r\n            <div class="SDS-col-element-xs-6 SDS-col-element-lg-3" ng-if="isVisible(\'PreferredCabin\')">\r\n                <div class="form-group SDS-form-inline-exclude">\r\n                    <label for="SDSSearchForm_PreferredCabin" class="input-sm control-label SDS-form-inline-exclude">Cabin</label>\r\n                    <select-preferred-cabin name="PreferredCabin" class="form-control input-sm SDS-form-inline-exclude" id="SDSSearchForm_PreferredCabin" cabin-selected="generalSearchCriteria.preferredCabin"></select-preferred-cabin>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="SDSMaxWidth1280">\r\n        <diversity-swapper enabled="showDiversityOptions" internal-form-name="diversitySwapperForm"\r\n                       ng-model="diversityModelOptions" show-options="detailsVisibility.useDiversityModelOptions"></diversity-swapper>\r\n    </div>\r\n\r\n    <div class="text-center SDSTopBuffer-xs">\r\n        <button type="submit" class="SDS-hidden-sm btn btn-primary btn-lg btn-block">Search</button>\r\n        <button type="submit" class="SDS-visible-sm-inline-block btn btn-primary btn-lg">Search</button>\r\n    </div></script><div class="panel panel-default SDSWidget SDSResponsiveElement SDSSearchFormWidget" id=SDSSearchFormWidget_{{::widgetId}}><div class=panel-body><form><div class=btn-group><label class="btn btn-primary" ng-model=tripType uib-btn-radio="\'returnTrip\'">Return</label><label class="btn btn-primary" ng-model=tripType uib-btn-radio="\'oneWay\'">One-way</label><label class="btn btn-primary" ng-model=tripType uib-btn-radio="\'multiDestination\'">Multi-stop</label></div></form><div ng-show="tripType === \'oneWay\' || tripType === \'returnTrip\'"><div class=SDSTopBuffer-xs></div><form class=SDS-form-xl-inline name=searchForm class=SDSTopBuffer-xs novalidate ng-submit="searchForm.$valid && createNewSearchCriteria()"><div class=SDS-row><div class=SDS-col-element-sm-3><div class=form-group ng-class="{\'has-error\':searchForm.$submitted && searchForm.Origin.$invalid}"><label for=SDSSearchForm_Origin class="input-sm control-label">Leaving from</label><input-airport id=SDSSearchForm_Origin name=Origin class="form-control input-sm" autofocus required airport=simpleTrip.Origin selectable-airports-for-this-pos-only={{selectableAirportsForThisPosOnly}} selectable-airports-dictionary={{selectableAirportsDictionary}}></input-airport></div><div ng-show="searchForm.$submitted && searchForm.Origin.$invalid" class=has-error><small class=help-block ng-show=searchForm.Origin.$error.required>Type origin airport or city</small> <small class=help-block ng-show=searchForm.Origin.$error.invalidAirport>Please select airport or city from the suggested matchings</small></div></div><div class=SDS-col-element-sm-3><div class=form-group ng-class="{\'has-error\':searchForm.$submitted && searchForm.Destination.$invalid}"><label for=SDSSearchForm_Destination class="input-sm control-label">Going to</label><input-airport id=SDSSearchForm_Destination name=Destination class="form-control input-sm" required airport=simpleTrip.Destination selectable-airports-for-this-pos-only={{selectableAirportsForThisPosOnly}} selectable-airports-dictionary={{selectableAirportsDictionary}}></input-airport></div><div ng-show="searchForm.$submitted && searchForm.Destination.$invalid" class=has-error><small class=help-block ng-show=searchForm.Destination.$error.required>Type destination airport or city</small> <small class=help-block ng-show=searchForm.Destination.$error.invalidAirport>Please select airport or city from the suggested matchings</small></div></div><div class=SDS-col-element-sm-3><div class=form-group ng-class="{\'has-error\':searchForm.$submitted && searchForm.DepartureDate.$invalid}" ng-if="!flexDatesMode.isEarliestDepartureLatestReturnActive() && loadDeferredElements"><label for=SDSSearchForm_DepartureDate class="input-sm control-label">Leaving on</label><input-date class="input-group input-group-sm SDSDateInput" id=SDSSearchForm_DepartureDate name=DepartureDate required ng-model=simpleTrip.DepartureDate on-date-change=onDepartureDateChange() min-date=earliestTravelStart></input-date><div ng-show="searchForm.$submitted && searchForm.DepartureDate.$invalid" class=has-error><small class=help-block ng-show=searchForm.DepartureDate.$error.required>Choose departure date</small></div></div><div class=form-group ng-class="{\'has-error\':searchForm.$submitted && searchForm.EarliestDepartureDate.$invalid}" ng-if="flexDatesMode.isEarliestDepartureLatestReturnActive() && loadDeferredElements"><label for=SDSSearchForm_EarliestDepartureDate class="input-sm control-label">Earliest departure</label><input-date class="input-group input-group-sm SDSDateInput" id=SDSSearchForm_EarliestDepartureDate name=EarliestDepartureDate required ng-model=simpleTrip.EarliestDepartureDate on-date-change=onEarliestDepartureDateChange() min-date=earliestTravelStart></input-date><div ng-show="searchForm.$submitted && searchForm.EarliestDepartureDate.$invalid" class=has-error><small class=help-block ng-show=searchForm.EarliestDepartureDate.$error.required>Set earliest departure date</small></div></div></div><div class=SDS-col-element-sm-3><div class=form-group ng-show="tripType === \'returnTrip\'" ng-class="{\'has-error\':searchForm.$submitted && searchForm.ReturnDate.$invalid}" ng-if="!flexDatesMode.isEarliestDepartureLatestReturnActive() && loadDeferredElements"><label for=SDSSearchForm_ReturnDate class="input-sm control-label" ng-class="{\'SDSDisabledLabel\':advancedFlexibilitySelection.type === \'earliestDepartureLatestReturn\'}">Returning on</label><input-date class="input-group input-group-sm SDSDateInput" id=SDSSearchForm_ReturnDate name=ReturnDate required ng-model=simpleTrip.ReturnDate on-date-change=onReturnDateChange() min-date=earliestTravelStart></input-date><div ng-show="searchForm.$submitted && searchForm.ReturnDate.$invalid" class=has-error><small class=help-block ng-show=searchForm.ReturnDate.$error.required>Choose return date</small></div></div><div class=form-group ng-class="{\'has-error\':searchForm.$submitted && searchForm.LatestReturnDate.$invalid}" ng-if="tripType === \'returnTrip\' && flexDatesMode.isEarliestDepartureLatestReturnActive() && loadDeferredElements"><label for=SDSSearchForm_LatestReturnDate class="input-sm control-label">Latest return</label><input-date class="input-group input-group-sm SDSDateInput" id=SDSSearchForm_LatestReturnDate name=LatestReturnDate required ng-model=simpleTrip.LatestReturnDate on-date-change=onLatestReturnDateChange() min-date=earliestTravelStart></input-date><div ng-show="searchForm.$submitted && searchForm.LatestReturnDate.$invalid" class=has-error><small class=help-block ng-show=searchForm.LatestReturnDate.$error.required>Set latest return date</small></div></div></div></div><ng-include src="\'GeneralSearchCriteria\'"></ng-include></form></div><div ng-show="tripType === \'multiDestination\'"><div class=SDSTopBuffer-xs></div><form class=SDS-form-xl-inline name=searchFormMultiDestination class=SDSTopBuffer-xs novalidate ng-submit="searchFormMultiDestination.$valid && createNewSearchCriteria()"><div ng-repeat="i in multiDestinationLegs"><div class=SDS-row><div class="SDS-col-element-xs-6 SDS-col-element-sm-3"><div class=form-group ng-class="{\'has-error\':searchFormMultiDestination.$submitted && searchFormMultiDestination.Origin_{{$index}}.$invalid}"><label for=SDSSearchForm_Origin_{{$index}} class="input-sm control-label">Leaving from</label><input-airport id=SDSSearchForm_Origin_{{$index}} name=Origin_{{$index}} class="form-control input-sm" ng-focus=$first required airport=multiDestinationLegs[$index].Origin selectable-airports-for-this-pos-only={{selectableAirportsForThisPosOnly}} selectable-airports-dictionary={{selectableAirportsDictionary}}></input-airport></div><div ng-show="searchFormMultiDestination.$submitted && searchFormMultiDestination.Origin_{{$index}}.$invalid" class=has-error><small class=help-block ng-show=searchFormMultiDestination.Origin_{{$index}}.$error.required>Type origin airport or city</small> <small class=help-block ng-show=searchFormMultiDestination.Origin_{{$index}}.$error.pattern>Please select airport or city from the suggested matchings</small></div></div><div class="SDS-col-element-xs-6 SDS-col-element-sm-3"><div class=form-group ng-class="{\'has-error\':searchFormMultiDestination.$submitted && searchFormMultiDestination.Destination_{{$index}}.$invalid}"><label for=SDSSearchForm_Destination_{{$index}} class="input-sm control-label">Going to</label><input-airport id=SDSSearchForm_Destination_{{$index}} name=Destination_{{$index}} class="form-control input-sm" required airport=multiDestinationLegs[$index].Destination selectable-airports-for-this-pos-only={{selectableAirportsForThisPosOnly}} selectable-airports-dictionary={{selectableAirportsDictionary}}></input-airport></div><div ng-show="searchFormMultiDestination.$submitted && searchFormMultiDestination.Destination_{{$index}}.$invalid" class=has-error><small class=help-block ng-show=searchFormMultiDestination.Destination_{{$index}}.$error.required>Type destination airport or city</small> <small class=help-block ng-show=searchFormMultiDestination.Destination_{{$index}}.$error.pattern>Please select airport or city from the suggested matchings</small></div></div><div class="SDS-col-element-xs-6 SDS-col-element-sm-3"><div class=form-group ng-class="{\'has-error\':searchFormMultiDestination.$submitted && searchFormMultiDestination.DepartureDate_{{$index}}.$invalid}"><label for=SDSSearchForm_DepartureDate_{{$index}} class="input-sm control-label">Leaving on</label><input-date class="input-group input-group-sm SDSDateInput" id=SDSSearchForm_DepartureDate_{{$index}} name=DepartureDate_{{$index}} required ng-model=multiDestinationLegs[$index].DepartureDate min-date=earliestTravelStart></input-date></div><div ng-show="searchFormMultiDestination.$submitted && searchFormMultiDestination.DepartureDate_{{$index}}.$invalid" class=has-error><small class=help-block ng-show=searchFormMultiDestination.DepartureDate_{{$index}}.$error.required>Choose departure date</small></div></div><div class="SDS-col-element-xs-6 SDS-col-element-sm-3" ng-show="$last && $index > 2"><a href="" ng-click=removeLastSearchCriteriaLeg() class=input-sm><i class="glyphicon glyphicon-minus-sign"></i> Remove</a></div></div><div ng-if=$last><a href="" ng-click=addNextSearchCriteriaLeg() class=input-sm><i class="glyphicon glyphicon-plus-sign"></i> Add more flights</a><div class=SDSTopBuffer-xs></div></div></div><ng-include src="\'GeneralSearchCriteria\'"></ng-include></form></div></div></div>'),
e.put("../widgets/view-templates/widgets/SpinnerContainer.tpl.html","<div><span us-spinner={{spinnerOptions}} spinner-key={{spinnerId}}></span><div ng-show=!spinneractive transclude-with-inherited-scope></div></div>"),e.put("../widgets/view-templates/widgets/TilesThemedDestinationFinderWidget.tpl.html",'<div class="SDSWidget SDSTilesThemedDestinationFinderWidget SDSResponsiveElement" ng-show=isAnyDataToDisplayAvailable()><div class=SDS-row><div class="SDS-col-element-md-6 SDS-col-element-xl-4 SDS-col-element-4xl-3" ng-repeat="offersForOneDestination in model.pricesForDestinationsGrouped track by offersForOneDestination.destination"><div href=# class=thumbnail><div class=SDSAspectRatioEnforcer style="background-image: url(\'http://analytics.sabre.com/sdsdemo/dslab/widgets/static/destinations/{{offersForOneDestination.destination}}.jpg\'), url(\'http://analytics.sabre.com/sdsdemo/dslab/widgets/static/destinations/general_city.jpg\')"></div><div class=caption><strong class="pull-left SDSCityLabel SDSHideOverflow">{{offersForOneDestination.destination | cityFullName}}</strong> <strong class="pull-right text-right SDSPriceLabel SDSHideOverflow">from {{offersForOneDestination.lowestFare.amount | isoCurrency:offersForOneDestination.lowestFare.currency}}</strong><div class=clearfix></div><span class=pull-right ng-init="parameter=offersForOneDestination"><a href="" ns-popover ns-popover-template=../widgets/view-templates/partials/DestinationFinderOfferDetailsInfoView.tpl.html ns-popover-placement=top ns-popover-timeout=0.2>Show flights</a></span><div class=clearfix></div></div></div></div></div></div>'),e.put("../widgets/view-templates/widgets/TravelSeasonalityWidget.tpl.html",'<div class="panel panel-default SDSTravelSeasonalityWidget" ng-show=ctrl.isAnyDataToDisplayAvailable()><div class="panel-heading text-center"><h4 class=panel-title>Travel Seasonality</h4></div><div class=panel-body><h5>Travel seasonality to <em>{{ctrl.lastSearchCriteriaAirports.arrivalAirport | cityFullName}}</em></h5><div><canvas></canvas></div></div></div>'),e.put("../widgets/view-templates/widgets/TravelThemesSelectionBar.tpl.html",'<nav class="navbar navbar-default"><div class=navbar-header><ul class="nav navbar-nav"><li ng-repeat="theme in travelThemes" class=SDSCursorPointer ng-class="{\'active\': theme === selectedTravelTheme}" ng-click="travelThemeClicked($event, theme)"><a>{{theme | capitalize}}</a></li></ul></div></nav>'),e.put("../widgets/view-templates/widgets/WidgetTemplate.tpl.html",'<div class="panel panel-default SDSWidget SDSResponsiveElement" ng-show=ctrl.isAnyDataToDisplayAvailable()><div class="panel-heading text-center"><h4 class=panel-title>Widget Name</h4></div><div class=panel-body></div></div>'),e.put("../src/main/widgets/basicSearch/bfm.tpl.html","<search-form class=embeddedWidget></search-form><itinerary-list class=embeddedWidget id=ItineraryList2 active-search=true active-search-web-service=bfm></itinerary-list><error-display class=embeddedWidget></error-display><network-error-display></network-error-display><validation-error-display></validation-error-display>"),e.put("../src/main/widgets/searchForm/timePickerPopup/timePickerPop.tpl.html",'<div class=input-group><input class="form-control input-sm" ng-model=inputTime ng-disabled=disabledInt time-format show-meridian=showMeridian ng-focus="open()"/><div class=input-group-btn ng-class={open:isOpen}><button type=button ng-disabled=disabledInt class="btn btn-default input-sm" ng-class="{\'btn-primary\':isOpen}" data-toggle=dropdown ng-click=toggle()><i class="glyphicon glyphicon-time"></i></button><div class="dropdown-menu pull-right"><uib-timepicker ng-model=inputTime show-meridian=showMeridian minute-step=minuteStep></uib-timepicker></div></div></div>')}])}),t.config({paths:{moment:"../../bower_components/moment/moment",moment_range:"../../bower_components/moment-range/dist/moment-range",lodash:"../../bower_components/lodash/lodash",angular:"../../bower_components/angular/angular",angular_resource:"../../bower_components/angular-resource/angular-resource",angular_bootstrap:"../../bower_components/angular-bootstrap/ui-bootstrap-tpls","angular-ui-select":"../../bower_components/angular-ui-select/dist/select","angular-sanitize":"../../bower_components/angular-sanitize/angular-sanitize","angular-img-fallback":"../../bower_components/angular-img-fallback/angular.dcb-img-fallback","angular-rangeslider":"../../bower_components/angular-rangeslider/angular.rangeSlider","angular-touch":"../../bower_components/angular-touch/angular-touch",ngStorage:"../../bower_components/ngstorage/ngStorage",ngPromiseExtras:"../../bower_components/angular-promise-extras/angular-promise-extras",chartjs:"../../bower_components/Chart.js/Chart",angular_iso_currency:"../../bower_components/iso-currency/dist/isoCurrency",elementQuery:"../../bower_components/css-element-queries/src/ElementQueries",ResizeSensor:"../../bower_components/css-element-queries/src/ResizeSensor",angular_google_maps:"../../bower_components/angular-google-maps/dist/angular-google-maps","angular-simple-logger":"../../bower_components/angular-simple-logger/dist/angular-simple-logger",nsPopover:"../../bower_components/nsPopover/src/nsPopover",WidgetsFilterPanel:"../../bower_components/WidgetsFilterPanel/dist/WidgetsFilterPanel",usSpinnerService:"../../bower_components/angular-spinner/angular-spinner",spin:"../../bower_components/spin.js/spin"},map:{"*":{chartjs:"util/chartjs-noConflict"},"util/chartjs-noConflict":{chartjs:"chartjs"}},shim:{angular:{exports:"angular"},angular_resource:{deps:["angular"],exports:"ngResource"},angular_bootstrap:{deps:["angular"]},"angular-ui-select":{deps:["angular"]},"angular-sanitize":{deps:["angular"]},"angular-img-fallback":{deps:["angular"]},"angular-rangeslider":{deps:["angular"]},"angular-touch":{deps:["angular"]},ngStorage:{deps:["angular"]},ngPromiseExtras:{deps:["angular"]},angular_currency_filter:{deps:["angular"]},angular_iso_currency:{deps:["angular"]},"angular-simple-logger":{deps:["angular"]},angular_google_maps:{deps:["angular","angular-simple-logger","lodash"]},elementQuery:{deps:["ResizeSensor"]},nsPopover:{deps:["angular"]},WidgetsFilterPanel:{deps:["angular"]},usSpinnerService:{deps:["angular","spin"]}},config:{moment:{noGlobal:!0}}}),n("SabreDevStudioSDK",["angular","moment","lodash","ngStorage","angular_resource","ngPromiseExtras","Configuration","webservices/advancedCalendar/advancedCalendar.mod","webservices/bargainFinderMax/bargainFinderMax.mod","webservices/leadPriceCalendar/leadPriceCalendar.mod","webservices/informational/informational.mod","webservices/SabreDevStudioWebServicesModule","widgets/SDSWidgets","webservices/common/PromiseUtils","datamodel/ItinerariesList","webservices/common/validators/BasicSearchCriteriaValidator","webservices/instaflights/InstaflightSearchCriteriaValidator","widgets/calendar/CalendarWidget","widgets/AlternateDatesMatrixWidget","widgets/leadPriceChart/LeadPriceChartWidget","widgets/informational/LowFareHistoryWidget","widgets/informational/TravelSeasonalityWidget","widgets/searchForm/SearchFormInspirationalWidget","widgets/searchForm/SearchFormInputControls","widgets/searchForm/InputAirport","widgets/searchForm/DiversitySwapper","widgets/ItinerariesList/InputSortBy","widgets/informational/fareForecast/FareForecastWidget","widgets/informational/fareRange/FareRangeWidget","widgets/FareNabberWidget","widgets/DestinationPricerWidget","widgets/inspirational/InspirationalWidgets.mod","widgets/ItinerariesList/ItinerariesListWidget","widgets/ItinerariesFilterPanel.drv","widgets/errorDisplays/ErrorDisplays.mod","widgets/AboutWidget","widgets/SpinnerContainer","widgets/util/TranscludeWithInheritedScope","elementQuery","widgets/templateCacheCharger","widgets/version"],function(e,t,n,r,i,a,o,s,l,u,c,d,p,h,f,g,m,v,y,b,S,D,w,A,C,_,x,$,k,M,T,F,O,P,E,L,I,R,N,B,W){"use strict";function U(){e.element(document).ready(function(){e.bootstrap(document,["sdsWidgets"],{strictDi:!0})})}return U(),{version:W.version}}),t(["SabreDevStudioSDK"]),t("SabreDevStudioSDK")});