<div class="panel panel-default" ng-if="isAnyDataToDisplayAvailable() || anyBusinessErrorMessagesPresent()">

    <div class="panel-heading text-center">
        <h4 class="panel-title">Lead Prices Calendar</h4>
    </div>

    <div class="panel-body" ng-if="anyBusinessErrorMessagesPresent()">
        No lead prices found.
        <error-messages messages="businessErrorMessages"></error-messages>
    </div>

    <div class="panel-body" ng-if="isAnyDataToDisplayAvailable()">

        <div ng-if="numberOfMonths > 1">
            <tabset type="pills">
                <tab ng-repeat="month in calendar.months"
                     heading="{{month.monthStartDate.format('MMM')}} {{month.monthLeadPrice | currency:month.monthLeadPriceCurrency}}"
                     disable="month.noPricesFound"
                     active="monthsDisplayStates[month.monthStartDate]"><!-- Jan Feb ... Nov Dec --><!-- warn: this variable/array needs to be writable, as tabs directive will be reflecting in it the state of given tabs -->
                        <ng-include src="'CalendarOneMonth'"></ng-include>
                </tab>
            </tabset>
        </div>

        <div ng-if="numberOfMonths == 1" ng-repeat="month in calendar.months"><!-- todo ugly, there is actually only one month -->
            <h5 class="text-center">{{month.monthStartDate.format('MMM YYYY')}} from {{month.monthLeadPrice | currency:month.monthLeadPriceCurrency}}</h5>
            <ng-include src="'CalendarOneMonth'"></ng-include>
        </div>
    </div>
</div>