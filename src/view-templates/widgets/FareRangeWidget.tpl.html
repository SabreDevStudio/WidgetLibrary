<div class="SDSFareRangeWidget" ng-if="isAnyDataToDisplayAvailable() && showFareRangeToCustomer()">
    <alert type="success" ng-hide="closed" close="closed=1">

        <div>
            Others paid on average <strong>{{fareRangeSummary.fareDataForRequestedDates.MedianFare | currency:fareRangeSummary.fareDataForRequestedDates.CurrencyCode}}</strong> for this trip.
            <a href="" ng-click="detailsShown = !detailsShown">Details</a>
        </div>

        <div collapse="!detailsShown">
            <p>
                For the specified travel dates others paid on average {{fareRangeSummary.fareDataForRequestedDates.MedianFare | currency:fareRangeSummary.fareDataForRequestedDates.CurrencyCode}}
                , while the maximum was {{fareRangeSummary.fareDataForRequestedDates.MaximumFare | currency:fareRangeSummary.fareDataForRequestedDates.CurrencyCode}}.
            </p>

            <p>Based on historical data of
                <span ng-switch="fareRangeSummary.fareDataForRequestedDates.Count"><!-- web service characteristics translated directly in the view, not in controller, not to overcomplicate -->
                    <span ng-switch-when="Low">less than {{::1000 | number}}</span>
                    <span ng-switch-when="Medium">between {{::1000 | number}} and {{10000 | number}}</span>
                    <span ng-switch-when="High">more than {{::10000 | number}}</span>
                </span>
                tickets, for travels starting between {{requestedRange.start.format('D MMM')}} and {{requestedRange.end.format('D MMM')}}, and same length of stay,
                the most commonly paid price was {{fareRangeSummary.overallMedianFare | currency:fareRangeSummary.currency}}
                , while highest was {{fareRangeSummary.overallMaximumFare | currency:fareRangeSummary.currency}}.
            </p>
        </div>
    </alert>
</div>

<div ng-if="anyBusinessErrorMessagesPresent()">
    <alert type="success" ng-hide="closed" close="closed=1">
        Fare Range not available
        <error-messages messages="businessErrorMessages"></error-messages>
    </alert>
</div>